var require=function(t){function e(t,e){h&&h.children.push(this),this.require=s(this),this.exports=new n,this.proto=n.prototype,this.package=null,this.namespace=t,this.parent=h,this.children=[],this.source="",this.path="",this.filename="",this.basedir="",this.loaded=!1,h=null,e&&this.init(this.load(e).compile())}function n(){}function r(t,e){this.stack=null,e&&(this.stack=e.stack,t+=' Reason: "'+e+'".'),d.length&&(t+=' Module Stack: "'+d.join(", ")+'". '),this.message=t,d.length=0}function i(t){var s,a,d=0,f=h?h.require:i,_=f.path.length;if("string"!=typeof t||""===t)throw new r("Namespace must be non-empty string.");if(l.hasOwnProperty(t))return l[t];if(n.prototype=f.proto,u.hasOwnProperty(t))s=new e(t,c).init(u[t]),o(s),delete u[t];else if(p.test(t)){for(;d<_;){n.prototype=s?s.exports:f.proto,a=f.path[d++];try{s=new e(t,a)}catch(t){if(t instanceof r)throw t}}if(!s)throw a=_?'in paths: "'+f.path.join(", ")+'"':'. Add the path in "require.path" or define a module via the "require.define"',new r('Cant find module "'+t+'" '+a+".");o(s)}else try{return new e(c,t).exports}catch(e){throw e instanceof r||(e=new r('Cant find module in path: "'+t+'".')),e}return l[t]=s.exports,s.exports}function s(t){function e(e){return h=t,i(e)}return e.namespace=i.namespace,e.path=i.path,e.extension=i.extension,e.packageName=i.packageName,e.file=i.file,e.define=i.define,e.setModuleNameSpace=i.setModuleNameSpace,e.cache=i.cache,e.proto=i.proto,e.name=i.name,e.Error=r,e.top=i,e}function a(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}function o(t){for(var e,n=0,r=t.namespace.split("."),i=r.length,s=t.require.cache;n<i;)e=r[n++],n===i?s[e]=t.exports:s.hasOwnProperty(e)||(s[e]={}),s=s[e]}var c,l={},u={},d=[],p=/^([a-z]+[a-z\d\-_\/]*)(?:\.[a-z]+[a-z\d\-_\/]*)*$/i,h=null;t=new Function("return this;")()||this||t,e.Exports=n,e.prototype.load=function(t){var e,n=1,i=2,s=3,o=4,c=this.namespace,l=this.require,u=t;for("/"!==t.substr(-1)&&(t+="/"),"string"==typeof c&&""!==c?(t+=c,u=t,e=s):e=n;;)if(l.file.test(u))switch(e){case s:u=t+l.packageName,e=i;break;case i:try{this.package=l.file.load(u)}catch(t){throw new r('Can`t load JSON file: "'+u+'".',t)}try{this.package=JSON.parse(a(this.package))}catch(t){throw new r('Can`t parse JSON file: "'+u+'".',t)}u=t+"/"+(this.package.hasOwnProperty("main")?this.package.main:c+"."+l.extension),e=o;break;default:try{this.source=l.file.load(u)}catch(t){throw new r('Can`t load module file: "'+u+'".',t)}return this.source=a(this.source),this.path=u,this.basedir=u.substring(0,u.lastIndexOf("/")+1),this.filename=u.substr(u.lastIndexOf("/")),this.loaded=!0,this}else switch(e){case s:u=t+"."+l.extension,e=n;break;case i:u=t+"/"+c+"."+l.extension,e=n;break;case o:throw new r('Can`t find main file: "'+u+'".');case n:throw"Cant find module"}},e.prototype.compile=function(t){"string"==typeof t&&(this.source=t);try{return new Function("module","exports","require","basedir","global",this.source)}catch(t){throw new r("Compilation error module.",t)}},e.prototype.init=function(e){var n=this.namespace,i=this.exports,s=this.path||n,a=this.require;if(n&&(l[n]=i),d.push(s),"function"!=typeof e)throw new r("Error initializing module.","Wrapper is not a function");try{e.call(i,this,i,a,this.basedir,t)}catch(t){throw t instanceof r||(t=new r('Cant init module "'+s+'".',t)),t}return d.pop(),this},r.prototype=new Error,r.prototype.name=r.name,i.cache={},i.namespace=null,i.path=[],i.extension="js",i.packageName="package.json",i.proto=n.prototype,i.top=i,i.Error=r;try{i.file=xscript.file}catch(t){}return i.define=function(t,e){if("string"!=typeof t||""===t)throw new r("Module namespace must be a non-empty string.");if(!p.test(t))throw new r("First argument is not a namespace.");if("function"!=typeof e)throw new r("Module is not a function.");u[t]=e},i.setModuleNameSpace=function(e){if("string"!=typeof e||""==e)return!1;this.namespace=e;try{t[e]=this.cache}catch(t){return!1}return!0},i}(this);require.define("jquery",function(t,e,n,r,i){t.exports=$}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var i,s=e||window.event,a=[].slice.call(arguments,1),o=0,c=0,l=0,u=0,d=0;return e=t.event.fix(s),e.type="mousewheel",s.wheelDelta&&(o=s.wheelDelta),s.detail&&(o=s.detail*-1),s.deltaY&&(l=s.deltaY*-1,o=l),s.deltaX&&(c=s.deltaX,o=c*-1),void 0!==s.wheelDeltaY&&(l=s.wheelDeltaY),void 0!==s.wheelDeltaX&&(c=s.wheelDeltaX*-1),u=Math.abs(o),(!n||u<n)&&(n=u),d=Math.max(Math.abs(l),Math.abs(c)),(!r||d<r)&&(r=d),i=o>0?"floor":"ceil",o=Math[i](o/n),c=Math[i](c/r),l=Math[i](l/r),a.unshift(e,o,c,l),(t.event.dispatch||t.event.handle).apply(this,a)}var n,r,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var a=i.length;a;)t.event.fixHooks[i[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=s.length;t;)this.removeEventListener(s[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t,e){function n(t){return t}function r(t){return decodeURIComponent(t.replace(i," "))}var i=/\+/g;t.cookie=function(i,s,a){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(s))||null==s)){if(a=t.extend({},t.cookie.defaults,a),null!==s&&""!==s||(a.expires=-1),"number"==typeof a.expires){var o=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+o)}return s=String(s),e.cookie=[encodeURIComponent(i),"=",a.raw?s:encodeURIComponent(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=s||t.cookie.defaults||{};for(var l,u=a.raw?n:r,d=e.cookie.split("; "),p=0;l=d[p]&&d[p].split("=");p++)if(u(l.shift())===i)return u(l.join("="));return null},t.cookie.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}(jQuery,document),function(t){function e(t){var e=a(t);if(u)for(var n,r=0;n=h[r++];)t.hasOwnProperty(n)&&e.push(n);return e}function n(n,r,i){function s(e,i){var s=function(){var t=this.__base;this.__base=s.__base;var e=i.apply(this,arguments);return this.__base=t,e};return s.__base=n[e]?n[e]:"__constructor"===e?r.__self.__parent:t.noop,s}for(var a,o,c=e(i),u=0,d=c.length;u<d;)"__self"!==(a=c[u++])&&(o=i[a],r[a]=l(o)&&o.toString().indexOf(".__base")>-1?s(a,o):o)}function r(e,n){for(var r,i=1;r=e[i++];)n?l(r)?t.inheritSelf(n,r.prototype,r):t.inheritSelf(n,r):n=l(r)?t.inherit(e[0],r.prototype,r):t.inherit(e[0],r);return n||e[0]}var i=function(){},s=Object.create||function(t){var e=function(){};return e.prototype=t,new e},a=Object.keys,o=t.extend,c=Array.isArray,l=t.isFunction,u=!0,d={toString:""};for(var p in d)d.hasOwnProperty(p)&&(u=!1);var h=u?["toString","valueOf"]:null;t.inherit=function(){var t=arguments,e=c(t[0]),a=e||l(t[0]),u=a?e?r(t[0]):t[0]:i,d=t[a?1:0]||{},p=t[a?2:1],h=d.__constructor||a&&u.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:a?function(){return u.apply(this,arguments)}:function(){};if(!a)return h.prototype=d,h.prototype.__self=h.prototype.constructor=h,o(h,p);o(h,u),h.__parent=u;var f=u.prototype,_=h.prototype=s(f);return _.__self=_.constructor=h,d&&n(f,_,d),p&&n(u,h,p),h},t.inheritSelf=function(){var t=arguments,e=c(t[0]),i=e?r(t[0],t[0][0]):t[0],s=t[1],a=t[2],o=i.prototype;return s&&n(o,o,s),a&&n(i,i,a),i},t.inherit.self=t.inheritSelf}(jQuery),function(t){var e=0,n="__"+Number(new Date),r=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return r();var i="uniqueID"in t?"uniqueID":n;return e||i in t?t[i]:t[i]=r()}}(jQuery),function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},r={buildEventName:function(t){return t},on:function(r,i,s,a,o){if("string"==typeof r){t.isFunction(i)&&(a=s,s=i,i=void 0);for(var c,l=n(s,a),u=this[e]||(this[e]={}),d=r.split(" "),p=0;r=d[p++];)if(r=this.buildEventName(r),c=u[r]||(u[r]={ids:{},list:{}}),!(l in c.ids)){var h=c.list,f={fn:s,data:i,ctx:a,special:o};h.last?(h.last.next=f,f.prev=h.last):h.first=f,c.ids[l]=h.last=f}}else{var _=this;t.each(r,function(t,e){_.on(t,e,i,o)})}return this},onFirst:function(t,e,n,r){return this.on(t,e,n,r,{one:!0})},un:function(r,i,s){if("string"==typeof r||"undefined"==typeof r){var a=this[e];if(a)if(r){for(var o,c=r.split(" "),l=0;r=c[l++];)if(r=this.buildEventName(r),o=a[r])if(i){var u=n(i,s),d=o.ids;if(u in d){var p=o.list,h=d[u],f=h.prev,_=h.next;f?f.next=_:h===p.first&&(p.first=_),_?_.prev=f:h===p.last&&(p.last=f),delete d[u]}}else delete this[e][r]}else delete this[e]}else{var m=this;s=i,t.each(r,function(t,e){m.un(t,e,s)})}return this},trigger:function(n,r){var i,s=this,a=s[e];if("string"==typeof n?n=t.Event(s.buildEventName(i=n)):n.type=s.buildEventName(i=n.type),n.target||(n.target=s),a&&(a=a[n.type]))for(var o,c=a.list.first;c;)n.data=c.data,o=c.fn.call(c.ctx||s,n,r),"undefined"!=typeof o&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())),c.special&&c.special.one&&s.un(i,c.fn,c.ctx),c=c.next;return this}};t.observable=t.inherit(r,r)}(jQuery),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,r=t.call(arguments,1);return function(){return n.apply(e,r.concat(t.call(arguments)))}})}(),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function r(t,e,r){if(c(t))return void(e[n(r,"*","*")]=t);var i,s,a;for(i in t)if(l(t,i))if(a=t[i],c(a))e[n(r,i,"*")]=a;else for(s in a)l(a,s)&&(e[n(r,i,s)]=a[s])}function i(t,e){return e?Array.isArray(e)?function(n){for(var r=0,i=e.length;r<i;)if(n.hasMod(t,e[r++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}function s(t){t.onSetMod&&(r(t.onSetMod,t),delete t.onSetMod);var e,n;if(t.onElemSetMod){for(e in t.onElemSetMod)l(t.onElemSetMod,e)&&(n=t.onElemSetMod[e],r(n,t,e));delete t.onElemSetMod}}var a=[],o=t.inherit,c=t.isFunction,l=Function.prototype.call.bind(Object.prototype.hasOwnProperty),u={},d="_",p="__",h={};this.BEM=o(t.observable,{__constructor:function(t,e,n){var r=this;r._modCache=t||{},r._processingMods={},r._params=e,r.params=null,n!==!1?r._init():r.afterCurrentEvent(function(){r._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,r,i){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(r))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,r){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var r=!0;return"object"!=typeof e||e instanceof t.Event||(r="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),r&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,r){var i=arguments.length,s=!1;1==i?(r="",n=t,t=e,s=!0):2==i&&("string"==typeof t?(r=n,n=t,t=e):(r="",s=!0));var a=this.getMod(t,n)===r;return s?!a:a},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var r=this._modCache,i=e in r?r[e]:r[e]=this._extractModVal(e);return i}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,r=[].slice.call(arguments,e?1:0);return r.length?r.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{}):n},setMod:function(n,r,i){"undefined"==typeof i&&("string"==typeof n?(i="undefined"==typeof r||r,r=n,n=e):i=!0);var s=this;if(!n||n[0]){i===!1||null===i?i="":i!==!0&&(i=i.toString());var a=(n&&n[0]?t.identify(n[0]):"")+"_"+r;if(this._processingMods[a])return s;var o,c=n?s._getElemMod(r,n,o=s.__self._extractElemNameFrom(n)):s.getMod(r);if(c===i)return s;this._processingMods[a]=!0;var l=!0,u=[r,i,c];n&&u.unshift(n),[["*","*"],[r,"*"],[r,i]].forEach(function(t){l=s._callModFn(o,t[0],t[1],u)!==!1&&l}),!n&&l&&(s._modCache[r]=i),l&&s._afterSetMod(r,i,c,n,o),delete this._processingMods[a]}return s},_afterSetMod:function(t,e,n,r,i){var s={modName:t,modVal:e,oldModVal:n};r&&(s.elem=r),this.trigger({modName:t,modVal:"*",elem:i},s).trigger({modName:t,modVal:e,elem:i},s)},toggleMod:function(t,n,r,i,s){"string"==typeof t&&(s=i,i=r,r=n,n=t,t=e),"undefined"==typeof i?i="":"boolean"==typeof i&&(s=i,i="");var a=this.getMod(t,n);return(a==r||a==i)&&this.setMod(t,n,"boolean"==typeof s?s?r:i:this.hasMod(t,n,r)?i:r),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,r,i,s){var a=n(t,r,i);return this[a]?this[a].apply(this,s):e},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"i-bem",blocks:u,decl:function(n,r,a){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),s(r||(r={}));var l=u[n.baseBlock||n.block]||this;if(n.modName){var d=i(n.modName,n.modVal);t.each(r,function(t,n){c(n)&&(r[t]=function(){var i;if(d(this))i=n;else{var s=l.prototype[t];s&&s!==r[t]&&(i=this.__base)}return i?i.apply(this,arguments):e})})}if(a&&"boolean"==typeof a.live){var p=a.live;a.live=function(){return p}}var h,f=l;return n.baseMix&&(f=[f],n.baseMix.forEach(function(t){f.push(u[t])})),n.block==l._name?(h=o.self(f,r,a))._processLive(!0):((h=u[n.block]=o(f,r,a))._name=n.block,delete h._liveInitable),h},declMix:function(t,e,n){return s(e||(e={})),t=u[t]=o(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new u[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,r,i){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(r))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,r){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e=d+t.modName+d+(t.modVal===!1?"":t.modVal);return t.elem&&(e=p+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==a.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=a.length;t&&a.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,r=arguments.length;for(e&&(t=this);n<r;)delete t[arguments[n++]];return this},channel:function(n,r){return"boolean"==typeof n&&(r=n,n=e),n||(n="default"),r?void(h[n]&&(h[n].un(),delete h[n])):h[n]||(h[n]=new t.observable)}}))}(jQuery),function(t,e,n){function r(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function i(t,e,n){null!=e&&e!==!1&&(n.push(c,t),e!==!0&&n.push(c,e))}function s(t,e,n,r){r.push(t),i(e,n,r)}function a(t,e,n,r,a){s(t,o,o,a),a.push(l,e),i(n,r,a)}var o,c="_",l="__",u="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:u,MOD_DELIM:c,ELEM_DELIM:l,buildModPostfix:function(t,e,n){var r=n||[];return i(t,e,r),n?r:r.join("")},buildClass:function(t,e,n,i,c){if(r(n)?r(i)||(c=i,i=n,n=e,e=o):"undefined"!=typeof n?(c=n,n=o):e&&"string"!=typeof e&&(c=e,e=o),!e&&"undefined"==typeof n&&!c)return t;var l=c||[];return e?a(t,e,n,i,l):s(t,n,i,l),c?l:l.join("")},buildClasses:function(t,r,i,o){r&&"string"!=typeof r&&(o=i,i=r,r=n);var c=o||[];return r?a(t,r,n,n,c):s(t,n,n,c),i&&e.each(i,function(e,n){n&&(c.push(" "),r?a(t,r,e,n,c):s(t,e,n,c))}),o?c:c.join("")}}}(BEM,jQuery),function(t,e,n){function r(t,n){var r=t[0];e.each(o(r),function(a,o){s(o,r,a,n);var c=f[o.uniqId];c?c.domElem.index(r)<0&&(c.domElem=c.domElem.add(t),e.extend(c._params,o)):i(a,t,o)})}function i(t,r,i,a,c){"boolean"==typeof i&&(c=a,a=i,i=n);var l=r[0];i=s(i||o(l)[t],l,t);var u=i.uniqId;if(f[u])return f[u]._init();h[u]=h[u]?h[u].add(r):r;var d=l.parentNode;d&&11!==d.nodeType||e.unique(h[u]);var p=y[t]||C.decl(t,{},{live:!0});if(!(p._liveInitable=Boolean(p._processLive()))||a||i.live===!1){a&&r.addClass("i-bem");var _=new p(h[u],i,Boolean(a));return delete h[u],c&&c.apply(_,A.call(arguments,4)),_}}function s(t,n,r,i){(t||(t={})).uniqId||(t.uniqId=(t.id?r+"-id-"+t.id:e.identify())+(i||e.identify()));var s=e.identify(n),a=_[s]||(_[s]={});return a[r]||(a[r]=t),t}function a(t,e,n){var r=t.find(e);return n?r:r.add(t.filter(e))}function o(t){var n=e.identify(t);return _[n]||(_[n]=c(t))}function c(t){var n,r,i=t.getAttribute("data-bem");return i?JSON.parse(i):(n=t.onclick||t.ondblclick,n||"body"!=t.tagName.toLowerCase()||(r=e(t),i=r.attr("onclick")||r.attr("ondblclick"),i&&(n=new Function(i))),n?n():{})}function l(t){delete _[e.identify(t)]}function u(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var d=e(window),p=e(document),h={},f={},_={},m={},v={},y=t.blocks,b=t.INTERNAL,g=b.NAME_PATTERN,k=b.MOD_DELIM,w=b.ELEM_DELIM,E=RegExp("[^"+k+"]"+k+"("+g+")(?:"+k+"("+g+"))?$"),x=b.buildModPostfix,M=b.buildClass,A=Array.prototype.slice,T=Array.prototype.reverse;e.fn.bem=function(t,e){return i(t,this,e,!0)};var C=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,r){var i=this;i.domElem=t,i._eventNameCache={},i._elemCache={},i._blockInsideCache={},f[i._uniqId=n.uniqId||e.identify(i)]=i,i._needSpecialUnbind=!1,i.__base(null,n,r)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),r=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=r,r},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),r=this._blockInsideCache[n];return r||(r=this.findBlockInside(t,e)),r},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:M(e.block,e.modName,e.modVal),r="string"==typeof t?t:t.__bemElemName;return r+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,r,s,a){if(!this.domElem)return[];s||(s=r,r=n);var o=r?"string"==typeof r?this.findElem(r):r:this.domElem,c="string"==typeof s,l=c?s:s.block||s.blockName,u="."+(c?M(l):M(l,s.modName,s.modVal))+(a?":first":""),d=o.filter(u);if(t&&(d=d.add(o[t](u))),a)return d[0]?i(l,d.eq(0),!0):null;var p=[],h={};return e.each(d,function(t,n){var r=i(l,e(n),!0);h[r._uniqId]||(h[r._uniqId]=!0,p.push(r))}),p},bindToDomElem:function(t,n,r){var i=this,s=function(t){return(t.data||(t.data={})).domElem=e(this),r.apply(i,arguments)};return r?t.bind(i._buildEventName(n),(s.guid=r.guid=r.guid||e.guid++,s)):e.each(n,function(e,n){i.bindToDomElem(t,e,n)}),i},bindToDoc:function(t,e){return this._needSpecialUnbind=!0,this.bindToDomElem(p,t,e)},bindToWin:function(t,n){var r,i,s=n;return"resize"===t&&(n=function(){var t=d.height(),e=d.width();r===t&&i===e||(r=t,i=e,s.apply(this,arguments))},n.guid=s.guid=s.guid||e.guid++),this._needSpecialUnbind=!0,this.bindToDomElem(d,t,n)},bindTo:function(t,n,r){return!n||e.isFunction(n)?(r=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,r)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(p,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(d,t,e)},unbindFrom:function(t,n,r){var i=arguments.length;return 1===i?(n=t,t=this.domElem):2===i&&e.isFunction(n)?(r=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,r)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(t.indexOf(".")===-1)return e[t]=t+n,e[t];var r=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+r:r+"_"+t}).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var r=this,i=m[r.__self._buildCtxEventName(t.type)],s={};i&&r.domElem.each(function(){for(var a=this,o=i.counter;a&&o;){var c=e.identify(a,!0);if(c){if(s[c])break;var l=i.ctxs[c];l&&(e.each(l,function(e,i){i.fn.call(i.ctx||r,t,n)}),o--),s[c]=!0}a=a.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,r=this._modCache,i=[].slice.call(arguments,e?1:0),s=this._extractMods(i,e?t:n);return e||(i.length?i.forEach(function(t){r[t]=s[t]}):r=s),s},setMod:function(t,n,r){if(t&&"undefined"!=typeof r&&t.length>1){var i=this;return t.each(function(){var s=e(this);s.__bemElemName=t.__bemElemName,i.setMod(s,n,r)}),i}return this.__base(t,n,r)},_extractModVal:function(t,e,n){var r,i=(e||this.domElem)[0];return i&&(r=i.className.match(this.__self._buildModValRE(t,n||e))),r?r[2]||!0:""},_extractMods:function(t,e){var n={},r=!t.length,i=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(r?g:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(E);n[e[1]]=e[2]||!0,++i}),i<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,r,i,s){if(this._isDestructing)return this.__base.apply(this,arguments);var a=this.__self,o=a._buildModClassPrefix(t,s),c=a._buildModValRE(t,s,"g"),l=""===n||n===!1;(i||this.domElem).each(function(){var t=this.className,i=o;n!==!0&&(i+=k+n),(r===!0?c.test(t):(" "+t).indexOf(" "+o+k)>-1)?this.className=t.replace(c,l?"":"$1"+i):l||e(this).addClass(i)}),s&&this.dropElemCache(s,t,r).dropElemCache(s,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,r){arguments.length%2?(r=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var i=this.__self.getName(),s=x(n,r),o=[],c=e.map(function(t){return o.push("."+M(i,t,n,r)),t+s}),l=1===c.length,u=a(t,o.join(","));return t===this.domElem&&o.forEach(function(t,n){(this._elemCache[c[n]]=l?u:u.filter(t)).__bemElemName=e[n]},this),u},_elem:function(t,e,n){return this._elemCache[t+x(e,n)]||this.findElem(t,e,n)},elem:function(t,n,r){if(2===arguments.length&&(r=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,r);var i=e([]);return t.split(" ").forEach(function(t){i=i.add(this._elem(t,n,r))},this),i},dropElemCache:function(t,e,n){if(t){var r=x(e,n);t.indexOf(" ")<0?delete this._elemCache[t+r]:t.split(" ").forEach(function(t){delete this._elemCache[t+r]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),c(t[0])[M(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,r=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&r.doc.add(r.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var r=o(n);e.each(r,function(t,e){var r=f[e.uniqId];r?r._isDestructing||u(r,n):delete h[e.uniqId]}),l(n)}),t||n.domElem.remove(),n.__base(),delete f[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:p,win:d,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this){var n="undefined"==typeof e;if(n^t){e=this.live()!==!1;var r=this.getName(),i=this.live;this.live=function(){return this.getName()===r?e:i.apply(this,arguments)}}}return e},init:function(t,n,i){!t||e.isFunction(t)?(i=n,n=t,t=p):"string"==typeof t&&(t=e(t));var s=e.identify();return a(t,".i-bem").each(function(){r(e(this),s)}),n&&this.afterCurrentEvent(function(){n.call(i||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,r,i){"boolean"!=typeof t&&(i=r,r=t,t=n),T.call(a(r,".i-bem",i)).each(function(t,n){var r=o(this);e.each(r,function(t,e){if(e.uniqId){var r=f[e.uniqId];r?u(r,n):delete h[e.uniqId]}}),l(this)}),t||(i?r.empty():r.remove())},update:function(t,e,n,r){return this.destruct(t,!0),this.init(t.html(e),n,r)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,r,i){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){s._liveClassBind(t,e,r,i)});else{var a=v[n],o=e.identify(r);a||(a=v[n]={},p.bind(n,s._liveClassTrigger.bind(s))),a=a[t]||(a[t]={uniqIds:{},fns:[]}),o in a.uniqIds||(a.fns.push({uniqId:o,fn:s._buildLiveEventFn(r,i)}),a.uniqIds[o]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,r){var i=v[n];if(i)if(r){if(i=i[t]){var s=e.identify(r);if(s in i.uniqIds){var a=i.uniqIds[s],o=i.fns.length-1;for(i.fns.splice(a,1);a<o;)i.uniqIds[i.fns[a++].uniqId]=a-1;delete i.uniqIds[s]}}}else delete i[t];return this},_liveClassTrigger:function(t){var n=v[t.type];if(n){var r=t.target,i=Object.keys(n);do for(var s,a=" "+r.className+" ",o=0;s=i[o++];)if(a.indexOf(" "+s+" ")!==-1){var c=!1;if(n[s].fns.forEach(function(n){n.fn.call(e(r),t)===!1&&(c=!0)}),c&&t.preventDefault(),c||t.isPropagationStopped())return;i.splice(--o,1)}while(i.length&&(r=r.parentNode))}},_buildLiveEventFn:function(t,n){var r=this;return function(s){var a=[r._name,((s.data||(s.data={})).domElem=e(this)).closest(r.buildSelector()),!0],o=i.apply(null,n?a.concat([t,s]):a);if(o&&!n&&t)return t.apply(o,arguments)}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,r,i,s){r&&!e.isFunction(r)||(i=r,r=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var a=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){a._liveClassBind(M(a._name,e,t.modName,t.modVal),r,i,s)}),a):a._liveClassBind(M(a._name,t.elem,t.modName,t.modVal),r,i,s)},liveUnbindFrom:function(t,r,i){r&&!e.isFunction(r)||(i=r,r=t,t=n);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){s._liveClassUnbind(M(s._name,t),r,i)}),s):s._liveClassUnbind(M(s._name,t),r,i)},_liveInitOnBlockEvent:function(t,e,n,r){var i=this._name;return y[e].on(t,function(t){if(t.block.domElem){var e=arguments,s=t.block[r](i);n&&s.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,r,i){return t.jquery?this._liveCtxBind(t,e,n,r,i):this.__base(t,e,n,r)},un:function(t,e,n,r){return t.jquery?this._liveCtxUnbind(t,e,n,r):this.__base(t,e,n)},liveCtxBind:function(t,e,n,r,i){return this._liveCtxBind(t,e,n,r,i)},_liveCtxBind:function(t,r,i,s,a){var o=this;if("object"==typeof r&&(e.isFunction(i)||e.isFunction(s))&&(r=this._buildModEventName(r)),"string"==typeof r)if(e.isFunction(i)&&(a=s,s=i,i=n),r.indexOf(" ")>-1)r.split(" ").forEach(function(e){o._liveCtxBind(t,e,i,s,a)});else{var c=o._buildCtxEventName(r),l=m[c]||(m[c]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=l.ctxs[t];n||(n=l.ctxs[t]={},++l.counter),n[e.identify(s)+(a?e.identify(a):"")]={fn:s,data:i,ctx:a}})}else e.each(r,function(e,n){o._liveCtxBind(t,e,n,i)});return o},liveCtxUnbind:function(t,e,n,r){return this._liveCtxUnbind(t,e,n,r)},_liveCtxUnbind:function(t,n,r,i){"object"==typeof n&&e.isFunction(r)&&(n=this._buildModEventName(n));var s=this,a=m[n=s._buildCtxEventName(n)];return a&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=a.ctxs[n])&&(r&&delete t[e.identify(r)+(i?e.identify(i):"")],r&&!e.isEmptyObject(t)||(a.counter--,delete a.ctxs[n]))}),a.counter||delete m[n]),s},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:n},extractParams:c,_buildModClassPrefix:function(t,e){return M(this._name)+(e?w+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+k+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+k+"("+g+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+w+"("+g+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+M(this._name,t,e,n)},getBlockByUniqId:function(t){return f[t]},getWindowSize:function(){return{width:d.width(),height:d.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var r=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var a=jQuery.trim(i[s]);if(a.substring(0,t.length+1)==t+"="){r=decodeURIComponent(a.substring(t.length+1));break}}return r}n=n||{},null===e&&(e="",n.expires=-1);var o="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,o="; expires="+c.toUTCString()}var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),o,l,u,d].join("")},function(t){function e(t){return t.replace(/%.{2}/g,function(t){return r[t]||t})}function n(t,n){var r="";try{r=t(n)}catch(i){try{r=t(e(n))}catch(t){r=n}}return r}var r={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),function(t,e,n){function r(t,e){var n={},r=t.originalEvent||{};e||(e={});for(var i,s=0;s<c;s++)i=a[s],n[i]=e[i]||t[i]||r[i]||o[s];return n.x=n.clientX,
n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||l||(n.buttons=u[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}function i(t,e){var r=n.Event(t),i=e.preventDefault,s=r.preventDefault.bind(r);return jQuery.extend(r,e),r.preventDefault=function(){i(),s()},r}var s={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},a=Object.keys(s),o=a.map(function(t){return s[t]}),c=a.length,l=!1,u=[0,1,4,2];try{l=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var d=t.Map&&t.Map.prototype.forEach,p=d?new t.Map:{array:[],size:0,set:function(t,e){return void 0===e?this.delete(t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}},h={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,r=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==r;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,r=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==r;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=i(t,e);return n._target=n._target||e.target,n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,r){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=r,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:r}))},releaseCapture:function(t){var r=this.captureInfo[t];r&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:r})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return n.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};h.boundHandler=h.eventHandler.bind(h);var f,_,m={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,s=0,a=n.length;s<a&&(e=n[s]);s++){var o=Math.abs(r-e.x),c=Math.abs(i-e.y);if(o<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return r(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(p.has(this.POINTER_ID)&&this.cancel(t),p.set(this.POINTER_ID,t),h.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||h.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=p.get(this.POINTER_ID);e&&e.button===t.button&&(h.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||h.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||h.leaveOut(this.prepareEvent(t))},cancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){p.delete(this.POINTER_ID)}},v={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===p.size||1===p.size&&p.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,s=t.identifier+2;return r(i,n.extend({},t,{pointerId:s,target:h.captureInfo[s]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,r=this.firstTouchTarget;do{if(e=r.getAttribute("touch-action"),null!==e)break;r=r.parentNode}while(r!==document);var i=this.touchActionToScrollType(e);if("none"===i)n=!1;else if("XY"===i||void 0===i)n=!0;else{var s=t.originalEvent.changedTouches[0],a=i,o="Y"===i?"X":"Y",c=Math.abs(s["client"+a]-this.firstXY[a]),l=Math.abs(s["client"+o]-this.firstXY[o]);n=c>=l}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(p.size>=e.length){var n=[];p.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){p.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),h.over(t),h.enter(t),h.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=p.get(t.pointerId);if(e){var n=e.out,r=e.outTarget;h.move(t),n&&r!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=r,n.target=r,t.target?(h.leaveOut(n),h.enterOver(t)):(t.target=r,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(h.up(t),h.out(t),h.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){h.cancel(t),h.out(t),h.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){p.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=m.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var r=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(r,this.DEDUP_TIMEOUT)}}},y={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},prepareEvent:function(t){var e=r(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){p.delete(t)},MSPointerDown:function(t){p.set(t.originalEvent.pointerId,t),h.down(this.prepareEvent(t))},MSPointerMove:function(t){h.move(this.prepareEvent(t))},MSPointerUp:function(t){h.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){h.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){h.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){h.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){h.fireEvent("lostpointercapture",this.prepareEvent(t))}},b=function(t){if(!p.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(f=function(t,e){t.setPointerCapture(e)},_=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(f=function(t,e){b(e),t.msSetPointerCapture(e)},_=function(t,e){b(e),t.msReleasePointerCapture(e)}):(f=function(t,e){b(e),h.setCapture(e,t)},_=function(t,e){b(e),h.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){f(this[0],t)},releasePointerCapture:function(t){_(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=a.concat(e[n].props||[])}):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?h.registerSource("ms",y):(h.registerSource("mouse",m),void 0!==t.ontouchstart&&h.registerSource("touch",v)),h.register(document)))}(window,document,jQuery),function(t,e){function n(t){t.isPrimary&&(_.push(t),setTimeout(Array.prototype.shift.bind(_),h))}function r(t,e){return Math.abs(t.clientX-e.clientX)>d||Math.abs(t.clientY-e.clientY)>d}function i(t){var e=t.clientX,n=t.clientY,r="_compat"+t.type;if(!t._sourcePoint){for(var i=0;i<_.length;i++){var s=_[i];if(!s[r]&&!(Math.abs(e-s.clientX)>p||Math.abs(n-s.clientY)>p||s.target!==t.target&&document.elementFromPoint(s.clientX,s.clientY)===s.target)){t._sourcePoint=s,s[r]=t;break}}m.push(t),setTimeout(Array.prototype.shift.bind(m),h)}}function s(t){for(var e=0;e<m.length;e++)if(m[e]===t)return m[e]._sourcePoint}function a(t){var e=s(t);return Boolean(e)&&e.target!==t.target}function o(t){var n,r=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=r),n}if(!e.event.special.pointerclick){var c,l=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,u="touchAction"in document.documentElement.style,d=10,p=25,h=900,f=250,_=[],m=[],v=null,y=null,b=u?function(t){function e(t){return t!==document.documentElement&&("manipulation"===getComputedStyle(t)["touch-action"]||e(t.parentElement))}return e(t)}:function(){return!1};l?(c={click:function(t){var e=Object(t.originalEvent)._sourcePoint;return e?void(e.isDefaultPrevented()&&t.preventDefault()):o.apply(this,arguments)},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==e&&"pointerup"!==e||!b(t.target)))if("pointerdown"===e)y=t;else if("pointermove"===e&&y&&(y.target!==t.target||r(y,t)))y=null;else if("pointerleave"===e||"pointercancel"===e)y=null;else if("pointerup"===e){if(n(t),!y)return;if(!(t.timeStamp-y.timeStamp>f))return v||(v=setTimeout(function(){v=y=null})),o.apply(this,arguments);y=null}}},["mousedown","click"].forEach(function(e){t.addEventListener(e,function(t){i(t),a(t)&&(t.preventDefault(),t.stopPropagation())},!0)})):c={click:function(t){return o.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(c)},teardown:function(){e(this).off(c)}}}}(window,jQuery),function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,n){function r(n){var r,i=n.type;return"mouse"===n.pointerType&&1!==n.which||(n.type=e,r=t.event.dispatch.apply(this,arguments),n.type=i),r}t.event.special[e]={setup:function(){t(this).on(n,r)},teardown:function(){t(this).off(n,r)}}})}(jQuery),BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){return"undefined"==typeof e?(this._params||{})[t]:void(this._params&&(this._params[t]=e))}}),function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(n===-1)return!1;n+=t.length+1;var r=e.indexOf(";",n);return decodeURIComponent(r===-1?e.substring(n):e.substring(n,r))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,r){n=n||document,r=r||".g-js",t(n).find(r).each(function(){var n=t(this),r=this.onclick?this.onclick():{},i=r.name||"",s=e.block[i];s&&!n.data(i)&&(s.call(n,r),n.data(i,!0).addClass(i+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready(function(){e.blockInit()})))}(jQuery,window.Lego),function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return Boolean(t.getCookie("yandex_login"))}}(window.Lego),$(document).ajaxComplete(function(t,e,n){e.getResponseHeader("X-NEED-RESET")&&((new Image).src=BEM.blocks["i-global"].param("passport-host")+"/auth/update?mode=market")}),require.define("lodashMigration",function(t,e,n,r,i){t.exports=function(t,e){function n(t,e){if(console){var n="LODASH MIGRATION http://st/MARKETVERSTKA-18892",r="Преобразовано в соответствии с https://github.com/lodash/lodash/wiki/Migrating";if("function"==typeof console.group)console.group(n),console.error(t),console.info(r+"\n"+e),console.groupEnd();else{var i=[n,t,r,e].join("\n");console.log(i)}}}function r(e){var r=e.name,i=e.method,a=e.condition,o=r+" => "+String(i),c=e.errorMessage||r,l=t[r];t[r]=function(){return a&&a.apply(null,arguments)?(s&&n(c,o),"function"==typeof i?i.apply(null,arguments):t[i].apply(t,arguments)):l.apply(t,arguments)}}function i(t,e,n){r({name:t,method:e,condition:function(){return"undefined"==typeof n||"undefined"!=typeof arguments[n]},errorMessage:"Использован устаревший метод `underscore."+t+"`"})}e=e||{};var s=Boolean(e.isDebug);return{addUnderscoreAliases:function(){i("compose","flowRight"),i("contains","includes"),i("each",function(e,n,r){return t.forEach(e,t.bind(n,r))},2),i("forEach",function(e,n,r){return t.forEach(e,t.bind(n,r))},2),i("findWhere","find"),i("indexBy","keyBy"),i("invoke","invokeMap"),i("mapObject","mapValues"),i("pairs","toPairs"),i("pluck","map"),i("map",function(e,n,r){return t.map(e,t.bind(n,r))},2),i("uniq","uniqBy",1),i("where","filter"),i("template",function(e,n){return t.template(e)(n)},1),i("head","take",1),i("last","takeRight",1),i("rest","drop",1),i("initial","dropRight",1),r({name:"object",method:"zipObject",condition:function(){return arguments.length>1},errorMessage:"Использован устаревший метод `underscore.object`"}),r({name:"object",method:"fromPairs",condition:function(){return 1===arguments.length&&t.isArray(arguments[0])&&t.isArray(arguments[0][0])},errorMessage:"Использован устаревший метод `underscore.object`"}),r({name:"partial",method:function(){return t.partial(t.noop)},condition:function(){return"function"!=typeof arguments[0]},errorMessage:"Неверно используется метод `lodash.partial`"})}}}}),require.define("lodash",function(t,e,n,r,i){(function(){function n(t,e){return t.set(e[0],e[1]),t}function r(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var a=t[i];e(r,a,n(a),t)}return r}function o(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function u(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function d(t,e){var n=null==t?0:t.length;return!!n&&w(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function f(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function b(t){return t.match(ze)||[]}function g(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function k(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function w(t,e,n){return e===e?K(t,e,n):k(t,x,n)}function E(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function x(t){return t!==t}function M(t,e){var n=null==t?0:t.length;return n?I(t,e)/n:Dt}function A(t){return function(e){return null==e?nt:e[t]}}function T(t){return function(e){return null==t?nt:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function I(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==nt&&(n=n===nt?s:n+s)}return n}function O(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t,e){return h(e,function(e){return[e,t[e]]})}function P(t){return function(e){return t(e)}}function B(t,e){return h(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function R(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function N(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+tr[t]}function U(t,e){return null==t?nt:t[e]}function z(t){return Gn.test(t)}function q(t){return $n.test(t)}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function $(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,s[i++]=n)}return s}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function X(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return z(t)?Z(t):vr(t)}function J(t){return z(t)?tt(t):y(t)}function Z(t){for(var e=Hn.lastIndex=0;Hn.test(t);)++e;return e}function tt(t){return t.match(Hn)||[]}function et(t){return t.match(Vn)||[]}var nt,rt="4.17.4",it=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",at="Expected a function",ot="__lodash_hash_undefined__",ct=500,lt="__lodash_placeholder__",ut=1,dt=2,pt=4,ht=1,ft=2,_t=1,mt=2,vt=4,yt=8,bt=16,gt=32,kt=64,wt=128,Et=256,xt=512,Mt=30,At="...",Tt=800,Ct=16,St=1,It=2,Ot=3,jt=1/0,Pt=9007199254740991,Bt=1.7976931348623157e308,Dt=NaN,Rt=4294967295,Nt=Rt-1,Lt=Rt>>>1,Ft=[["ary",wt],["bind",_t],["bindKey",mt],["curry",yt],["curryRight",bt],["flip",xt],["partial",gt],["partialRight",kt],["rearg",Et]],Ut="[object Arguments]",zt="[object Array]",qt="[object AsyncFunction]",Ht="[object Boolean]",Vt="[object Date]",Gt="[object DOMException]",$t="[object Error]",Wt="[object Function]",Yt="[object GeneratorFunction]",Kt="[object Map]",Xt="[object Number]",Qt="[object Null]",Jt="[object Object]",Zt="[object Promise]",te="[object Proxy]",ee="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",se="[object Undefined]",ae="[object WeakMap]",oe="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",he="[object Int16Array]",fe="[object Int32Array]",_e="[object Uint8Array]",me="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",be=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,xe=RegExp(we.source),Me=RegExp(Ee.source),Ae=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Oe=/^\./,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Pe.source),De=/^\s+|\s+$/g,Re=/^\s+/,Ne=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qe=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Ze="\\ud800-\\udfff",tn="\\u0300-\\u036f",en="\\ufe20-\\ufe2f",nn="\\u20d0-\\u20ff",rn=tn+en+nn,sn="\\u2700-\\u27bf",an="a-z\\xdf-\\xf6\\xf8-\\xff",on="\\xac\\xb1\\xd7\\xf7",cn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",pn="\\ufe0e\\ufe0f",hn=on+cn+ln+un,fn="['’]",_n="["+Ze+"]",mn="["+hn+"]",vn="["+rn+"]",yn="\\d+",bn="["+sn+"]",gn="["+an+"]",kn="[^"+Ze+hn+yn+sn+an+dn+"]",wn="\\ud83c[\\udffb-\\udfff]",En="(?:"+vn+"|"+wn+")",xn="[^"+Ze+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+dn+"]",Cn="\\u200d",Sn="(?:"+gn+"|"+kn+")",In="(?:"+Tn+"|"+kn+")",On="(?:"+fn+"(?:d|ll|m|re|s|t|ve))?",jn="(?:"+fn+"(?:D|LL|M|RE|S|T|VE))?",Pn=En+"?",Bn="["+pn+"]?",Dn="(?:"+Cn+"(?:"+[xn,Mn,An].join("|")+")"+Bn+Pn+")*",Rn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Nn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ln=Bn+Pn+Dn,Fn="(?:"+[bn,Mn,An].join("|")+")"+Ln,Un="(?:"+[xn+vn+"?",vn,Mn,An,_n].join("|")+")",zn=RegExp(fn,"g"),qn=RegExp(vn,"g"),Hn=RegExp(wn+"(?="+wn+")|"+Un+Ln,"g"),Vn=RegExp([Tn+"?"+gn+"+"+On+"(?="+[mn,Tn,"$"].join("|")+")",In+"+"+jn+"(?="+[mn,Tn+Sn,"$"].join("|")+")",Tn+"?"+Sn+"+"+On,Tn+"+"+jn,Nn,Rn,yn,Fn].join("|"),"g"),Gn=RegExp("["+Cn+Ze+rn+pn+"]"),$n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yn=-1,Kn={};Kn[ue]=Kn[de]=Kn[pe]=Kn[he]=Kn[fe]=Kn[_e]=Kn[me]=Kn[ve]=Kn[ye]=!0,Kn[Ut]=Kn[zt]=Kn[ce]=Kn[Ht]=Kn[le]=Kn[Vt]=Kn[$t]=Kn[Wt]=Kn[Kt]=Kn[Xt]=Kn[Jt]=Kn[ee]=Kn[ne]=Kn[re]=Kn[ae]=!1;var Xn={};Xn[Ut]=Xn[zt]=Xn[ce]=Xn[le]=Xn[Ht]=Xn[Vt]=Xn[ue]=Xn[de]=Xn[pe]=Xn[he]=Xn[fe]=Xn[Kt]=Xn[Xt]=Xn[Jt]=Xn[ee]=Xn[ne]=Xn[re]=Xn[ie]=Xn[_e]=Xn[me]=Xn[ve]=Xn[ye]=!0,Xn[$t]=Xn[Wt]=Xn[ae]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,nr=parseInt,rr="object"==typeof i&&i&&i.Object===Object&&i,ir="object"==typeof self&&self&&self.Object===Object&&self,sr=rr||ir||Function("return this")(),ar="object"==typeof e&&e&&!e.nodeType&&e,or=ar&&"object"==typeof t&&t&&!t.nodeType&&t,cr=or&&or.exports===ar,lr=cr&&rr.process,ur=function(){try{return lr&&lr.binding&&lr.binding("util")}catch(t){}}(),dr=ur&&ur.isArrayBuffer,pr=ur&&ur.isDate,hr=ur&&ur.isMap,fr=ur&&ur.isRegExp,_r=ur&&ur.isSet,mr=ur&&ur.isTypedArray,vr=A("length"),yr=T(Qn),br=T(Jn),gr=T(Zn),kr=function t(e){function i(t){if(lc(t)&&!gp(t)&&!(t instanceof K)){if(t instanceof T)return t;if(gu.call(t,"__wrapped__"))return sa(t)}return new T(t)}function y(){}function T(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function K(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rt,this.__views__=[]}function Z(){var t=new K(this.__wrapped__);return t.__actions__=Ui(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ui(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ui(this.__views__),t}function tt(){if(this.__filtered__){var t=new K(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function ze(){var t=this.__wrapped__.value(),e=this.__dir__,n=gp(t),r=e<0,i=n?t.length:0,s=Ss(0,i,this.__views__),a=s.start,o=s.end,c=o-a,l=r?o:a-1,u=this.__iteratees__,d=u.length,p=0,h=Xu(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return ki(t,this.__actions__);var f=[];t:for(;c--&&p<h;){l+=e;for(var _=-1,m=t[l];++_<d;){var v=u[_],y=v.iteratee,b=v.type,g=y(m);if(b==It)m=g;else if(!g){if(b==St)continue t;break t}}f[p++]=m}return f}function Ze(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__=ad?ad(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(ad){var n=e[t];return n===ot?nt:n}return gu.call(e,t)?e[t]:nt}function rn(t){var e=this.__data__;return ad?e[t]!==nt:gu.call(e,t)}function sn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ad&&e===nt?ot:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function on(){this.__data__=[],this.size=0}function cn(t){var e=this.__data__,n=Pn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Bu.call(e,n,1),--this.size,!0}function ln(t){var e=this.__data__,n=Pn(e,t);return n<0?nt:e[n][1]}function un(t){return Pn(this.__data__,t)>-1}function dn(t,e){var n=this.__data__,r=Pn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hn(){this.size=0,this.__data__={hash:new Ze,map:new(nd||an),string:new Ze}}function fn(t){var e=Ms(this,t).delete(t);return this.size-=e?1:0,e}function _n(t){return Ms(this,t).get(t)}function mn(t){return Ms(this,t).has(t)}function vn(t,e){var n=Ms(this,t),r=n.size;
return n.set(t,e),this.size+=n.size==r?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new pn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ot),this}function gn(t){return this.__data__.has(t)}function kn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function En(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xn(t){return this.__data__.get(t)}function Mn(t){return this.__data__.has(t)}function An(t,e){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!nd||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new pn(r)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=gp(t),r=!n&&bp(t),i=!n&&!r&&wp(t),s=!n&&!r&&!i&&Tp(t),a=n||r||i||s,o=a?O(t.length,hu):[],c=o.length;for(var l in t)!e&&!gu.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ns(l,c))||o.push(l);return o}function Cn(t){var e=t.length;return e?t[ni(0,e-1)]:nt}function Sn(t,e){return ea(Ui(t),Fn(e,0,t.length))}function In(t){return ea(Ui(t))}function On(t,e,n){(n===nt||Ko(t[e],n))&&(n!==nt||e in t)||Nn(t,e,n)}function jn(t,e,n){var r=t[e];gu.call(t,e)&&Ko(r,n)&&(n!==nt||e in t)||Nn(t,e,n)}function Pn(t,e){for(var n=t.length;n--;)if(Ko(t[n][0],e))return n;return-1}function Bn(t,e,n,r){return yd(t,function(t,i,s){e(r,t,n(t),s)}),r}function Dn(t,e){return t&&zi(e,Vc(e),t)}function Rn(t,e){return t&&zi(e,Gc(e),t)}function Nn(t,e,n){"__proto__"==e&&Lu?Lu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ln(t,e){for(var n=-1,r=e.length,i=au(r),s=null==t;++n<r;)i[n]=s?nt:zc(t,e[n]);return i}function Fn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function Un(t,e,n,r,i,s){var a,c=e&ut,l=e&dt,u=e&pt;if(n&&(a=i?n(t,r,i,s):n(t)),a!==nt)return a;if(!cc(t))return t;var d=gp(t);if(d){if(a=js(t),!c)return Ui(t,a)}else{var p=Id(t),h=p==Wt||p==Yt;if(wp(t))return Ci(t,c);if(p==Jt||p==Ut||h&&!i){if(a=l||h?{}:Ps(t),!c)return l?Hi(t,Rn(a,t)):qi(t,Dn(a,t))}else{if(!Xn[p])return i?t:{};a=Bs(t,p,Un,c)}}s||(s=new kn);var f=s.get(t);if(f)return f;s.set(t,a);var _=u?l?ks:gs:l?Gc:Vc,m=d?nt:_(t);return o(m||t,function(r,i){m&&(i=r,r=t[i]),jn(a,i,Un(r,e,n,i,t,s))}),a}function Hn(t){var e=Vc(t);return function(n){return Vn(n,t,e)}}function Vn(t,e,n){var r=n.length;if(null==t)return!r;for(t=du(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===nt&&!(i in t)||!s(a))return!1}return!0}function Gn(t,e,n){if("function"!=typeof t)throw new fu(at);return Pd(function(){t.apply(nt,n)},e)}function $n(t,e,n,r){var i=-1,s=d,a=!0,o=t.length,c=[],l=e.length;if(!o)return c;n&&(e=h(e,P(n))),r?(s=p,a=!1):e.length>=it&&(s=D,a=!1,e=new yn(e));t:for(;++i<o;){var u=t[i],f=null==n?u:n(u);if(u=r||0!==u?u:0,a&&f===f){for(var _=l;_--;)if(e[_]===f)continue t;c.push(u)}else s(e,f,r)||c.push(u)}return c}function Qn(t,e){var n=!0;return yd(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Jn(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(o===nt?a===a&&!gc(a):n(a,o)))var o=a,c=s}return c}function Zn(t,e,n,r){var i=t.length;for(n=Ac(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:Ac(r),r<0&&(r+=i),r=n>r?0:Tc(r);n<r;)t[n++]=e;return t}function tr(t,e){var n=[];return yd(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function rr(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=Rs),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?rr(o,e-1,n,r,i):f(i,o):r||(i[i.length]=o)}return i}function ir(t,e){return t&&gd(t,e,Vc)}function ar(t,e){return t&&kd(t,e,Vc)}function or(t,e){return u(e,function(e){return sc(t[e])})}function lr(t,e){e=Ai(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[na(e[n++])];return n&&n==r?t:nt}function ur(t,e,n){var r=e(t);return gp(t)?r:f(r,n(t))}function vr(t){return null==t?t===nt?se:Qt:Nu&&Nu in du(t)?Cs(t):Ks(t)}function kr(t,e){return t>e}function Er(t,e){return null!=t&&gu.call(t,e)}function xr(t,e){return null!=t&&e in du(t)}function Mr(t,e,n){return t>=Xu(e,n)&&t<Ku(e,n)}function Ar(t,e,n){for(var r=n?p:d,i=t[0].length,s=t.length,a=s,o=au(s),c=1/0,l=[];a--;){var u=t[a];a&&e&&(u=h(u,P(e))),c=Xu(u.length,c),o[a]=!n&&(e||i>=120&&u.length>=120)?new yn(a&&u):nt}u=t[0];var f=-1,_=o[0];t:for(;++f<i&&l.length<c;){var m=u[f],v=e?e(m):m;if(m=n||0!==m?m:0,!(_?D(_,v):r(l,v,n))){for(a=s;--a;){var y=o[a];if(!(y?D(y,v):r(t[a],v,n)))continue t}_&&_.push(v),l.push(m)}}return l}function Tr(t,e,n,r){return ir(t,function(t,i,s){e(r,n(t),i,s)}),r}function Cr(t,e,n){e=Ai(e,t),t=Qs(t,e);var r=null==t?t:t[na(xa(e))];return null==r?nt:s(r,t,n)}function Sr(t){return lc(t)&&vr(t)==Ut}function Ir(t){return lc(t)&&vr(t)==ce}function Or(t){return lc(t)&&vr(t)==Vt}function jr(t,e,n,r,i){return t===e||(null==t||null==e||!lc(t)&&!lc(e)?t!==t&&e!==e:Pr(t,e,n,r,jr,i))}function Pr(t,e,n,r,i,s){var a=gp(t),o=gp(e),c=a?zt:Id(t),l=o?zt:Id(e);c=c==Ut?Jt:c,l=l==Ut?Jt:l;var u=c==Jt,d=l==Jt,p=c==l;if(p&&wp(t)){if(!wp(e))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new kn),a||Tp(t)?ms(t,e,n,r,i,s):vs(t,e,c,n,r,i,s);if(!(n&ht)){var h=u&&gu.call(t,"__wrapped__"),f=d&&gu.call(e,"__wrapped__");if(h||f){var _=h?t.value():t,m=f?e.value():e;return s||(s=new kn),i(_,m,n,r,s)}}return!!p&&(s||(s=new kn),ys(t,e,n,r,i,s))}function Br(t){return lc(t)&&Id(t)==Kt}function Dr(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=du(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var c=o[0],l=t[c],u=o[1];if(a&&o[2]){if(l===nt&&!(c in t))return!1}else{var d=new kn;if(r)var p=r(l,u,c,t,e,d);if(!(p===nt?jr(u,l,ht|ft,r,d):p))return!1}}return!0}function Rr(t){if(!cc(t)||qs(t))return!1;var e=sc(t)?Au:We;return e.test(ra(t))}function Nr(t){return lc(t)&&vr(t)==ee}function Lr(t){return lc(t)&&Id(t)==ne}function Fr(t){return lc(t)&&oc(t.length)&&!!Kn[vr(t)]}function Ur(t){return"function"==typeof t?t:null==t?Bl:"object"==typeof t?gp(t)?$r(t[0],t[1]):Gr(t):ql(t)}function zr(t){if(!Hs(t))return Yu(t);var e=[];for(var n in du(t))gu.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qr(t){if(!cc(t))return Ys(t);var e=Hs(t),n=[];for(var r in t)("constructor"!=r||!e&&gu.call(t,r))&&n.push(r);return n}function Hr(t,e){return t<e}function Vr(t,e){var n=-1,r=Xo(t)?au(t.length):[];return yd(t,function(t,i,s){r[++n]=e(t,i,s)}),r}function Gr(t){var e=As(t);return 1==e.length&&e[0][2]?Gs(e[0][0],e[0][1]):function(n){return n===t||Dr(n,t,e)}}function $r(t,e){return Fs(t)&&Vs(e)?Gs(na(t),e):function(n){var r=zc(n,t);return r===nt&&r===e?Hc(n,t):jr(e,r,ht|ft)}}function Wr(t,e,n,r,i){t!==e&&gd(e,function(s,a){if(cc(s))i||(i=new kn),Yr(t,e,a,n,Wr,r,i);else{var o=r?r(t[a],s,a+"",t,e,i):nt;o===nt&&(o=s),On(t,a,o)}},Gc)}function Yr(t,e,n,r,i,s,a){var o=t[n],c=e[n],l=a.get(c);if(l)return void On(t,n,l);var u=s?s(o,c,n+"",t,e,a):nt,d=u===nt;if(d){var p=gp(c),h=!p&&wp(c),f=!p&&!h&&Tp(c);u=c,p||h||f?gp(o)?u=o:Qo(o)?u=Ui(o):h?(d=!1,u=Ci(c,!0)):f?(d=!1,u=Di(c,!0)):u=[]:vc(c)||bp(c)?(u=o,bp(o)?u=Sc(o):(!cc(o)||r&&sc(o))&&(u=Ps(c))):d=!1}d&&(a.set(c,u),i(u,c,r,s,a),a.delete(c)),On(t,n,u)}function Kr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ns(e,n)?t[e]:nt}function Xr(t,e,n){var r=-1;e=h(e.length?e:[Bl],P(xs()));var i=Vr(t,function(t,n,i){var s=h(e,function(e){return e(t)});return{criteria:s,index:++r,value:t}});return S(i,function(t,e){return Ni(t,e,n)})}function Qr(t,e){return Jr(t,e,function(e,n){return Hc(t,n)})}function Jr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var a=e[r],o=lr(t,a);n(o,a)&&ci(s,Ai(a,t),o)}return s}function Zr(t){return function(e){return lr(e,t)}}function ti(t,e,n,r){var i=r?E:w,s=-1,a=e.length,o=t;for(t===e&&(e=Ui(e)),n&&(o=h(t,P(n)));++s<a;)for(var c=0,l=e[s],u=n?n(l):l;(c=i(o,u,c,r))>-1;)o!==t&&Bu.call(o,c,1),Bu.call(t,c,1);return t}function ei(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;Ns(i)?Bu.call(t,i,1):yi(t,i)}}return t}function ni(t,e){return t+Hu(Zu()*(e-t+1))}function ri(t,e,n,r){for(var i=-1,s=Ku(qu((e-t)/(n||1)),0),a=au(s);s--;)a[r?s:++i]=t,t+=n;return a}function ii(t,e){var n="";if(!t||e<1||e>Pt)return n;do e%2&&(n+=t),e=Hu(e/2),e&&(t+=t);while(e);return n}function si(t,e){return Bd(Xs(t,e,Bl),t+"")}function ai(t){return Cn(rl(t))}function oi(t,e){var n=rl(t);return ea(n,Fn(e,0,n.length))}function ci(t,e,n,r){if(!cc(t))return t;e=Ai(e,t);for(var i=-1,s=e.length,a=s-1,o=t;null!=o&&++i<s;){var c=na(e[i]),l=n;if(i!=a){var u=o[c];l=r?r(u,c,o):nt,l===nt&&(l=cc(u)?u:Ns(e[i+1])?[]:{})}jn(o,c,l),o=o[c]}return t}function li(t){return ea(rl(t))}function ui(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=au(i);++r<i;)s[r]=t[r+e];return s}function di(t,e){var n;return yd(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function pi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Lt){for(;r<i;){var s=r+i>>>1,a=t[s];null!==a&&!gc(a)&&(n?a<=e:a<e)?r=s+1:i=s}return i}return hi(t,e,Bl,n)}function hi(t,e,n,r){e=n(e);for(var i=0,s=null==t?0:t.length,a=e!==e,o=null===e,c=gc(e),l=e===nt;i<s;){var u=Hu((i+s)/2),d=n(t[u]),p=d!==nt,h=null===d,f=d===d,_=gc(d);if(a)var m=r||f;else m=l?f&&(r||p):o?f&&p&&(r||!h):c?f&&p&&!h&&(r||!_):!h&&!_&&(r?d<=e:d<e);m?i=u+1:s=u}return Xu(s,Nt)}function fi(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n],o=e?e(a):a;if(!n||!Ko(o,c)){var c=o;s[i++]=0===a?0:a}}return s}function _i(t){return"number"==typeof t?t:gc(t)?Dt:+t}function mi(t){if("string"==typeof t)return t;if(gp(t))return h(t,mi)+"";if(gc(t))return md?md.call(t):"";var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function vi(t,e,n){var r=-1,i=d,s=t.length,a=!0,o=[],c=o;if(n)a=!1,i=p;else if(s>=it){var l=e?null:Ad(t);if(l)return W(l);a=!1,i=D,c=new yn}else c=e?[]:o;t:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue t;e&&c.push(h),o.push(u)}else i(c,h,n)||(c!==o&&c.push(h),o.push(u))}return o}function yi(t,e){return e=Ai(e,t),t=Qs(t,e),null==t||delete t[na(xa(e))]}function bi(t,e,n,r){return ci(t,e,n(lr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ui(t,r?0:s,r?s+1:i):ui(t,r?s+1:0,r?i:s)}function ki(t,e){var n=t;return n instanceof K&&(n=n.value()),_(e,function(t,e){return e.func.apply(e.thisArg,f([t],e.args))},n)}function wi(t,e,n){var r=t.length;if(r<2)return r?vi(t[0]):[];for(var i=-1,s=au(r);++i<r;)for(var a=t[i],o=-1;++o<r;)o!=i&&(s[i]=$n(s[i]||a,t[o],e,n));return vi(rr(s,1),e,n)}function Ei(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var o=r<s?e[r]:nt;n(a,t[r],o)}return a}function xi(t){return Qo(t)?t:[]}function Mi(t){return"function"==typeof t?t:Bl}function Ai(t,e){return gp(t)?t:Fs(t,e)?[t]:Dd(Oc(t))}function Ti(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ui(t,e,n)}function Ci(t,e){if(e)return t.slice();var n=t.length,r=Iu?Iu(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Su(e).set(new Su(t)),e}function Ii(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Oi(t,e,r){var i=e?r(V(t),ut):V(t);return _(i,n,new t.constructor)}function ji(t){var e=new t.constructor(t.source,Ve.exec(t));return e.lastIndex=t.lastIndex,e}function Pi(t,e,n){var i=e?n(W(t),ut):W(t);return _(i,r,new t.constructor)}function Bi(t){return _d?du(_d.call(t)):{}}function Di(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ri(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,s=gc(t),a=e!==nt,o=null===e,c=e===e,l=gc(e);if(!o&&!l&&!s&&t>e||s&&a&&c&&!o&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!l&&t<e||l&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!c)return-1}return 0}function Ni(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var c=Ri(i[r],s[r]);if(c){if(r>=o)return c;var l=n[r];return c*("desc"==l?-1:1)}}return t.index-e.index}function Li(t,e,n,r){for(var i=-1,s=t.length,a=n.length,o=-1,c=e.length,l=Ku(s-a,0),u=au(c+l),d=!r;++o<c;)u[o]=e[o];for(;++i<a;)(d||i<s)&&(u[n[i]]=t[i]);for(;l--;)u[o++]=t[i++];return u}function Fi(t,e,n,r){for(var i=-1,s=t.length,a=-1,o=n.length,c=-1,l=e.length,u=Ku(s-o,0),d=au(u+l),p=!r;++i<u;)d[i]=t[i];for(var h=i;++c<l;)d[h+c]=e[c];for(;++a<o;)(p||i<s)&&(d[h+n[a]]=t[i++]);return d}function Ui(t,e){var n=-1,r=t.length;for(e||(e=au(r));++n<r;)e[n]=t[n];return e}function zi(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],c=r?r(n[o],t[o],o,n,t):nt;c===nt&&(c=t[o]),i?Nn(n,o,c):jn(n,o,c)}return n}function qi(t,e){return zi(t,Cd(t),e)}function Hi(t,e){return zi(t,Sd(t),e)}function Vi(t,e){return function(n,r){var i=gp(n)?a:Bn,s=e?e():{};return i(n,t,xs(r,2),s)}}function Gi(t){return si(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(s=t.length>3&&"function"==typeof s?(i--,s):nt,a&&Ls(n[0],n[1],a)&&(s=i<3?nt:s,i=1),e=du(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}function $i(t,e){return function(n,r){if(null==n)return n;if(!Xo(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=du(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}function Wi(t){return function(e,n,r){for(var i=-1,s=du(e),a=r(e),o=a.length;o--;){var c=a[t?o:++i];if(n(s[c],c,s)===!1)break}return e}}function Yi(t,e,n){function r(){var e=this&&this!==sr&&this instanceof r?s:t;return e.apply(i?n:this,arguments)}var i=e&_t,s=Qi(t);return r}function Ki(t){return function(e){e=Oc(e);var n=z(e)?J(e):nt,r=n?n[0]:e.charAt(0),i=n?Ti(n,1).join(""):e.slice(1);return r[t]()+i}}function Xi(t){return function(e){return _(Sl(ll(e).replace(zn,"")),t,"")}}function Qi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vd(t.prototype),r=t.apply(n,e);return cc(r)?r:n}}function Ji(t,e,n){function r(){for(var a=arguments.length,o=au(a),c=a,l=Es(r);c--;)o[c]=arguments[c];var u=a<3&&o[0]!==l&&o[a-1]!==l?[]:$(o,l);if(a-=u.length,a<n)return ls(t,e,es,r.placeholder,nt,o,u,nt,nt,n-a);var d=this&&this!==sr&&this instanceof r?i:t;return s(d,this,o)}var i=Qi(t);return r}function Zi(t){return function(e,n,r){var i=du(e);if(!Xo(e)){var s=xs(n,3);e=Vc(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:nt}}function ts(t){return bs(function(e){var n=e.length,r=n,i=T.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new fu(at);if(i&&!a&&"wrapper"==ws(s))var a=new T([],!0)}for(r=a?r:n;++r<n;){s=e[r];var o=ws(s),c="wrapper"==o?Td(s):nt;a=c&&zs(c[0])&&c[1]==(wt|yt|gt|Et)&&!c[4].length&&1==c[9]?a[ws(c[0])].apply(a,c[3]):1==s.length&&zs(s)?a[o]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&gp(r))return a.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}})}function es(t,e,n,r,i,s,a,o,c,l){function u(){for(var v=arguments.length,y=au(v),b=v;b--;)y[b]=arguments[b];if(f)var g=Es(u),k=L(y,g);if(r&&(y=Li(y,r,i,f)),s&&(y=Fi(y,s,a,f)),v-=k,f&&v<l){var w=$(y,g);return ls(t,e,es,u.placeholder,n,y,w,o,c,l-v)}var E=p?n:this,x=h?E[t]:t;return v=y.length,o?y=Js(y,o):_&&v>1&&y.reverse(),d&&c<v&&(y.length=c),this&&this!==sr&&this instanceof u&&(x=m||Qi(x)),x.apply(E,y)}var d=e&wt,p=e&_t,h=e&mt,f=e&(yt|bt),_=e&xt,m=h?nt:Qi(t);return u}function ns(t,e){return function(n,r){return Tr(n,t,e(r),{})}}function rs(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=mi(n),r=mi(r)):(n=_i(n),r=_i(r)),i=t(n,r)}return i}}function is(t){return bs(function(e){return e=h(e,P(xs())),si(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function ss(t,e){e=e===nt?" ":mi(e);var n=e.length;if(n<2)return n?ii(e,t):e;var r=ii(e,qu(t/Q(e)));return z(e)?Ti(J(r),0,t).join(""):r.slice(0,t)}function as(t,e,n,r){function i(){for(var e=-1,c=arguments.length,l=-1,u=r.length,d=au(u+c),p=this&&this!==sr&&this instanceof i?o:t;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++e];return s(p,a?n:this,d)}var a=e&_t,o=Qi(t);return i}function os(t){return function(e,n,r){return r&&"number"!=typeof r&&Ls(e,n,r)&&(n=r=nt),e=Mc(e),n===nt?(n=e,e=0):n=Mc(n),r=r===nt?e<n?1:-1:Mc(r),ri(e,n,r,t)}}function cs(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Cc(e),n=Cc(n)),t(e,n)}}function ls(t,e,n,r,i,s,a,o,c,l){var u=e&yt,d=u?a:nt,p=u?nt:a,h=u?s:nt,f=u?nt:s;e|=u?gt:kt,e&=~(u?kt:gt),e&vt||(e&=~(_t|mt));var _=[t,e,i,h,d,f,p,o,c,l],m=n.apply(nt,_);return zs(t)&&jd(m,_),m.placeholder=r,Zs(m,t,e)}function us(t){var e=uu[t];return function(t,n){if(t=Cc(t),n=null==n?0:Xu(Ac(n),292)){var r=(Oc(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Oc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ds(t){return function(e){var n=Id(e);return n==Kt?V(e):n==ne?Y(e):j(e,t(e))}}function ps(t,e,n,r,i,s,a,o){var c=e&mt;if(!c&&"function"!=typeof t)throw new fu(at);var l=r?r.length:0;if(l||(e&=~(gt|kt),r=i=nt),a=a===nt?a:Ku(Ac(a),0),o=o===nt?o:Ac(o),l-=i?i.length:0,e&kt){var u=r,d=i;r=i=nt}var p=c?nt:Td(t),h=[t,e,n,r,i,u,d,s,a,o];if(p&&Ws(h,p),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],o=h[9]=h[9]===nt?c?0:t.length:Ku(h[9]-l,0),!o&&e&(yt|bt)&&(e&=~(yt|bt)),e&&e!=_t)f=e==yt||e==bt?Ji(t,e,o):e!=gt&&e!=(_t|gt)||i.length?es.apply(nt,h):as(t,e,n,r);else var f=Yi(t,e,n);var _=p?wd:jd;return Zs(_(f,h),t,e)}function hs(t,e,n,r){return t===nt||Ko(t,vu[n])&&!gu.call(r,n)?e:t}function fs(t,e,n,r,i,s){return cc(t)&&cc(e)&&(s.set(e,t),Wr(t,e,nt,fs,s),s.delete(e)),t}function _s(t){return vc(t)?nt:t}function ms(t,e,n,r,i,s){var a=n&ht,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var u=-1,d=!0,p=n&ft?new yn:nt;for(s.set(t,e),s.set(e,t);++u<o;){var h=t[u],f=e[u];if(r)var _=a?r(f,h,u,e,t,s):r(h,f,u,t,e,s);if(_!==nt){if(_)continue;d=!1;break}if(p){if(!v(e,function(t,e){if(!D(p,e)&&(h===t||i(h,t,n,r,s)))return p.push(e)})){d=!1;break}}else if(h!==f&&!i(h,f,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function vs(t,e,n,r,i,s,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ce:return!(t.byteLength!=e.byteLength||!s(new Su(t),new Su(e)));case Ht:case Vt:case Xt:return Ko(+t,+e);case $t:return t.name==e.name&&t.message==e.message;case ee:case re:return t==e+"";case Kt:var o=V;case ne:var c=r&ht;if(o||(o=W),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=ft,a.set(t,e);var u=ms(o(t),o(e),r,i,s,a);return a.delete(t),u;case ie:if(_d)return _d.call(t)==_d.call(e)}return!1}function ys(t,e,n,r,i,s){var a=n&ht,o=gs(t),c=o.length,l=gs(e),u=l.length;if(c!=u&&!a)return!1;for(var d=c;d--;){var p=o[d];if(!(a?p in e:gu.call(e,p)))return!1}var h=s.get(t);if(h&&s.get(e))return h==e;var f=!0;s.set(t,e),s.set(e,t);for(var _=a;++d<c;){p=o[d];var m=t[p],v=e[p];if(r)var y=a?r(v,m,p,e,t,s):r(m,v,p,t,e,s);if(!(y===nt?m===v||i(m,v,n,r,s):y)){f=!1;break}_||(_="constructor"==p)}if(f&&!_){var b=t.constructor,g=e.constructor;b!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(f=!1)}return s.delete(t),s.delete(e),f}function bs(t){return Bd(Xs(t,nt,ma),t+"")}function gs(t){return ur(t,Vc,Cd)}function ks(t){return ur(t,Gc,Sd)}function ws(t){for(var e=t.name+"",n=cd[e],r=gu.call(cd,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function Es(t){var e=gu.call(i,"placeholder")?i:t;return e.placeholder}function xs(){var t=i.iteratee||Dl;return t=t===Dl?Ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Ms(t,e){var n=t.__data__;return Us(e)?n["string"==typeof e?"string":"hash"]:n.map}function As(t){for(var e=Vc(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vs(i)]}return e}function Ts(t,e){var n=U(t,e);return Rr(n)?n:nt}function Cs(t){var e=gu.call(t,Nu),n=t[Nu];try{t[Nu]=nt;var r=!0}catch(t){}var i=Eu.call(t);return r&&(e?t[Nu]=n:delete t[Nu]),i}function Ss(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Xu(e,t+a);break;case"takeRight":t=Ku(t,e-a)}}return{start:t,end:e}}function Is(t){var e=t.match(Fe);return e?e[1].split(Ue):[]}function Os(t,e,n){e=Ai(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=na(e[r]);if(!(s=null!=t&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=null==t?0:t.length,!!i&&oc(i)&&Ns(a,i)&&(gp(t)||bp(t)))}function js(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&gu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ps(t){return"function"!=typeof t.constructor||Hs(t)?{}:vd(Ou(t))}function Bs(t,e,n,r){var i=t.constructor;switch(e){case ce:return Si(t);case Ht:case Vt:return new i(+t);case le:return Ii(t,r);case ue:case de:case pe:case he:case fe:case _e:case me:case ve:case ye:return Di(t,r);case Kt:return Oi(t,r,n);case Xt:case re:return new i(t);case ee:return ji(t);case ne:return Pi(t,r,n);case ie:return Bi(t)}}function Ds(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Le,"{\n/* [wrapped with "+e+"] */\n")}function Rs(t){return gp(t)||bp(t)||!!(Du&&t&&t[Du])}function Ns(t,e){return e=null==e?Pt:e,!!e&&("number"==typeof t||Ke.test(t))&&t>-1&&t%1==0&&t<e}function Ls(t,e,n){if(!cc(n))return!1;var r=typeof e;return!!("number"==r?Xo(n)&&Ns(e,n.length):"string"==r&&e in n)&&Ko(n[e],t)}function Fs(t,e){if(gp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gc(t))||(Ie.test(t)||!Se.test(t)||null!=e&&t in du(e))}function Us(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function zs(t){var e=ws(t),n=i[e];if("function"!=typeof n||!(e in K.prototype))return!1;if(t===n)return!0;var r=Td(n);return!!r&&t===r[0]}function qs(t){return!!wu&&wu in t}function Hs(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vu;return t===n}function Vs(t){return t===t&&!cc(t)}function Gs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in du(n)))}}function $s(t){var e=Do(t,function(t){return n.size===ct&&n.clear(),t}),n=e.cache;return e}function Ws(t,e){var n=t[1],r=e[1],i=n|r,s=i<(_t|mt|wt),a=r==wt&&n==yt||r==wt&&n==Et&&t[7].length<=e[8]||r==(wt|Et)&&e[7].length<=e[8]&&n==yt;if(!s&&!a)return t;r&_t&&(t[2]=e[2],i|=n&_t?0:vt);var o=e[3];if(o){var c=t[3];t[3]=c?Li(c,o,e[4]):o,t[4]=c?$(t[3],lt):e[4]}return o=e[5],o&&(c=t[5],t[5]=c?Fi(c,o,e[6]):o,t[6]=c?$(t[5],lt):e[6]),o=e[7],o&&(t[7]=o),r&wt&&(t[8]=null==t[8]?e[8]:Xu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Ys(t){var e=[];if(null!=t)for(var n in du(t))e.push(n);return e}function Ks(t){return Eu.call(t)}function Xs(t,e,n){return e=Ku(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Ku(r.length-e,0),o=au(a);++i<a;)o[i]=r[e+i];i=-1;for(var c=au(e+1);++i<e;)c[i]=r[i];return c[e]=n(o),s(t,this,c)}}function Qs(t,e){return e.length<2?t:lr(t,ui(e,0,-1))}function Js(t,e){for(var n=t.length,r=Xu(e.length,n),i=Ui(t);r--;){var s=e[r];t[r]=Ns(s,n)?i[s]:nt}return t}function Zs(t,e,n){var r=e+"";return Bd(t,Ds(r,ia(Is(r),n)))}function ta(t){var e=0,n=0;return function(){var r=Qu(),i=Ct-(r-n);if(n=r,i>0){if(++e>=Tt)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function ea(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var s=ni(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}function na(t){if("string"==typeof t||gc(t))return t;var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function ra(t){if(null!=t){try{return bu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ia(t,e){return o(Ft,function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function sa(t){if(t instanceof K)return t.clone();var e=new T(t.__wrapped__,t.__chain__);return e.__actions__=Ui(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Ls(t,e,n):e===nt)?1:Ku(Ac(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,a=au(qu(r/e));i<r;)a[s++]=ui(t,i,i+=e);return a}function oa(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}function ca(){var t=arguments.length;if(!t)return[];for(var e=au(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return f(gp(n)?Ui(n):[n],rr(e,1))}function la(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Ac(e),ui(t,e<0?0:e,r)):[]}function ua(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Ac(e),e=r-e,ui(t,0,e<0?0:e)):[]}function da(t,e){return t&&t.length?gi(t,xs(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?gi(t,xs(e,3),!0):[]}function ha(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ls(t,e,n)&&(n=0,r=i),Zn(t,e,n,r)):[]}function fa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ac(n);return i<0&&(i=Ku(r+i,0)),k(t,xs(e,3),i)}function _a(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=Ac(n),i=n<0?Ku(r+i,0):Xu(i,r-1)),k(t,xs(e,3),i,!0)}function ma(t){var e=null==t?0:t.length;return e?rr(t,1):[]}function va(t){var e=null==t?0:t.length;return e?rr(t,jt):[]}function ya(t,e){var n=null==t?0:t.length;return n?(e=e===nt?1:Ac(e),rr(t,e)):[]}function ba(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ga(t){return t&&t.length?t[0]:nt}function ka(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ac(n);return i<0&&(i=Ku(r+i,0)),w(t,e,i)}function wa(t){var e=null==t?0:t.length;return e?ui(t,0,-1):[]}function Ea(t,e){return null==t?"":Wu.call(t,e)}function xa(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function Ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=Ac(n),i=i<0?Ku(r+i,0):Xu(i,r-1)),e===e?X(t,e,i):k(t,x,i,!0)}function Aa(t,e){return t&&t.length?Kr(t,Ac(e)):nt}function Ta(t,e){return t&&t.length&&e&&e.length?ti(t,e):t}function Ca(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,xs(n,2)):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,nt,n):t}function Ia(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=xs(e,3);++r<s;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ei(t,i),n}function Oa(t){return null==t?t:td.call(t)}function ja(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ls(t,e,n)?(e=0,n=r):(e=null==e?0:Ac(e),n=n===nt?r:Ac(n)),ui(t,e,n)):[]}function Pa(t,e){return pi(t,e)}function Ba(t,e,n){return hi(t,e,xs(n,2))}function Da(t,e){var n=null==t?0:t.length;if(n){var r=pi(t,e);if(r<n&&Ko(t[r],e))return r}return-1}function Ra(t,e){return pi(t,e,!0)}function Na(t,e,n){return hi(t,e,xs(n,2),!0)}function La(t,e){var n=null==t?0:t.length;if(n){var r=pi(t,e,!0)-1;if(Ko(t[r],e))return r}return-1}function Fa(t){return t&&t.length?fi(t):[]}function Ua(t,e){return t&&t.length?fi(t,xs(e,2)):[]}function za(t){var e=null==t?0:t.length;return e?ui(t,1,e):[]}function qa(t,e,n){return t&&t.length?(e=n||e===nt?1:Ac(e),ui(t,0,e<0?0:e)):[]}function Ha(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:Ac(e),e=r-e,ui(t,e<0?0:e,r)):[]}function Va(t,e){return t&&t.length?gi(t,xs(e,3),!1,!0):[]}function Ga(t,e){return t&&t.length?gi(t,xs(e,3)):[]}function $a(t){return t&&t.length?vi(t):[]}function Wa(t,e){return t&&t.length?vi(t,xs(e,2)):[]}function Ya(t,e){return e="function"==typeof e?e:nt,t&&t.length?vi(t,nt,e):[]}function Ka(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(Qo(t))return e=Ku(t.length,e),!0}),O(e,function(e){return h(t,A(e))})}function Xa(t,e){if(!t||!t.length)return[];var n=Ka(t);return null==e?n:h(n,function(t){return s(e,nt,t)})}function Qa(t,e){return Ei(t||[],e||[],jn)}function Ja(t,e){return Ei(t||[],e||[],ci)}function Za(t){var e=i(t);return e.__chain__=!0,e}function to(t,e){return e(t),t}function eo(t,e){return e(t)}function no(){return Za(this)}function ro(){return new T(this.value(),this.__chain__)}function io(){this.__values__===nt&&(this.__values__=xc(this.value()));var t=this.__index__>=this.__values__.length,e=t?nt:this.__values__[this.__index__++];return{done:t,value:e}}function so(){return this}function ao(t){for(var e,n=this;n instanceof y;){var r=sa(n);r.__index__=0,r.__values__=nt,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function oo(){var t=this.__wrapped__;if(t instanceof K){var e=t;return this.__actions__.length&&(e=new K(this)),e=e.reverse(),e.__actions__.push({func:eo,args:[Oa],thisArg:nt}),new T(e,this.__chain__)}return this.thru(Oa)}function co(){return ki(this.__wrapped__,this.__actions__)}function lo(t,e,n){var r=gp(t)?l:Qn;return n&&Ls(t,e,n)&&(e=nt),r(t,xs(e,3))}function uo(t,e){var n=gp(t)?u:tr;return n(t,xs(e,3))}function po(t,e){return rr(yo(t,e),1)}function ho(t,e){return rr(yo(t,e),jt)}function fo(t,e,n){return n=n===nt?1:Ac(n),rr(yo(t,e),n)}function _o(t,e){var n=gp(t)?o:yd;return n(t,xs(e,3))}function mo(t,e){var n=gp(t)?c:bd;return n(t,xs(e,3))}function vo(t,e,n,r){t=Xo(t)?t:rl(t),n=n&&!r?Ac(n):0;var i=t.length;return n<0&&(n=Ku(i+n,0)),bc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function yo(t,e){var n=gp(t)?h:Vr;return n(t,xs(e,3))}function bo(t,e,n,r){return null==t?[]:(gp(e)||(e=null==e?[]:[e]),n=r?nt:n,gp(n)||(n=null==n?[]:[n]),Xr(t,e,n))}function go(t,e,n){var r=gp(t)?_:C,i=arguments.length<3;return r(t,xs(e,4),n,i,yd)}function ko(t,e,n){var r=gp(t)?m:C,i=arguments.length<3;return r(t,xs(e,4),n,i,bd)}function wo(t,e){var n=gp(t)?u:tr;return n(t,Ro(xs(e,3)))}function Eo(t){var e=gp(t)?Cn:ai;return e(t)}function xo(t,e,n){e=(n?Ls(t,e,n):e===nt)?1:Ac(e);var r=gp(t)?Sn:oi;return r(t,e)}function Mo(t){var e=gp(t)?In:li;return e(t)}function Ao(t){if(null==t)return 0;if(Xo(t))return bc(t)?Q(t):t.length;var e=Id(t);return e==Kt||e==ne?t.size:zr(t).length}function To(t,e,n){var r=gp(t)?v:di;return n&&Ls(t,e,n)&&(e=nt),r(t,xs(e,3))}function Co(t,e){if("function"!=typeof e)throw new fu(at);return t=Ac(t),function(){if(--t<1)return e.apply(this,arguments)}}function So(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,ps(t,wt,nt,nt,nt,nt,e)}function Io(t,e){var n;if("function"!=typeof e)throw new fu(at);return t=Ac(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Oo(t,e,n){e=n?nt:e;var r=ps(t,yt,nt,nt,nt,nt,nt,e);return r.placeholder=Oo.placeholder,r}function jo(t,e,n){e=n?nt:e;var r=ps(t,bt,nt,nt,nt,nt,nt,e);return r.placeholder=jo.placeholder,r}function Po(t,e,n){function r(e){var n=p,r=h;return p=h=nt,y=e,_=t.apply(r,n)}function i(t){return y=t,m=Pd(o,e),b?r(t):_}function s(t){var n=t-v,r=t-y,i=e-n;return g?Xu(i,f-r):i}function a(t){var n=t-v,r=t-y;return v===nt||n>=e||n<0||g&&r>=f}function o(){var t=cp();return a(t)?c(t):void(m=Pd(o,s(t)))}function c(t){return m=nt,k&&p?r(t):(p=h=nt,_)}function l(){m!==nt&&Md(m),y=0,p=v=h=m=nt}function u(){return m===nt?_:c(cp())}function d(){var t=cp(),n=a(t);if(p=arguments,h=this,v=t,n){if(m===nt)return i(v);if(g)return m=Pd(o,e),r(v)}return m===nt&&(m=Pd(o,e)),_}var p,h,f,_,m,v,y=0,b=!1,g=!1,k=!0;if("function"!=typeof t)throw new fu(at);return e=Cc(e)||0,cc(n)&&(b=!!n.leading,g="maxWait"in n,f=g?Ku(Cc(n.maxWait)||0,e):f,k="trailing"in n?!!n.trailing:k),d.cancel=l,d.flush=u,d}function Bo(t){return ps(t,xt)}function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fu(at);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Do.Cache||pn),n}function Ro(t){if("function"!=typeof t)throw new fu(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function No(t){return Io(2,t)}function Lo(t,e){if("function"!=typeof t)throw new fu(at);return e=e===nt?e:Ac(e),si(t,e)}function Fo(t,e){if("function"!=typeof t)throw new fu(at);return e=null==e?0:Ku(Ac(e),0),
si(function(n){var r=n[e],i=Ti(n,0,e);return r&&f(i,r),s(t,this,i)})}function Uo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new fu(at);return cc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(t,e,{leading:r,maxWait:e,trailing:i})}function zo(t){return So(t,1)}function qo(t,e){return fp(Mi(e),t)}function Ho(){if(!arguments.length)return[];var t=arguments[0];return gp(t)?t:[t]}function Vo(t){return Un(t,pt)}function Go(t,e){return e="function"==typeof e?e:nt,Un(t,pt,e)}function $o(t){return Un(t,ut|pt)}function Wo(t,e){return e="function"==typeof e?e:nt,Un(t,ut|pt,e)}function Yo(t,e){return null==e||Vn(t,e,Vc(e))}function Ko(t,e){return t===e||t!==t&&e!==e}function Xo(t){return null!=t&&oc(t.length)&&!sc(t)}function Qo(t){return lc(t)&&Xo(t)}function Jo(t){return t===!0||t===!1||lc(t)&&vr(t)==Ht}function Zo(t){return lc(t)&&1===t.nodeType&&!vc(t)}function tc(t){if(null==t)return!0;if(Xo(t)&&(gp(t)||"string"==typeof t||"function"==typeof t.splice||wp(t)||Tp(t)||bp(t)))return!t.length;var e=Id(t);if(e==Kt||e==ne)return!t.size;if(Hs(t))return!zr(t).length;for(var n in t)if(gu.call(t,n))return!1;return!0}function ec(t,e){return jr(t,e)}function nc(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?jr(t,e,nt,n):!!r}function rc(t){if(!lc(t))return!1;var e=vr(t);return e==$t||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!vc(t)}function ic(t){return"number"==typeof t&&$u(t)}function sc(t){if(!cc(t))return!1;var e=vr(t);return e==Wt||e==Yt||e==qt||e==te}function ac(t){return"number"==typeof t&&t==Ac(t)}function oc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pt}function cc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function lc(t){return null!=t&&"object"==typeof t}function uc(t,e){return t===e||Dr(t,e,As(e))}function dc(t,e,n){return n="function"==typeof n?n:nt,Dr(t,e,As(e),n)}function pc(t){return mc(t)&&t!=+t}function hc(t){if(Od(t))throw new cu(st);return Rr(t)}function fc(t){return null===t}function _c(t){return null==t}function mc(t){return"number"==typeof t||lc(t)&&vr(t)==Xt}function vc(t){if(!lc(t)||vr(t)!=Jt)return!1;var e=Ou(t);if(null===e)return!0;var n=gu.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bu.call(n)==xu}function yc(t){return ac(t)&&t>=-Pt&&t<=Pt}function bc(t){return"string"==typeof t||!gp(t)&&lc(t)&&vr(t)==re}function gc(t){return"symbol"==typeof t||lc(t)&&vr(t)==ie}function kc(t){return t===nt}function wc(t){return lc(t)&&Id(t)==ae}function Ec(t){return lc(t)&&vr(t)==oe}function xc(t){if(!t)return[];if(Xo(t))return bc(t)?J(t):Ui(t);if(Ru&&t[Ru])return H(t[Ru]());var e=Id(t),n=e==Kt?V:e==ne?W:rl;return n(t)}function Mc(t){if(!t)return 0===t?t:0;if(t=Cc(t),t===jt||t===-jt){var e=t<0?-1:1;return e*Bt}return t===t?t:0}function Ac(t){var e=Mc(t),n=e%1;return e===e?n?e-n:e:0}function Tc(t){return t?Fn(Ac(t),0,Rt):0}function Cc(t){if("number"==typeof t)return t;if(gc(t))return Dt;if(cc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=cc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(De,"");var n=$e.test(t);return n||Ye.test(t)?nr(t.slice(2),n?2:8):Ge.test(t)?Dt:+t}function Sc(t){return zi(t,Gc(t))}function Ic(t){return t?Fn(Ac(t),-Pt,Pt):0===t?t:0}function Oc(t){return null==t?"":mi(t)}function jc(t,e){var n=vd(t);return null==e?n:Dn(n,e)}function Pc(t,e){return g(t,xs(e,3),ir)}function Bc(t,e){return g(t,xs(e,3),ar)}function Dc(t,e){return null==t?t:gd(t,xs(e,3),Gc)}function Rc(t,e){return null==t?t:kd(t,xs(e,3),Gc)}function Nc(t,e){return t&&ir(t,xs(e,3))}function Lc(t,e){return t&&ar(t,xs(e,3))}function Fc(t){return null==t?[]:or(t,Vc(t))}function Uc(t){return null==t?[]:or(t,Gc(t))}function zc(t,e,n){var r=null==t?nt:lr(t,e);return r===nt?n:r}function qc(t,e){return null!=t&&Os(t,e,Er)}function Hc(t,e){return null!=t&&Os(t,e,xr)}function Vc(t){return Xo(t)?Tn(t):zr(t)}function Gc(t){return Xo(t)?Tn(t,!0):qr(t)}function $c(t,e){var n={};return e=xs(e,3),ir(t,function(t,r,i){Nn(n,e(t,r,i),t)}),n}function Wc(t,e){var n={};return e=xs(e,3),ir(t,function(t,r,i){Nn(n,r,e(t,r,i))}),n}function Yc(t,e){return Kc(t,Ro(xs(e)))}function Kc(t,e){if(null==t)return{};var n=h(ks(t),function(t){return[t]});return e=xs(e),Jr(t,n,function(t,n){return e(t,n[0])})}function Xc(t,e,n){e=Ai(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var s=null==t?nt:t[na(e[r])];s===nt&&(r=i,s=n),t=sc(s)?s.call(t):s}return t}function Qc(t,e,n){return null==t?t:ci(t,e,n)}function Jc(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ci(t,e,n,r)}function Zc(t,e,n){var r=gp(t),i=r||wp(t)||Tp(t);if(e=xs(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:cc(t)&&sc(s)?vd(Ou(t)):{}}return(i?o:ir)(t,function(t,r,i){return e(n,t,r,i)}),n}function tl(t,e){return null==t||yi(t,e)}function el(t,e,n){return null==t?t:bi(t,e,Mi(n))}function nl(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:bi(t,e,Mi(n),r)}function rl(t){return null==t?[]:B(t,Vc(t))}function il(t){return null==t?[]:B(t,Gc(t))}function sl(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=Cc(n),n=n===n?n:0),e!==nt&&(e=Cc(e),e=e===e?e:0),Fn(Cc(t),e,n)}function al(t,e,n){return e=Mc(e),n===nt?(n=e,e=0):n=Mc(n),t=Cc(t),Mr(t,e,n)}function ol(t,e,n){if(n&&"boolean"!=typeof n&&Ls(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=Mc(t),e===nt?(e=t,t=0):e=Mc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zu();return Xu(t+i*(e-t+er("1e-"+((i+"").length-1))),e)}return ni(t,e)}function cl(t){return Zp(Oc(t).toLowerCase())}function ll(t){return t=Oc(t),t&&t.replace(Xe,yr).replace(qn,"")}function ul(t,e,n){t=Oc(t),e=mi(e);var r=t.length;n=n===nt?r:Fn(Ac(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function dl(t){return t=Oc(t),t&&Me.test(t)?t.replace(Ee,br):t}function pl(t){return t=Oc(t),t&&Be.test(t)?t.replace(Pe,"\\$&"):t}function hl(t,e,n){t=Oc(t),e=Ac(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ss(Hu(i),n)+t+ss(qu(i),n)}function fl(t,e,n){t=Oc(t),e=Ac(e);var r=e?Q(t):0;return e&&r<e?t+ss(e-r,n):t}function _l(t,e,n){t=Oc(t),e=Ac(e);var r=e?Q(t):0;return e&&r<e?ss(e-r,n)+t:t}function ml(t,e,n){return n||null==e?e=0:e&&(e=+e),Ju(Oc(t).replace(Re,""),e||0)}function vl(t,e,n){return e=(n?Ls(t,e,n):e===nt)?1:Ac(e),ii(Oc(t),e)}function yl(){var t=arguments,e=Oc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bl(t,e,n){return n&&"number"!=typeof n&&Ls(t,e,n)&&(e=n=nt),(n=n===nt?Rt:n>>>0)?(t=Oc(t),t&&("string"==typeof e||null!=e&&!Mp(e))&&(e=mi(e),!e&&z(t))?Ti(J(t),0,n):t.split(e,n)):[]}function gl(t,e,n){return t=Oc(t),n=null==n?0:Fn(Ac(n),0,t.length),e=mi(e),t.slice(n,n+e.length)==e}function kl(t,e,n){var r=i.templateSettings;n&&Ls(t,e,n)&&(e=nt),t=Oc(t),e=jp({},e,r,hs);var s,a,o=jp({},e.imports,r.imports,hs),c=Vc(o),l=B(o,c),u=0,d=e.interpolate||Qe,p="__p += '",h=pu((e.escape||Qe).source+"|"+d.source+"|"+(d===Ce?He:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Yn+"]")+"\n";t.replace(h,function(e,n,r,i,o,c){return r||(r=i),p+=t.slice(u,c).replace(Je,F),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),o&&(a=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e}),p+="';\n";var _=e.variable;_||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(be,""):p).replace(ge,"$1").replace(ke,"$1;"),p="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=th(function(){return lu(c,f+"return "+p).apply(nt,l)});if(m.source=p,rc(m))throw m;return m}function wl(t){return Oc(t).toLowerCase()}function El(t){return Oc(t).toUpperCase()}function xl(t,e,n){if(t=Oc(t),t&&(n||e===nt))return t.replace(De,"");if(!t||!(e=mi(e)))return t;var r=J(t),i=J(e),s=R(r,i),a=N(r,i)+1;return Ti(r,s,a).join("")}function Ml(t,e,n){if(t=Oc(t),t&&(n||e===nt))return t.replace(Ne,"");if(!t||!(e=mi(e)))return t;var r=J(t),i=N(r,J(e))+1;return Ti(r,0,i).join("")}function Al(t,e,n){if(t=Oc(t),t&&(n||e===nt))return t.replace(Re,"");if(!t||!(e=mi(e)))return t;var r=J(t),i=R(r,J(e));return Ti(r,i).join("")}function Tl(t,e){var n=Mt,r=At;if(cc(e)){var i="separator"in e?e.separator:i;n="length"in e?Ac(e.length):n,r="omission"in e?mi(e.omission):r}t=Oc(t);var s=t.length;if(z(t)){var a=J(t);s=a.length}if(n>=s)return t;var o=n-Q(r);if(o<1)return r;var c=a?Ti(a,0,o).join(""):t.slice(0,o);if(i===nt)return c+r;if(a&&(o+=c.length-o),Mp(i)){if(t.slice(o).search(i)){var l,u=c;for(i.global||(i=pu(i.source,Oc(Ve.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var d=l.index;c=c.slice(0,d===nt?o:d)}}else if(t.indexOf(mi(i),o)!=o){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function Cl(t){return t=Oc(t),t&&xe.test(t)?t.replace(we,gr):t}function Sl(t,e,n){return t=Oc(t),e=n?nt:e,e===nt?q(t)?et(t):b(t):t.match(e)||[]}function Il(t){var e=null==t?0:t.length,n=xs();return t=e?h(t,function(t){if("function"!=typeof t[1])throw new fu(at);return[n(t[0]),t[1]]}):[],si(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Ol(t){return Hn(Un(t,ut))}function jl(t){return function(){return t}}function Pl(t,e){return null==t||t!==t?e:t}function Bl(t){return t}function Dl(t){return Ur("function"==typeof t?t:Un(t,ut))}function Rl(t){return Gr(Un(t,ut))}function Nl(t,e){return $r(t,Un(e,ut))}function Ll(t,e,n){var r=Vc(e),i=or(e,r);null!=n||cc(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=or(e,Vc(e)));var s=!(cc(n)&&"chain"in n&&!n.chain),a=sc(t);return o(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Ui(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,f([this.value()],arguments))})}),t}function Fl(){return sr._===this&&(sr._=Mu),this}function Ul(){}function zl(t){return t=Ac(t),si(function(e){return Kr(e,t)})}function ql(t){return Fs(t)?A(na(t)):Zr(t)}function Hl(t){return function(e){return null==t?nt:lr(t,e)}}function Vl(){return[]}function Gl(){return!1}function $l(){return{}}function Wl(){return""}function Yl(){return!0}function Kl(t,e){if(t=Ac(t),t<1||t>Pt)return[];var n=Rt,r=Xu(t,Rt);e=xs(e),t-=Rt;for(var i=O(r,e);++n<t;)e(n);return i}function Xl(t){return gp(t)?h(t,na):gc(t)?[t]:Ui(Dd(Oc(t)))}function Ql(t){var e=++ku;return Oc(t)+e}function Jl(t){return t&&t.length?Jn(t,Bl,kr):nt}function Zl(t,e){return t&&t.length?Jn(t,xs(e,2),kr):nt}function tu(t){return M(t,Bl)}function eu(t,e){return M(t,xs(e,2))}function nu(t){return t&&t.length?Jn(t,Bl,Hr):nt}function ru(t,e){return t&&t.length?Jn(t,xs(e,2),Hr):nt}function iu(t){return t&&t.length?I(t,Bl):0}function su(t,e){return t&&t.length?I(t,xs(e,2)):0}e=null==e?sr:wr.defaults(sr.Object(),e,wr.pick(sr,Wn));var au=e.Array,ou=e.Date,cu=e.Error,lu=e.Function,uu=e.Math,du=e.Object,pu=e.RegExp,hu=e.String,fu=e.TypeError,_u=au.prototype,mu=lu.prototype,vu=du.prototype,yu=e["__core-js_shared__"],bu=mu.toString,gu=vu.hasOwnProperty,ku=0,wu=function(){var t=/[^.]+$/.exec(yu&&yu.keys&&yu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Eu=vu.toString,xu=bu.call(du),Mu=sr._,Au=pu("^"+bu.call(gu).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tu=cr?e.Buffer:nt,Cu=e.Symbol,Su=e.Uint8Array,Iu=Tu?Tu.allocUnsafe:nt,Ou=G(du.getPrototypeOf,du),ju=du.create,Pu=vu.propertyIsEnumerable,Bu=_u.splice,Du=Cu?Cu.isConcatSpreadable:nt,Ru=Cu?Cu.iterator:nt,Nu=Cu?Cu.toStringTag:nt,Lu=function(){try{var t=Ts(du,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fu=e.clearTimeout!==sr.clearTimeout&&e.clearTimeout,Uu=ou&&ou.now!==sr.Date.now&&ou.now,zu=e.setTimeout!==sr.setTimeout&&e.setTimeout,qu=uu.ceil,Hu=uu.floor,Vu=du.getOwnPropertySymbols,Gu=Tu?Tu.isBuffer:nt,$u=e.isFinite,Wu=_u.join,Yu=G(du.keys,du),Ku=uu.max,Xu=uu.min,Qu=ou.now,Ju=e.parseInt,Zu=uu.random,td=_u.reverse,ed=Ts(e,"DataView"),nd=Ts(e,"Map"),rd=Ts(e,"Promise"),id=Ts(e,"Set"),sd=Ts(e,"WeakMap"),ad=Ts(du,"create"),od=sd&&new sd,cd={},ld=ra(ed),ud=ra(nd),dd=ra(rd),pd=ra(id),hd=ra(sd),fd=Cu?Cu.prototype:nt,_d=fd?fd.valueOf:nt,md=fd?fd.toString:nt,vd=function(){function t(){}return function(e){if(!cc(e))return{};if(ju)return ju(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();i.templateSettings={escape:Ae,evaluate:Te,interpolate:Ce,variable:"",imports:{_:i}},i.prototype=y.prototype,i.prototype.constructor=i,T.prototype=vd(y.prototype),T.prototype.constructor=T,K.prototype=vd(y.prototype),K.prototype.constructor=K,Ze.prototype.clear=tn,Ze.prototype.delete=en,Ze.prototype.get=nn,Ze.prototype.has=rn,Ze.prototype.set=sn,an.prototype.clear=on,an.prototype.delete=cn,an.prototype.get=ln,an.prototype.has=un,an.prototype.set=dn,pn.prototype.clear=hn,pn.prototype.delete=fn,pn.prototype.get=_n,pn.prototype.has=mn,pn.prototype.set=vn,yn.prototype.add=yn.prototype.push=bn,yn.prototype.has=gn,kn.prototype.clear=wn,kn.prototype.delete=En,kn.prototype.get=xn,kn.prototype.has=Mn,kn.prototype.set=An;var yd=$i(ir),bd=$i(ar,!0),gd=Wi(),kd=Wi(!0),wd=od?function(t,e){return od.set(t,e),t}:Bl,Ed=Lu?function(t,e){return Lu(t,"toString",{configurable:!0,enumerable:!1,value:jl(e),writable:!0})}:Bl,xd=si,Md=Fu||function(t){return sr.clearTimeout(t)},Ad=id&&1/W(new id([,-0]))[1]==jt?function(t){return new id(t)}:Ul,Td=od?function(t){return od.get(t)}:Ul,Cd=Vu?function(t){return null==t?[]:(t=du(t),u(Vu(t),function(e){return Pu.call(t,e)}))}:Vl,Sd=Vu?function(t){for(var e=[];t;)f(e,Cd(t)),t=Ou(t);return e}:Vl,Id=vr;(ed&&Id(new ed(new ArrayBuffer(1)))!=le||nd&&Id(new nd)!=Kt||rd&&Id(rd.resolve())!=Zt||id&&Id(new id)!=ne||sd&&Id(new sd)!=ae)&&(Id=function(t){var e=vr(t),n=e==Jt?t.constructor:nt,r=n?ra(n):"";if(r)switch(r){case ld:return le;case ud:return Kt;case dd:return Zt;case pd:return ne;case hd:return ae}return e});var Od=yu?sc:Gl,jd=ta(wd),Pd=zu||function(t,e){return sr.setTimeout(t,e)},Bd=ta(Ed),Dd=$s(function(t){var e=[];return Oe.test(t)&&e.push(""),t.replace(je,function(t,n,r,i){e.push(r?i.replace(qe,"$1"):n||t)}),e}),Rd=si(function(t,e){return Qo(t)?$n(t,rr(e,1,Qo,!0)):[]}),Nd=si(function(t,e){var n=xa(e);return Qo(n)&&(n=nt),Qo(t)?$n(t,rr(e,1,Qo,!0),xs(n,2)):[]}),Ld=si(function(t,e){var n=xa(e);return Qo(n)&&(n=nt),Qo(t)?$n(t,rr(e,1,Qo,!0),nt,n):[]}),Fd=si(function(t){var e=h(t,xi);return e.length&&e[0]===t[0]?Ar(e):[]}),Ud=si(function(t){var e=xa(t),n=h(t,xi);return e===xa(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?Ar(n,xs(e,2)):[]}),zd=si(function(t){var e=xa(t),n=h(t,xi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?Ar(n,nt,e):[]}),qd=si(Ta),Hd=bs(function(t,e){var n=null==t?0:t.length,r=Ln(t,e);return ei(t,h(e,function(t){return Ns(t,n)?+t:t}).sort(Ri)),r}),Vd=si(function(t){return vi(rr(t,1,Qo,!0))}),Gd=si(function(t){var e=xa(t);return Qo(e)&&(e=nt),vi(rr(t,1,Qo,!0),xs(e,2))}),$d=si(function(t){var e=xa(t);return e="function"==typeof e?e:nt,vi(rr(t,1,Qo,!0),nt,e)}),Wd=si(function(t,e){return Qo(t)?$n(t,e):[]}),Yd=si(function(t){return wi(u(t,Qo))}),Kd=si(function(t){var e=xa(t);return Qo(e)&&(e=nt),wi(u(t,Qo),xs(e,2))}),Xd=si(function(t){var e=xa(t);return e="function"==typeof e?e:nt,wi(u(t,Qo),nt,e)}),Qd=si(Ka),Jd=si(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Xa(t,n)}),Zd=bs(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Ln(e,t)};return!(e>1||this.__actions__.length)&&r instanceof K&&Ns(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:eo,args:[i],thisArg:nt}),new T(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),tp=Vi(function(t,e,n){gu.call(t,n)?++t[n]:Nn(t,n,1)}),ep=Zi(fa),np=Zi(_a),rp=Vi(function(t,e,n){gu.call(t,n)?t[n].push(e):Nn(t,n,[e])}),ip=si(function(t,e,n){var r=-1,i="function"==typeof e,a=Xo(t)?au(t.length):[];return yd(t,function(t){a[++r]=i?s(e,t,n):Cr(t,e,n)}),a}),sp=Vi(function(t,e,n){Nn(t,n,e)}),ap=Vi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),op=si(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ls(t,e[0],e[1])?e=[]:n>2&&Ls(e[0],e[1],e[2])&&(e=[e[0]]),Xr(t,rr(e,1),[])}),cp=Uu||function(){return sr.Date.now()},lp=si(function(t,e,n){var r=_t;if(n.length){var i=$(n,Es(lp));r|=gt}return ps(t,r,e,n,i)}),up=si(function(t,e,n){var r=_t|mt;if(n.length){var i=$(n,Es(up));r|=gt}return ps(e,r,t,n,i)}),dp=si(function(t,e){return Gn(t,1,e)}),pp=si(function(t,e,n){return Gn(t,Cc(e)||0,n)});Do.Cache=pn;var hp=xd(function(t,e){e=1==e.length&&gp(e[0])?h(e[0],P(xs())):h(rr(e,1),P(xs()));var n=e.length;return si(function(r){for(var i=-1,a=Xu(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),fp=si(function(t,e){var n=$(e,Es(fp));return ps(t,gt,nt,e,n)}),_p=si(function(t,e){var n=$(e,Es(_p));return ps(t,kt,nt,e,n)}),mp=bs(function(t,e){return ps(t,Et,nt,nt,nt,e)}),vp=cs(kr),yp=cs(function(t,e){return t>=e}),bp=Sr(function(){return arguments}())?Sr:function(t){return lc(t)&&gu.call(t,"callee")&&!Pu.call(t,"callee")},gp=au.isArray,kp=dr?P(dr):Ir,wp=Gu||Gl,Ep=pr?P(pr):Or,xp=hr?P(hr):Br,Mp=fr?P(fr):Nr,Ap=_r?P(_r):Lr,Tp=mr?P(mr):Fr,Cp=cs(Hr),Sp=cs(function(t,e){return t<=e}),Ip=Gi(function(t,e){if(Hs(e)||Xo(e))return void zi(e,Vc(e),t);for(var n in e)gu.call(e,n)&&jn(t,n,e[n])}),Op=Gi(function(t,e){zi(e,Gc(e),t)}),jp=Gi(function(t,e,n,r){zi(e,Gc(e),t,r)}),Pp=Gi(function(t,e,n,r){zi(e,Vc(e),t,r)}),Bp=bs(Ln),Dp=si(function(t){return t.push(nt,hs),s(jp,nt,t)}),Rp=si(function(t){return t.push(nt,fs),s(zp,nt,t)}),Np=ns(function(t,e,n){t[e]=n},jl(Bl)),Lp=ns(function(t,e,n){gu.call(t,e)?t[e].push(n):t[e]=[n]},xs),Fp=si(Cr),Up=Gi(function(t,e,n){Wr(t,e,n)}),zp=Gi(function(t,e,n,r){Wr(t,e,n,r)}),qp=bs(function(t,e){var n={};if(null==t)return n;var r=!1;e=h(e,function(e){return e=Ai(e,t),r||(r=e.length>1),e}),zi(t,ks(t),n),r&&(n=Un(n,ut|dt|pt,_s));for(var i=e.length;i--;)yi(n,e[i]);return n}),Hp=bs(function(t,e){return null==t?{}:Qr(t,e)}),Vp=ds(Vc),Gp=ds(Gc),$p=Xi(function(t,e,n){return e=e.toLowerCase(),t+(n?cl(e):e)}),Wp=Xi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yp=Xi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kp=Ki("toLowerCase"),Xp=Xi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Qp=Xi(function(t,e,n){return t+(n?" ":"")+Zp(e)}),Jp=Xi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Zp=Ki("toUpperCase"),th=si(function(t,e){try{return s(t,nt,e)}catch(t){return rc(t)?t:new cu(t)}}),eh=bs(function(t,e){return o(e,function(e){e=na(e),Nn(t,e,lp(t[e],t))}),t}),nh=ts(),rh=ts(!0),ih=si(function(t,e){return function(n){return Cr(n,t,e)}}),sh=si(function(t,e){return function(n){return Cr(t,n,e)}}),ah=is(h),oh=is(l),ch=is(v),lh=os(),uh=os(!0),dh=rs(function(t,e){return t+e},0),ph=us("ceil"),hh=rs(function(t,e){return t/e},1),fh=us("floor"),_h=rs(function(t,e){return t*e},1),mh=us("round"),vh=rs(function(t,e){return t-e},0);return i.after=Co,i.ary=So,i.assign=Ip,i.assignIn=Op,i.assignInWith=jp,i.assignWith=Pp,i.at=Bp,i.before=Io,i.bind=lp,i.bindAll=eh,i.bindKey=up,i.castArray=Ho,i.chain=Za,i.chunk=aa,i.compact=oa,i.concat=ca,i.cond=Il,i.conforms=Ol,i.constant=jl,i.countBy=tp,i.create=jc,i.curry=Oo,i.curryRight=jo,i.debounce=Po,i.defaults=Dp,i.defaultsDeep=Rp,i.defer=dp,i.delay=pp,i.difference=Rd,i.differenceBy=Nd,i.differenceWith=Ld,i.drop=la,i.dropRight=ua,i.dropRightWhile=da,i.dropWhile=pa,i.fill=ha,i.filter=uo,i.flatMap=po,i.flatMapDeep=ho,i.flatMapDepth=fo,i.flatten=ma,i.flattenDeep=va,i.flattenDepth=ya,i.flip=Bo,i.flow=nh,i.flowRight=rh,i.fromPairs=ba,i.functions=Fc,i.functionsIn=Uc,i.groupBy=rp,i.initial=wa,i.intersection=Fd,i.intersectionBy=Ud,i.intersectionWith=zd,i.invert=Np,i.invertBy=Lp,i.invokeMap=ip,i.iteratee=Dl,i.keyBy=sp,i.keys=Vc,i.keysIn=Gc,i.map=yo,i.mapKeys=$c,i.mapValues=Wc,i.matches=Rl,i.matchesProperty=Nl,i.memoize=Do,i.merge=Up,i.mergeWith=zp,i.method=ih,i.methodOf=sh,i.mixin=Ll,i.negate=Ro,i.nthArg=zl,i.omit=qp,i.omitBy=Yc,i.once=No,i.orderBy=bo,i.over=ah,i.overArgs=hp,i.overEvery=oh,i.overSome=ch,i.partial=fp,i.partialRight=_p,i.partition=ap,i.pick=Hp,i.pickBy=Kc,i.property=ql,i.propertyOf=Hl,i.pull=qd,i.pullAll=Ta,i.pullAllBy=Ca,i.pullAllWith=Sa,i.pullAt=Hd,i.range=lh,i.rangeRight=uh,i.rearg=mp,i.reject=wo,i.remove=Ia,i.rest=Lo,i.reverse=Oa,i.sampleSize=xo,i.set=Qc,i.setWith=Jc,i.shuffle=Mo,i.slice=ja,i.sortBy=op,i.sortedUniq=Fa,i.sortedUniqBy=Ua,i.split=bl,i.spread=Fo,i.tail=za,i.take=qa,i.takeRight=Ha,i.takeRightWhile=Va,i.takeWhile=Ga,i.tap=to,i.throttle=Uo,i.thru=eo,i.toArray=xc,i.toPairs=Vp,i.toPairsIn=Gp,i.toPath=Xl,i.toPlainObject=Sc,i.transform=Zc,i.unary=zo,i.union=Vd,i.unionBy=Gd,i.unionWith=$d,i.uniq=$a,i.uniqBy=Wa,i.uniqWith=Ya,i.unset=tl,i.unzip=Ka,i.unzipWith=Xa,i.update=el,i.updateWith=nl,i.values=rl,i.valuesIn=il,i.without=Wd,i.words=Sl,i.wrap=qo,i.xor=Yd,i.xorBy=Kd,i.xorWith=Xd,i.zip=Qd,i.zipObject=Qa,i.zipObjectDeep=Ja,i.zipWith=Jd,i.entries=Vp,i.entriesIn=Gp,i.extend=Op,i.extendWith=jp,Ll(i,i),i.add=dh,i.attempt=th,i.camelCase=$p,i.capitalize=cl,i.ceil=ph,i.clamp=sl,i.clone=Vo,i.cloneDeep=$o,i.cloneDeepWith=Wo,i.cloneWith=Go,i.conformsTo=Yo,i.deburr=ll,i.defaultTo=Pl,i.divide=hh,i.endsWith=ul,i.eq=Ko,i.escape=dl,i.escapeRegExp=pl,i.every=lo,i.find=ep,i.findIndex=fa,i.findKey=Pc,i.findLast=np,i.findLastIndex=_a,i.findLastKey=Bc,i.floor=fh,i.forEach=_o,i.forEachRight=mo,i.forIn=Dc,i.forInRight=Rc,i.forOwn=Nc,i.forOwnRight=Lc,i.get=zc,i.gt=vp,i.gte=yp,i.has=qc,i.hasIn=Hc,i.head=ga,i.identity=Bl,i.includes=vo,i.indexOf=ka,i.inRange=al,i.invoke=Fp,i.isArguments=bp,i.isArray=gp,i.isArrayBuffer=kp,i.isArrayLike=Xo,i.isArrayLikeObject=Qo,i.isBoolean=Jo,i.isBuffer=wp,i.isDate=Ep,i.isElement=Zo,i.isEmpty=tc,i.isEqual=ec,i.isEqualWith=nc,i.isError=rc,i.isFinite=ic,i.isFunction=sc,i.isInteger=ac,i.isLength=oc,i.isMap=xp,i.isMatch=uc,i.isMatchWith=dc,i.isNaN=pc,i.isNative=hc,i.isNil=_c,i.isNull=fc,i.isNumber=mc,i.isObject=cc,i.isObjectLike=lc,i.isPlainObject=vc,i.isRegExp=Mp,i.isSafeInteger=yc,i.isSet=Ap,i.isString=bc,i.isSymbol=gc,i.isTypedArray=Tp,i.isUndefined=kc,i.isWeakMap=wc,i.isWeakSet=Ec,i.join=Ea,i.kebabCase=Wp,i.last=xa,i.lastIndexOf=Ma,i.lowerCase=Yp,i.lowerFirst=Kp,i.lt=Cp,i.lte=Sp,i.max=Jl,i.maxBy=Zl,i.mean=tu,i.meanBy=eu,i.min=nu,i.minBy=ru,i.stubArray=Vl,i.stubFalse=Gl,i.stubObject=$l,i.stubString=Wl,i.stubTrue=Yl,i.multiply=_h,i.nth=Aa,i.noConflict=Fl,i.noop=Ul,i.now=cp,i.pad=hl,i.padEnd=fl,i.padStart=_l,i.parseInt=ml,i.random=ol,i.reduce=go,i.reduceRight=ko,i.repeat=vl,i.replace=yl,i.result=Xc,i.round=mh,i.runInContext=t,i.sample=Eo,i.size=Ao,i.snakeCase=Xp,i.some=To,i.sortedIndex=Pa,i.sortedIndexBy=Ba,i.sortedIndexOf=Da,i.sortedLastIndex=Ra,i.sortedLastIndexBy=Na,i.sortedLastIndexOf=La,i.startCase=Qp,i.startsWith=gl,i.subtract=vh,i.sum=iu,i.sumBy=su,i.template=kl,i.times=Kl,i.toFinite=Mc,i.toInteger=Ac,i.toLength=Tc,i.toLower=wl,i.toNumber=Cc,i.toSafeInteger=Ic,i.toString=Oc,i.toUpper=El,i.trim=xl,i.trimEnd=Ml,i.trimStart=Al,i.truncate=Tl,i.unescape=Cl,i.uniqueId=Ql,i.upperCase=Jp,i.upperFirst=Zp,i.each=_o,i.eachRight=mo,i.first=ga,Ll(i,function(){var t={};return ir(i,function(e,n){gu.call(i.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),i.VERSION=rt,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){i[t].placeholder=i}),o(["drop","take"],function(t,e){K.prototype[t]=function(n){n=n===nt?1:Ku(Ac(n),0);var r=this.__filtered__&&!e?new K(this):this.clone();return r.__filtered__?r.__takeCount__=Xu(n,r.__takeCount__):r.__views__.push({size:Xu(n,Rt),type:t+(r.__dir__<0?"Right":"")}),r},K.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==St||n==Ot;K.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:xs(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");K.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");K.prototype[t]=function(){return this.__filtered__?new K(this):this[n](1)}}),K.prototype.compact=function(){return this.filter(Bl)},K.prototype.find=function(t){return this.filter(t).head()},K.prototype.findLast=function(t){return this.reverse().find(t)},K.prototype.invokeMap=si(function(t,e){return"function"==typeof t?new K(this):this.map(function(n){return Cr(n,t,e)})}),K.prototype.reject=function(t){return this.filter(Ro(xs(t)))},K.prototype.slice=function(t,e){t=Ac(t);var n=this;return n.__filtered__&&(t>0||e<0)?new K(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=Ac(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},K.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},K.prototype.toArray=function(){return this.take(Rt)},ir(K.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=i[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);s&&(i.prototype[e]=function(){var e=this.__wrapped__,o=r?[1]:arguments,c=e instanceof K,l=o[0],u=c||gp(e),d=function(t){var e=s.apply(i,f([t],o));return r&&p?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,h=!!this.__actions__.length,_=a&&!p,m=c&&!h;if(!a&&u){e=m?e:new K(this);var v=t.apply(e,o);return v.__actions__.push({func:eo,args:[d],thisArg:nt}),new T(v,p)}return _&&m?t.apply(this,o):(v=this.thru(d),_?r?v.value()[0]:v.value():v)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var e=_u[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);i.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(gp(i)?i:[],t)}return this[n](function(n){return e.apply(gp(n)?n:[],t)})}}),ir(K.prototype,function(t,e){var n=i[e];if(n){var r=n.name+"",s=cd[r]||(cd[r]=[]);s.push({name:e,func:n})}}),cd[es(nt,mt).name]=[{name:"wrapper",func:nt}],K.prototype.clone=Z,K.prototype.reverse=tt,K.prototype.value=ze,i.prototype.at=Zd,i.prototype.chain=no,i.prototype.commit=ro,i.prototype.next=io,i.prototype.plant=ao,i.prototype.reverse=oo,i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=co,i.prototype.first=i.prototype.head,Ru&&(i.prototype[Ru]=so),i},wr=kr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(sr._=wr,define(function(){return wr})):or?((or.exports=wr)._=wr,ar._=wr):sr._=wr}).call(this);var s=t.exports,a=s.get(window.state,"user.region.isInternal");n("lodashMigration")(s,{isDebug:a}).addUnderscoreAliases()}),require.define("EventEmitter",function(t,e,n,r,i){function s(){this._events=null,this._maxListeners=s.MAX_LISTENERS,this._eventData=null}function a(t,e,n,r){if("function"!=typeof e&&"function"!=typeof e.emit)throw new Error("Listener must be a function or EventEmitter");return this.type=t,this.listener=e,this.context=n||null,this.isOnce=r||!1,this}var o=[],c=-1,l=null,u=null;s.MAX_LISTENERS=10,s.EVENT_NEW_LISTENER="newListener",s.EVENT_REMOVE_LISTENER="removeListener",s.stopEmit=function(t){return c>=0&&(!arguments.length||l==t)&&(o[c]=!0)},s.prototype._events=null,s.prototype._maxListeners=10,s.prototype._eventData=null,s.prototype.stopEmit=function(t){return u===this&&s.stopEmit(t)},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new Error("Count must be a positive number");this._maxListeners=t},s.listenerCount=function(t,e){return t instanceof s&&t._events&&t._events[e]?t._events[e].length:0},s.prototype.on=function(t,e,n){var r=e instanceof a?e:new a(t,e,n),i=this._events;return i||(i=this._events={}),i[t]||(i[t]=[]),i.newListener&&this.emit("newListener",t,r.listener,r.context),r.context===this&&(r.context=null),i[t].push(r),this},s.prototype.addListener=s.prototype.on,s.prototype.once=function(t,e,n){var r=e instanceof a?e:new a(t,e,n);return r.isOnce=!0,this.on(t,r)},s.prototype.off=function(t,e){var n=this._events;if(!n||!n[t])return this;var r,i=n[t],s=i.length,o=s,c=-1,l=e instanceof a;if("function"!=typeof e&&"function"!=typeof e.emit&&!l)throw new Error("Listener must be a function, EventEmitter or EventEmitter.Event");for(;o--;)if(r=l?i[o]:i[o].listener,r===e){c=o;break}return c<0?this:(1===s?(i.length=0,delete n[t]):i.splice(c,1),n.removeListener&&this.emit("removeListener",t,e),this)},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(t){var e,n,r,i=this._events;if(!i)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in i)"removeListener"!==e&&i.hasOwnProperty(e)&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}for(n=this._events[t],r=n.length;r--;)this.off(t,n[r]);return this},s.prototype.listeners=function(t){var e=this._events;return e||(e=this._events={}),"string"!=typeof t||e[t]||(e[t]=[]),e[t]},s.prototype.emit=function(t,e){var n,r,i,s=this._events&&this._events[t],a=s?s.length:0,d=arguments.length,p=d--&&d,h=l,f=u,_=new Array(p);if(!a){if("error"===t)throw e instanceof Error?e:new Error('Uncaught, unspecified "error" event.');return!1}for(;p;)_[p-1]=arguments[p--];for(c=o.push(!1)-1,u=this;p<a;){if(n=s[p],i=n.listener,r=null==n.context?this:n.context,l=t,this._eventData=_,n.isOnce===!0?(a--,this.off(t,n)):p++,"function"==typeof i)d?i.apply(r,_):i.call(r);else{if("function"!=typeof i.emit)throw new Error("Listener must be a function or EventEmitter");d?i.emit.apply(i,[n.type||t].concat(_)):i.emit(n.type||t)}if(o[c])break}return o.length=c--,l=h,u=f,this._eventData=null,!0},s.prototype.delegate=function(t,e,n){return n&&e!==n?this.on(e,new a(n,t)):this.on(e,t)},s.prototype.unDelegate=function(t,e){return this.off(e,t)},a.prototype.type=null,a.prototype.listener=null,a.prototype.context=null,a.prototype.isOnce=!1,s.Event=a,t.exports=s}),$.extend({util:{}}),require.define("util",function(t,e,n,r,i){function s(t){return(typeof t===P.TYPE_STRING||C(t,P.STRING))&&""!=t}function a(t){return null!=t&&""!==t&&!isNaN(t)}function o(t){return a(t)&&t%1===0}function c(t){return a(t)&&t%1!==0}function l(t){return typeof t===P.TYPE_BOOLEAN||C(t,P.BOOLEAN)}function u(t){return null!=t&&C(t,P.ARRAY)}function d(t){return null!=t&&C(t,P.REGEXP)}function p(t){return null!=t&&C(t,P.DATE)}function h(t){return null!=t&&C(t,P.ERROR)}function f(t){return null!=t&&C(t,P.OBJECT)}function _(t){return typeof t===P.TYPE_FUNCTION}function m(t){return t===P.undefined}function v(t){return null===t}function y(t,e){return s(t)?String(t):e}function b(t,e){return a(t)?Number(t):e}function g(t,e){return l(t)?t.valueOf():e}function k(t,e){return f(t)?t:1===arguments.length?{}:e}function w(t,e){return u(t)?t:1===arguments.length?[]:e}function E(t,e){return d(t)?t:1===arguments.length?new RegExp(t):e}function x(t,e){return p(t)?t:1===arguments.length?new Date(t):e}function M(t,e){return h(t)?t:1===arguments.length?new Error(t):e}function A(t,e){return _(t)?t:1===arguments.length?new Function(t):e}function T(t,e){return m(t)?1===arguments.length?t:e:t}function C(t,e){return I(t)===e}function S(t,e,n){return t===P.STRING||t===P.NUMBER||t===P.BOOLEAN||t===P.OBJECT||t===P.ARRAY||t===P.REGEXP||t===P.DATE||t===P.ERROR||t===P.FUNCTION?P["to"+t](e,n):e}function I(t){return null===t?P.NULL:Object.prototype.toString.call(t).slice(8,-1)}function O(t,e){var n=null;return _(t)&&(_(e)?(j.prototype=e.prototype,n=new j,j.prototype=null):f(e)&&(n=e),n.constructor=t,t.prototype=n),n}function j(){}var P=t.exports;P.undefined=void 0,P.STRING="String",P.NUMBER="Number",P.BOOLEAN="Boolean",P.ARRAY="Array",P.REGEXP="RegExp",P.DATE="Date",P.ERROR="Error",P.OBJECT="Object",P.FUNCTION="Function",P.NULL="Null",P.TYPE_STRING="string",P.TYPE_NUMBER="number",P.TYPE_BOOLEAN="boolean",P.TYPE_OBJECT="object",P.TYPE_FUNCTION="function",P.TYPE_UNDEFINED="undefined",P.is=C,P.isString=s,P.isNumber=a,P.isInteger=o,P.isFloat=c,P.isBoolean=l,P.isObject=f,P.isArray=u,P.isRegExp=d,P.isDate=p,P.isError=h,
P.isFunction=_,P.isUndefined=m,P.isNull=v,P.toType=S,P.toString=y,P.toNumber=b,P.toBoolean=g,P.toObject=k,P.toArray=w,P.toRegExp=E,P.toDate=x,P.toError=M,P.toFunction=A,P.toSomething=T,P.getType=I,P.inherits=O}),require.define("Response",function(t,e,n,r,i){function s(t){return m.call(this),this.state=t||this.state,this.stateData=new Array(0),this}function a(t){return this.State(this.STATE_PENDING),this.data=null,this.context=null,this.callback=null,this.keys=null,"function"==typeof t&&this.invoke(t),this}function o(t,e){return this.Response(),this.stack=l(t)?t:new Array(0),this.item=null,this.isStrict=this.isStrict,"Boolean"===c(e)&&e.valueOf()&&this.start(),this}function c(t){return y.call(t).slice(8,-1)}function l(t){return t&&"Array"===c(t)}function u(t){return"Array"===c(t)?t:d(t)}function d(t){var e=new Array(1);return e[0]=t,e}function p(t){return null!=t&&("Error"===c(t)||t instanceof Error)?t:new Error(t)}function h(t,e){var n=t.length;for(e.length=n;n--;)e[n]=t[n]}function f(t){t&&(this.constructor=t);for(var e in f.prototype)f.prototype.hasOwnProperty(e)&&(this[e]=f.prototype[e]);f.prototype=null}function _(t){return f.prototype=this.prototype,new f(t)}var m=n("EventEmitter"),v=m.Event,y=Object.prototype.toString,b=m.prototype.emit;s.isState=function(t){return t instanceof s},s.create=_,s.prototype=_.call(m,s),s.prototype.EVENT_CHANGE_STATE="changeState",s.prototype.state=null,s.prototype.stateData=null,s.prototype.reset=function(){return this.constructor()},s.prototype.destroy=function(){for(var t in this)this.hasOwnProperty(t)&&(this[t]=null);return this},s.prototype.is=function(t){return this.state===t},s.prototype.setState=function(t,e){var n=!this.is(t),r=arguments.length>1&&u(e);return r&&(n||r.length)&&(h(r,this.stateData),this._eventData&&h(r,this._eventData)),n&&this.__changeState(t,r),this},s.prototype.__changeState=function(t,e){var n=this._events;this.stopEmit(this.state),this.state=t,n&&(n[t]&&this.emit.apply(this,d(t).concat(e)),n[this.EVENT_CHANGE_STATE]&&this.is(t)&&this.emit(this.EVENT_CHANGE_STATE,t))},s.prototype.onState=function(t,e,n){var r=e instanceof v?e:new v(t,e,n);if(this.is(t)){var i=r.listener,s=n||r.context||this;if("function"==typeof i?i.apply(s,this.stateData):i.emit.apply(s,d(r.type).concat(this.stateData)),r.isOnce)return this}return this.on(t,r)},s.prototype.onceState=function(t,e,n){var r=e instanceof v?e:new v(t,e,n);return r.isOnce=!0,this.onState(t,r,n)},s.prototype.onChangeState=function(t,e){return this.on(this.EVENT_CHANGE_STATE,t,e)},s.prototype.offChangeState=function(t){return t?this.removeListener(this.EVENT_CHANGE_STATE,t):this.removeAllListeners(this.EVENT_CHANGE_STATE),this},a.State=s,a.Queue=o,a.isResponse=function(t){return t instanceof a},a.create=_,a.resolve=function(t){for(var e=new a,n=arguments.length;n--;)e.stateData[n]=arguments[n];return e.state=e.STATE_RESOLVED,e},a.reject=function(t){var e=new a;return e.state=e.STATE_REJECTED,e.stateData[0]=p(t),e},a.queue=function(t){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return new o(n)},a.strictQueue=function(t){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return new o(n).strict()},a.prototype=s.create(a),a.prototype.State=s,a.prototype.STATE_PENDING="pending",a.prototype.STATE_RESOLVED="resolve",a.prototype.STATE_REJECTED="error",a.prototype.EVENT_PROGRESS="progress",a.prototype.data=null,a.prototype.context=null,a.prototype.callback=null,a.prototype.keys=null,a.prototype.setData=function(t){return this.data=arguments.length?t:null,this},a.prototype.setKeys=function(t){return this.keys=arguments.length?t:null,this},a.prototype.bind=function(t,e){if("function"!=typeof t)throw new Error("Callback is not a function");var n=null==e?this:e;return function(){return t.apply(n,arguments)}},a.prototype.emit=function(t,e){var n=!1;if(this._events&&this._events[t])try{n=b.apply(this,arguments)}catch(t){this.isRejected()?this.stateData[0]=p(t):this.reject(t)}return n},a.prototype.onState=function(t,e,n){if(this.is(t))try{this.__onState(t,e,n)}catch(t){this.isRejected()?this.stateData[0]=p(t):this.reject(t)}else this.on(t,e,n);return this},a.prototype.__onState=s.prototype.onState,a.prototype.pending=function(){return this.setState(this.STATE_PENDING),this},a.prototype.resolve=function(t){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return this.setState(this.STATE_RESOLVED,n),this},a.prototype.reject=function(t){return this.setState(this.STATE_REJECTED,new Array(null==t?0:p(t))),this},a.prototype.progress=function(t){return this.isPending()&&this._events&&this._events[this.EVENT_PROGRESS]&&this.emit(this.EVENT_PROGRESS,t),this},a.prototype.isPending=function(){return!(this.isResolved()||this.isRejected())},a.prototype.isResolved=function(){return this.is(this.STATE_RESOLVED)},a.prototype.isRejected=function(){return this.is(this.STATE_REJECTED)},a.prototype.then=function(t,e,n,r){return null!=t&&this.onceState(this.STATE_RESOLVED,t,r),null!=e&&this.onceState(this.STATE_REJECTED,e,r),null!=n&&this.on(this.EVENT_PROGRESS,n,r),this},a.prototype.always=function(t,e){return this.onceState(this.STATE_RESOLVED,t,e).onceState(this.STATE_REJECTED,t,e),this},a.prototype.onResolve=function(t,e){return this.onceState(this.STATE_RESOLVED,t,e),this},a.prototype.onReject=function(t,e){return this.onceState(this.STATE_REJECTED,t,e),this},a.prototype.onProgress=function(t,e){return this.on(this.EVENT_PROGRESS,t,e),this},a.prototype.notify=function(t){if(t){if(t===this)throw new Error("Can't notify itself");this.then(t.resolve,t.reject,t.progress,t)}return this},a.prototype.listen=function(t){if(t===this)throw new Error("Cannot listen on itself");return this.isPending()||this.pending(),t.then(this.resolve,this.reject,this.progress,this),this},a.prototype.done=function(){return this.always(this.destroy)},a.prototype.setContext=function(t){return"object"==typeof t&&(this.context=t),this},a.prototype.callback=function(t,e){var n,r=arguments.length;if(null==t)if(r&&--r){for(n=new Array(r);r--;)n[r]=arguments[r+1];this.resolve.apply(this,n)}else this.resolve();else this.reject(t)},a.prototype.makeCallback=function(t,e){return this.callback=this.bind("function"==typeof t?t:a.prototype.callback,e),this},a.prototype.getCallback=function(){return"function"!=typeof this.callback&&this.makeCallback(),this.callback},a.prototype.invoke=function(t,e){var n,r,i=null==this.context?this:this.context,s=t;if("string"==typeof s||"String"===c(s)){if(null==i)throw new Error("Context object is not defined. Use the Response#setContext method.");s=i[t]}if("function"==typeof s){for(r=arguments.length-1,n=new Array(r);r--;)n[r]=arguments[r+1];this.isPending()||this.pending();try{return s.apply(i,n)}catch(t){return this.reject(t)}}throw new Error("Method is not a function.")},a.prototype.spread=function(t,e){return t.apply(null==e?this:e,this.stateData),this},a.prototype.getResult=function(t){if(!this.isResolved())return null;var e,n,r,i,s=arguments.length?t:this.keys,a=this.stateData;switch(c(s)){case"String":if(!l(this.keys))throw new Error("Default keys must be a array");for(n=this.keys.length;n--;)if(this.keys[n]===s)return a[n];return null;case"Number":return a[s];case"Array":case"Arguments":for(r=s.length,n=0,e={};n<r;)i=s[n],null!=i&&(e[i]=a[n++]);return e;default:return 1===a.length?a[0]:a}},a.prototype.getReason=function(){return this.isRejected()?this.stateData[0]:null},a.prototype.toJSON=function(){return this.getResult()},o.create=_,o.isQueue=function(t){return t instanceof o},o.prototype=a.create(o),o.prototype.Response=a,o.prototype.STATE_START="start",o.prototype.STATE_STOP=o.prototype.STATE_PENDING,o.prototype.EVENT_NEXT_ITEM="nextItem",o.prototype.stack=null,o.prototype.item=null,o.prototype.isStrict=!1,o.prototype.start=function(){var t=this.stack,e=this.item;if(!this.isPending())return this;for(;t.length;){if(this.item=t.shift(),this.setState(this.STATE_START),!this.is(this.STATE_START))return this;if("function"==typeof this.item){try{e instanceof a?e.stateData.length?this.item=this.item.apply(this,e.stateData):this.item=this.item():this.item=this.item(e)}catch(t){return this.reject(t),this}if(!this.is(this.STATE_START))return this}if(e=this.item,this.emit(this.EVENT_NEXT_ITEM,e),!this.is(this.STATE_START))return this;if(this.stateData.push(e),e&&a.isResponse(e)){if(e===this)continue;if(this.isStrict&&e.onReject(this.reject,this),!this.is(this.STATE_START))return this;if(e.isPending())return e.always(this.start,this),this}}return 0===t.length&&(this.item=null,this.resolve.apply(this,this.stateData)),this},o.prototype.stop=function(){return this.setState(this.STATE_STOP),this.item=null,this},o.prototype.push=function(t){for(var e=arguments.length,n=this.stack.length;e--;)this.stack[n++]=arguments[e];return this},o.prototype.strict=function(t){return this.isStrict=!arguments.length||Boolean(t),this},o.prototype.onStart=function(t,e){return this.onState(this.STATE_START,t,e),this},o.prototype.onStop=function(t,e){return this.onState(this.STATE_STOP,t,e),this},o.prototype.onNextItem=function(t,e){return this.on(this.EVENT_NEXT_ITEM,t,e),this},t.exports=a}),require.define("page",function(t,e,n,r,i){function s(t){this.id=t.id,this.type=t.type||"PAGE",this.url=t.url||"/",this.historyTrack=t.historyTrack||!1,t.model&&(this.model={},this.model.id=t.model.id,this.model.name=t.model.name,this.model.categoryId=t.model.categoryId,t.model.images&&(this.model.images={},this.model.images.all=t.model.images.all,this.model.images.small=t.model.images.small),t.model.price&&(this.model.price={},this.model.price.min=t.model.price.min,this.model.price.max=t.model.price.max))}var a=n("Response"),o=new a.State,c=n("util");o.asyncRequire=new a,o.STATE_READY="STATE_READY",o._instance=null,o.setData=function(t){if(!c.isObject(t))throw new Error('page.setPageData: "params" is required and must be Object');return o._instance=new s(t),this},o.getData=function(){return this._instance},o.init=function(){o.setState(this.STATE_READY,o._instance),o.asyncRequire.resolve(o)},t.exports=o}),BEM.decl("uri",{onSetMod:{js:function(){var t=this;["protocol","host","port","path","anchor"].forEach(function(e){t[e]=function(t){return"undefined"!=typeof t?(this.uriParts[e]=t,this):this.uriParts[e]}})}},encode:function(t){return encodeURIComponent(t)},decode:function(t){try{t=decodeURIComponent(t)}catch(e){try{t=decodeURIComponent(this.convert(t))}catch(t){}}return t},convert:function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};return t=t.replace(/%.{2}/g,function(t){return e[t]||t})},normalize:function(t){return(t||"").replace(/\+/g,"%20")},parseUri:function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@\/]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?:?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],r=e.exec(t||""),i={};return n.forEach(function(t,e){i[t]=r[e]||""}),i},parseQuery:function(t){var e,n,r,i,s,a={};if("string"!=typeof t||""===t)return a;for(n=t.replace("?","").split("&"),e=0;e<n.length;e++)r=n[e].split("="),r=[r.shift(),void 0!==r[0]?r.join("="):null],i=this.decode(r[0]),s=r[1]||""===r[1]?this.decode(r[1]):null,a[i]?(s||""===s)&&a[i].push(s):a[i]=null===s?[]:[s];return a},query:function(t){var e="";"undefined"!=typeof t&&(this.queryParams=this.parseQuery(t));var n=this.queryParams,r=Object.keys(n),i=this;return r.forEach(function(t,r){r>0&&(e+="&"),"object"!=typeof n[t]||n[t].length?n[t].forEach(function(n,r){r>0&&(e+="&"),e+=i.encode(t)+"="+i.encode(n)}):e+=t}),e.length>0?"?"+e:e},getParam:function(t){return this.queryParams[t]},deleteParam:function(t,e){var n=[];return"undefined"!=typeof e&&((this.queryParams[t]||[]).forEach(function(t){t!==e&&n.push(t)}),this.queryParams[t]=n),"undefined"!=typeof e&&0!==n.length||delete this.queryParams[t],this},addParam:function(t,e){return this.queryParams[t]=(this.queryParams[t]||[]).concat(e),this},replaceParam:function(t,e,n){return this.deleteParam(t,n).addParam(t,e)},scheme:function(){var t="";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.host()&&(t+="//"),t},origin:function(){var t=this.scheme();return this.host()&&(t+=this.host(),this.port()&&(t+=":"+this.port())),t},getRoot:function(){var t=this.origin();return this.path()&&(t+=this.path().replace(/\/[^\/]*$/,"")),t},pathParts:function(){return this.path().split("/")},toString:function(){var t=this.origin();return this.path()?t+=0!==this.path().indexOf("/")&&"/"!==t[t.length-1]?"/"+this.path():this.path():this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},build:function(){var t="";return t+=this.protocol()?this.protocol():window.location.protocol,t+=t.indexOf(":")!==t.length-1?"://":"//",t+=this.host()?this.host():window.location.hostname,this.port()?t+=":"+this.port():!this.host()&&window.location.hostname&&(t+=":"+window.location.port),t+=this.path()?this.path():this.host()?"/":window.location.pathname,this.query()&&(0!==this.query().indexOf("?")&&(t+="?"),t+=this.query()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t}},{parse:function(t){var e=BEM.create({block:"uri"});return e.uriParts=e.parseUri(e.normalize(t)),e.queryParams=e.parseQuery(e.uriParts.query),e},normalize:function(t){return this.parse(t).toString()}}),BEM.decl("uri",{onSetMod:{js:function(){var t=this;["protocol","host","port","path","anchor"].forEach(function(e){t[e]=function(t){return"undefined"!=typeof t?(this.uriParts[e]=t,this):this.uriParts[e]}})}},encode:function(t){return encodeURIComponent(t)},decode:function(t){try{t=decodeURIComponent(t)}catch(e){try{t=decodeURIComponent(this.convert(t))}catch(t){}}return t},convert:function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};return t=t.replace(/%.{2}/g,function(t){return e[t]||t})},normalize:function(t){return(t||"").replace(/\+/g,"%20")},parseUri:function(t){var e=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],r=e.exec(t||""),i={};return n.forEach(function(t,e){i[t]=r[e]||""}),i},parseQuery:function(t){var e,n,r,i,s,a={};if("string"!=typeof t||""===t)return a;for(n=t.replace("?","").split("&"),e=0;e<n.length;e++)r=n[e].split("="),r=[r.shift(),void 0!==r[0]?r.join("="):null],i=this.decode(r[0]),s=r[1]||""===r[1]?this.decode(r[1]):null,a[i]?(s||""===s)&&a[i].push(s):a[i]=null===s?[]:[s];return a},query:function(t){var e="";"undefined"!=typeof t&&(this.queryParams=this.parseQuery(t));var n=this.queryParams,r=Object.keys(n),i=this;return r.forEach(function(t,r){r>0&&(e+="&"),"object"!=typeof n[t]||n[t].length?n[t].forEach(function(n,r){r>0&&(e+="&"),e+=i.encode(t)+"="+i.encode(n)}):e+=t}),e.length>0?"?"+e:e},getParam:function(t){return this.queryParams[t]},deleteParam:function(t,e){var n=[];return"undefined"!=typeof e&&((this.queryParams[t]||[]).forEach(function(t){t!==e&&n.push(t)}),this.queryParams[t]=n),"undefined"!=typeof e&&0!==n.length||delete this.queryParams[t],this},addParam:function(t,e){return this.queryParams[t]=(this.queryParams[t]||[]).concat(e),this},replaceParam:function(t,e,n){return this.deleteParam(t,n).addParam(t,e)},scheme:function(){var t="";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.host()&&(t+="//"),t},origin:function(){var t=this.scheme();return this.host()&&(t+=this.host(),this.port()&&(t+=":"+this.port())),t},getRoot:function(){var t=this.origin();return this.path()&&(t+=this.path().replace(/\/[^\/]*$/,"")),t},pathParts:function(){return this.path().split("/")},toString:function(){var t=this.origin();return this.path()?t+=0!==this.path().indexOf("/")&&"/"!==t[t.length-1]?"/"+this.path():this.path():this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},build:function(){var t="";return t+=this.protocol()?this.protocol():window.location.protocol,t+=t.indexOf(":")!==t.length-1?"://":"//",t+=this.host()?this.host():window.location.hostname,this.port()?t+=":"+this.port():!this.host()&&window.location.hostname&&(t+=":"+window.location.port),t+=this.path()?this.path():this.host()?"/":window.location.pathname,this.query()&&(0!==this.query().indexOf("?")&&(t+="?"),t+=this.query()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t}},{parse:function(t){var e=BEM.create({block:"uri"});return e.uriParts=e.parseUri(e.normalize(t)),e.queryParams=e.parseQuery(e.uriParts.query),e},normalize:function(t){return this.parse(t).toString()}}),require.define("Condenser",function(t,e,n,r,i){function s(t){var e=t&&t.duration||300;this._items=[],this._debouncedResult=a.debounce(this._result,e)}var a=n("lodash"),o=n("util"),c=n("EventEmitter");o.inherits(s,c);var l=s.prototype;l.EVENT_CONDENSED="condensed",l.push=function(t){return this._items.push(t),this._debouncedResult(),this},l._result=function(){return this.emit(this.EVENT_CONDENSED,this._items),this._items=[],this},t.exports=s}),require.define("ViewportWatcher",function(t,e,n,r,i){function s(t){t=t||{},this._els=[],this._window=$(window),this._isAttached=!1,this._interval=t.interval||500,this._debouncedUpdate=p.debounce(this._update,100).bind(this),this._blurWindowHandler=this._detach.bind(this),this._focusWindowHandler=this._attach.bind(this),this._window.on("focus",this._focusWindowHandler).on("blur",this._blurWindowHandler)}function a(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0}function o(t){var e=t.getBoundingClientRect();return l(e)&&c(t,e)}function c(t,e){var n=(e.left+e.right)/2,r=(e.top+e.bottom)/2;return u(t,n,r)||u(t,e.left,e.top)||u(t,e.left,e.bottom)||u(t,e.right,e.top)||u(t,e.right,e.bottom)}function l(t){var e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return t.left<e&&t.right>0&&t.top<n&&t.bottom>0}function u(t,e,n){return t.contains(document.elementFromPoint(e,n))}var d=n("util"),p=n("lodash"),h=n("EventEmitter");d.inherits(s,h);var f=s.prototype;f.EVENT_CHECKED="checked",f.add=function(t){return this._els.push(t),this._attach(),this},f.remove=function(t){var e=this._els.indexOf(t);return e>=0&&this._els.splice(e,1),this._els.length||this._detach(),this},f.destroy=function(){return this._els=[],this._detach(),this._window.off("focus",this._focusWindowHandler).off("blur",this._blurWindowHandler),this},f._attach=function(){return this._isAttached?this:(this._isAttached=!0,this._intervalId=window.setInterval(this._debouncedUpdate,this._interval),this._window.on("scroll resize",this._debouncedUpdate),this)},f._detach=function(){return this._isAttached?(this._window.off("scroll resize",this._debouncedUpdate),window.clearInterval(this._intervalId),this._isAttached=!1,this):this},f._update=function(){for(var t=this._els.length;t--;){var e=this._els[t];a(e)&&o(e)&&(this.emit(this.EVENT_CHECKED,e),this.remove(e))}return this},t.exports=s}),require.define("metrika",function(t,e,n,r,i){function s(t){var e=a(t);if(e){var n=e._ecommerce||"dataLayer";return window[n]||(window[n]=[]),window[n]}}function a(t){return t?window[t]:window[v.defaultCounterID]}function o(t,e,n){return e=e||v.defaultCounterID,v.queue[e]||(v.queue[e]=[]),v.queue[e].push({target:t,params:n}),!0}function c(t,e,n){var r=a(e),i="undefined"==typeof n?v.params:n;w&&y.isPlainObject(i)&&y.defaults(i,{reqId:w});try{r.reachGoal(t,i),v.activatedTargets[t]=!0,String(document.location).indexOf("showmemetrikapls")>0&&alert(t),u()&&console.log(t,i)}catch(t){return u()&&console.warn("Metrika: reachGoal failed",t),!1}return!0}function l(){v.waitsForCounterIntervalId||(v.waitsForCounterIntervalId=setInterval(function(){d.call(v)},1800))}function u(){var t=!1,e=String(document.location);return(e.indexOf("debugmemetrikapls")>0||e.indexOf("debugmetrika")>-1)&&window.console&&(t=!0),t}function d(){var t,e,n,r,i,s=!1;for(i in v.hitParams)v.hitParams.hasOwnProperty(i)&&(t=a(i),t&&m(i,!0));for(i in v.queue)if(v.queue.hasOwnProperty(i)){if(t=a(i),!t){s=!0;continue}for(e=v.queue[i],r=e.length;r--;)n=e[r],c(n.target,i,n.params)&&e.splice(r,1)}s||clearInterval(v.waitsForCounterIntervalId)}function p(t,e){b.hasOwnProperty(t)&&h(t,e)}function h(t,e){var n=b[t],r=n(e);y.isArray(r)&&y.forEach(r,function(t){f(t)}),y.isObject(r)&&f(r)}function f(t){t.once?v.tryReachGoal(t.target,t.counter,t.params):v.reachGoal(t.target,t.counter,t.params)}function _(t,e){var n=g[t](e),r=n.counter||v.marketCounterID,i=a(r);return y.isObject(v.hitParams[r])||(v.hitParams[r]={}),v.hitParams[r]=$.extend(!0,v.hitParams[r],n.params),i?(clearTimeout(v.hitDelayID[r]),void(v.hitDelayID[r]=y.delay(m,v.HIT_DELAY,r))):l()}function m(t,e){var n=a(t);clearTimeout(v.hitDelayID[t]);try{e?n.params(v.hitParams[t]):n.hit(document.location.href,document.title,v.referrer,v.hitParams[t]),u()&&console.log("Metrika: HIT",v.hitParams[t]),v.hitParams[t]=void 0}catch(t){u()&&console.warn("Metrika: hit failed",t)}}var v=t.exports,y=n("lodash"),b=n("metrikaGoalsPoints"),g=n("metrikaHitPoints"),k="market-metrika",w=document.body.getAttribute("data-reqid");v.defaultCounterID=b.defaultCounterID,v.marketCounterID=b.marketCounterID,v.queue={},v.waitsForCounterIntervalId=void 0,v.activatedTargets={},v.params={},v.hitParams={},v.hitDelayID={},v.HIT_DELAY=30,v.referrer=document.referrer,v.init=function(){var t=!1;BEM.channel(k).on("emit",function(t,e){y.isObject(e)&&y.forEach(e,function(t,e){p(e,t)})}).on("hit",function(e,n){t||y.isObject(n)&&y.forEach(n,function(t,e){_(e,t)})}).on("before-update",function(e){y.forEach(v.hitParams,function(t,e){y.isEmpty(t)||m(e)}),t=!0,v.referrer=document.location.href}).on("update",function(e){t=!1})},v.reachGoal=function(t,e,n){var r,i;return t&&(i=a(e),i?r=c(t,e,n):(r=!0,o(t,e,n),v.activatedTargets[t]=!0,l())),r},v.emitGoalPoint=function(t){y.isObject(t)&&BEM.channel(k).trigger("emit",t)},v.addHitParams=function(t){y.isObject(t)&&BEM.channel(k).trigger("hit",t)},v.tryReachGoal=function(t,e,n){return v.activatedTargets.hasOwnProperty(t)||v.reachGoal(t,e,n),!0},v.addTargets=function(t){$.each(t,function(t,e){$("body").delegate(e,"click",function(){return v.reachGoal(t)})})},v.addOnceTargets=function(t){$.each(t,function(t,e){$("body").delegate(e,"click",function(){return!!v.activatedTargets.hasOwnProperty(t)||v.reachGoal(t)})})},v.addTargetsWithEvent=function(t,e){$.each(t,function(t,n){var r=n.event||"click";$(document).delegate(n.selector,r,function(){return n.once?!!v.activatedTargets.hasOwnProperty(n.target)||v.reachGoal(n.target,e):v.reachGoal(n.target,e)})})},v.addEcommerce=function(t,e){var n=s(t);n&&(n.push({ecommerce:e}),u()&&console.log("ecommerce",{ecommerce:e}))},v.init()}),require.define("metrikaGoalsPoints",function(t,e,n,r,i){function s(t){return t?{target:t,counter:u.marketCounterID}:{}}function a(t){return t.position+"-"+t.params}function o(t){var e;return e=l.has(t,"pixels")?l.has(t,"pixels[0].content")?t.pixels:l.map(t.pixels,a):t,{block:{elements:e}}}var c=n("page"),l=n("lodash"),u=t.exports={defaultCounterID:"yaCounter16675804",marketCounterID:"yaCounter160656",_getPageId:function(){return c.getData().id},_hasQueryParam:function(t){return BEM.blocks.uri.parse(document.location.href).queryParams.hasOwnProperty(t)},_getTargetByPath:function(t){for(var e,n=t.targets,r=0;r<t.path.length;r++){if(e=t.path[r],!n||!n.hasOwnProperty(e))return t.defaultTarget;n=n[e]}return n},viewShopReviews:function(t){var e=[];return e.push({target:"R_SHP_LIST",counter:u.marketCounterID}),t>32&&e.push({target:"shp_31_FDBCK_ovrvw",counter:u.marketCounterID}),e},viewProductReviews:function(){return{target:"R_MDL_LIST",counter:u.marketCounterID}},voteProductReview:function(t){return{counter:u.marketCounterID,target:"REV_MARKED",params:t}},reviewAuthorSocialClick:function(t){var e={counter:u.marketCounterID,params:{provider:t}};switch(c.getData().id){case"market:shop-reviews":e.target="R_SHP_VW_USR_SOC";break;case"market:product-reviews":e.target="R_MDL_VW_USR_SOC"}return e},reviews:function(t){var e={counter:u.marketCounterID,target:u._getTargetByPath({targets:{"market:offer":{writeButton:{click:"offer_card_reviews_button_write",show:"offer_card_reviews_button_write_show"},showMoreButton:{click:"offer_card_reviews_button_showmore"},showAllLink:{click:"offer_card_reviews_showall_link"},showNumAllLink:{click:"offer_card_reviews_showall_num"},reviewsStatLink:{click:"offer_card_reviews_showrated"}}},path:[u._getPageId(),t.element,t.action],defaultTarget:null})};return e.target?e:{}},top5GeoSnippet:function(){return{target:"model_card_geo_shop_click",counter:u.marketCounterID}},productOffers:function(t){var e,n={},r=[];return n.search={noOffers:"A_NOOFFERS_SRCH",noLocalOffers:"L_NOOFFERS_SRCH",oneLocalOffer:"L_1OFFERS_SRCH",localOffersGtOne:"L_3OFFERS_SRCH"},n.top5={noOffers:"A_NOOFFERS_CRD",noLocalOffers:"L_NOOFFERS_CRD",oneLocalOffer:"L_1OFFERS_CRD",localOffersGtOne:"L_3OFFERS_CRD"},n.top5geo={noOffers:null,noLocalOffers:"G_NOOFFERS_CRD",oneLocalOffer:"G_1OFFERS_CRD",localOffersGtOne:"G_3OFFERS_CRD"},n.offers={noOffers:"A_NOOFFERS_CRDA",noLocalOffers:"L_NOOFFERS_CRDA",oneLocalOffer:"L_1OFFERS_CRDA",localOffersGtOne:"L_3OFFERS_CRDA"},n.geo={noOffers:null,noLocalOffers:"G_NOOFFERS_CRDA",oneLocalOffer:"G_1OFFERS_CRDA",localOffersGtOne:"G_3OFFERS_CRDA"},n.cluster={noOffers:"A_NOOFFERS_CLSTR",noLocalOffers:"L_NOOFFERS_CLSTR",oneLocalOffer:"L_1OFFERS_CLSTR",localOffersGtOne:"L_3OFFERS_CLSTR"},t.hasOwnProperty("place")&&n.hasOwnProperty(t.place)&&(e=n[t.place],0==t.inStock&&null!==e.noOffers?r.push({target:e.noOffers,counter:u.marketCounterID}):0==t.byRegion?r.push({target:e.noLocalOffers,counter:u.marketCounterID}):1==t.byRegion?r.push({target:e.oneLocalOffer,counter:u.marketCounterID}):t.byRegion>1&&r.push({target:e.localOffersGtOne,counter:u.marketCounterID})),r},productTabs:function(t){var e=[],n={fixed:"MC_TABS_STICKER",normal:"MC_TABS_USUAL"};return"click"===t.event&&e.push({counter:u.marketCounterID,target:n[t.state]}),"mods"===t.tabName&&e.push({counter:u.marketCounterID,target:"init"===t.event?"model_card_tabs_show_mod":"model_card_tabs_click_mod"}),"offers"===t.tabName&&"click"===t.event&&e.push({counter:u.marketCounterID,target:"GR_TO_OFFERS"}),e},buttonOfferBuy:function(t){var e,n=[],r="",i="view",s=BEM.blocks.uri.parse(document.location.href).queryParams.hasOwnProperty("how"),a={product:{card:{model:{view:"CAN_BUY_DEF_MODEL_MAIN",click:"CLICK_BUY_DEF_MODEL_MAIN",hover:"SHOW_BUY_DEF_MODEL_MAIN"},cluster:{view:"CAN_BUY_DEF_CLUSTER_MAIN",click:"CLICK_BUY_DEF_CLUSTER_MAIN",hover:"SHOW_DEF_CLUSTER_MAIN"}},"product-gallery":{model:{view:"CAN_BUY_DEF_MODEL_MAIN_PHOTO",click:"CLICK_BUY_DEF_MODEL_MAIN_PHOTO",hover:"SHOW_BUY_DEF_MODEL_MAIN_PHOTO"},cluster:{view:"CAN_BUY_DEF_CLUSTER_MAIN_PHOTO",click:"CLICK_BUY_DEF_CLUSTER_MAIN_PHOTO",hover:"SHOW_BUY_DEF_CLUSTER_MAIN_PHOTO"}},minicard:{model:{view:"CAN_BUY_DEF_MODEL_MAIN_CHAR",click:"CLICK_BUY_DEF_MODEL_MAIN_CHAR",hover:"SHOW_BUY_DEF_MODEL_MAIN_CHAR"},cluster:{view:"CAN_BUY_DEF_CLUSTER_MAIN_CHAR",click:"CLICK_BUY_DEF_CLUSTER_MAIN_CHAR",hover:"SHOW_BUY_DEF_CLUSTER_MAIN_CHAR"}},top5:{model:{view:"CAN_BUY_MODEL",click:"CLICK_BUY_MODEL",hover:null},cluster:{view:"CAN_BUY_CLUSTER",click:"CLICK_BUY_CLUSTER",hover:null}},top3:{view:"CAN_BUY_ACCSS",click:"CLICK_BUY_ACCSS",hover:null}},"product-spec":{minicard:{model:{view:"CAN_BUY_DEF_MODEL_CHAR",click:"CLICK_BUY_DEF_MODEL_CHAR",hover:"SHOW_BUY_DEF_MODEL_CHAR"},cluster:{view:"CAN_BUY_DEF_CLUSTER_CHAR",click:"CLICK_BUY_DEF_CLUSTER_CHAR",hover:"SHOW_BUY_DEF_CLUSTER_CHAR"}},top5:{model:{view:"CAN_BUY_MODEL_CHAR",click:"CLICK_BUY_MODEL_CHAR",hover:null},cluster:{view:"CAN_BUY_CLUSTER_CHAR",click:"CLICK_BUY_CLUSTER_CHAR",hover:null}}},"product-offers":{minicard:{view:s?"CAN_BUY_OFFERS_SORTED_DEF":"CAN_BUY_OFFERS_DEF",click:s?"CLICK_BUY_OFFERS_SORTED_DEF":"CLICK_BUY_OFFERS_DEF",hover:null},snippet:{view:"CAN_BUY_OFFERS",click:"CLICK_BUY_OFFERS",hover:null}},"product-geo":{"geo-snippet":{view:"CAN_BUY_GEO_SNIPPET",click:"CLICK_BUY_GEO_SNIPPET"},minicard:{view:"CAN_BUY_MINICARD_GEO",click:"CLICK_BUY_MINICARD_GEO"}},"product-articles":{minicard:{view:"CAN_BUY_MODREVIEWS_DEF",click:"CLICK_BUY_MODREVIEWS_DEF",hover:null},top5:{model:{view:"CAN_BUY_MODEL_MODREVIEWS",click:"CLICK_BUY_MODEL_MODREVIEWS",hover:null},cluster:{view:"CAN_BUY_CLUSTER_MODREVIEWS",click:"CLICK_BUY_CLUSTER_MODREVIEWS",hover:null}}},"product-reviews":{minicard:{model:{view:"CAN_BUY_DEF_MODEL_REVIEWS",click:"CLICK_BUY_DEF_MODEL_REVIEWS",hover:"SHOW_BUY_DEF_MODEL_REVIEWS"},cluster:{view:"CAN_BUY_DEF_CLUSTER_REVIEWS",click:"CLICK_BUY_DEF_CLUSTER_REVIEWS",hover:"SHOW_BUY_DEF_CLUSTER_REVIEWS"}},top5:{model:{view:"CAN_BUY_MODEL_REVIEWS",click:"CLICK_BUY_MODEL_REVIEWS",hover:null},cluster:{view:"CAN_BUY_CLUSTER_REVIEWS",click:"CLICK_BUY_CLUSTER_REVIEWS",hover:null}}},"product-forums":{minicard:{view:"CAN_BUY_DEF_MODEL_FORUMS",click:"CLICK_BUY_DEF_MODEL_FORUMS",hover:"SHOW_BUY_DEF_MODEL_FORUMS"},cluster:{view:"CAN_BUY_DEF_CLUSTER_FORUMS",click:"CLICK_BUY_DEF_CLUSTER_FORUMS",hover:"SHOW_BUY_DEF_CLUSTER_FORUMS"},top5:{model:{view:"CAN_BUY_MODEL_FORUMS",click:"CLICK_BUY_MODEL_FORUMS",hover:null},cluster:{view:"CAN_BUY_CLUSTER_FORUMS",click:"CLICK_BUY_CLUSTER_FORUMS",hover:null}}},search:{snippet:{view:"CAN_BUY_SEARCH",click:"CLICK_BUY_SEARCH",hover:null}},list:{snippet:{view:"CAN_BUY_SEARCH",click:"CLICK_BUY_SEARCH",hover:null}},index:{"mbo-widget":{view:null,
click:t.dynamicGoal||"CLICK_BUY",hover:null}},collections:{"mbo-widget":{view:"CAN_BUY_COMPILATION",click:"CLICK_BUY_COMPILATION",hover:null}},geo:{"geo-snippet":{view:"search_geo_button_to_cart_show",click:"search_geo_button_to_cart"}}},o=c.getData().id;return o&&(o=o.split(":")[1]),a.hasOwnProperty(o)&&t.hasOwnProperty("place")?(t.hasOwnProperty("event")&&(i=t.event),a[o].hasOwnProperty(t.place)&&(r=a[o][t.place],r.hasOwnProperty(t.modelType)&&(r=a[o][t.place][t.modelType]),r[i]&&n.push({target:r[i],counter:u.marketCounterID}))):!a.hasOwnProperty(o)&&t.hasOwnProperty("place")&&"default"===t.place&&(e="click"===t.event,n.push({target:e?"CLICK_BUY":"CAN_BUY",counter:u.marketCounterID,once:!!e})),n},cpcOfferToShop:function(t){var e=t.event||"view",n={product:{card:{model:{view:"CAN_CL_DEF_MODEL_MAIN",click:"CLICK_CL_DEF_MODEL_MAIN"},cluster:{view:"CAN_CL_DEF_CLUSTER_MAIN",click:"CLICK_CL_DEF_CLUSTER_MAIN"}},"product-gallery":{model:{view:"CAN_CL_DEF_MODEL_MAIN_PHOTO",click:"CLICK_CL_DEF_MODEL_MAIN_PHOTO"},cluster:{view:"CAN_CL_DEF_CLUSTER_MAIN_PHOTO",click:"CLICK_CL_DEF_CLUSTER_MAIN_PHOTO"}},minicard:{model:{view:"CAN_CL_DEF_MODEL_MAIN_CHAR",click:"CLICK_CL_DEF_MODEL_MAIN_CHAR"},cluster:{view:"CAN_CL_DEF_CLUSTER_MAIN_CHAR",click:"CLICK_CL_DEF_CLUSTER_MAIN_CHAR"}}},"product-spec":{minicard:{model:{view:"CAN_CL_DEF_MODEL_CHAR",click:"CLICK_CL_DEF_MODEL_CHAR"},cluster:{view:"CAN_CL_DEF_CLUSTER_CHAR",click:"CLICK_CL_DEF_CLUSTER_CHAR"}}},"product-geo":{"geo-snippet":{offer:{view:"geo_button_redir_show",click:"geo_button_redir"}}},"product-reviews":{minicard:{model:{view:"CAN_CL_DEF_MODEL_REVIEWS",click:"CLICK_CL_DEF_MODEL_REVIEWS"},cluster:{view:"CAN_CL_DEF_CLUSTER_REVIEWS",click:"CLICK_CL_DEF_CLUSTER_REVIEWS"}}},"product-forums":{minicard:{model:{view:"CAN_CL_DEF_MODEL_FORUMS",click:"CLICK_CL_DEF_MODEL_FORUMS"},cluster:{view:"CAN_CL_DEF_CLUSTER_FORUMS",click:"CLICK_CL_DEF_CLUSTER_FORUMS"}}},geo:{"geo-snippet":{offer:{view:"search_geo_button_redir_show",click:"search_geo_button_redir"}}}},r=c.getData().id;return r&&(r=r.split("market:")[1]),n.hasOwnProperty(r)&&t.hasOwnProperty("place")&&t.hasOwnProperty("modelType")&&n[r].hasOwnProperty(t.place)&&n[r][t.place].hasOwnProperty(t.modelType)?{target:n[r][t.place][t.modelType][e],counter:u.marketCounterID}:{}},offerFullDescription:function(t){var e={counter:u.marketCounterID,target:u._getTargetByPath({targets:{"market:offer":{showMoreClick:"offer_card_description_showmore",longShow:"offer_card_description_long_show",mediumShow:"offer_card_description_medium_show",shortShow:"offer_card_description_short_show"}},path:[u._getPageId(),t.action],defaultTarget:null})};return e.target?e:{}},delivery:function(t){var e,n=c.getData().id,r={},i={counter:u.marketCounterID};return e="popup-show"===t.eventType?{"product-top-offer":"CLICK_DLVRY","product-offer":{"market:product":"CLICK_DLVRY_DO"},"last-viewed-offer":"CLICK_DLVRY_LVO",snippet:{"market:product-offers":"CLICK_DLVRY_OFFERS","market:search":"CLICK_DLVRY_SEARCH","market:list":"CLICK_DLVRY_SEARCH"},"shopping-list":"CLICK_DLVRY_SHOPPING_LIST"}:{"product-top-offer":"TM_DLVRY","product-offer":{"market:product":"TM_DLVRY_DO"},"last-viewed-offer":"TM_DLVRY_LVO","offer-summary":"offer_card_link_delivery",snippet:{"market:product-offers":"TM_DLVRY_OFFERS","market:search":"TM_DLVRY_SEARCH","market:list":"TM_DLVRY_SEARCH"},"shopping-list":"TM_DLVRY_SHOPPING_LIST"},t.place&&(r=e[t.place],i.target=r&&r[n]?r[n]:r),"string"==typeof i.target?i:{}},yandexDelivery:function(t){var e={"delivery-show":"DELIVERY_CAR_SHOW","delivery-popup-show":"DELIVERY_CAR_CLICK","delivery-link-click":"DELIVERY_CAR_TOOLTIP_CLICK"};return{counter:u.marketCounterID,target:e[t]}},tyres:function(t){var e={fill_mark:"TIRE_FILT_BRAND",fill_model:"TIRE_FILT_MODEL",fill_generation:"TIRE_FILT_GEN","fill_tech-param":"TIRE_FILT_MODIF",resultSelected:"TIRE_LIST_RELOAD",emptyResult:"TIRE_LIST_EMPTY",popupWarning:"TIRE_POPUP_WARN",popupHowTo:"TIRE_HOWTO"};return{counter:u.marketCounterID,target:e[t]}},modelSubscribeForm:function(t){var e={subscribe:"AVAIL_ALRT",loggedUnsubscribe:"AVAIL_ALRT_UNSUB",anonShow:"AVAIL_ALRT_SHOW"};return{counter:u.marketCounterID,target:e[t]}},productvideo:function(t){var e=u._getTargetByPath({targets:{"market:offer":{canPlay:"offer_card_video_show",startPlay:"offer_card_video_start",linkout:"offer_card_video_linkout",showMoreLink:"offer_card_video_showmore"},"market:product":{canPlay:"VID_PRODUCT_CAN_PLAY",startPlay:"VID_PRODUCT_START_PLAY",playing:"VID_PLAYING_PRODUCT",linkout:"LINKOUT_PRODUCT",doComplain:"VID_COMPLAIN_PRODUCT"},"market:product-reviews":{canPlay:"VID_REVIEWS_CAN_PLAY",startPlay:"VID_REVIEWS_START_PLAY",playing:"VID_PLAYING_REVIEWS",linkout:"LINKOUT_REVIEWS",doComplain:"VID_COMPLAIN_REVIEWS"},"market:product-spec":{canPlay:"VID_SPEC_CAN_PLAY",startPlay:"VID_SPEC_START_PLAY",playing:"VID_PLAYING_SPEC",linkout:"LINKOUT_SPEC",doComplain:"VID_COMPLAIN_SPEC"},"market:product-articles":{canPlay:"VID_ARTICLES_CAN_PLAY",startPlay:"VID_ARTICLES_START_PLAY",playing:"VID_PLAYING_ARTICLES",linkout:"LINKOUT_ARTICLES",doComplain:"VID_COMPLAIN_ARTICLES"},"market:product-forums":{canPlay:"VID_FORUMS_CAN_PLAY",startPlay:"VID_FORUMS_START_PLAY",playing:"VID_PLAYING_FORUMS",linkout:"LINKOUT_FORUMS",doComplain:"VID_COMPLAIN_FORUMS"}},path:[u._getPageId(),t.action],defaultTarget:null});return e?{counter:u.marketCounterID,target:t.value>""?e+"_"+t.value:e,params:t.params}:{}},productMap:function(t){var e={pickup:"MAP_TAB_SELF",store:"MAP_TAB_ALL",point:"MC_MAP_POINTS"};return{counter:u.marketCounterID,target:e[t]}},suggest2:function(t){return{counter:u.marketCounterID,target:"SUGGEST_ITEM_SELECTED",params:t}},description:function(){var t={counter:u.marketCounterID};return t.target="DESC_OPN",t},goToShop:function(t){var e={counter:u.marketCounterID},n={picture:{search:"PIC_SRCH",list:"PIC_SRCH","product-offers":"PIC_OFF"},header:{search:"HEAD_SRCH",list:"HEAD_SRCH","product-offers":"HEAD_OFF"},"shop-name":{search:"SHOP_SRCH",list:"SHOP_SRCH","product-offers":"SHOP_OFF"},"to-shop-button":{search:"BUT_SRCH",list:"BUT_SRCH","product-offers":"BUT_OFF"},price:{search:"PR_SRCH",list:"PR_SRCH","product-offers":"PR_OFF"}},r=c.getData().id,i={};return r&&(r=r.split(":")[1]),t.hasOwnProperty("place")&&(i=n[t.place],i.hasOwnProperty(r)&&(e.target=i[r])),e},oneShopOffers:function(){var t={counter:u.marketCounterID};return t.target="SHOP_ALL_OFF",t},shopLink:function(t){return{}},productAlternatives:function(t){var e=t;t.target&&(e=t.target,e.params=o(t.params));var n={counter:u.marketCounterID,params:e.params,target:u._getTargetByPath({targets:{"market:product":{widget:{show:{0:"EMPT_CARD_SHOW"}},snippet:{show:{cluster:"model_card_similar_snippet_show",model:"model_card_analog_snippet_show",modification:"model_card_analog_snippet_show"}}},"market:offer":{widget:{show:{0:"EMPT_OFFER_CARD_SHOW"}},snippet:{show:{cluster:"offer_card_analog_snippet_show",model:"offer_card_analog_snippet_show"},click:{product:"offer_card_analog_snippet"}},wishlist:{click:{product:"offer_card_analog_snippet_wishlist"}},pricesButton:{click:{product:"offer_card_analog_snippet_prices"}},pager:{show:{product:"offer_card_analog_arrow_show"},click:{product:"offer_card_analog_arrow"}}}},path:[u._getPageId(),e.element,e.action,e.value],defaultTarget:null})};return n.target?n:{}},productAccessories:function(t){var e=t;t.target&&(e=t.target,e.params=o(t.params));var n={counter:u.marketCounterID,params:e.params,target:u._getTargetByPath({targets:{"market:product":{snippet:{show:"model_card_accessory_snippet_show",click:"model_card_accessory_snippet_click"}},"market:offer":{snippet:{show:"offer_card_accessory_snippet_show",click:"offer_card_accessory_snippet"},wishlist:{click:"offer_card_accessory_snippet_wishlist"},pricesButton:{click:"offer_card_accessory_snippet_prices"},pager:{show:"offer_card_accessory_arrow_show",click:"offer_card_accessory_arrow"}}},path:[u._getPageId(),e.element,e.action],defaultTarget:null})};return n.target?n:{}},reviewFormPost:function(t){var e,n={counter:u.marketCounterID},r={viewPage:{model:{auth:"R_MDL_VW_LGD",notAuth:"R_MDL_VW_NOTLGD"},shop:{auth:"R_SHP_VW_LGD",notAuth:"R_SHP_VW_NOTLGD"}},postSuccess:{model:"R_MDL_SBMT",shop:"R_SHP_SBMT"},postWillBePublished:{model:"R_MDL_THNX",shop:"R_SHP_THNX"}};if(t.hasOwnProperty("action")&&(e=t.action),r.hasOwnProperty(e))switch(e){case"viewPage":r[e].hasOwnProperty(t.type)&&(t.auth?n.target=r[e][t.type].auth:n.target=r[e][t.type].notAuth);break;default:r[e].hasOwnProperty(t.type)&&(n.target=r[e][t.type])}return n},complain:function(t){var e,n={counter:u.marketCounterID},r={popupShowed:"ALRT_OPN",sendForm:"ALRT_DONE"};return t.hasOwnProperty("action")&&(e=t.action),r.hasOwnProperty(e)&&(n.target=r[e]),n},complain:function(t){var e=u._getTargetByPath({targets:{popupClosed:null,popupShowed:"ALRT_OPN",reasonChange:null,sendForm:"ALRT_DONE"},path:[t.action]}),n={counter:u.marketCounterID,params:t.params,target:u._getTargetByPath({targets:{"market:offer":{popupClosed:"offer_card_popup_complain_cancel",popupShowed:"offer_card_button_complain",reasonChange:"offer_card_popup_complain_change",sendForm:"offer_card_popup_complain_submit"}},path:[u._getPageId(),t.action],defaultTarget:e})};return n.target?n:{}},wishlist:function(t){var e=u._getTargetByPath({targets:{addToWishlist:"RMMBR_MC",goToPersonal:"RMMBR_MC_PRSN"},path:[t.action],defaultTarget:null}),n=u._getTargetByPath({targets:{"market:list":{addToWishlist:"RMMBR_MC_SEARCH",goToPersonal:"RMMBR_MC_PRSN_SEARCH"},"market:search":{addToWishlist:"RMMBR_MC_SEARCH",goToPersonal:"RMMBR_MC_PRSN_SEARCH"},"market:product":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-spec":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-mods":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-forum":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-price-trend":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-reviews":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-articles":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-geo":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:product-offers":{addToWishlist:"RMMBR_MC_PRODUCT",goToPersonal:"RMMBR_MC_PRSN_PRODUCT"},"market:offer":{addToWishlist:null,goToPersonal:null}},path:[u._getPageId(),t.action],defaultTarget:e}),r={counter:u.marketCounterID,target:n};return n?r:{}},mbolayoutWidgets:function(t){var e={target:t,counter:u.marketCounterID};return t&&t.target&&(e.target=t.target,t.params&&(e.params=o(t.params))),e},catalogNavigation:function(t){return{target:"HEAD"===t.place?"LFT_CTLG_HEAD":"LFT_CTLG_MID",counter:u.marketCounterID}},viewDiscount:function(t){return{target:t["best-deal"]?"SHW_DISC_MG":"SHW_DISC",counter:u.marketCounterID}},defaultCpaOfferShop:function(){return{target:"LINK_DO",counter:u.marketCounterID}},allFilters:function(){return{target:"GR_ALL_FILTS",counter:u.marketCounterID}},filterState:function(t){var e={"market:collections":"compilation","market:search":"search","market:list":"catalog_list","market:catalog":"catalog","market:wishlist":"wishlist","market:shop-reviews":"shop_reviews","market:offer":"offer_card","market:product":"model_card_product","market:product-articles":"model_card_articles","market:product-forum":"model_card_forum","market:product-geo":"model_card_geo","market:product-mods":"GR","market:product-offers":"model_card_offers","market:product-price-trend":"model_card_price_trend","market:product-reviews":"model_card_reviews","market:product-spec":"model_card_spec","market:shopping-list":"buying_list","market:all-filters":"catalog_list"};return{target:e[u._getPageId()]+"_filters_"+t,counter:u.marketCounterID}},cpaFilterVisible:function(){return{target:"ONLY_CPA_POSS",counter:u.marketCounterID}},cpaFilterDeactivate:function(){return{target:"ONLY_CPA_DIS",counter:u.marketCounterID}},cpaFilterActivate:function(){return{target:"ONLY_CPA_ON",counter:u.marketCounterID}},cpaFilterOffers:function(t){var e=t.count,n={target:null,counter:u.marketCounterID};switch(1==e?n.target="ONLY_CPA_1":e>1&&e<=3?n.target="ONLY_CPA_L_3":e>3&&e<=6?n.target="ONLY_CPA_L_6":e>6&&e<=10?n.target="ONLY_CPA_L_10":e>10?n.target="ONLY_CPA_M_10":n.target="ONLY_CPA_0",c.getData().id){case"market:search":n.target+="_SRCH";break;case"market:product-offers":n.target+="_OFF"}return n},cpaFilterOffersInfo:function(t){return{target:"CPA_INFO_SORT",counter:u.marketCounterID}},cpaFilterChange:function(t){var e=c.getData().id;if("market:product-offers"===e){var n=t?"offers_checkbox_cpa_only_on":"offers_checkbox_cpa_only_off";return{target:n,counter:u.marketCounterID}}},purchasePopupShowInformer:function(t){return{target:"CPA_INFO_MY",counter:u.marketCounterID}},myOrdersByButton:function(t){var e={target:null,counter:u.marketCounterID};switch(t.event){case"init":e.target="PMNT_PSSBL_MY";break;case"click":e.target="PMNT_PSSBL_MY_SBMT"}return e},findInOtherShop:function(t){var e={target:null,counter:u.marketCounterID};switch(t.place){case"checkout":e.target="OTHR_SHOP_CPA_CHECKOUT";break;case"cart":e.target="OTHR_SHOP_CPA_CART";break;case"purchase-popup":e.target="OTHR_SHOP_CPA_POP"}return e.target+=t.click?"_CLICK":"_SHOW",e},findInBooking:function(t){var e={target:null,counter:u.marketCounterID},n={model:"checkout_click_other_shops",offer:"checkout_click_other_outlets"};return e.target=n[t.by],e},visibleRecommendationsBlock:function(){var t={target:null,counter:u.marketCounterID};switch(c.getData().id){case"market:cart":t.target="CPA_ACC_CART_SHOW";break;default:t.target="CPA_ACC_POP_SHOW"}return t},clickRecommendationsBlock:function(){var t={target:null,counter:u.marketCounterID};switch(c.getData().id){case"market:cart":t.target="CPA_ACC_CART_CLICK";break;default:t.target="CPA_ACC_POP_CLICK"}return t},vendorRecomended:function(t){var e,n={counter:u.marketCounterID},r={"market:product-offers":"offers","market:search":"search","market:product":"product","market:product-geo":"geo","market:geo":"geo"};switch(t){case"out":n.target="VNDR_BAGE_OUT";break;case"click":n.target="VNDR_BAGE_CLICK";break;case"redir":e=c.getData().id,n.target="VNDR_BAGE_REDIR",n.params={place:r[e]||"other"}}return n},sendAdressess:function(){return{counter:u.marketCounterID,target:"FOCHOOSE"}},clickAddAdressess:function(){return{counter:u.marketCounterID,target:"FOADD"}},clickRemoveAdressess:function(){return{counter:u.marketCounterID,target:"FODELETE"}},isAuthAdressess:function(t){var e={counter:u.marketCounterID};return t.hasOwnProperty("auth")&&(t.auth===!0?e.target="FOLOGGED":e.target="FONOTLOGGED"),e},okAddAdressess:function(){return{counter:u.marketCounterID,target:"FOCREATE"}},showDomikAdressess:function(){return{counter:u.marketCounterID,target:"FOTOPAS"}},goToAllFilters:function(){var t={counter:u.marketCounterID},e={product:"GR_ALL_FILTS"},n=c.getData().id;return n&&(n=n.split(":")[1]),e.hasOwnProperty(n)?(t.target=e[n],t):{}},resetFilters:function(){var t=c.getData().id,e={"market:product":"GR_FILT_CANCEL","market:product-offers":"model_card_offers_filter_reset"};return e.hasOwnProperty(t)?{counter:u.marketCounterID,target:e[t]}:{}},photoGallery:function(t){var e=c.getData(),n=e.id?e.id.split(":")[1]:null,r={counter:u.marketCounterID},i={product:{open:"PHOTO_OPN",scroll:"PHOTO_SCRL_ARR",preview:"PHOTO_SCRL_PRW",useThumbs:"MORDA_SCRL_PRW",close:"PHOTO_CLOSE"},offer:{scroll:"offer_card_photogallery_mouse_list",keysScroll:"offer_catd_photogallery_arrow_list",useThumbs:"offer_card_photo_small",open:"offer_card_photo_big"}},s=i[n];return s&&s.hasOwnProperty(t)?(r.target=s[t],r):{}},reviewPhotoGallery:function(t){var e=c.getData().id;if("market:my-reviews"===e)return s(!1);var n={opening:"reviews_gallery_open",closing:"reviews_gallery_close",usingNavigation:"reviews_gallery_changed_by_navigation_arrows",usingThumbs:"reviews_gallery_changed_by_thumbnail",usingKeys:"reviews_gallery_changed_by_keyboard_arrows"};return s(n.hasOwnProperty(t)?n[t]:!1)},reviewPhotoVisible:function(){var t=c.getData().id;return s("market:my-reviews"===t?!1:"show_review_with_photo")},phone:function(){var t=c.getData(),e=t.id?t.id.split(":")[1]:null,n={target:"PHN_CLICK",counter:u.marketCounterID},r={offer:null};return r.hasOwnProperty(e)&&(n.target=r[e]),n},filterUsed:function(){var t=[],e=c.getData().id;e&&(e=e.split(":")[1]);var n={alwaysOnPages:"FLTRUSE",search:"FLTRUSE_SEARCH",list:u._hasQueryParam("text")?"FLTRUSE_SEARCH":"FLTRUSE_CATEGORY","all-filters":"FLTRUSE_ALL",product:"FLTRUSE_PRODUCT","product-spec":"FLTRUSE_PRODUCT","product-forum":"FLTRUSE_PRODUCT","product-price-trend":"FLTRUSE_PRODUCT","product-reviews":"FLTRUSE_PRODUCT","product-articles":"FLTRUSE_PRODUCT","product-geo":"FLTRUSE_PRODUCT","product-offers":"FLTRUSE_OFFERS","product-mods":"FLTRUSE_MODS"};return t.push({counter:u.marketCounterID,target:n.alwaysOnPages}),n.hasOwnProperty(e)&&t.push({counter:u.marketCounterID,target:n[e]}),t},filterChanged:function(t){t=t||{};var e=l.get(t,"info.id"),n=["filter-subsidies"];if(l.includes(n,e)){var r=u._getPageId(),i={"market:search":"search","market:list":u._hasQueryParam("text")?"search":"catalog_list","market:product-offers":"model_card_offers"},s=t.value;return"boolean"==typeof s&&(s=s?"on":"off"),i[r]?{counter:u.marketCounterID,target:[i[r],"filter-"+e,s].join("_")}:void 0}},morePager:function(){return{counter:u.marketCounterID,target:"NEXT_PAGE_BUT"}},morePagerTopTop:function(t){var e={counter:u.marketCounterID},n={view:"TOP6_HAS_MORE",click:"TOP6_SHOW_MORE"};return n.hasOwnProperty(t)?(e.target=n[t],e):{}},productSubscribe:function(t){var e={showPricePopup:"PRC_ALRT",subscribePrice:"PRC_ALRT_ON",subscribeStock:"AVAIL_ALRT",unsubscribeStock:"AVAIL_ALRT_UNSUB",showStockPopup:"AVAIL_ALRT_SHOW"};return{counter:u.marketCounterID,target:e[t]}},buttonAuthorsSearch:function(t){var e=[],n={collections:{"mbo-widget":"WRITEME_COMPILATION_CLICK"}},r=c.getData().id;return r&&(r=r.split(":")[1]),n.hasOwnProperty(r)&&t.hasOwnProperty("place")&&n[r].hasOwnProperty(t.place)&&e.push({target:n[r][t.place],counter:u.marketCounterID}),e},footerSubscribe:function(t){var e={showForm:"FSUBSCRPTION_SHOW",subscribe:"FSUBSCRPTION_ON"};return{target:e[t],counter:u.marketCounterID}},snippetClick:function(t){t=t||{};var e=u._getPageId();if("market:offer"===e||"market:product"==e)return{};var n={counter:u.marketCounterID};e&&(e=e.split(":")[1]);var r={search:"SEARCH",list:u._hasQueryParam("text")?"SEARCH":"CATEGORY","product-offers":"PR_OFFERS","product-mods":"PR_MODS"},i={model:{picture:"_SNIP_MODEL_PIC",price:"_SNIP_MODEL_PR",discount:"_SNIP_MODEL_DISC",header:"_SNIP_MODEL_HEAD","to-prices-button":"_SNIP_MODEL_PRICES_BUT","to-prices-link":"_SNIP_MODEL_PRICES_LINK",reviews:"_SNIP_MODEL_REV"},group:{picture:"_SNIP_GROUP_PIC",price:"_SNIP_GROUP_PR",discount:"_SNIP_GROUP_DISC",header:"_SNIP_GROUP_HEAD","to-prices-button":"_SNIP_GROUP_PRICES_BUT","to-prices-link":"_SNIP_GROUP_PRICES_LINK",reviews:"_SNIP_GROUP_REV"},modification:{picture:"_SNIP_MODIF_PIC",price:"_SNIP_MODIF_PR",discount:"_SNIP_MODIF_DISC",header:"_SNIP_MODIF_HEAD","to-prices-button":"_SNIP_MODIF_PRICES_BUT","to-prices-link":"_SNIP_MODIF_PRICES_LINK",reviews:"_SNIP_MODIF_REV"},cluster:{picture:"_SNIP_CLUST_PIC",header:"_SNIP_CLUST_HEAD",price:"_SNIP_CLUST_PR",discount:"_SNIP_CLUST_DISC","to-prices-button":"_SNIP_CLUST_PRICES_BUT","to-prices-link":"_SNIP_CLUST_PRICES_LINK"},book:{picture:"_SNIP_BOOK_PIC",price:"_SNIP_BOOK_PR",discount:"_SNIP_BOOK_DISC",header:"_SNIP_BOOK_HEAD","to-prices-button":"_SNIP_BOOK_PRICES_BUT","to-prices-link":"_SNIP_BOOK_PRICES_LINK",reviews:"_SNIP_BOOK_REV"},offer:{picture:"_SNIP_OFFR_PIC",header:"_SNIP_OFFR_HEAD",price:"_SNIP_OFFR_PR",discount:"_SNIP_OFFER_DISC","to-shop-button":"_SNIP_OFFR_BUT","shop-name":"_SNIP_OFFR_SHOP","shop-reviews":"_SNIP_OFFR_SHOP_REV"},"offer-card":{picture:"_SNIP_OFFR_CARD_PIC",header:"_SNIP_OFFR_CARD_HEAD",price:"_SNIP_OFFR_CARD_PR",discount:"_SNIP_OFFR_CARD_DISC","to-shop-button":"_SNIP_OFFR_CARD_BUT","shop-name":"_SNIP_OFFR_CARD_SHOP","shop-reviews":"_SNIP_OFFR_CARD_SHOP_REV"}};if(t.hasOwnProperty("place")&&t.hasOwnProperty("snippetType")&&r[e]){var s=i[t.snippetType]||{};s.hasOwnProperty(t.place)&&(n.target=r[e]+s[t.place])}return n},productModsSnippet:function(t){if("market:product-mods"===c.getData().id){var e={counter:u.marketCounterID};return"priceButtonClick"===t?e.target="GHTLKJ":"titleClick"===t&&(e.target="YFPDF"),e}},offerNotFoundPageView:function(){return{counter:u.marketCounterID,target:"offer_card_404"}},productPageView:function(t){return{counter:u.marketCounterID,target:"SEEN_PRODUCT_PAGE",params:{productPageType:t,productReferer:document.referrer}}},recipeView:function(t){return{counter:u.marketCounterID,target:"SEEN_RECIPE",params:{recipeID:t,recipeReferer:document.referrer}}},productOfferEvent:function(t){var e="",n=u._getPageId(),r={"market:collections":"compilation","market:search":"search","market:list":"catalog_list","market:catalog":"catalog","market:wishlist":"wishlist","market:shop-reviews":"shop_reviews","market:offer":"offer_card","market:product":"model_card_product","market:product-articles":"model_card_articles","market:product-forum":"model_card_forum","market:product-geo":"model_card_geo","market:product-mods":"model_card_mods","market:product-offers":"model_card_offers","market:product-price-trend":"model_card_price_trend","market:product-reviews":"model_card_reviews","market:product-spec":"model_card_spec"},i={defaultOffer:"do",intent:"intent",snippet:"snippet",topOffer:"top6",geo:"geo"},s={default:"default",fastDelivery:"fast_delivery",freeDelivery:"free_delivery",prepayPossible:"prepay",topShop:"top_shop",vendorRecommendedShop:"vendor_recommend",vendorRecommendedShopWithDiscount:"vendor_recommend_discount",withDiscount:"discount"},a={addToCartButton:"to_cart",color:"color",complainButton:"complain",delivery:"delivery",deliveryTab:"tab_delivery",descTab:"tab_desc",detailsButton:"details",goToCartButton:"in_cart",phone:"phone",picture:"picture",popupClose:"close",price:"price",promoTab:"tab_promo",purchaseTab:"tab_purchase",recommendationsTab:"tab_accessory",reviewsInPopup:"shop_name_reviews",shopName:"shop_name",specTab:"tab_spec",title:"title",toArrow:"list",toCheckoutButton:"checkout",toGeoButton:"tab_delivery_button",toOffersButton:"other_shop",toShopButton:"to_shop",wishlistButton:"wishlist"};return e+=r[n]||"UNKNOWN_PAGE",t.entityType&&(e+="_"+(i[t.entityType]||"UNKNOWN_ENTITY")),"intent"!==t.entityType||t.withoutBenifit||(e+="_"+(s[t.benefitType]||"UNKNOWN_INTENT_TYPE")),t.isPopup&&(e+="_popup"),e+="_"+(a[t.element]||"UNKNOWN_ELEMENT"),"cpa_cpc"===t.offerType&&(e+="goToCartButton"===t.element||"addToCartButton"===t.element?"_withcpc":t.hasGoToCartButton?"_withcart":"_withcpa"),t.event&&(e+="_"+t.event),e.indexOf("UNKNOWN")>-1?{}:{target:e,counter:u.marketCounterID}},productOfferClick:function(t){return u.productOfferEvent(t)},productOfferInit:function(t){return t.event="show",u.productOfferEvent(t)},productToolbar:function(t){var e=c.getData().id,n={"market:search":"search","market:list":"search","market:product":"productCard","market:product-spec":"productCard","market:product-mods":"productCard","market:product-forum":"productCard","market:product-price-trend":"productCard","market:product-reviews":"productCard","market:product-articles":"productCard","market:product-geo":"productCard","market:product-offers":"productCard"},r={compare:{search:"CMPR_MC_SEARCH",productCard:"CMPR_MC_CARD"},share:{search:"SHR_MC_CLCK_SEARCH",productCard:"SHR_MC_CLCK_CARD"}},i=n[e];if(i&&t){var s=r[t];if(s){var a=s[i];return{counter:u.marketCounterID,target:a}}}},arbitrageProblemSupport:function(){return{target:"arbitrage_orderlist_problem_support",counter:u.marketCounterID}},arbitrageOrderlistReturnButton:function(){return{target:"arbitrage_orderlist_returnbutton",counter:u.marketCounterID}},returnsFormSubmitFirstStep:function(){return{target:"arbitrage_returnpage_submit1",counter:u.marketCounterID}},returnsFormSubmitSecondStep:function(){return{target:"arbitrage_returnpage_submit2",counter:u.marketCounterID}},arbitrageSnippetPopupClick:function(){return{target:"arbitrage_snippet_popup_click",counter:u.marketCounterID}},arbitrageMoreClick:function(){return{target:"arbitrage_more_click",counter:u.marketCounterID}},cpaInfoBanner:function(t){var e=t.action,n=c.getData().id,r={"maya:catalog":"category","market:all-filters":"","market:brands":"brandpage","market:cart":"cart","market:catalog":"category","market:catalogmodels":"category","market:compare":"compare","market:index":"main_page","market:list":"leaf_category","market:my-compare-lists":"compare","market:product":"model_card","market:product-offers":"offer_card","market:search":"serp","market:shop-reviews":"reviews_shop","market:wishlist":"wishlist","visual:brands":"brandpage"};return{target:r[n]+"_toolbar_cpa_information"+e,counter:u.marketCounterID}},feedLinkBanner:function(t){var e=t.action,n=c.getData().id,r={"market:product":"model_card","market:product-spec":"product-spec","market:product-offers":"product-offers","market:product-mods":"product-mods","market:product-forum":"product-forum","market:product-price-trend":"product-price-trend","market:product-reviews":"product-reviews","market:product-reviews-add":"product-reviews-add","market:product-articles":"product-articles","market:product-geo":"product-geo","market:compare":"compare","market:list":"leaf_category","market:my-compare-lists":"compare","market:search":"serp","market:shop-reviews":"reviews_shop","market:shop-reviews-add":"add_review_shop","market:wishlist":"wishlist","market:offer":"offer","market:my-reviews":"reviews","visual:orders":"orders","market:my-settings":"settings","market:user-reviews":"user_reviews"};return{target:r[n]+"_banner_feed"+e,counter:u.marketCounterID}},mobBanner:function(t){var e=t.action,n=c.getData().id,r={"maya:catalog":"category","market:all-filters":"","market:brands":"brandpage","market:cart":"cart","market:catalog":"category","market:catalogmodels":"category","market:compare":"compare","market:index":"main_page","market:list":"leaf_category","market:my-compare-lists":"compare","market:product":"model_card","market:product-offers":"offer_card","market:search":"serp","market:shop-reviews":"reviews_shop","market:wishlist":"wishlist","visual:brands":"brandpage"};return{target:r[n]+"_toolbar_app_information"+e,counter:u.marketCounterID}},showCallCenterPhone:function(t){var e=l.get(t,"params.pixels[0].content.pageId")||c.getData().id,n={"market:cart":"basket_text_market_phone_show","visual:orders":"my_orders_text_market_phone_show","market:orders":"my_orders_text_market_phone_show","market:checkout:show-order":"checkout_text_market_phone_show","market:checkout":"checkout_text_market_phone_show","market:checkout-thankyou":"order_text_market_phone_show","visual:payment-confirmation":"order_text_market_phone_show","visual:payment-status":"payment_error_text_market_phone_show","market:my-returns":"returns_text_market_phone_show"},r=n[e];return r?{counter:u.marketCounterID,target:r}:{}},brandPageGeneric:function(t){return{target:t.target,counter:u.marketCounterID,params:t.info||{}}},recipesIntents:function(t){var e={recipeOn:"SEARCH_RECIPES_ON",recipeOff:"SEARCH_RECIPES_OFF",recipeSlide:"SEARCH_RECIPES_LIST",recipesShow:"SEARCH_RECIPES_SHOW",recipeCollisionOff:"SEARCH_RECIPES_COLLISION_OFF",recipeAutoOn:"SEARCH_RECIPES_AUTO_ON"};return{counter:u.marketCounterID,target:e[t]}},showCardsOnBookNowIncutFirstPage:function(t){t=t||{};var e=t.count;return s("frame_"+e+"_book_snippet")},clickBookNowIncutAllShopsButton:function(t){t=t||{};var e=t.pageId;switch(e){case"market:product-offers":return s("offers_click_booknow_all_shops");case"market:product":return s("model_click_booknow_all_shops");default:s(!1)}},clickBookNowIncutActionButton:function(t){t=t||{};var e=t.pageId;switch(e){case"market:product-offers":return s("offers_click_snippet_booknow");case"market:product":return s("model_click_snippet_booknow");default:s(!1)}},socialMedia:function(t){var e={facebook:"SM_TO_FB",instagram:"SM_TO_INST",vk:"SM_TO_VK"};return t=t||{},s(e[t.resource])},clickShoppingListCheckout:function(){return s("buying_list_pack_checkout")},clickShoppingListDeliveryInfo:function(){return s("buying_list_pack_delivery_info")},clickShoppingListShowPhone:function(){return s("buying_list_pack_show_phone")},clickShoppingListShopName:function(){return s("buying_list_pack_shop_name")},clickShoppingListShowItems:function(){return s("buying_list_pack_show_items")},clickShoppingListDeleteOffer:function(){return s("buying_list_pack_delete_item")},clickShoppingListQuantityPlus:function(){return s("buying_list_pack_quantity_plus")},clickShoppingListQuantityMinus:function(){return s("buying_list_pack_quantity_minus")},showEmptyShoppingList:function(t){var e=t?t:"emptySerp",n={emptySerp:"buying_list_empty_serp",emptyByFilter:"buying_list_empty_serp_filtered",emptyByError:"buying_list_empty_serp_error"};return s(n[e])},clickShoppingListErrorRetry:function(){return s("buying_list_serp_error_try")},clickShoppingListResetFilters:function(){return s("buying_list_reset_filters")},showAddressFormOpener:function(){return s("popup_error_address_show")},showAddressForm:function(){return s("popup_error_address_button")},cancelAddressForm:function(){return s("popup_check_address_cancel")},saveAddressForm:function(){return s("popup_check_address_button")},addressSuggest:function(t){if(t.tag&&"userAddress"===t.entity){var e=u._getPageId();return"market:checkout"===e?s("checkout_address_suggest_"+t.tag+"_"+t.action):void 0}},clickChangeAddress:function(t){if(t.tag&&"userAddress"===t.entity){var e=u._getPageId();return"market:checkout"===e?s("checkout_address_suggest_"+t.tag+"_change"):"market:my-settings"===e?s("settings_address_"+t.tag+"_change"):void 0}},showAddressSettings:function(t){if(t.tag&&"userAddress"===t.entity){var e=u._getPageId();return"market:my-settings"===e?s("settings_address_"+t.tag+"_show"):void 0}},invalidAddressForm:function(){return s("popup_check_address_disabled_button")},offerBundleLimitForQuantity:function(t){t=t||{};var e,n=t.place,r=u._getPageId(),i={"market:cart":"cart","market:checkout":"checkout","market:shopping-list":"buying_list_pack","market:offer":"offer_card","market:product":"model_card_product","market:product-spec":"model_card_spec","market:product-offers":"model_card_offers","market:product-geo":"model_card_geo","market:product-articles":"model_card_articles","market:product-reviews":"model_card_reviews","market:product-forum":"model_card_forum","market:product-mods":"model_card_mods","market:wishlist":"wishlist","market:collections":"compilation","market:articles":"article","market:search":"search","market:catalog":"search","market:list":"search"};switch(e=i[r],n){case"topOffer":e+="_top6_popup";break;case"defaultOffer":e+="_do_popup";break;case"intent":var a=l.get(t,"data.intentType");a&&(e+="_intent_"+a+"_popup");break;case"offerPurchasePopup":var o={"market:product-offers":"offers","market:offer":"offer_card","market:search":"search","market:catalog":"search","market:list":"search","market:product":"model_card","market:product-spec":"model_card","market:product-geo":"model_card","market:product-articles":"model_card","market:product-reviews":"model_card","market:product-forum":"model_card","market:product-mods":"model_card",default:"default"};e=o[r]||o.default,e&&(e+="_popup_middle")}if(e)return s(e+"_limit_quantity_show")},offerQuantityStepNotification:function(t){t=t||{};var e,n=t.place,r=u._getPageId(),i={"market:cart":"cart","market:checkout":"checkout","market:shopping-list":"buying_list_pack"};if(e=i[r],"offerPurchasePopup"===n||"purchase-popup"===n){var a={"market:product-offers":"offers","market:offer":"offer_card","market:search":"search",
"market:catalog":"search","market:list":"search","market:wishlist":"wishlist","market:cart":"cart","market:product":"model_card","market:product-spec":"model_card","market:product-geo":"model_card","market:product-articles":"model_card","market:product-reviews":"model_card","market:product-forum":"model_card","market:product-mods":"model_card",default:"default"};e=a[r]||a.default,e&&(e+="_popup_middle")}if(e)return s(e+"_whysomuch_show")},checkoutErrorQuantityLimit:function(){return s("CHECKOUT_ERROR_QUANTITY")},checkoutOrderResolvedNextOrderButton:function(t){if(t=t||{},"click"===t.action)return s("CHECKOUT_SBMT_OK_NEXT")},checkoutDeliveryOption:function(t){t=t||{};var e={DELIVERY:"checkout_delivery_courier",POST:"checkout_delivery_courier",PICKUP:"checkout_delivery_pickup"},n=e[t.type];if(n)return s("deliveries-list"===t.source?n+"_check":n)},checkoutPaymentOption:function(t){t=t||{};var e={CASH_ON_DELIVERY:"checkout_pay_cash",CARD_ON_DELIVERY:"checkout_pay_cardondelivery","YANDEX-BALANCE-BANK_CARD":"checkout_pay_card",YANDEX_MONEY:"checkout_pay_ym"},n=e[t.type];if(n)return s(n)},cartOfferAmountChange:function(t){var e=u._getPageId(),n="",r={"market:cart":"cart_","market:checkout":"checkout_","market:product":"model_card_","market:offer":"offer_card_","market:product-offers":"offers_","market:list":"search_","market:catalog":"search_"};return n+=r[e]?r[e]:"","purchase-popup"==t.place&&(n+="popup_middle_"),s(n+"quantity_"+t.action)},promo:function(t){var e=u._getPageId(),n="",r={"market:product":"model_card","market:offer":"offer_card","market:product-offers":"model_card_offers","market:list":"catalog_list","market:catalog":"catalog","market:search":"search"},i={snippet:"snippet",top6:"top6"},s={popupTab:"popup_tab"},a={labelPromo:"label_promo",PromoOffer:"promo_offer",PromoOfferClick:"promo_offer_to_shop",PromoShowMore:"promo_show_more"};n+=r[e]||"UNKNOWN_PAGE",t.entityType&&"promo"!=t.entityType&&(n+="_"+(i[t.entityType]||"UNKNOWN_ENTITY")),t.place&&(n+="_"+(s[t.place]||"UNKNOWN_PLACE")),n+="_"+(a[t.element]||"UNKNOWN_ELEMENT"),t.event&&(n+="_"+t.event);var o={target:n,counter:u.marketCounterID};return t.offerId&&(o.params={wareId:t.offerId}),o},legalInfo:function(t){if(t.place)return s(t.place+"_legal_info")},goodReturns:function(t){if(t.place)return s(t.place+"_goods_return")},returnsPopup:function(t){if(t.action)return s("arbitrage_return_popup_"+t.action)},checkoutAccessories:function(t){if(t.action)return s("checkout_accessories_"+t.action)},shopReviewFormSend:function(t){if("continue"!==t.action&&"publish"!==t.action)return{};var e=["shop_reviews",t.formType,t.action];return"publish"===t.action&&(e.push(t.reviewType),e.push(t.userType)),s(e.join("_"))},productReviewFormSend:function(t){if("continue"!==t.action&&"publish"!==t.action)return{};var e=["product_reviews",t.formType,t.action];return"publish"===t.action&&(e.push(t.reviewType),e.push(t.userType)),s(e.join("_"))},shopReviewFormThnks:function(){return s("shop_reviews_thnks")},productReviewFormThnks:function(){return s("product_reviews_thnks")},comparisonSuccessMigration:function(){return s("comparisonSuccessMigration")}}}),require.define("metrikaHitPoints",function(t,e,n,r,i){var s=n("page"),a=t.exports={defaultCounterID:"yaCounter16675804",marketCounterID:"yaCounter160656",vendorRecomended:function(){var t=s.getData(),e="vendor_badge_",n={params:{group:{vendor_badge:{}}},counter:a.marketCounterID};switch(t.id){case"market:product-offers":e+="offers";break;case"market:search":e+="search";break;case"market:product":e+="product";break;case"market:geo":e+="geo";break;case"market:product-geo":e+="geo";break;default:e+="other"}return n.params.group.vendor_badge[e]=1,n}}});var metrika=require("metrika"),Condenser=require("Condenser"),ViewportWatcher=require("ViewportWatcher");BEM.DOM.decl("metrika",{onSetMod:{js:{inited:function(){this._onScrollHandler=$.throttle(this._onScrollHandler,500,this),this.onInitParams=this.params.onInit,this.onClickParams=this.params.onClick,this.onVisibleParams=this.params.onVisible,this.onHitParams=this.params.onHit,this.onPixelsVisibleParams=this.params.onPixelsVisible,this.params.hasOwnProperty("onInit")||this.params.hasOwnProperty("onClick")||this.params.hasOwnProperty("onVisible")||this.params.hasOwnProperty("onHit")||this.params.hasOwnProperty("onPixelsVisible")||(this.onInitParams=this.params),this.onInitParams&&metrika.emitGoalPoint(this.onInitParams),this.onClickParams&&this.bindTo("click",this._onClickHandler),this.onVisibleParams&&(this._onVisibleEventName="scroll.visible-"+this.params.uniqId,this.bindToWin(this._onVisibleEventName,this._onScrollHandler),this._onScrollHandler()),this.onHitParams&&metrika.addHitParams(this.onHitParams),this.onPixelsVisibleParams&&this._pixelsVisible()}}},_onClickHandler:function(){metrika.emitGoalPoint(this.onClickParams)},_onScrollHandler:function(){var t=BEM.DOM.win.scrollTop(),e=t+BEM.DOM.win.height(),n=this.domElem.offset().top,r=n+this.domElem.height(),i=0!==n&&0!==r&&e>=n&&t<=r;i&&(this.unbindFromWin(this._onVisibleEventName),metrika.emitGoalPoint(this.onVisibleParams))},_pixelsVisible:function(){var t=new Condenser({duration:600});this._watcher=new ViewportWatcher({interval:500}),this._watcher.on(this._watcher.EVENT_CHECKED,function(e){var n=$(e),r=n.data("params"),i=n.data("position");t.push({content:r,position:i})}),t.on(t.EVENT_CONDENSED,function(t){var e=this._addGoalParams(this.onPixelsVisibleParams,{pixels:t});metrika.emitGoalPoint(e)},this),this.updatePixels()},updatePixels:function(){if(this._watcher){var t=this,e=this.findElem("pixel");e.each(function(e,n){var r=$(n);t.hasMod(r,"added","yes")||(r.data("position",e+1),t._watcher.add(n))}),this.setMod(e,"added","yes")}},_addGoalParams:function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]={target:t[r],params:e});return n}}),require.define("HistoryItem",function(t,e,n,r,i){function s(t){this.type=t.type,this.currency=t.currency,this.resourceId=t.resourceId,this.name=t.name,this.image=t.image,this.hid=t.hid,this.price=t.price,this.isAvailable=t.isAvailable}t.exports=s}),require.define("susanin",function(t,e,n,r,i){!function(n){function r(t){return{"./querystring":function(){var t={},e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(t){return"[object Array]"===n.call(t)},i={decode:function(t){var e;try{e=decodeURIComponent(t.replace(/\+/g,"%20"))}catch(n){e=t}return e},parse:function(t,n,s){var a,o,c,l,u,d,p,h={};if("string"!=typeof t||""===t)return h;for(n||(n="&"),s||(s="="),a=t.split(n),l=0,u=a.length;l<u;++l)d=i.decode(a[l]),p=d.indexOf(s),p>=0?(c=d.substr(0,p),o=d.substr(p+1)):(c=d,o=""),e.call(h,c)?r(h[c])?h[c].push(o):h[c]=[h[c],o]:h[c]=o;return h},stringify:function(t,n,r){var i,s,a,o,c,l,u="";if(!t)return u;n||(n="&"),r||(r="=");for(l in t)if(e.call(t,l))for(a=[].concat(t[l]),o=0,c=a.length;o<c;++o)s=typeof a[o],i="object"===s||"undefined"===s?"":encodeURIComponent(a[o]),u+=n+encodeURIComponent(l)+r+i;return u.substr(n.length)}};return t.exports=i,t.exports},"./route":function(){function t(e){if(!(this instanceof t))return new t(e);if("string"==typeof e&&(e={pattern:e}),!e||"object"!=typeof e)throw new Error("You must specify options");if("string"!=typeof e.pattern)throw new Error("You must specify the pattern of the route");this._options=e,this._conditions=e.conditions&&"object"==typeof e.conditions?e.conditions:{},e.isTrailingSlashOptional!==!1&&(e.pattern+="(<"+v+d+h,this._conditions[v]=b),e.pattern+="(?<"+g+d+h,this._conditions[g]=".*",this._paramsMap=[],this._mainParamsMap={},this._requiredParams=[],this._parts=this._parsePattern(e.pattern),this._buildParseRegExp(),this._buildBuildFn()}var e={},n=Object.prototype.hasOwnProperty,i=function(t,e){return n.call(t,e)},s=Object.prototype.toString,a=function(t){return"[object Array]"===s.call(t)},o=r("./querystring"),c=function(){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],e=new RegExp("(\\"+t.join("|\\")+")","g");return function(t){return t.replace(e,"\\$1")}}(),l=String(Math.random()).substr(2,5),u="<",d=">",p="(",h=")",f="[a-zA-Z_][\\w\\-]*",_="[\\w\\-\\.~]+",m=new RegExp("("+c(u)+f+c(d)+"|[^"+c(u)+c(d)+"]+|"+c(u)+"|"+c(d)+")","g"),v="ts_"+l,y="/",b=c("/"),g="qs_"+l;return t.prototype._parsePattern=function(t,e){for(var n,r,i,s,a=[],o="",c=0,l=0,u=!1,d=t.length;c<d;)if(n=t.charAt(c++),n===p)u?(++l,o+=n):(this._parseParams(o,a,e),o="",l=0,u=!0);else if(n===h)if(u)if(0===l){for(o={what:"optional",dependOnParams:[],parts:this._parsePattern(o,!0)},a.push(o),r=0,i=o.parts.length;r<i;++r)s=o.parts[r]&&o.parts[r].what,"param"===s?o.dependOnParams.push(o.parts[r].name):"optional"===s&&o.dependOnParams.push.apply(o.dependOnParams,o.parts[r].dependOnParams);o="",u=!1}else--l,o+=n;else o+=n;else o+=n;return this._parseParams(o,a,e),a},t.prototype._parseParams=function(t,e,n){var r,i,s,a,o=t.match(m);if(o)for(r=0,i=o.length;r<i;++r)s=o[r],s.charAt(0)===u&&s.charAt(s.length-1)===d?(a=s.substr(1,s.length-2),this._paramsMap.push(a),this._mainParamsMap[a]=!0,n||this._requiredParams.push(a),e.push({what:"param",name:a})):e.push(s)},t.prototype._buildParseRegExp=function(){this._parseRegExpSource="^"+this._buildParseRegExpParts(this._parts)+"$",this._parseRegExp=new RegExp(this._parseRegExpSource)},t.prototype._buildParseRegExpParts=function(t){var e,n,r,i="";for(e=0,n=t.length;e<n;++e)r=t[e],i+="string"==typeof r?c(r):"param"===r.what?"("+(this._getParamValueRegExpSource(r.name)||_)+")":"(?:"+this._buildParseRegExpParts(r.parts)+")?";return i},t.prototype._getParamValueRegExpSource=function(t){var e,n,r=this._conditionRegExpSources||(this._conditionRegExpSources={}),s=this._conditions;return i(r,t)||(i(s,t)?(n=s[t],e=a(n)?"(?:"+n.join("|")+")":n+""):e=null,r[t]=e),r[t]},t.prototype._getParamValueRegExp=function(t){var e,n=this._conditionRegExps||(this._conditionRegExps={});return i(n,t)||(e=this._getParamValueRegExpSource(t),n[t]=e?new RegExp("^"+e+"$"):null),n[t]},t.prototype._checkParamValue=function(t,e){var n=this._getParamValueRegExp(t);return!n||n.test(e)},t.prototype._buildBuildFn=function(){this._buildFnSource="var h=({}).hasOwnProperty;return "+this._buildBuildFnParts(this._parts)+";",this._buildFn=new Function("p",this._buildFnSource)},t.prototype._buildBuildFnParts=function(t){var e,n,r,s,a,o,l='""',u=this._options.defaults;for(e=0,n=t.length;e<n;++e)if(a=t[e],"string"==typeof a)l+='+"'+c(a)+'"';else if("param"===a.what)this._mainParamsMap[a.name]=!0,l+='+(h.call(p,"'+c(a.name)+'")?p["'+c(a.name)+'"]:'+(u&&i(u,a.name)?'"'+c(u[a.name])+'"':'""')+")";else{for(l+="+((false",r=0,s=a.dependOnParams.length;r<s;++r)o=a.dependOnParams[r],l+='||(h.call(p,"'+c(o)+'")'+(u&&i(u,o)?'&&p["'+c(o)+'"]!=="'+c(u[o])+'"':"")+")";l+=")?("+this._buildBuildFnParts(a.parts)+'):"")'}return l},t.prototype._isDataMatched=function(t){var e,n=this._options.data;if("function"==typeof t)return Boolean(t(n));if(t&&"object"==typeof t)for(e in t)if(i(t,e)&&(!n||"object"!=typeof n||n[e]!==t[e]))return!1;return!0},t.prototype.match=function(t,e){var n,r,s,c,l,u,d,p=null,h=this._options,f=h.postMatch,_=h.defaults;if("string"!=typeof t||e&&!this._isDataMatched(e))return p;if(n=t.match(this._parseRegExp)){for(p={},r=1,s=n.length;r<s;++r)if("undefined"!=typeof n[r]&&""!==n[r])if(c=this._paramsMap[r-1],c===g)d=n[r];else if(c===v){if(t.charAt(t.length-2)===y)return null}else p[c]=n[r];if(d&&h.useQueryString!==!1){u=o.parse(d);for(c in u)if(i(u,c)&&!i(p,c))if(l=u[c],this._mainParamsMap[c]&&a(l)&&(l=l[0]),a(l))for(p[c]=[],r=0,s=l.length;r<s;++r)this._checkParamValue(c,l[r])&&p[c].push(l[r]);else this._checkParamValue(c,l)&&(p[c]=l)}for(c in _)i(_,c)&&!i(p,c)&&(p[c]=_[c])}return p&&"function"==typeof f&&(p=f(p),p&&"object"==typeof p||(p=null)),p},t.prototype.build=function(t,e){var n,r,s,a,c,l=this._options,u={},d=l.useQueryString!==!1,p={},h=l.preBuild;"function"==typeof h&&(t=h(t));for(r in t)if(i(t,r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(this._mainParamsMap[r]||d)){if(s=t[r],e&&!this._checkParamValue(r,s))return null;(this._mainParamsMap[r]?u:p)[r]=s}if(e)for(a=0,c=this._requiredParams.length;a<c;++a)if(!i(u,this._requiredParams[a]))return null;return d&&(n=o.stringify(p),n&&(u[g]=n)),this._buildFn(u)},t.prototype.getData=function(){return this._options.data},t.prototype.getName=function(){return this._options.name},e.exports=t,e.exports},"./router":function(){function t(){return this instanceof t?(this._routes=[],void(this._routesByName={})):new t}var e={},n=r("./route");return t.prototype.addRoute=function(t){var e,r;return e=new n(t),this._routes.push(e),r=e.getName(),r&&(this._routesByName[r]=e),e},t.prototype.find=function(){var t,e,n,r=[],i=this._routes;for(e=0,n=i.length;e<n;++e)t=i[e].match.apply(i[e],arguments),null!==t&&r.push([i[e],t]);return r},t.prototype.findFirst=function(){var t,e,n,r=this._routes;for(e=0,n=r.length;e<n;++e)if(t=r[e].match.apply(r[e],arguments),null!==t)return[r[e],t];return null},t.prototype.getRouteByName=function(t){return this._routesByName[t]||null},t.Route=n,e.exports=t,e.exports}}[t]()}var i=r("./router"),s=!0;"object"==typeof e&&"string"!=typeof e.nodeName&&(t.exports=i,s=!1),n.modules&&modules.define&&modules.require&&(modules.define("susanin",function(t){t(i)}),s=!1),"function"==typeof n.define&&define.amd&&(define(function(){return i}),s=!1),s&&(n.Susanin=i)}(this)}),require.define("router",function(t,e,n,r,i){function s(t){for(var e in t)c.addRoute({pattern:t[e].url,name:e});return c}var a=n("susanin"),o=n("lodash"),c=new a,l={},u=s(window.state.routes||{});l.buildURL=function(t,e){var n,r=o.pick(e,"hash"),i=o.omit(e,"hash"),s=u.getRouteByName(t);return s?(n=s.build(i),r.hash&&(n+="#"+r.hash),n):s},l.getRouteByName=function(t){return u.getRouteByName(t)},t.exports=l}),require.define("dictionary",function(t,e,n,r,i){var s=e;s.currency={RUR:"₽",RUB:"₽",BYN:"б.p.",UAH:"грн",KZT:"тнг.",TL:"TL"},s.date={week:[{short:"пн"},{short:"вт"},{short:"ср"},{short:"чт"},{short:"пт"},{short:"сб"},{short:"вс"}]},s.legalForm={1:"ООО",2:"ЗАО",3:"ПБОЮЛ",4:"ИП",5:"ЧП"},s.chckoutPayErrors={order_not_found:"",payment_timeout:"",payment_refused:"Ваш банк отклонил операцию. Проверьте данные карты и обратитесь в банк, выпустивший карту.",technical_error:"Ваш банк отклонил операцию.",limit_exceeded:"Ваш банк отклонил операцию: превышен лимит расхода по карте.",expired_card:"Ваш банк отклонил операцию: ошибка из-за срока действия карты.",not_enough_funds:"Ваш банк отклонил операцию: на карте недостаточно средств.",authorization_reject:"Ваш банк отклонил операцию."},s.checkoutRepayErrors={order_bound:"Возможно ваш заказ уже оплачен.",already_cancelled:"Возможно ваш заказ уже оплачен.",default_message:"Произошла техническая ошибка."},t.exports=s}),BEM.DOM.decl("user",{redraw:function(){return this}},{getLogoutUrl:function(){var t=BEM.blocks["i-global"],e=t.param("retpath"),n=t.param("yandexuid");return[t.param("passport-host"),"/passport?mode=logout",n?"&yu="+n:"",e?"&retpath="+encodeURIComponent(e):""].join("")}}),require.define("user",function(t,e,n,r,i){var s=n("lodash"),a=n("Response"),o=a.State,c=n("dictionary");e.create=function(t){var e=new o;return e.asyncRequire=new a,e.STATE_PENDING=0,e.STATE_READY=1,e.state=e.STATE_PENDING,e.isAuth=!1,e.settings={currency:null,experiments:{}},e.currencyMap=c.currency,e.init=function(t){return this.setState(this.STATE_READY,[t]),this},e.onState(e.STATE_READY,function(t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this.setState(this.state,this.isAuth),e.asyncRequire.resolve(e)}),e.getTextCurrency=function(){return this.currencyMap[this.settings.currency]},e.setExpirementNames=function(t){if(!s.isObject(t))throw new Error("param must be Object");e.settings.experiments=s.assignIn({},e.settings.experiments,t)},e.getExpirementNames=function(){return e.settings.experiments},e.hasCheckoutPopup=function(){return!1},e.setBasketSession=function(t){return e.basketSession=t},e.init(t),e};var l=window.state.user;t.exports=e.create(l)}),BEM.decl("history",{onSetMod:{js:function(){if(!this.hasMod("provider"))throw new Error("Use BEM.blocks['history'].getInstance() instead of BEM.create('history')");this._resetUrl().bindEvents().syncState()}},destruct:function(){this.unbindEvents(),this.__base.apply(this,arguments)},pushState:function(t,e,n){return this.changeState("push",this.normalizeState(t,e,n))},replaceState:function(t,e,n){return this.changeState("replace",this.normalizeState(t,e,n))},bindEvents:function(){return this},_resetUrl:function(){return this},_removeHashbang:function(t){var e=BEM.blocks.uri,n=e.parse(t);if(""===n.anchor())return t;var r=e.parse(n.anchor().replace(/^!/,""));return n.anchor(""),n.query(r.query()),n.build()},unbindEvents:function(){return this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,window.location.href),this},normalizeState:function(t,e,n){return{data:null===t?void 0:t,title:e,url:n}},changeState:function(t,e){try{window.location.assign(e.url)}catch(t){}}},{hasNativeAPI:function(){return window.history&&"pushState"in window.history},_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create({block:"history",mods:{provider:this.hasNativeAPI()?"history-api":"hashchange"}}))}}),BEM.decl("history",{onSetMod:{js:function(){if(!this.hasMod("provider"))throw new Error("Use BEM.blocks['history'].getInstance() instead of BEM.create('history')");this._resetUrl().bindEvents().syncState()}},destruct:function(){this.unbindEvents(),this.__base.apply(this,arguments)},pushState:function(t,e,n){return this.changeState("push",this.normalizeState(t,e,n))},replaceState:function(t,e,n){return this.changeState("replace",this.normalizeState(t,e,n))},bindEvents:function(){return this},_resetUrl:function(){return this},_removeHashbang:function(t){var e=BEM.blocks.uri,n=e.parse(t);if(""===n.anchor())return t;var r=e.parse(n.anchor().replace(/^!/,""));return n.anchor(""),n.query(r.query()),n.build()},unbindEvents:function(){return this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,window.location.href),this},normalizeState:function(t,e,n){return{data:null===t?void 0:t,title:e,url:n}},changeState:function(t,e){try{window.location.assign(e.url)}catch(t){}}},{hasNativeAPI:function(){return window.history&&"pushState"in window.history},_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create({block:"history",mods:{provider:this.hasNativeAPI()?"history-api":"hashchange"}}))}}),require.define("history",function(t,e,n,r,i){function s(t,e){return e.map(function(e){return a.find(t,function(t){return t.resourceId==e.resourceId})})}var a=n("lodash"),o=n("Response"),c=o.State,l=(o.Queue,n("HistoryItem")),u=new c,d=n("page"),p=n("user"),h=n("price"),f=n("dictionary").currency,_=null,m=null,v=1,y="market-history",b=15,g=[],k="post",w="json",E="/gate/route/history/set",x="/gate/route/history/merge",M="/gate/route/history/decorate",A=1e4,T="HISTORY_UNAUTH_SESSION",C="HISTORY_AUTH_SESSION",S="HISTORY_MERGE_FAILED",I="."+document.domain.match(/^(?:[^.]+\.)*([^.]+\.yandex\.(?:ua|ru|by|kz|com(?:\.tr)?))(?::\d+)?$/)[1],O="/",j=348;u.STATE_READY="STATE_READY",u.init=function(t){var e=d.getData(),n=new o;return _=p.isAuth,_?this._authCase(t).always(function(){n.resolve()}):this._guestCase().always(function(){n.resolve()}),n.always(function(){g=u._getCloneData(),u.setState(u.STATE_READY,Boolean(u.get().length)),e.historyTrack&&u.add(e).save()}),this},u.add=function(t){var e=t.model.id,n=u._get(),r=n.data.list,i=this._getItemByResourceId(e),s=new l({type:t.type,resourceId:e,name:t.model.name});return i&&r.splice(i.index,1),r.length==b&&r.pop(),u._add(s),this},u.get=function(){return u._getList()},u.getDecoratedData=function(){var t=u._getCloneData();return u._decorate(t)},u.getViewData=function(){return u._decorate(g).onResolve(function(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],e.currencyText=f[e.currency],e.name=String(e.name),e.nameFormatted=e.name.length>40?e.name.substring(0,40)+"...":e.name,e.priceFormatted=e.price>0?h.format(e.price):e.price,e.name.length>40&&(e.nameTrimmed=!0);this.resolve(t)})},u.merge=function(){var t=new o,e=u.get();return $.ajax({url:x,dataType:w,type:k,timeout:A,data:{historyList:JSON.stringify(e)}}).done(function(e){e.status&&"SUCCESS"==e.data.status?t.resolve(e.data):t.reject(e.data)}).fail(function(e){(new Image).src="/history-debug/merge/?err="+JSON.stringify(e),t.reject(e)}),t},u.save=function(){var t=u.get(),e=t[0];return u._saveToClientStorage(),_&&$.ajax({url:E,dataType:w,type:k,timeout:A,data:{historyItem:JSON.stringify(e)}}),this},u._add=function(t){if(!(t instanceof l))throw new Error('history#_add: "historyItem" required and must be instanceof HistoryItem');return u._get().data.list.unshift(t),this},u._saveToClientStorage=function(){try{localStorage.setItem(y,JSON.stringify(u._get()))}catch(t){}return this},u._replaceItemsInClientStorage=function(t){for(u._dropHistoryItems();t.length;)u._add(new l(t.pop()));return u._saveToClientStorage(),this},u._getCloneData=function(){for(var t=u._getList(),e=[],n=0,r=t.length;n<r;n++)e.push(new l(t[n]));return e},u._decorate=function(t){var e=new o;return $.ajax({url:M,dataType:w,type:k,timeout:A,data:{historyList:JSON.stringify(t)}}).done(function(n){n.status&&n.data&&n.data.data?e.resolve(s(n.data.data,t)):e.resolve(t)}).fail(function(n){e.resolve(t),(new Image).src="/history-debug/decorate/?err="+JSON.stringify(n)}),e},u._get=function(){var t;return m?m:(t=u._getFromClientStorage(),t||(t={},t.version=v,t.data={},t.data.list=[]),m=t,t)},u._getList=function(){return u._get().data.list},u._getItemByResourceId=function(t){for(var e=u._getList(),n=null,r=0,i=e.length;r<i;r++)if(e[r].resourceId==t){n={item:e[r],index:r};break}return n},u._getFromClientStorage=function(){var t=localStorage.getItem(y);if(!t)return!1;try{t=JSON.parse(t)}catch(e){t=!1}for(var e=0,n=t.data.list,r=[],i=n.length;e<i;e++)r.push(new l(n[e]));return t.data.list=r,t},u._dropClientStorage=function(){return localStorage.removeItem(y),this},u._dropHistoryItems=function(){return u._get().data.list=[],this},u._guestCase=function(){var t=new o;return!$.cookie(T)||this._hasMergeFailedSessionCookie()?u._startGuestSession().always(function(){t.resolve()}):t.resolve(),t},u._startGuestSession=function(){var t=new o;return u._dropClientStorage(),$.removeCookie(C,{domain:I,path:O}),$.cookie(T,"true",{domain:I,path:O}),u._removeMergeFailedSessionCookie(),t.resolve(),t},u._authCase=function(t){var e=new o;if($.cookie(T))return this._startAuthSession(t).always(function(){e.resolve()}),e;switch(t.status){case"SUCCESS":u._replaceItemsInClientStorage(t.data),u._setAuthSessionCookie(t.session),e.resolve();break;case"ERROR":e.reject(t);break;case"NOT_MODIFIED":e.resolve()}return e},u._setAuthSessionCookie=function(t){return $.cookie(C,t,{domain:I,path:O,expires:j}),this},u._removeUnauthSessionCookie=function(){return $.removeCookie(T,{domain:I,path:O}),this},u._setMergeFailedSessionCookie=function(){return $.cookie(S,"true",{domain:I,path:O,expires:j}),this},u._removeMergeFailedSessionCookie=function(){return $.removeCookie(S,{domain:I,path:O}),this},u._hasMergeFailedSessionCookie=function(){return $.cookie(S)},u._startAuthSession=function(t){var e=new o;return u._needMerge()?(this.merge().onResolve(function(t){u._replaceItemsInClientStorage(t.data)._setAuthSessionCookie(t.session)._removeUnauthSessionCookie()._removeMergeFailedSessionCookie()}).onReject(function(){u._hasMergeFailedSessionCookie()||u._setMergeFailedSessionCookie()}).notify(e),e):(u._replaceItemsInClientStorage(t.data)._setAuthSessionCookie(t.session)._removeUnauthSessionCookie(),e.resolve())},u._needMerge=function(){return Boolean(u.get().length)},t.exports=u}),BEM.decl("history",{_removeHashbang:function(t){var e=/^!/,n=BEM.blocks.uri,r=n.parse(t);if(!e.test(r.anchor()))return t;var i=n.parse(r.anchor().replace(e,""));return r.anchor(""),r.query(i.query()),r.build()}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_onPopState:function(t){var e=t.originalEvent.state;null!==e&&(this.state=this.normalizeState(e,document.title,window.location.href),this.state.data&&delete this.state.data.trigger,this.trigger("statechange",this.state))},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("popstate",this.changeThis(this._onPopState)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("popstate",this._onPopState),this},_resetUrl:function(){var t=BEM.blocks.uri.parse(window.location.href);return t.anchor()&&window.history.replaceState({},document.title,this._removeHashbang(window.location.href)),this},syncState:function(){var t=window.history.state;return null!==t&&void 0!==t||window.history.replaceState({},document.title,window.location.href),null!==this.state&&void 0!==this.state||(this.state=this.normalizeState(void 0,document.title,window.location.href)),this},changeState:function(t,e){return window.history[t+"State"](e.data,e.title||document.title,e.url),this.state=e,this.trigger("statechange",{state:e,nativeApi:!0}),this}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_onPopState:function(t){var e=t.originalEvent.state;null!==e&&(this.state=this.normalizeState(e,document.title,window.location.href),this.state.data&&delete this.state.data.trigger,this.trigger("statechange",this.state))},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("popstate",this.changeThis(this._onPopState)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("popstate",this._onPopState),this},_resetUrl:function(){var t=BEM.blocks.uri.parse(window.location.href);return t.anchor()&&window.history.replaceState(null,document.title,this._removeHashbang(window.location.href)),this},syncState:function(){return null===window.history.state&&window.history.replaceState(void 0,document.title,window.location.href),null!==this.state&&void 0!==this.state||(this.state=this.normalizeState(void 0,document.title,window.location.href)),this},changeState:function(t,e){return window.history[t+"State"](e.data,e.title||document.title,e.url),this.state=e,this.trigger("statechange",{state:e,nativeApi:!0}),this}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_onHashChange:function(){this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this.trigger("statechange",{state:this.state,nativeApi:!1})},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("hashchange",this.changeThis(this._onHashChange)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("hashchange",this._onHashChange),this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this},_generateHashbang:function(t){var e=BEM.blocks.uri.parse(t),n=e.pathParts();return"!/"+n[n.length-1]+e.query()},_resetUrl:function(){return this},changeState:function(t,e){var n=BEM.blocks.uri.parse(e.url);if(n.host()&&n.host()!==window.location.hostname||n.port()&&n.port()!==window.location.port||n.protocol()&&n.protocol()!==window.location.protocol.replace(":",""))throw new Error("SECURITY_ERR: DOM Exception 18");this.state=e,window.location.hash=this._generateHashbang(e.url)}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_onHashChange:function(){this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this.trigger("statechange",{state:this.state,nativeApi:!1})},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("hashchange",this.changeThis(this._onHashChange)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("hashchange",this._onHashChange),this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this},_generateHashbang:function(t){var e=BEM.blocks.uri.parse(t),n=e.pathParts();return"!/"+n[n.length-1]+e.query()},_resetUrl:function(){return this},changeState:function(t,e){var n=BEM.blocks.uri.parse(e.url);if(n.host()&&n.host()!==window.location.hostname||n.port()&&n.port()!==window.location.port||n.protocol()&&n.protocol()!==window.location.protocol.replace(":",""))throw new Error("SECURITY_ERR: DOM Exception 18");this.state=e,window.location.hash=this._generateHashbang(e.url)}});var yr={};!function(){function t(t){return t.replace(/&/g,"&amp;")}function e(t,e){Array.isArray(t)&&(t={item:t}),this.root={data:t,parent:null,name:e||"",doc:this},this._vars={},this._keys={}}yr.log=function(){};var n={},r=/&/g,i=/</g,s=/>/g,a=/"/g,o=/&amp;/g,c=/&lt;/g,l=/&gt;/g;yr.text2xml=function(t){return null==t?"":(""+t).replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;")},yr.xml2text=function(t){return null==t?"":(""+t).replace(c,"<").replace(l,">").replace(o,"&")},yr.text2attr=function(t){return null==t?"":(""+t).replace(r,"&amp;").replace(a,"&quot;").replace(i,"&lt;").replace(s,"&gt;")},yr.xml2attr=function(t){return null==t?"":(""+t).replace(a,"&quot;").replace(i,"&lt;").replace(s,"&gt;")},yr.register=function(t,e){for(var r=e.imports||[],i=[e],s=0,a=r.length;s<a;s++){var o=n[r[s]];if(!o)throw Error('Module "'+r[s]+"\" doesn't exist");i=i.concat(o.imports)}e.imports=i,n[t]=e},yr.isRegistered=function(t){return!!n[t]},yr.run=function(t,r,i,s,a){i=i||"";var o=n[t];if(!o)throw'Module "'+t+'" is undefined';var c,l=new e(r,a);return c=s?o.a.apply(o,[o,0,[l.root],i,{a:{}}].concat(s)):o.a(o,0,[l.root],i,{a:{}})},yr.join=function(t,e){return t.concat(e)},yr.nodeValue=function(t){var e=t.data;return"object"==typeof e?"":e},yr.nodeName=function(t){var e=t[0];return e?e.name:""},yr.simpleScalar=function(t,e){var n=e.data;if(!n)return"";if("*"===t){for(var r in n)return yr.simpleScalar(r,e);return""}var i=n[t];return"object"==typeof i?"":void 0===i?"":i},yr.simpleBoolean=function(t,e){var n=e.data;if(!n)return!1;if("*"===t){for(var r in n){var i=yr.simpleBoolean(r,e);if(i)return!0}return!1}var i=n[t];return!!i&&(!Array.isArray(i)||i.length)},yr.nodeset2scalar=function(t){if(!t.length)return"";var e=t[0].data;return"object"==typeof e?"":e},yr.nodeset2boolean=function(t){return!!(t&&t.length>0)&&!!t[0].data},yr.nodeset2xml=function(t){return yr.scalar2xml(yr.nodeset2scalar(t))},yr.nodeset2attrvalue=function(t){return yr.scalar2attrvalue(yr.nodeset2scalar(t))},yr.scalar2xml=yr.text2xml,yr.xml2scalar=yr.xml2text,yr.xml2attrvalue=yr.xml2attr,yr.scalar2attrvalue=yr.text2attr,yr.object2nodeset=function(t){return[new e(t).root]},yr.array2nodeset=function(t){var n={item:t};return[new e(n).root]},yr.cmpSN=function(t,e){for(var n=0,r=e.length;n<r;n++)if(t==yr.nodeValue(e[n]))return!0;return!1},yr.cmpNN=function(t,e){var n=e.length;if(0===n)return!1;if(1===n)return yr.cmpSN(yr.nodeValue(e[0]),t);for(var r=[],i=yr.nodeValue(e[0]),s=0,a=t.length;s<a;s++){var o=yr.nodeValue(t[s]);if(o==i)return!0;r[s]=o}for(var c=1;c<n;c++){i=yr.nodeValue(e[c]);for(var s=0,a=t.length;s<a;s++)if(r[s]==i)return!0}return!1},yr.isShort=function(t){return"br"===t||"col"===t||"embed"===t||"hr"===t||"img"===t||"input"===t||"link"===t||"meta"===t||"param"===t||"wbr"===t};var u=/[^a-zA-Z0-9]/g;yr.tagName=function(t){return t?(""+t).replace(u,"")||"div":"div"},yr.closeAttrs=function(t){var e=t.s;if(e){var n="",r=t.a;for(var i in r)n+=" "+i+'="'+r[i].quote()+'"';return n+=yr.isShort(e)?"/>":">",t.s=null,n}return""},yr.copyAttrs=function(t,e){for(var n in e)t[n]=e[n]},yr.scalarAttr=function(t){this.s=null==t?"":""+t},yr.scalarAttr.prototype.quote=function(){return yr.text2attr(this.s)},yr.scalarAttr.prototype.addxml=function(e){return new yr.xmlAttr(t(this.s)+e)},yr.scalarAttr.prototype.addscalar=function(t){return new yr.scalarAttr(this.s+t)},yr.xmlAttr=function(t){this.s=null==t?"":""+t},yr.xmlAttr.prototype.quote=function(){return yr.xml2attr(this.s)},yr.xmlAttr.prototype.addscalar=function(e){
return new yr.xmlAttr(this.s+t(e))},yr.slice=function(t,e,n){return t=""+t,n?t.slice(e,n):t.slice(e)},yr.exists=function(t){return t.length>0},yr.grep=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var s=t[r];e(s,r,i)&&n.push(s)}return n},yr.byIndex=function(t,e){return t.slice(e,e+1)},yr.sort=function(t,e,n){for(var r=[],i=0,s=t.length;i<s;i++){var a=t[i],o=e(a,i,s);r.push({node:a,value:o})}for(var c=n?-1:1,l=n?1:-1,u=r.sort(function(t,e){var n=t.value,r=e.value;return n<r?l:n>r?c:0}),d=[],i=0,s=u.length;i<s;i++)d.push(u[i].node);return d},yr.nodeset2data=function(t){var e=t.length;if(0===e)return"";if(1===e)return t[0].data;for(var n=[],r=0;r<e;r++)n.push(t[r].data);return n},yr.externals={};var d=function(){};d.prototype.a=function(t,e,n,r,i){var s,a="";arguments.length>5&&(s=Array.prototype.slice.call(arguments,5));for(var o=t.imports,c=0,l=n.length;c<l;c++){for(var u,d,p=n[c],h=!1,f=e,_=o.length;!h&&f<_;){u=o[f++];var m=u.matcher[r];if(m){var v=m[p.name]||m["*"];if(v)for(var y=0,b=v.length;!h&&y<b;){var g=v[y++];d=u[g];var k=d.j;if(k)u.matched(k,d.a,p,c,l)&&(h=g);else for(var w=d.s,E=d.a,x=0,M=w.length;x<M;x++)if(u.matched(w[x],E[x],p,c,l)){h=g;break}}}}h&&(a+=s?d.apply(t,[t,p,c,l,i].concat(s)):d(t,p,c,l,i))}return a},d.prototype.matched=function(t,e,n,r,i){if(1===t)return!n.parent;for(var s=t.length,a=s-2;a>=0;){if(!n)return!1;var o=t[a];switch(o){case 0:var c=t[a+1];if("*"!==c&&c!==n.name)return!1;n=n.parent;break;case 2:case 4:var l=t[a+1];if(!l(this,n,r,i))return!1}a-=2}return!e||!n.parent},d.prototype.s=function(t,e){return this.n(t,[e])},d.prototype.n=function(t,e){for(var n,r=e,i=r.length,s=0,a=t.length;s<a;s+=2){n=[];var o=t[s],c=t[s+1];switch(o){case 0:for(var l=0;l<i;l++)yr.selectNametest(c,r[l],n);break;case 1:for(var l=0;l<i;l++){for(var u=0,d=r[l];u<c&&d;)d=d.parent,u++;d&&n.push(d)}break;case 2:for(var l=0;l<i;l++){var d=r[l];c(this,d,l,i)&&n.push(d)}break;case 3:var d=r[c];n=d?[d]:[];break;case 4:if(i>0){var d=r[0];c(this,d.doc.root,0,1)&&(n=n.concat(r))}}if(r=n,i=r.length,!i)return[]}return n},yr.selectNametest=function(t,e,n){var r=e.data;if(!r||"object"!=typeof r)return n;if("*"===t){if(Array.isArray(r))for(var i=0,s=r.length;i<s;i++)yr.selectNametest(i,e,n);else for(t in r)yr.selectNametest(t,e,n);return n}if(r=r[t],void 0===r)return n;var a=e.doc;if(Array.isArray(r))for(var i=0,s=r.length;i<s;i++)n.push({data:r[i],parent:e,name:t,doc:a});else n.push({data:r,parent:e,name:t,doc:a});return n},yr.document=function(t){var n;return n=new e(t.length?t[0].data:{}),[n.root]},yr.subnode=function(t,e,n){var r=n.doc;if(Array.isArray(e)){for(var i=[],s=0,a=e.length;s<a;s++)i.push({data:e[s],name:t,parent:n,doc:r});return i}return[{data:e,name:t,parent:n,doc:r}]},d.prototype.v=function t(e,n){var t=n.doc._vars,r=t[e];if(void 0===r){var i=this.findSymbol(e);r="function"==typeof i?i(this,n,0,1):i,t[e]=r}return r},d.prototype.f=function(t,e,n,r,i){var s=this.findSymbol(t);if(arguments.length>5){var a=Array.prototype.slice.call(arguments);return a[0]=this,s.apply(this,a)}return void 0!==i?s(this,e,n,r,i):s(this,e,n,r)},d.prototype.k=function t(e,n,r,i){function s(t){var e,n=l[t];if(o.xml){if(e="",n)for(var r=0,i=n.length;r<i;r++){var s=n[r];e+=a.b(u,s.c,s.i,s.l,{})}}else if(e=[],n)for(var r=0,i=n.length;r<i;r++){var s=n[r];e=e.concat(a.b(u,s.c,s.i,s.l))}return c[t]=e,e}var t=r.doc._keys,a=this.findSymbol(e),o=t[e];o||(o=this._initKey(a,e,n,r));var c=o.values,l=o.nodes,u=this;if(i){var d;if(o.xml){d="";for(var p=0,h=n.length;p<h;p++){var r=n[p];d+=s(yr.nodeValue(r))}}else{d=[];for(var p=0,h=n.length;p<h;p++){var r=n[p];d=d.concat(s(yr.nodeValue(r)))}}return d}var f=c[n];return void 0===f&&(f=s(n)),f},d.prototype._initKey=function(t,e,n,r){function i(t,e){var n=c[t];n||(n=c[t]=[]),n.push(e)}var s=r.doc._keys,a=s[e]={};a.xml="xml"===t.bt;var o=t.n(this,r),c=a.nodes={};if("nodeset"===t.ut)for(var l=0,u=o.length;l<u;l++)for(var d=o[l],p=t.u(this,d,l,u),h=0,f=p.length;h<f;h++)i(yr.nodeValue(p[h]),{c:d,i:l,l:u});else for(var l=0,u=o.length;l<u;l++){var d=o[l],p=t.u(this,d,l,u);i(p,{c:d,i:l,l:u})}return a.values={},a},d.prototype.findSymbol=function(t){for(var e=this.imports,n=0,r=e.length;n<r;n++){var i=e[n],s=i[t];if(void 0!==s)return s}},yr.Module=d}(),"undefined"!=typeof module&&(module.exports=yr),require.define("market-money-helpers",function(t,e,n,r,i){t.exports={Money:n("Money"),price:n("price")}}),require.define("Money",function(t,e,n,r,i){function s(t,e){this.value=isNaN(t)?0:Number(t),this.fraction=s.getFraction(e)}s.FRACTION=2,s.getFraction=function(t){return isNaN(t)||t<0||t%1!==0?s.FRACTION:Number(t)},s.subtract=function(t,e,n){var r=Math.pow(10,s.getFraction(n));return(t*r-e*r)/r},s.add=function(t,e,n){var r=Math.pow(10,s.getFraction(n));return(t*r+e*r)/r},s.prototype.value=null,s.prototype.fraction=null,s.prototype.setFraction=function(t){return this.fraction=s.getFraction(t),this},s.prototype.set=function(t){return isNaN(t)||(this.value=Number(t)),this},s.prototype.subtract=function(t){return this.value=s.subtract(this.value,t,this.fraction),this},s.prototype.add=function(t){return this.value=s.add(this.value,t,this.fraction),this},s.prototype.toString=function(){return String(this.value)},s.prototype.valueOf=function(){return this.value},t.exports=s}),require.define("price",function(t,e,n,r,i){function s(t){var e;return isNaN(t)?t:(t=Number(t),e=String(t).split("."),t=t>=1?Math.round(t):t>=.01?Number([e[0],e[1].substring(0,2)].join(".")):0,Number(t))}function a(t,e,n){var r,i=[];if(n=n||3,e=e||" ",t=String(t),t=t.split("."),t[0].length<=n)return t.join(".");r=t[1],t=t[0],t=t.split("");for(var s=0;t.length;)i.unshift(t.pop()),s++,3==s&&t.length&&(s=0,i.unshift(e));return i.join("")+(r?"."+r:"")}var o={};o.format=function(t,e){return t=s(t),this.formatWithoutRound(t,e)},o.formatWithoutRound=function(t,e){var n;return e=e||",",isNaN(t)?t:(n=a(String(t)),e&&(n=n.replace(".",e)),n)},o.round=function(t){return s(t)},t.exports=o}),require.define("localized-hosts",function(t,e,n,r,i){var s=n("router");t.exports={getHost:function(t,e,n,r){e=e||"ru",r=r||{};var i,a,o=n?":test":null,c=[t,o].join(""),l=s.getRouteByName(c);return l||(c=t,l=s.getRouteByName(t)),i=l&&l.getData()||{},a=!i.hasOwnProperty("tldRequired")||i.tldRequired,a&&(r.tld=e),s.buildURL(c,r)}}}),require.define("url",function(t,e,n,r,i){var s=e,a=n("util"),o=/^(?:([A-Za-z0-9+\.\-]+):(?:([A-Za-z0-9+\.\-]*):)?)?(?:\/\/(?:([^:@]*)(?::([^:@]*))?@)?((?:[a-z0-9_-]+\.)+[a-z]{2,}|localhost|(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])))?(?::(\d+))?(?:([^\?\#]+))?(?:\?([^\#]*))?(?:\#([^\s]*))?$/i,c=/\.yandex\.(ru|by|ua|kz|com|com\.tr)$/,l="//clck.yandex.ru/redir/*";s.parse=function(t){var e,n,r;if(!a.isString(t))throw new Error('Parameter "url" must be a string, not a '+a.getType(t).toLowerCase());return(e=t.match(o))?(n={protocol:e[1]||null,subprotocol:e[2]||null,user:e[3]||null,pass:e[4]||null,hostname:e[5]||null,port:e[6]||null,pathname:e[7]||null,query:e[8]||null,hash:e[9]||null},r={},r.protocol=n.protocol+":",n.pass||n.user?n.pass?r.auth=n.user+":"+n.pass:r.auth=n.user:r.auth=null,r.host=n.port?n.hostname+":"+n.port:n.hostname,r.port=n.port,r.hostname=n.hostname,r.hash=n.hash?"#"+n.hash:null,r.search=n.query?"?"+n.query:null,r.query=n.query,r.pathname=n.pathname,r.path=r.search?n.pathname+r.search:n.pathname,r.href=t,r):null},s.secure=function(t,e){var n=t;e=e||"/",t=s.parse(t);var r=c.test(t.hostname);return r||(n=e),n},s.buildSecure=function(t){return l+t},t.exports=s}),require.define("Buffer",function(t,e,n,r,i){(function(){function e(t){var e=p[t];if("number"!=typeof e)throw"illegal character "+t;return e}function n(t,e,n){if("number"!=typeof t)throw"cannot write a non-number as a number";if(void 0===n){if(t<0)throw"specified a negative value for writing an unsigned value";if(t>e)throw"value is larger than maximum value for type"}else{if(t<n)throw"value smaller than minimum allowed value";if(t>e)throw"value larger than maximum allowed value"}if(Math.floor(t)!==t)throw"value has a fractional component"}function r(t,e,n){if("number"!=typeof t)throw"cannot write a non-number as a number";if(t>e)throw"value larger than maximum allowed value";if(t<n)throw"value smaller than minimum allowed value"}function i(t,e,n,r,i){var s,a=8*i-r-1,o=(1<<a)-1,c=o>>1,l=-7,u=n?0:i-1,d=n?1:-1,p=t[e+u],h=p&(1<<-l)-1;for(u+=d,p>>=-l,l+=a;l>0;)h=256*h+t[e+u],u+=d,l-=8;for(s=h&(1<<-l)-1,h>>=-l,l+=r;l>0;)s=256*s+t[e+u],u+=d,l-=8;if(0===h)h=1-c;else{if(h===o)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),h-=c}return(p?-1:1)*s*Math.pow(2,h-r)}function s(t,e,n,r,i,s){var a,o,c,l=8*s-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?s-1:0,f=r?-1:1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+d>=1?p/c:p*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(e*c-1)*Math.pow(2,i),a+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;)t[n+h]=255&o,h+=f,o/=256,i-=8;for(a=a<<i|o,l+=i;l>0;)t[n+h]=255&a,h+=f,a/=256,l-=8;t[n+h-f]|=128*_}function a(t,n){n=n||"utf8";var r,i=0;if(!(this instanceof a))return new a(t,n);switch(typeof t){case"number":this.length=t;break;case"string":switch(r=t.length,n=null==n||"undefined"===n?void 0:n,n=String((n||"utf8").toLowerCase())){case"base64":var s,c,l,u,d,p=Math.floor(r/4),h=0,_=0;if(4*p!=r)throw"string length must be a multiple of four";for(0!==r&&("="==t.charAt(r-1)&&(h++,p--),"="==t.charAt(r-2)&&h++),d=3*p-h,d<0&&(d=0);i++<p;)s=e(t.charCodeAt(_++)),c=e(t.charCodeAt(_++)),l=e(t.charCodeAt(_++)),u=e(t.charCodeAt(_++)),o.call(this,255&(s<<2|c>>4),255&(c<<4|l>>2),255&(l<<6|u));switch(h){case 0:break;case 1:s=e(t.charCodeAt(_++)),c=e(t.charCodeAt(_++)),l=e(t.charCodeAt(_++)),o.call(this,255&(s<<2|c>>4),255&(c<<4|l>>2));break;case 2:s=e(t.charCodeAt(_++)),c=e(t.charCodeAt(_++)),o.call(this,255&(s<<2|c>>4));break;default:throw"never happen"}break;case"hex":for(;i<r;)o.call(this,parseInt(t.substr(i,2),16)),i+=2;break;case"utf8":for(var m;i<r;)m=t.charCodeAt(i),m<=127?o.call(this,m):m<=2047?o.call(this,m>>>6|192,63&m|128):m<=65535?o.call(this,m>>>12|224,m>>>6&63|128,63&m|128):m<=2097151?o.call(this,m>>>18|240,m>>>12&63|128,m>>>6&63|128,63&m|128):m<=67108863?o.call(this,m>>>24|248,m>>>18&63|128,m>>>12&63|128,m>>>6&63|128,63&m|128):m<=2147483647&&o.call(this,m>>>30|252,m>>>24&63|128,m>>>18&63|128,m>>>12&63|128,m>>>6&63|128,63&m|128),i++;break;default:throw"unknown encoding"}break;default:if(t instanceof a||"[object Array]"===Object.prototype.toString.call(t))o.apply(this,t);else{if(!a.supportNativeBuffer)throw"first argument needs to be a number, array, buffer or string";if(t instanceof f.ArrayBuffer)t=new f.DataView(t);else if(!(t instanceof f.DataView))throw"first argument needs to be a number, array, buffer, arrayBuffer, dataView or string";for(r=t.byteLength;i<r;)this[i]=t.getUint8(i),i++;this.length=r}}}for(var o=Array.prototype.push,c=Array.prototype.slice,l=Array.prototype.splice,u=Object.prototype.toString,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),p=[],h=0,f=new Function("return this")();h<d.length;)p[d[h].charCodeAt(0)]=h++;a.supportNativeBuffer=f.DataView&&f.ArrayBuffer,a.isBuffer=function(t){return t instanceof a},a.isEncoding=function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"base64":return!0;default:return!1}},a.byteLength=function(t,e){return new a(t,e).length},a.concat=function(t,e){var n,r,i=0;if("[object Array]"!==u.call(t))throw"Usage: Buffer.concat(list, [length])";if(0===t.length)return new a(0);if(1===t.length)return t[0];if("number"!=typeof e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;for(r=new a(e),n=0;n<t.length;n++){var s=t[n];s.copy(r,i),i+=s.length}return r},a.prototype={constructor:a,copy:function(t,e,n,r){var i,s=this.length,a=t.length;if(n=n||0,r=r||s,e=e||0,r<n)throw"sourceEnd < sourceStart";if(r===n||0===t.length||0===s)return 0;if(e<0||e>=a)throw"targetStart out of bounds";if(n<0||n>=s)throw"sourceStart out of bounds";if(r<0||r>s)throw"sourceEnd out of bounds";return a-e<r-n&&(r=a-e+n),i=c.call(this,n,r),i.unshift(e,r-n),l.apply(t,i),t.length},toString:function(t,e,n){var r,i,s="",a=this.length;if(void 0===e||e<0?e=0:e>a&&(e=a),void 0===n||n>a?n=a:n<0&&(n=0),e==n)return s;switch(t=String(t||"utf8").toLowerCase(),r=e,a=n-e,t){case"hex":for(;r<n;)i=this[r++],s+=(i<16?"0":"")+i.toString(16);break;case"base64":for(var o,c,l,u=Math.floor(a/3),p=a-3*u,h=0;h++<u;)o=255&this[r++],c=255&this[r++],l=255&this[r++],s+=d[o>>2],s+=d[o<<4&63|c>>4],s+=d[c<<2&63|l>>6],s+=d[63&l];switch(p){case 0:break;case 1:o=255&this[r++],s+=d[o>>2],s+=d[o<<4&63],s+="==";break;case 2:o=255&this[r++],c=255&this[r++],s+=d[o>>2],s+=d[o<<4&63|c>>4],s+=d[c<<2&63],s+="=";break;default:throw"never happen"}break;case"utf8":case"utf-8":for(;r<n;)i=this[r++],i<128?s+=String.fromCharCode(i):i<224?s+=String.fromCharCode((31&i)<<6|(63&this[r++])<<0):i<240?s+=String.fromCharCode((15&i)<<12|(63&this[r++])<<6|(63&this[r++])<<0):i<248?s+=String.fromCharCode((7&i)<<18|(63&this[r++])<<12|(63&this[r++])<<6|(63&this[r++])<<0):i<252?s+=String.fromCharCode((3&i)<<24|(63&this[r++])<<18|(63&this[r++])<<12|(63&this[r++])<<6|(63&this[r++])<<0):i<254&&(s+=String.fromCharCode((1&i)<<30|(63&this[r++])<<24|(63&this[r++])<<18|(63&this[r++])<<12|(63&this[r++])<<6|(63&this[r++])<<0));break;default:throw"unknown encoding"}return s},toArray:function(t,e){var n=this.length;if(t=t||0,e=e||n,e<t)throw"end < start";if(e===t||0===n)return[];if(t<0||t>=n)throw"start out of bounds";if(e<0||e>n)throw"end out of bounds";return c.call(this,t,e)},toJSON:function(){return c.call(this,0)},toDataView:function(t,e){var n,r,i=0,s=this.length;if(a.supportNativeBuffer)throw"DataView is not supported";if(t=t||0,e=e||s,e<t)throw"end < start";if(e===t||0===s)return new f.ArrayBuffer(0);if(t<0||t>=s)throw"start out of bounds";if(e<0||e>s)throw"end out of bounds";for(r=e-t,n=new f.DataView(new f.ArrayBuffer(r));t<e;)n.setUint8(i++,this[t++]);return n},toArrayBuffer:function(t,e){if(a.supportNativeBuffer)throw"ArrayBuffer is not supported";return this.toDataView(t,e).buffer},slice:function(t,e){var n=this.length;if(void 0===t&&(t=0),void 0===e&&(e=n),e>n)throw new Error("oob");if(t>e)throw new Error("oob");return l.call(this,0,t),l.call(this,e-t,n-e),this},write:function(t,e,n,r){var i,s,o;return e=+e||0,i=this.length-e,n?(n=+n,n>i&&(n=i)):n=i,r=(String(r)||"utf8").toLowerCase(),s=new a(t,r),o=s.length,s=c.call(s),s.unshift(e,n),l.apply(this,s),o<n?o:n},fill:function(t,e,n){var r=this.length;if(t=t||0,e=e||0,n=n||r,"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw"value is not a number";if(n<e)throw"end < start";if(n===e||0===r)return 0;if(e<0||e>=r)throw"start out of bounds";if(n<0||n>r)throw"end out of bounds";for(;e<n;)this[e++]=t},readUInt8:function(t,e){if(e===!0){if(void 0===t||null===t)throw"missing offset";if(t>=this.length)throw"trying to read beyond buffer length"}return this[t]},readInt8:function(t,e){if(e===!0){if(void 0===t||null===t)throw"missing offset";if(t>=this.length)throw"trying to read beyond buffer length"}return 128&this[t]?(255-this[t]+1)*-1:this[t]},readUInt16:function(t,e,n){var r;if(n===!0){if(void 0===t||null===t)throw"missing offset";if("boolean"!=typeof e)throw"missing or invalid endian";if(t+1>=this.length)throw"Trying to read beyond buffer length"}return e?(r=this[t]<<8,r|=this[t+1]):(r=this[t],r|=this[t+1]<<8),r},readUInt16LE:function(t,e){return this.readUInt16(t,!1,e)},readUInt16BE:function(t,e){return this.readUInt16(t,!0,e)},readInt16:function(t,e,n){var r=this.readUInt16(t,e,n);return 32768&r?(65535-r+1)*-1:r},readInt16LE:function(t,e){return this.readInt16(t,!1,e)},readInt16BE:function(t,e){return this.readInt16(t,!0,e)},readUInt32:function(t,e,n){var r;if(n===!0){if(void 0===t||null===t)throw"missing offset";if("boolean"!=typeof e)throw"missing or invalid endian";if(t+3>=this.length)throw"Trying to read beyond this length"}return e?(r=this[t+1]<<16,r|=this[t+2]<<8,r|=this[t+3],r+=this[t]<<24>>>0):(r=this[t+2]<<16,r|=this[t+1]<<8,r|=this[t],r+=this[t+3]<<24>>>0),r},readUInt32LE:function(t,e){return this.readUInt32(t,!1,e)},readUInt32BE:function(t,e){return this.readUInt32(t,!0,e)},readInt32:function(t,e,n){var r=this.readUInt32(t,e,n);return 2147483648&r?(4294967295-r+1)*-1:r},readInt32LE:function(t,e){return this.readInt32(t,!1,e)},readInt32BE:function(t,e){return this.readInt32(t,!0,e)},readFloat:function(t,e,n){if(n===!0){if(void 0!==t&&null!==t)throw"missing offset";if("boolean"!=typeof e)throw"missing or invalid endian";if(t+3<this.length)throw"Trying to read beyond buffer length"}return i(this,t,e,23,4)},readFloatLE:function(t,e){return this.readFloat(t,!1,e)},readFloatBE:function(t,e){return this.readFloat(t,!0,e)},readDouble:function(t,e,n){if(n===!0){if(void 0!==t&&null!==t)throw"missing offset";if("boolean"!=typeof e)throw"missing or invalid endian";if(t+7<this.length)throw"Trying to read beyond buffer length"}return i(this,t,e,52,8)},readDoubleLE:function(t,e){return this.readDouble(t,!1,e)},readDoubleBE:function(t,e){return this.readDouble(t,!0,e)},writeUInt8:function(t,e,r){if(!r){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if(e>=this.length)throw"trying to write beyond buffer length";n(t,255,void 0)}this[e]=t},writeInt8:function(t,e,r){if(!r){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if(e>=this.length)throw"trying to write beyond buffer length";n(t,127,-128)}t>=0?this.writeUInt8(t,e,r):this.writeUInt8(255+t+1,e,r)},writeUInt16:function(t,e,r,i){if(!i){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if("boolean"!=typeof r)throw"missing or invalid endian";if(e+1>=this.length)throw"trying to write beyond this length";n(t,65535,void 0)}r?(this[e]=(65280&t)>>>8,this[e+1]=255&t):(this[e+1]=(65280&t)>>>8,this[e]=255&t)},writeUInt16LE:function(t,e,n){this.writeUInt16(t,e,!1,n)},writeUInt16BE:function(t,e,n){this.writeUInt16(t,e,!0,n)},writeInt16:function(t,e,r,i){i||n(t,32767,-32768),this.writeUInt16(t<0?65535+t+1:t,e,r,i)},writeInt16LE:function(t,e,n){this.writeInt16(t,e,!1,n)},writeInt16BE:function(t,e,n){this.writeUInt16(t,e,!0,n)},writeUInt32:function(t,e,r,i){if(!i){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if("boolean"!=typeof r)throw"missing or invalid endian";if(e+3>=this.length)throw"trying to write beyond this length";n(t,4294967295,void 0)}r?(this[e]=t>>>24&255,this[e+1]=t>>>16&255,this[e+2]=t>>>8&255,this[e+3]=255&t):(this[e+3]=t>>>24&255,this[e+2]=t>>>16&255,this[e+1]=t>>>8&255,this[e]=255&t)},writeUInt32LE:function(t,e,n){this.writeUInt32(t,e,!1,n)},writeUInt32BE:function(t,e,n){this.writeUInt32(t,e,!0,n)},writeInt32:function(t,e,r,i){i||n(t,2147483647,-2147483648),this.writeUInt32(t<0?4294967295+t+1:t,e,r,i)},writeInt32LE:function(t,e,n){this.writeInt32(t,e,!1,n)},writeInt32BE:function(t,e,n){this.writeInt32(t,e,!0,n)},writeFloat:function(t,e,n,i){if(!i){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if("boolean"!=typeof n)throw"missing or invalid endian";if(e+3>=this.length)throw"trying to write beyond this length";r(t,3.4028234663852886e38,-3.4028234663852886e38)}s(this,t,e,n,23,4)},writeFloatLE:function(t,e,n){this.writeFloat(t,e,!1,n)},writeFloatBE:function(t,e,n){this.writeFloat(t,e,!0,n)},writeDouble:function(t,e,n,i){if(!i){if(void 0===e||null===e)throw"missing offset";if(void 0===t||null===t)throw"missing value";if("boolean"!=typeof n)throw"missing or invalid endian";if(e+7>=this.length)throw"trying to write beyond this length";r(t,1.7976931348623157e308,-1.7976931348623157e308)}s(this,t,e,n,52,8)},writeDoubleLE:function(t,e,n){this.writeDouble(t,e,!1,n)},writeDoubleBE:function(t,e,n){this.writeDouble(t,e,!0,n)}};try{t.exports=a}catch(t){f.Buffer=a}})()}),require.define("querystring",function(t,e,n,r,i){function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t){return t.charCodeAt(0)}function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}var c=n("Buffer"),l=n("util"),u=e;u.unescapeBuffer=function(t,e){for(var n,r,i,s=new c(t.length),o="CHAR",l=0,u=0;l++<=t.length;){var d=t.charCodeAt(l);switch(o){case"CHAR":switch(d){case a("%"):n=0,r=0,o="HEX0";break;case a("+"):e&&(d=a(" "));default:s[u++]=d}break;case"HEX0":if(o="HEX1",i=d,a("0")<=d&&d<=a("9"))n=d-a("0");else if(a("a")<=d&&d<=a("f"))n=d-a("a")+10;else{if(!(a("A")<=d&&d<=a("F"))){s[u++]=a("%"),s[u++]=d,o="CHAR";break}n=d-a("A")+10}break;case"HEX1":if(o="CHAR",a("0")<=d&&d<=a("9"))r=d-a("0");else if(a("a")<=d&&d<=a("f"))r=d-a("a")+10;else{if(!(a("A")<=d&&d<=a("F"))){s[u++]=a("%"),s[u++]=i,s[u++]=d;break}r=d-a("A")+10}s[u++]=16*n+r}}return s.slice(0,u-1)},u.unescape=function(t,e){return u.unescapeBuffer(t,e).toString()},u.escape=function(t){return encodeURIComponent(t)},u.stringify=function(t,e,n,r){return e=l.toString(e,"&"),n=l.toString(n,"="),l.isObject(t)?Object.keys(t).map(function(r){var i=u.escape(o(r))+n;return l.isArray(t[r])?t[r].map(function(t){return i+u.escape(o(t))}).join(e):i+u.escape(o(t[r]))}).join(e):r?(r=u.escape(o(r)),t=u.escape(o(t)),r+n+t):""},u.parse=function(t,e,n,r){var i,a,o,c,d,p={},h=/\+/g,f=1e3,_=0;if(e=l.toString(e,"&"),n=l.toString(n,"="),r=l.toObject(r),!l.isString(t))return p;for(t=t.split(e),l.isNumber(r.maxKeys)&&(f=r.maxKeys),i=t.length,f>0&&i>f&&(i=f);_<i;){c=t[_++].replace(h,"%20"),d=c.indexOf(n),d>=0?(a=c.substr(0,d),o=c.substr(d+1)):(a=c,o="");try{a=decodeURIComponent(a),o=decodeURIComponent(o)}catch(t){a=u.unescape(a,!0),o=u.unescape(o,!0)}s(p,a)?l.isArray(p[a])?p[a].push(o):p[a]=[p[a],o]:p[a]=o}return p},u.encode=u.stringify,u.decode=u.parse,t.exports=u}),require.define("cycle",function(module,exports,require,basedir,global){var cycle=exports;cycle.decycle=function(t){"use strict";var e=[],n=[];return function t(r,i){var s,a,o;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(s=0;s<e.length;s+=1)if(e[s]===r)return{$ref:n[s]};if(e.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(o=[],s=0;s<r.length;s+=1)o[s]=t(r[s],i+"["+s+"]");else{o={};for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=t(r[a],i+"["+JSON.stringify(a)+"]"))}return o}return r}(t,"$")},cycle.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}}),require.define("plurals",function(t){t.exports.pluralStr=function(t,e,n,r){if(t%=100,t>=11&&t<=19)return r;switch(t%=10){case 1:return e;case 2:case 3:case 4:return n;default:return r}}}),require.define("jspath",function(t,e,n,r,i){!function(){function e(t){return Function("data,subst",i(r(t)))}var n={PATH:1,SELECTOR:2,OBJ_PRED:3,POS_PRED:4,LOGICAL_EXPR:5,COMPARISON_EXPR:6,MATH_EXPR:7,CONCAT_EXPR:8,UNARY_EXPR:9,POS_EXPR:10,LITERAL:11},r=function(){function t(t){F=t.split(""),U=0,z=null,q=F.length;var n=e(),r=C();return r.type!==H.EOP&&N(r),n}function e(){for(var t,e=r();k("|");)C(),(t||(t=[e])).push(r());return t?{type:n.CONCAT_EXPR,args:t}:e}function r(){return k("(")?i():a()}function i(){M("(");var t=e();M(")");for(var r,i=[];r=s();)i.push(r);return i.length?t.type===n.PATH?(t.parts=t.parts.concat(i),t):(i.unshift(t),{type:n.PATH,parts:i}):t}function s(){return k("[")?l():k("{")?u():k("(")?i():void 0}function a(){w()||N(C());var t,e=!1;k("^")?(C(),e=!0):x()&&(t=C().val.substr(1));for(var r,i=[];r=o();)i.push(r);return{type:n.PATH,fromRoot:e,subst:t,parts:i}}function o(){return E()?c():s()}function c(){var t,e=C().val,r=A();return(k("*")||r.type===H.ID||r.type===H.STR)&&(t=C().val),{type:n.SELECTOR,selector:e,prop:t}}function l(){M("[");var t=v();return M("]"),{type:n.POS_PRED,arg:t}}function u(){M("{");var t=d();return M("}"),{type:n.OBJ_PRED,arg:t}}function d(){for(var t,e=p();k("||");)C(),(t||(t=[e])).push(p());return t?{type:n.LOGICAL_EXPR,op:"||",args:t}:e}function p(){for(var t,e=h();k("&&");)C(),(t||(t=[e])).push(h());return t?{type:n.LOGICAL_EXPR,op:"&&",args:t}:e}function h(){for(var t=f();k("==")||k("!=")||k("===")||k("!==")||k("^=")||k("^==")||k("$==")||k("$=")||k("*==")||k("*=");)t={type:n.COMPARISON_EXPR,op:C().val,args:[t,h()]};return t}function f(){for(var t=_();k("<")||k(">")||k("<=")||k(">=");)t={type:n.COMPARISON_EXPR,op:C().val,args:[t,f()]};return t}function _(){for(var t=m();k("+")||k("-");)t={type:n.MATH_EXPR,op:C().val,args:[t,_()]};return t}function m(){for(var t=y();k("*")||k("/")||k("%");)t={type:n.MATH_EXPR,op:C().val,args:[t,m()]};return t}function v(){if(k(":"))return C(),{type:n.POS_EXPR,toIdx:y()};var t=y();return k(":")?(C(),k("]")?{type:n.POS_EXPR,fromIdx:t}:{type:n.POS_EXPR,fromIdx:t,toIdx:y()}):{type:n.POS_EXPR,idx:t}}function y(){return k("!")||k("-")?{type:n.UNARY_EXPR,op:C().val,arg:y()}:b()}function b(){var t=A(),e=t.type;return e===H.STR||e===H.NUM||e===H.BOOL?{type:n.LITERAL,val:C().val}:w()?a():k("(")?g():N(C())}function g(){M("(");var t=d();return M(")"),t}function k(t){var e=A();return e.type===H.PUNCT&&e.val===t}function w(){return E()||x()||k("^")}function E(){var t=A();if(t.type===H.PUNCT){var e=t.val;return"."===e||".."===e}return!1}function x(){var t=A();return t.type===H.ID&&"$"===t.val[0]}function M(t){var e=C();e.type===H.PUNCT&&e.val===t||N(e)}function A(){if(null!==z)return z;var t=U;return z=T(),U=t,z}function T(){for(;I(F[U]);)++U;if(U>=q)return{type:H.EOP,range:[U,U]};var t=R();return t||(t=P())||(t=B())||(t=D())?t:(t={range:[U,U]},U>=q?t.type=H.EOP:t.val=F[U],void N(t))}function C(){var t;return z?(U=z.range[1],t=z,z=null,t):T()}function S(t){return"0123456789".indexOf(t)>=0}function I(t){return" "===t}function O(t){return"$"===t||"_"===t||t>="a"&&t<="z"||t>="A"&&t<="Z"}function j(t){return O(t)||t>="0"&&t<="9"}function P(){var t=F[U];if(O(t)){for(var e=U,n=t;++U<q&&(t=F[U],j(t));)n+=t;return"true"===n||"false"===n?{type:H.BOOL,val:"true"===n,range:[e,U]}:{type:H.ID,val:n,range:[e,U]}}}function B(){if('"'===F[U]){for(var t,e=++U,n="",r=!1;U<q;){if(t=F[U++],"\\"===t)t=F[U++];else if('"'===t){r=!0;break}n+=t}return r?{type:H.STR,val:n,range:[e,U]}:void 0}}function D(){var t=U,e=F[U],n="."===e;if(n||S(e)){for(var r=e;++U<q;){if(e=F[U],"."===e){if(n)return;n=!0}else if(!S(e))break;r+=e}return{type:H.NUM,val:n?parseFloat(r):parseInt(r,10),range:[t,U]}}}function R(){var t=U,e=F[U],n=F[U+1];if("."===e){if(S(n))return;return"."===F[++U]?{type:H.PUNCT,val:"..",range:[t,++U]}:{type:H.PUNCT,val:".",range:[t,U]}}if("="===n){var r=F[U+2];if("="===r){if("=!^$*".indexOf(e)>=0)return{type:H.PUNCT,val:e+n+r,range:[t,U+=3]}}else if("=!^$*><".indexOf(e)>=0)return{type:H.PUNCT,val:e+n,range:[t,U+=2]}}return e!==n||"|"!==e&&"&"!==e?":{}()[]^+-*/%!><|".indexOf(e)>=0?{type:H.PUNCT,val:e,range:[t,++U]}:void 0:{type:H.PUNCT,val:e+n,range:[t,U+=2]}}function N(t){t.type===H.EOP&&L(t,V.UNEXP_EOP),L(t,V.UNEXP_TOKEN,t.val)}function L(t,e){var n=Array.prototype.slice.call(arguments,2),r=e.replace(/%(\d)/g,function(t,e){return n[e]||""}),i=new Error(r);throw i.column=t.range[0],i}var F,U,z,q,H={ID:1,NUM:2,STR:3,BOOL:4,PUNCT:5,EOP:6},V={UNEXP_TOKEN:'Unexpected token "%0"',UNEXP_EOP:"Unexpected end of path"};return t}(),i=function(){function t(){if(x.length)return x.shift();var t="v"+ ++E;return w.push(t),t}function e(){for(var t=arguments,e=t.length;e--;)x.push(t[e])}function r(t){if(k=[],w=["res"],E=0,x=[],l(t,"res","data"),k.unshift("var ",Array.isArray?"isArr = Array.isArray":'toStr = Object.prototype.toString, isArr = function(o) { return toStr.call(o) === "[object Array]"; }',", concat = Array.prototype.concat",",",w.join(","),";"),t.type===n.PATH){var e=t.parts[t.parts.length-1];e&&e.type===n.POS_PRED&&"idx"in e.arg&&k.push("res = res[0];")}return k.push("return res;"),k.join("")}function i(t,e,r){var i=t.parts,l=0,u=i.length;for(k.push(e,"=",t.fromRoot?"data":t.subst?"subst."+t.subst:r,";","isArr("+e+") || ("+e+" = ["+e+"]);");l<u;){var d=i[l++];switch(d.type){case n.SELECTOR:".."===d.selector?a(d,e,e):s(d,e,e);break;case n.OBJ_PRED:o(d,e,e);break;case n.POS_PRED:c(d,e,e);break;case n.CONCAT_EXPR:_(d,e,e)}}}function s(n,r,i){if(n.prop){var s=m(n.prop),a=t(),o=t(),c=t(),l=t(),u=t(),d=t(),p=t();k.push(a,"= [];",o,"= 0;",c,"=",i,".length;",p,"= [];","while(",o,"<",c,") {",l,"=",i,"[",o,"++];","if(",l,"!= null) {"),"*"===n.prop?(k.push("if(typeof ",l,'=== "object") {',"if(isArr(",l,")) {",a,"=",a,".concat(",l,");","}","else {","for(",u," in ",l,") {","if(",l,".hasOwnProperty(",u,")) {",d,"=",l,"[",u,"];"),v(a,d),k.push("}","}","}","}")):(k.push(d,"=",l,"[",s,"];"),v(a,d,p,c)),k.push("}","}",r,"=",c,"> 1 &&",p,".length?",p,".length > 1?","concat.apply(",a,",",p,") :",a,".concat(",p,"[0]) :",a,";"),e(a,o,c,l,u,d,p)}}function a(n,r,i){var s=n.prop,a=t(),o=t(),c=t(),l=t(),u=t(),d=t(),p=t(),h=t();k.push(a,"=",i,".slice(),",h,"= [];","while(",a,".length) {",o,"=",a,".shift();"),s?k.push("if(typeof ",o,'=== "object" &&',o,") {"):k.push("if(typeof ",o,"!= null) {"),k.push(c,"= [];","if(isArr(",o,")) {",l,"= 0,",p,"=",o,".length;","while(",l,"<",p,") {",d,"=",o,"[",l,"++];"),s&&k.push("if(typeof ",d,'=== "object") {'),v(c,d),s&&k.push("}"),k.push("}","}","else {"),s?"*"!==s&&(k.push(d,"=",o,'["'+s+'"];'),v(h,d)):(v(h,o),k.push("if(typeof ",o,'=== "object") {')),k.push("for(",u," in ",o,") {","if(",o,".hasOwnProperty(",u,")) {",d,"=",o,"[",u,"];"),v(c,d),"*"===s&&v(h,d),k.push("}","}"),s||k.push("}"),k.push("}",c,".length &&",a,".unshift.apply(",a,",",c,");","}","}",r,"=",h,";"),e(a,o,c,l,u,d,p,h)}function o(n,r,i){var s=t(),a=t(),o=t(),c=t(),u=t();k.push(s,"= [];",a,"= 0;",o,"=",i,".length;","while(",a,"<",o,") {",u,"=",i,"[",a,"++];"),l(n.arg,c,u),k.push(b(n.arg,c),"&&",s,".push(",u,");","}",r,"=",s,";"),e(s,a,o,u,c)}function c(n,r,i){var s,a,o=n.arg;if(o.idx){var c=t();return l(o.idx,c,i),k.push(c,"< 0 && (",c,"=",i,".length +",c,");",r,"=",i,"[",c,"] == null? [] : [",i,"[",c,"]];"),e(c),!1}o.fromIdx?o.toIdx?(l(o.fromIdx,s=t(),i),l(o.toIdx,a=t(),i),k.push(r,"=",i,".slice(",s,",",a,");"),e(s,a)):(l(o.fromIdx,s=t(),i),k.push(r,"=",i,".slice(",s,");"),e(s)):(l(o.toIdx,a=t(),i),k.push(r,"=",i,".slice(0,",a,");"),e(a))}function l(t,e,r){switch(t.type){case n.PATH:i(t,e,r);break;case n.CONCAT_EXPR:_(t,e,r);break;case n.COMPARISON_EXPR:u(t,e,r);break;case n.MATH_EXPR:h(t,e,r);break;case n.LOGICAL_EXPR:p(t,e,r);break;case n.UNARY_EXPR:f(t,e,r);break;case n.LITERAL:var s=t.val;k.push(e,"=","string"==typeof s?m(s):s,";")}}function u(r,i,s){var a=t(),o=t(),c=t(),u=t(),p=t(),h=t(),f=t(),_=t(),m=r.args[0],v=r.args[1];k.push(i,"= false;"),l(m,a,s),l(v,o,s);var y=m.type===n.PATH,b=v.type===n.LITERAL;k.push(c,"="),y?k.push("true;"):k.push("isArr(",a,");"),k.push(u,"="),b?k.push("false;"):k.push("isArr(",o,");"),k.push("if("),y||k.push(c,"&&"),k.push(a,".length === 1) {",a,"=",a,"[0];",c,"= false;","}"),b||k.push("if(",u,"&&",o,".length === 1) {",o,"=",o,"[0];",u,"= false;","}"),k.push(p,"= 0;","if(",c,") {",f,"=",a,".length;"),b||(k.push("if(",u,") {",_,"=",o,".length;","while(",p,"<",f,"&& !",i,") {",h,"= 0;","while(",h,"<",_,") {"),d(r.op,[a,"[",p,"]"].join(""),[o,"[",h,"]"].join("")),k.push(i,"= true;","break;","}","++",h,";","}","++",p,";","}","}","else {")),k.push("while(",p,"<",f,") {"),d(r.op,[a,"[",p,"]"].join(""),o),k.push(i,"= true;","break;","}","++",p,";","}"),
b||k.push("}"),k.push("}"),b||(k.push("else if(",u,") {",_,"=",o,".length;","while(",p,"<",_,") {"),d(r.op,a,[o,"[",p,"]"].join("")),k.push(i,"= true;","break;","}","++",p,";","}","}")),k.push("else {",i,"=",M[r.op](a,o),";","}"),e(a,o,c,u,p,h,f,_)}function d(t,e,n){k.push("if(",M[t](e,n),") {")}function p(n,r,i){var s,a=[],o=n.args,c=o.length,u=0;switch(k.push(r,"= false;"),n.op){case"&&":for(;u<c;)a.push(s=t()),l(o[u],s,i),k.push("if(",b(o[u++],s),") {");k.push(r,"= true;");break;case"||":for(;u<c;)a.push(s=t()),l(o[u],s,i),k.push("if(",b(o[u],s),") {",r,"= true;","}"),u++ +1<c&&k.push("else {");--c}for(;c--;)k.push("}");e.apply(null,a)}function h(n,r,i){var s=t(),a=t(),o=n.args;l(o[0],s,i),l(o[1],a,i),k.push(r,"=",M[n.op](g(o[0],s),g(o[1],a)),";"),e(s,a)}function f(n,r,i){var s=t(),a=n.arg;switch(l(a,s,i),n.op){case"!":k.push(r,"= !",b(a,s)+";");break;case"-":k.push(r,"= -",g(a,s)+";")}e(s)}function _(n,r,i){for(var s=[],a=n.args,o=a.length,c=0;c<o;)s.push(t()),l(a[c],s[c++],i);k.push(r,"= concat.call(",s.join(","),");"),e.apply(null,s)}function m(t){return"'"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}function v(t,e,n,r){k.push("if(",e,"!= null) {","if(isArr(",e,")) {"),n&&(k.push(r,"> 1?"),y(n,e),k.push(":")),k.push(t,"=",t,".length?",t,".concat(",e,") :",e,".slice()",";","}","else {"),n&&k.push("if(",n,".length) {",t,"= concat.apply(",t,",",n,");",n,"= [];","}"),y(t,e),k.push(";","}","}")}function y(t,e){k.push(t,".length?",t,".push(",e,") :",t,"[0] =",e)}function b(t,e){switch(t.type){case n.LOGICAL_EXPR:return e;case n.LITERAL:return"!!"+e;case n.PATH:return e+".length > 0";default:return["(typeof ",e,'=== "boolean"?',e,":","isArr(",e,")?",e,".length > 0 : !!",e,")"].join("")}}function g(t,e){switch(t.type){case n.LITERAL:return e;case n.PATH:return e+"[0]";default:return["(isArr(",e,")?",e,"[0] : ",e,")"].join("")}}var k,w,E,x,M={"===":function(t,e){return t+"==="+e},"==":function(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string"?',t,".toLowerCase() ===",e,".toLowerCase() :"+t,"==",e].join("")},">=":function(t,e){return t+">="+e},">":function(t,e){return t+">"+e},"<=":function(t,e){return t+"<="+e},"<":function(t,e){return t+"<"+e},"!==":function(t,e){return t+"!=="+e},"!=":function(t,e){return t+"!="+e},"^==":function(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".indexOf(",e,") === 0"].join("")},"^=":function(t,e){return[t,"!= null &&",e,"!= null &&",t,".toString().toLowerCase().indexOf(",e,".toString().toLowerCase()) === 0"].join("")},"$==":function(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".lastIndexOf(",e,") ===",t,".length -",e,".length"].join("")},"$=":function(t,e){return[t,"!= null &&",e,"!= null &&","(",t,"=",t,".toLowerCase().toString()).indexOf(","(",e,"=",e,".toLowerCase().toLowerCase())) ===",t,".length -",e,".length"].join("")},"*==":function(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".indexOf(",e,") > -1"].join("")},"*=":function(t,e){return[t,"!= null && ",e,"!= null &&",t,".toString().toLowerCase().indexOf(",e,".toString().toLowerCase()) > -1"].join("")},"+":function(t,e){return t+"+"+e},"-":function(t,e){return t+"-"+e},"*":function(t,e){return t+"*"+e},"/":function(t,e){return t+"/"+e},"%":function(t,e){return t+"%"+e}};return r}(),s={},a=[],o={cacheSize:100},c={cacheSize:function(t,e){if(e<t&&a.length>e)for(var n=a.splice(0,a.length-e),r=n.length;r--;)delete s[n[r]]}},l=function(t,n,r){return s[t]||(s[t]=e(t),a.push(t)>o.cacheSize&&delete s[a.shift()]),s[t](n,r||{})};l.version="0.3.1",l.params=function(t){if(!arguments.length)return o;for(var e in t)t.hasOwnProperty(e)&&(c[e]&&c[e](o[e],t[e]),o[e]=t[e])},l.compile=e,l.apply=l,"object"==typeof t&&"object"==typeof t.exports?t.exports=l:"object"==typeof modules?modules.define("jspath",function(t){t(l)}):"function"==typeof define?define(function(t,e,n){n.exports=l}):JSPath=l}()}),require.define("makeOfferSafe",function(t,e,n,r,i){function s(t,e){var n={entity:t.entity,wareId:t.wareId,feeShow:t.feeShow,fee:t.fee,classifierMagicId:t.classifierMagicId,titles:t.titles,inStock:t.inStock,prepayEnabled:t.prepayEnabled,prices:t.prices,cpa:t.cpa,cpc:t.cpc,feed:t.feed,bundleCount:t.bundleCount,benefit:t.benefit,shop:t.shop,region:t.region,delivery:t.delivery,categories:t.categories,description:t.description,navnodes:t.navnodes,pictures:t.pictures,warnings:t.warnings,age:t.age,model:t.model,vendor:t.vendor,manufacturer:t.manufacturer,seller:t.seller,filters:t.filters,urls:a.omit(t.urls,"decrypted"),outlet:t.outlet,shouldShowCpcInPopup:t.shouldShowCpcInPopup,isRecommendedByVendor:t.isRecommendedByVendor,isPromotedByVendor:t.isPromotedByVendor,meta:t.meta,bundleSettings:t.bundleSettings,promo:t.promo,returnPolicy:t.returnPolicy};return a.omit(n,a.isArray(e)?e:[])}var a=n("lodash");t.exports=s}),require.define("google-caja-sanitizer",function(t,e,n,r,i){var s={},a=1,o=2,c=4,l=8,u=16,d=64,p=256,h=512,f=1024,_=function(){var t=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["armenian","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["block-level","inline-level","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["inherit","inline","inline-block","inline-box","inline-flex","inline-grid","inline-list-item","inline-stack","inline-table","run-in"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["dashed","dotted","double","groove","outset","ridge","solid"],["ease","ease-in","ease-in-out","ease-out","linear","step-end","step-start"],["at","closest-corner","closest-side","ellipse","farthest-corner","farthest-side"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["block","flex","grid","table"],["high","low","x-high","x-low"],["nowrap","pre","pre-line","pre-wrap"],["absolute","relative","static"],["alternate","alternate-reverse","reverse"],["border-box","content-box","padding-box"],["capitalize","lowercase","uppercase"],["child","female","male"],["=","opacity"],["backwards","forwards"],["bidi-override","embed"],["bottom","top"],["break-all","keep-all"],["clip","ellipsis"],["contain","cover"],["continuous","digits"],["end","start"],["flat","preserve-3d"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["paused","running"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["all"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["circle"],["code"],["collapse"],["contents"],["fixed"],["hidden"],["infinite"],["inset"],["invert"],["justify"],["list-item"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["to"],["transparent"],["visible"]],e={animation:{cssPropBits:517,cssLitGroup:[t[10],t[24],t[29],t[44],t[47],t[53],t[62],t[70],t[71]],cssFns:["cubic-bezier()","steps()"]},"animation-delay":{cssPropBits:5,cssLitGroup:[t[47]],cssFns:[]},"animation-direction":{cssPropBits:0,cssLitGroup:[t[24],t[47],t[71]],cssFns:[]},"animation-duration":"animation-delay","animation-fill-mode":{cssPropBits:0,cssLitGroup:[t[29],t[47],t[53],t[70]],cssFns:[]},"animation-iteration-count":{cssPropBits:5,cssLitGroup:[t[47],t[62]],cssFns:[]},"animation-name":{cssPropBits:512,cssLitGroup:[t[47],t[70]],cssFns:[]},"animation-play-state":{cssPropBits:0,cssLitGroup:[t[44],t[47]],cssFns:[]},"animation-timing-function":{cssPropBits:0,cssLitGroup:[t[10],t[47]],cssFns:["cubic-bezier()","steps()"]},azimuth:{cssPropBits:5,cssLitGroup:[t[7],t[41],t[55]],cssFns:[]},"backface-visibility":{cssPropBits:0,cssLitGroup:[t[58],t[61],t[80]],cssFns:[]},background:{cssPropBits:23,cssLitGroup:[t[0],t[18],t[25],t[31],t[34],t[41],t[47],t[48],t[51],t[55],t[60],t[67],t[70],t[73],t[74],t[79]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()","rgb()","rgba()"]},"background-attachment":{cssPropBits:0,cssLitGroup:[t[47],t[60],t[67],t[74]],cssFns:[]},"background-color":{cssPropBits:258,cssLitGroup:[t[0],t[79]],cssFns:["rgb()","rgba()"]},"background-image":{cssPropBits:16,cssLitGroup:[t[47],t[70]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"background-position":{cssPropBits:5,cssLitGroup:[t[31],t[41],t[47],t[55]],cssFns:[]},"background-repeat":{cssPropBits:0,cssLitGroup:[t[18],t[47],t[73]],cssFns:[]},border:{cssPropBits:7,cssLitGroup:[t[0],t[9],t[46],t[61],t[63],t[68],t[70],t[79]],cssFns:["rgb()","rgba()"]},"border-bottom":"border","border-bottom-color":{cssPropBits:2,cssLitGroup:[t[0],t[79]],cssFns:["rgb()","rgba()"]},"border-bottom-left-radius":{cssPropBits:5,cssFns:[]},"border-bottom-right-radius":"border-bottom-left-radius","border-bottom-style":{cssPropBits:0,cssLitGroup:[t[9],t[61],t[63],t[70]],cssFns:[]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[t[46],t[68]],cssFns:[]},"border-collapse":{cssPropBits:0,cssLitGroup:[t[58],t[75]],cssFns:[]},"border-color":"border-bottom-color","border-left":"border","border-left-color":"border-bottom-color","border-left-style":"border-bottom-style","border-left-width":"border-bottom-width","border-radius":{cssPropBits:5,cssLitGroup:[t[48]],cssFns:[]},"border-right":"border","border-right-color":"border-bottom-color","border-right-style":"border-bottom-style","border-right-width":"border-bottom-width","border-spacing":"border-bottom-left-radius","border-style":"border-bottom-style","border-top":"border","border-top-color":"border-bottom-color","border-top-left-radius":"border-bottom-left-radius","border-top-right-radius":"border-bottom-left-radius","border-top-style":"border-bottom-style","border-top-width":"border-bottom-width","border-width":"border-bottom-width",bottom:{cssPropBits:5,cssLitGroup:[t[51]],cssFns:[]},box:{cssPropBits:0,cssLitGroup:[t[59],t[70],t[71]],cssFns:[]},"box-shadow":{cssPropBits:7,cssLitGroup:[t[0],t[47],t[63],t[70]],cssFns:["rgb()","rgba()"]},"box-sizing":{cssPropBits:0,cssLitGroup:[t[25]],cssFns:[]},"caption-side":{cssPropBits:0,cssLitGroup:[t[31]],cssFns:[]},clear:{cssPropBits:0,cssLitGroup:[t[41],t[53],t[70]],cssFns:[]},clip:{cssPropBits:0,cssLitGroup:[t[51]],cssFns:["rect()"]},color:{cssPropBits:258,cssLitGroup:[t[0]],cssFns:["rgb()","rgba()"]},content:{cssPropBits:8,cssLitGroup:[t[70],t[71]],cssFns:[]},cue:{cssPropBits:16,cssLitGroup:[t[70]],cssFns:[]},"cue-after":"cue","cue-before":"cue",cursor:{cssPropBits:272,cssLitGroup:[t[1],t[47],t[51]],cssFns:[]},direction:{cssPropBits:0,cssLitGroup:[t[42]],cssFns:[]},display:{cssPropBits:32,cssLitGroup:[t[4],t[6],t[20],t[51],t[66],t[70]],cssFns:[]},"display-extras":{cssPropBits:0,cssLitGroup:[t[66],t[70]],cssFns:[]},"display-inside":{cssPropBits:0,cssLitGroup:[t[20],t[51]],cssFns:[]},"display-outside":{cssPropBits:0,cssLitGroup:[t[4],t[70]],cssFns:[]},elevation:{cssPropBits:5,cssLitGroup:[t[15]],cssFns:[]},"empty-cells":{cssPropBits:0,cssLitGroup:[t[38]],cssFns:[]},filter:{cssPropBits:32,cssFns:["alpha()"]},float:{cssPropBits:32,cssLitGroup:[t[41],t[70]],cssFns:[]},font:{cssPropBits:73,cssLitGroup:[t[3],t[8],t[13],t[16],t[40],t[47],t[48],t[68],t[71],t[76]],cssFns:[]},"font-family":{cssPropBits:72,cssLitGroup:[t[16],t[47]],cssFns:[]},"font-size":{cssPropBits:1,cssLitGroup:[t[8],t[68]],cssFns:[]},"font-stretch":{cssPropBits:0,cssLitGroup:[t[5],t[71]],cssFns:[]},"font-style":{cssPropBits:0,cssLitGroup:[t[40],t[71]],cssFns:[]},"font-variant":{cssPropBits:0,cssLitGroup:[t[71],t[76]],cssFns:[]},"font-weight":{cssPropBits:0,cssLitGroup:[t[3],t[71]],cssFns:[]},height:{cssPropBits:37,cssLitGroup:[t[51]],cssFns:[]},left:"height","letter-spacing":{cssPropBits:5,cssLitGroup:[t[71]],cssFns:[]},"line-height":{cssPropBits:1,cssLitGroup:[t[71]],cssFns:[]},"list-style":{cssPropBits:16,cssLitGroup:[t[2],t[39],t[56],t[70]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-image":{cssPropBits:16,cssLitGroup:[t[70]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-position":{cssPropBits:0,cssLitGroup:[t[39]],cssFns:[]},"list-style-type":{cssPropBits:0,cssLitGroup:[t[2],t[56],t[70]],cssFns:[]},margin:"bottom","margin-bottom":"bottom","margin-left":"bottom","margin-right":"bottom","margin-top":"bottom","max-height":{cssPropBits:1,cssLitGroup:[t[51],t[70]],cssFns:[]},"max-width":"max-height","min-height":{cssPropBits:1,cssLitGroup:[t[51]],cssFns:[]},"min-width":"min-height",opacity:{cssPropBits:33,cssFns:[]},outline:{cssPropBits:7,cssLitGroup:[t[0],t[9],t[46],t[61],t[63],t[64],t[68],t[70]],cssFns:["rgb()","rgba()"]},"outline-color":{cssPropBits:2,cssLitGroup:[t[0],t[64]],cssFns:["rgb()","rgba()"]},"outline-style":"border-bottom-style","outline-width":"border-bottom-width",overflow:{cssPropBits:32,cssLitGroup:[t[51],t[61],t[74],t[80]],cssFns:[]},"overflow-wrap":{cssPropBits:0,cssLitGroup:[t[54],t[71]],cssFns:[]},"overflow-x":{cssPropBits:0,cssLitGroup:[t[43],t[51],t[61],t[74],t[80]],cssFns:[]},"overflow-y":"overflow-x",padding:{cssPropBits:1,cssFns:[]},"padding-bottom":"opacity","padding-left":"opacity","padding-right":"opacity","padding-top":"opacity","page-break-after":{cssPropBits:0,cssLitGroup:[t[41],t[50],t[51],t[52]],cssFns:[]},"page-break-before":"page-break-after","page-break-inside":{cssPropBits:0,cssLitGroup:[t[51],t[52]],cssFns:[]},pause:"border-bottom-left-radius","pause-after":"border-bottom-left-radius","pause-before":"border-bottom-left-radius",perspective:{cssPropBits:5,cssLitGroup:[t[70]],cssFns:[]},"perspective-origin":{cssPropBits:5,cssLitGroup:[t[31],t[41],t[55]],cssFns:[]},pitch:{cssPropBits:5,cssLitGroup:[t[21],t[68]],cssFns:[]},"pitch-range":"border-bottom-left-radius","play-during":{cssPropBits:16,cssLitGroup:[t[51],t[69],t[70],t[73]],cssFns:[]},position:{cssPropBits:32,cssLitGroup:[t[23]],cssFns:[]},quotes:{cssPropBits:8,cssLitGroup:[t[70]],cssFns:[]},richness:"border-bottom-left-radius",right:"height",speak:{cssPropBits:0,cssLitGroup:[t[70],t[71],t[77]],cssFns:[]},"speak-header":{cssPropBits:0,cssLitGroup:[t[50],t[72]],cssFns:[]},"speak-numeral":{cssPropBits:0,cssLitGroup:[t[35]],cssFns:[]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[t[57],t[70]],cssFns:[]},"speech-rate":{cssPropBits:5,cssLitGroup:[t[14],t[68]],cssFns:[]},stress:"border-bottom-left-radius","table-layout":{cssPropBits:0,cssLitGroup:[t[51],t[60]],cssFns:[]},"text-align":{cssPropBits:0,cssLitGroup:[t[41],t[55],t[65]],cssFns:[]},"text-decoration":{cssPropBits:0,cssLitGroup:[t[19],t[70]],cssFns:[]},"text-indent":"border-bottom-left-radius","text-overflow":{cssPropBits:0,cssLitGroup:[t[33]],cssFns:[]},"text-shadow":"box-shadow","text-transform":{cssPropBits:0,cssLitGroup:[t[26],t[70]],cssFns:[]},"text-wrap":{cssPropBits:0,cssLitGroup:[t[45],t[70],t[71]],cssFns:[]},top:"height",transform:{cssPropBits:0,cssLitGroup:[t[70]],cssFns:["matrix()","perspective()","rotate()","rotate3d()","rotatex()","rotatey()","rotatez()","scale()","scale3d()","scalex()","scaley()","scalez()","skew()","skewx()","skewy()","translate()","translate3d()","translatex()","translatey()","translatez()"]},"transform-origin":"perspective-origin","transform-style":{cssPropBits:0,cssLitGroup:[t[37]],cssFns:[]},transition:{cssPropBits:1029,cssLitGroup:[t[10],t[47],t[49],t[70]],cssFns:["cubic-bezier()","steps()"]},"transition-delay":"animation-delay","transition-duration":"animation-delay","transition-property":{cssPropBits:1024,cssLitGroup:[t[47],t[49]],cssFns:[]},"transition-timing-function":"animation-timing-function","unicode-bidi":{cssPropBits:0,cssLitGroup:[t[30],t[71]],cssFns:[]},"vertical-align":{cssPropBits:5,cssLitGroup:[t[12],t[31]],cssFns:[]},visibility:{cssPropBits:32,cssLitGroup:[t[58],t[61],t[80]],cssFns:[]},"voice-family":{cssPropBits:8,cssLitGroup:[t[27],t[47]],cssFns:[]},volume:{cssPropBits:1,cssLitGroup:[t[17],t[68]],cssFns:[]},"white-space":{cssPropBits:0,cssLitGroup:[t[22],t[71]],cssFns:[]},width:{cssPropBits:33,cssLitGroup:[t[51]],cssFns:[]},"word-break":{cssPropBits:0,cssLitGroup:[t[32],t[71]],cssFns:[]},"word-spacing":"letter-spacing","word-wrap":"overflow-wrap","z-index":"bottom",zoom:"line-height","cubic-bezier()":"animation-delay","steps()":{cssPropBits:5,cssLitGroup:[t[36],t[47]],cssFns:[]},"image()":{cssPropBits:18,cssLitGroup:[t[0],t[47]],cssFns:["rgb()","rgba()"]},"linear-gradient()":{cssPropBits:7,cssLitGroup:[t[0],t[31],t[41],t[47],t[78]],cssFns:["rgb()","rgba()"]},"radial-gradient()":{cssPropBits:7,cssLitGroup:[t[0],t[11],t[31],t[41],t[47],t[55],t[56]],cssFns:["rgb()","rgba()"]},"repeating-linear-gradient()":"linear-gradient()","repeating-radial-gradient()":"radial-gradient()","rgb()":{cssPropBits:1,cssLitGroup:[t[47]],cssFns:[]},"rgba()":"rgb()","rect()":{cssPropBits:5,cssLitGroup:[t[47],t[51]],cssFns:[]},"alpha()":{cssPropBits:1,cssLitGroup:[t[28]],cssFns:[]},"matrix()":"animation-delay","perspective()":"border-bottom-left-radius","rotate()":"border-bottom-left-radius","rotate3d()":"animation-delay","rotatex()":"border-bottom-left-radius","rotatey()":"border-bottom-left-radius","rotatez()":"border-bottom-left-radius","scale()":"animation-delay","scale3d()":"animation-delay","scalex()":"border-bottom-left-radius","scaley()":"border-bottom-left-radius","scalez()":"border-bottom-left-radius","skew()":"animation-delay","skewx()":"border-bottom-left-radius","skewy()":"border-bottom-left-radius","translate()":"animation-delay","translate3d()":"animation-delay","translatex()":"border-bottom-left-radius","translatey()":"border-bottom-left-radius","translatez()":"border-bottom-left-radius"};for(var n in e)"string"==typeof e[n]&&Object.hasOwnProperty.call(e,n)&&(e[n]=e[e[n]]);return e}();"undefined"!=typeof s&&(s.cssSchema=_);var m,v;!function(){function t(t){var e=parseInt(t.substring(1),16);return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):e==e?String.fromCharCode(e):t[1]<" "?"":t[1]}function e(t,e){return'"'+t.replace(/[\u0000-\u001f\\\"<>]/g,e)+'"'}function n(t){return i[t]||(i[t]="\\"+t.charCodeAt(0).toString(16)+" ")}function r(t){return s[t]||(s[t]=(t<""?"%0":"%")+t.charCodeAt(0).toString(16))}var i={"\\":"\\\\"},s={"\\":"%5c"},a="[\\t\\n\\f ]",o=a+"*",c="[\\n\\f]",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+l,d="[0-9a-fA-F]{1,6}"+a+"?",p="(?:"+d+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+l+")",h="\\\\"+p,f="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+u+"|"+h+")",_="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]",y="\"(?:'|"+_+')*"|\'(?:"|'+_+")*'",b="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)",g="(?:[a-zA-Z_]|"+u+"|"+h+")",k="(?:[a-zA-Z0-9_-]|"+u+"|"+h+")",w="-?"+g+k+"*",E="(?:@?-?"+g+"|#)"+k+"*",x=b+"(?:%|"+w+")?",M="url[(]"+o+"(?:"+y+"|"+f+"*)"+o+"[)]",A="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?",T="<!--",C="-->",S=a+"+",I="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)",O="(?!url[(])"+w+"[(]",j="[~|^$*]=",P="[^\"'\\\\/]|/(?![/*])",B="\\uFEFF",D=new RegExp([B,A,M,O,E,y,x,T,C,S,I,j,P].join("|"),"gi"),R=new RegExp("\\\\(?:"+p+"|"+c+")","g"),N=new RegExp("^url\\("+o+"[\"']?|[\"']?"+o+"\\)$","gi");v=function(e){return e.replace(R,t)},m=function(t){t=""+t;for(var i=t.replace(/\r\n?/g,"\n").match(D)||[],s=0,a=" ",o=0,c=i.length;o<c;++o){var l=v(i[o]),u=l.length,d=l.charCodeAt(0);l=d=='"'.charCodeAt(0)||d=="'".charCodeAt(0)?e(l.substring(1,u-1),n):d=="/".charCodeAt(0)&&u>1||"\\"==l||l==C||l==T||"\ufeff"==l||d<=" ".charCodeAt(0)?" ":/url\(/i.test(l)?"url("+e(l.replace(N,""),r)+")":l,a==l&&" "==l||(i[s++]=a=l)}return i.length=s,i}}(),"undefined"!=typeof s&&(s.lexCss=m,s.decodeCss=v);var y=function(){function t(t){var e=(""+t).match(h);return e?new c(l(e[1]),l(e[2]),l(e[3]),l(e[4]),l(e[5]),l(e[6]),l(e[7])):null}function e(t,e,s,a,o,l,u){var d=new c(r(t,f),r(e,f),n(s),a>0?a.toString():null,r(o,_),null,n(u));return l&&("string"==typeof l?d.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,i)):d.setAllParameters(l)),d}function n(t){return"string"==typeof t?encodeURIComponent(t):null}function r(t,e){return"string"==typeof t?encodeURI(t).replace(e,i):null}function i(t){var e=t.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}function s(t){return t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function a(t){if(null===t)return null;for(var e,n=s(t),r=d;(e=n.replace(r,"$1"))!=n;n=e);return n}function o(t,e){var n=t.clone(),r=e.hasScheme();r?n.setRawScheme(e.getRawScheme()):r=e.hasCredentials(),r?n.setRawCredentials(e.getRawCredentials()):r=e.hasDomain(),r?n.setRawDomain(e.getRawDomain()):r=e.hasPort();var i=e.getRawPath(),s=a(i);if(r)n.setPort(e.getPort()),s=s&&s.replace(p,"");else if(r=!!i){if(47!==s.charCodeAt(0)){var o=a(n.getRawPath()||"").replace(p,""),c=o.lastIndexOf("/")+1;s=a((c?o.substring(0,c):"")+a(i)).replace(p,"")}}else s=s&&s.replace(p,""),s!==i&&n.setRawPath(s);return r?n.setRawPath(s):r=e.hasQuery(),r?n.setRawQuery(e.getRawQuery()):r=e.hasFragment(),r&&n.setRawFragment(e.getRawFragment()),n}function c(t,e,n,r,i,s,a){this.scheme_=t,this.credentials_=e,this.domain_=n,this.port_=r,this.path_=i,this.query_=s,this.fragment_=a,this.paramCache_=null}function l(t){return"string"==typeof t&&t.length>0?t:null}var u=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),d=new RegExp(u),p=/^(?:\.\.\/)*(?:\.\.$)?/;c.prototype.toString=function(){var t=[];return null!==this.scheme_&&t.push(this.scheme_,":"),null!==this.domain_&&(t.push("//"),null!==this.credentials_&&t.push(this.credentials_,"@"),t.push(this.domain_),null!==this.port_&&t.push(":",this.port_.toString())),null!==this.path_&&t.push(this.path_),null!==this.query_&&t.push("?",this.query_),null!==this.fragment_&&t.push("#",this.fragment_),t.join("")},c.prototype.clone=function(){return new c(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},c.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},c.prototype.getRawScheme=function(){return this.scheme_},c.prototype.setScheme=function(t){return this.scheme_=r(t,f),this},c.prototype.setRawScheme=function(t){return this.scheme_=t?t:null,this},c.prototype.hasScheme=function(){return null!==this.scheme_},c.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},c.prototype.getRawCredentials=function(){return this.credentials_},c.prototype.setCredentials=function(t){return this.credentials_=r(t,f),this},c.prototype.setRawCredentials=function(t){return this.credentials_=t?t:null,this},c.prototype.hasCredentials=function(){return null!==this.credentials_},c.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},c.prototype.getRawDomain=function(){return this.domain_},c.prototype.setDomain=function(t){return this.setRawDomain(t&&encodeURIComponent(t))},c.prototype.setRawDomain=function(t){return this.domain_=t?t:null,this.setRawPath(this.path_)},c.prototype.hasDomain=function(){return null!==this.domain_},c.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},c.prototype.setPort=function(t){if(t){if(t=Number(t),t!==(65535&t))throw new Error("Bad port number "+t);this.port_=""+t}else this.port_=null;return this},c.prototype.hasPort=function(){return null!==this.port_},c.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},c.prototype.getRawPath=function(){return this.path_},c.prototype.setPath=function(t){return this.setRawPath(r(t,_))},c.prototype.setRawPath=function(t){return t?(t=String(t),this.path_=!this.domain_||/^\//.test(t)?t:"/"+t):this.path_=null,this},c.prototype.hasPath=function(){return null!==this.path_},c.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},c.prototype.getRawQuery=function(){return this.query_},c.prototype.setQuery=function(t){return this.paramCache_=null,this.query_=n(t),this},c.prototype.setRawQuery=function(t){return this.paramCache_=null,this.query_=t?t:null,this},c.prototype.hasQuery=function(){return null!==this.query_},c.prototype.setAllParameters=function(t){if("object"==typeof t&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e=[],n=-1;for(var r in t){var i=t[r];"string"==typeof i&&(e[++n]=r,e[++n]=i)}t=e}this.paramCache_=null;for(var s=[],a="",o=0;o<t.length;){var r=t[o++],i=t[o++];s.push(a,encodeURIComponent(r.toString())),a="&",i&&s.push("=",encodeURIComponent(i.toString()))}return this.query_=s.join(""),this},c.prototype.checkParameterCache_=function(){if(!this.paramCache_){var t=this.query_;if(t){for(var e=t.split(/[&\?]/),n=[],r=-1,i=0;i<e.length;++i){var s=e[i].match(/^([^=]*)(?:=(.*))?$/);n[++r]=decodeURIComponent(s[1]).replace(/\+/g," "),n[++r]=decodeURIComponent(s[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},c.prototype.setParameterValues=function(t,e){"string"==typeof e&&(e=[e]),this.checkParameterCache_();for(var n=0,r=this.paramCache_,i=[],s=0;s<r.length;s+=2)t===r[s]?n<e.length&&i.push(t,e[n++]):i.push(r[s],r[s+1]);for(;n<e.length;)i.push(t,e[n++]);return this.setAllParameters(i),this},c.prototype.removeParameter=function(t){return this.setParameterValues(t,[])},c.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},c.prototype.getParameterValues=function(t){this.checkParameterCache_();for(var e=[],n=0;n<this.paramCache_.length;n+=2)t===this.paramCache_[n]&&e.push(this.paramCache_[n+1]);return e},c.prototype.getParameterMap=function(t){this.checkParameterCache_();for(var e={},n=0;n<this.paramCache_.length;n+=2){var r=this.paramCache_[n++],i=this.paramCache_[n++];r in e?e[r].push(i):e[r]=[i]}return e},c.prototype.getParameterValue=function(t){this.checkParameterCache_();for(var e=0;e<this.paramCache_.length;e+=2)if(t===this.paramCache_[e])return this.paramCache_[e+1];return null},c.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},c.prototype.getRawFragment=function(){return this.fragment_},c.prototype.setFragment=function(t){return this.fragment_=t?encodeURIComponent(t):null,this},c.prototype.setRawFragment=function(t){return this.fragment_=t?t:null,this},c.prototype.hasFragment=function(){return null!==this.fragment_};var h=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),f=/[#\/\?@]/g,_=/[\#\?]/g;return c.parse=t,c.create=e,c.resolve=o,c.collapse_dots=a,c.utils={mimeTypeOf:function(e){var n=t(e);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(e,n){return e?o(t(e),t(n)).toString():""+n}},c}();"undefined"!=typeof s&&(s.URI=y);var b=void 0,g=void 0,k=void 0,w=void 0,E=void 0;if(function(){function t(t){return"string"==typeof t?'url("'+t.replace(M,e)+'")':m}function e(t){return T[t]}function n(t,e){return t?y.utils.resolve(t,e):e}function r(t,e,n){if(!n)return null;var r=(""+t).match(C);return!r||r[1]&&!S.test(r[1])?null:n(t,e)}function i(t){return t.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/,"")}var m='url("about:blank")',M=/[\n\f\r\"\'()*<>]/g,T={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},C=new RegExp("^(?:([^:/?# ]+):)?"),S=/^(?:https?|mailto)$/i;b=function(){function e(t){for(var e={},n=t.length;--n>=0;)for(var r=t[n],i=r.length;--i>=0;)e[r[i]]=s;return e}var s={};return function p(y,b,g,k,w){function E(t,e){for(var n=1,r=e+1,s=t.length;r<s&&n;){var a=t[r++];n+=")"===a?-1:/^[^"']*\($/.test(a)}if(!n)for(var o=t[e].toLowerCase(),c=i(o),l=t.splice(e,r-e,""),u=M.cssFns,d=0,h=u.length;d<h;++d)if(u[d].substring(0,c.length)==c)return l[0]=l[l.length-1]="",p(u[d],l,g,k),o+l.join(" ")+")";return""}var x=i(y),M=_[x];if(!M||"object"!=typeof M)return void(b.length=0);for(var A=M.cssPropBits,T=80&A,C=1536&A,S=NaN,I=0,O=0;I<b.length;++I){var j,P,B,D,R,N,L=b[I].toLowerCase(),F=L.charCodeAt(0);L=F===" ".charCodeAt(0)?"":F==='"'.charCodeAt(0)?T===u?g?t(r(n(k,v(b[I].substring(1,L.length-1))),x,g)):"":A&l&&!(T&T-1)?L:"":"inherit"===L?L:(R=M.cssLitGroup,N=R?M.cssLitMap||(M.cssLitMap=e(R)):s,N[i(L)]===s?L:F==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(L)?A&o?L:"":"0".charCodeAt(0)<=F&&F<="9".charCodeAt(0)?A&a?L:"":(j=L.charCodeAt(1),P=L.charCodeAt(2),B="0".charCodeAt(0)<=j&&j<="9".charCodeAt(0),D="0".charCodeAt(0)<=P&&P<="9".charCodeAt(0),F==="+".charCodeAt(0)&&(B||j===".".charCodeAt(0)&&D)?A&a?(B?"":"0")+L.substring(1):"":F==="-".charCodeAt(0)&&(B||j===".".charCodeAt(0)&&D)?A&c?(B?"-":"-0")+L.substring(1):A&a?"0":"":F===".".charCodeAt(0)&&B?A&a?"0"+L:"":'url("'===L.substring(0,5)?g&&A&u?t(r(n(k,b[I].substring(5,L.length-2)),x,g)):"":"("===L.charAt(L.length-1)?E(b,I):C&&/^-?[a-z_][\w\-]*$/.test(L)&&!/__$/.test(L)?w&&C===h?b[I]+w:C===f&&_[L]&&"number"==typeof _[L].cssPropBits?L:"":/^\w+$/.test(L)&&T===d&&A&l?S+1===O?(b[S]=b[S].substring(0,b[S].length-1)+" "+L+'"',L=""):(S=O,'"'+L+'"'):"")),L&&(b[O++]=L)}1===O&&b[0]===m&&(O=0),b.length=O}}();var I=/^(active|after|before|first-child|first-letter|focus|hover)$/,O=/^(link|visited)$/,j={};j[">"]=j["+"]=j["~"]=j,g=function(t,e,n){
function r(r,i){function s(n,r,i){var s,a,l,u,h,f=!0;if(s="",n<r)if(h=t[n],"*"===h)++n,s=h;else if(/^[a-zA-Z]/.test(h)){var _=c(h.toLowerCase(),[]);_&&("tagName"in _&&(h=_.tagName),++n,s=h)}for(a="",l="",u="";f&&n<r;++n)if(h=t[n],"#"===h.charAt(0))/^#_|__$|[^\w#:\-]/.test(h)?f=!1:a+=h+o;else if("."===h)++n<r&&/^[0-9A-Za-z:_\-]+$/.test(h=t[n])&&!/^_|__$/.test(h)?a+="."+h:f=!1;else if(n+1<r&&"["===t[n]){++n;var m=t[n++].toLowerCase(),v=A.ATTRIBS[s+"::"+m];v!==+v&&(v=A.ATTRIBS["*::"+m]);var y;e.virtualizeAttrName?(y=e.virtualizeAttrName(s,m),"string"!=typeof y&&(f=!1,y=m),f&&v!==+v&&(v=A.atype.NONE)):(y=m,v!==+v&&(f=!1));var b="",g="",k=!1;switch(/^[~^$*|]?=$/.test(t[n])&&(b=t[n++],g=t[n++],/^[0-9A-Za-z:_\-]+$/.test(g)?g='"'+g+'"':"]"===g&&(g='""',--n),/^"([^\"\\]|\\.)*"$/.test(g)||(f=!1),k="i"===t[n],k&&++n),"]"!==t[n]&&(++n,f=!1),v){case A.atype.CLASSES:case A.atype.LOCAL_NAME:case A.atype.NONE:break;case A.atype.GLOBAL_NAME:case A.atype.ID:case A.atype.IDREF:"="!==b&&"~="!==b&&"$="!==b||'""'==g||k?"|="===b||""===b||(f=!1):g='"'+g.substring(1,g.length-1)+o+'"';break;case A.atype.URI:case A.atype.URI_FRAGMENT:""!==b&&(f=!1);break;default:f=!1}f&&(l+="["+y.replace(/[^\w-]/g,"\\$&")+b+g+(k?" i]":"]"))}else{if(!(n<r&&":"===t[n]))break;if(h=t[++n],O.test(h))/^[a*]?$/.test(s)||(f=!1),d=!0,u=":"+h,s="a";else{if(!I.test(h))break;d=!1,u=":"+h}}if(n!==r&&(f=!1),f){var w=(s+a).replace(/[^ .*#\w-]/g,"\\$&")+l+u+i;w&&p.push(w)}return f}var d=!1;" "===t[r]&&++r,i-1!==r&&" "===t[i]&&--i;for(var p=[],h=r,f=!0,_=r;f&&_<i;++_){var m=t[_];j[m]!==j&&" "!==m||(s(h,_,m)?h=_+1:f=!1)}if(s(h,i,"")||(f=!1),f){if(p.length){var v=p.join("");null!==a&&(v="."+a+" "+v),(d?l:u).push(v)}return!0}return!n||n(t.slice(r,i))}var i,s,a=e.containerClass,o=e.idSuffix,c=e.tagPolicy,l=[],u=[],d=0,p=0;for(i=0;i<t.length;++i)s=t[i],("("==s||"["==s?(++p,0):")"==s||"]"==s?(p&&--p,0):" "==t[i]&&(p||j[t[i-1]]===j||j[t[i+1]]===j))||(t[d++]=t[i]);t.length=d;var h=t.length,f=0;for(i=0;i<h;++i)if(","===t[i]){if(!r(f,i))return null;f=i+1}return r(f,h)?[u,l]:null},function(){var t="(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)",e="(?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script)",n="(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)",r="-?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?"+n+"?))",i="\\( "+e+" (?:: "+r+" )?\\)",s="(?:(?:(?:(?:only|not) )?"+t+"|"+i+")(?: and ?"+i+")*)",a=/^\w/,o=new RegExp("^"+s+"(?: , "+s+")*$","i");E=function(t){t=t.slice();for(var e=t.length,n=0,r=0;r<e;++r){var i=t[r];" "!=i&&(t[n++]=i)}t.length=n;var s=t.join(" ");return s=s.length?o.test(s)?a.test(s)?s:"not all , "+s:"not all":""}}(),function(){function t(t){for(var e=!1,n=0,r=t.length;n<r-1;++n){var i=t[n];":"===t[n+1]&&(e=!(_[i].cssPropBits&p)),e&&(t[n]=""),";"===i&&(e=!1)}return t.join("")}function e(t){var e,n=/^\s*["]([^"]*)["]\s*$/,r=/^\s*[']([^']*)[']\s*$/,i=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/,s=/^\s*url\s*[(][']([^']*)['][)]\s*$/,a=/^\s*url\s*[(]([^)]*)[)]\s*$/;return(e=n.exec(t))?e[1]:(e=r.exec(t))?e[1]:(e=i.exec(t))?e[1]:(e=s.exec(t))?e[1]:(e=a.exec(t))?e[1]:null}function i(a,o,c,l,u,d,p){function h(){v=m.length&&null===m[m.length-1]}var f=void 0,_=p||[0],m=[],v=!1;return x(o,{startStylesheet:function(){f=[]},endStylesheet:function(){},startAtrule:function(t,o){if(v)t=null;else if("@media"===t)f.push("@media"," ",E(o));else if("@keyframes"===t||"@-webkit-keyframes"===t){var p=o[0];1!==o.length||/__$|[^\w\-]/.test(p)?t=null:(f.push(t," ",p+c.idSuffix),t="@keyframes")}else if("@import"===t&&o.length>0)if(t=null,"function"==typeof d){var h=E(o.slice(1));if("not all"!==h){++_[0];var y=[];f.push(y);var b=r(n(a,e(o[0])),function(t){var e=i(b,t.html,c,l,u,d,_);--_[0];var n=h?{toString:function(){return"@media "+h+" {"+e.result+"}"}}:e.result;y[0]=n,d(n,!!_[0])},u)}}else s.console&&s.console.log("@import "+o.join(" ")+" elided");v=!t,m.push(t)},endAtrule:function(){m.pop(),v||f.push(";"),h()},startBlock:function(){v||f.push("{")},endBlock:function(){v||(f.push("}"),v=!0)},startRuleset:function(t){var e=void 0,n=!1;if(!v){var r=void 0;if("@keyframes"===m[m.length-1])r=t.join(" ").match(/^ *(?:from|to|\d+(?:\.\d+)?%) *(?:, *(?:from|to|\d+(?:\.\d+)?%) *)*$/i),v=!r,e=[],r&&(r=r[0].replace(/ +/g,""));else{var i=g(t,c),s=i[0];e=i[1],s.length||e.length?(r=s.join(", "),r||(r="head > html",n=!0)):v=!0}v||f.push(r,"{")}m.push(v?null:{historySensitiveSelectors:e,endOfSelectors:f.length-1,removeHistoryInsensitiveSelectors:n})},endRuleset:function(){var e=m.pop(),n=f.length;if(!v&&(f.push("}"),"object"==typeof e)){var r=e.historySensitiveSelectors;if(r.length){var i=f.slice(e.endOfSelectors);f.push(r.join(", "),t(i))}}e&&e.removeHistoryInsensitiveSelectors&&f.splice(e.endOfSelectors-1,n+1),h()},declaration:function(t,e){if(!v){var n=!1,r=e.length;r>=2&&"!"===e[r-2]&&"important"===e[r-1].toLowerCase()&&(n=!0,e.length-=2),b(t,e,l,a,c.idSuffix),e.length&&f.push(t,":",e.join(" "),n?" !important;":";")}}}),{result:{toString:function(){return f.join("")}},moreToCome:!!_[0]}}k=function(t,e,n,r){return i(t,e,n,r,void 0,void 0).result.toString()},w=function(t,e,n,r,s,a){return i(t,e,n,r,s,a)}}()}(),"undefined"!=typeof s&&(s.sanitizeCssProperty=b,s.sanitizeCssSelectors=g,s.sanitizeStylesheet=k,s.sanitizeMediaQuery=E),"i"!=="I".toLowerCase())throw"I/i problem";var x,M;!function(){function t(t,n,i,s){if(n<i){var a=t[n];return"@"===a.charAt(0)?e(t,n,i,s,!0):r(t,n,i,s)}return n}function e(t,e,r,i,s){for(var a=e++;e<r&&"{"!==t[e]&&";"!==t[e];)++e;if(e<r&&(s||";"===t[e])){var o=a+1,c=e;o<r&&" "===t[o]&&++o,c>o&&" "===t[c-1]&&--c,i.startAtrule&&i.startAtrule(t[a].toLowerCase(),t.slice(o,c)),e="{"===t[e]?n(t,e,r,i):e+1,i.endAtrule&&i.endAtrule()}return e}function n(t,i,s,a){for(++i,a.startBlock&&a.startBlock();i<s;){var o=t[i].charAt(0);if("}"==o){++i;break}" "===o||";"===o?i+=1:i="@"===o?e(t,i,s,a,!1):"{"===o?n(t,i,s,a):r(t,i,s,a)}return a.endBlock&&a.endBlock(),i}function r(t,e,n,r){var s=e,o=i(t,e,n,!0);if(o<0)return o=~o,o===s?o+1:o;var c=t[o];if("{"!==c)return o===s?o+1:o;for(e=o+1,o>s&&" "===t[o-1]&&--o,r.startRuleset&&r.startRuleset(t.slice(s,o));e<n;){if(c=t[e],"}"===c){++e;break}" "===c?e+=1:e=a(t,e,n,r)}return r.endRuleset&&r.endRuleset(),e}function i(t,e,n,r){for(var i,s=[],a=-1;e<n;++e)if(i=t[e].charAt(0),"["===i||"("===i)s[++a]=i;else if("]"===i&&"["===s[a]||")"===i&&"("===s[a])--a;else if("{"===i||"}"===i||";"===i||"@"===i||":"===i&&!r)break;return a>=0&&(e=~(e+1)),e}function s(t,e,n){for(;e<n&&";"!==t[e]&&"}"!==t[e];)++e;return e<n&&";"===t[e]?e+1:e}function a(t,e,n,r){var a=t[e++];if(!o.test(a))return s(t,e,n);var c;if(e<n&&" "===t[e]&&++e,e==n||":"!==t[e])return s(t,e,n);++e,e<n&&" "===t[e]&&++e;var l=e,u=i(t,e,n,!1);if(u<0)u=~u;else{for(var d=[],p=0,h=l;h<u;++h)c=t[h]," "!==c&&(d[p++]=c);if(u<n){do{if(c=t[u],";"===c||"}"===c)break;p=0}while(++u<n);";"===c&&++u}p&&r.declaration&&r.declaration(a.toLowerCase(),d)}return u}x=function(e,n){var r=m(e);n.startStylesheet&&n.startStylesheet();for(var i=0,s=r.length;i<s;)i=" "===r[i]?i+1:t(r,i,s,n);n.endStylesheet&&n.endStylesheet()};var o=/^-?[a-z]/i;M=function(t,e){for(var n=m(t),r=0,i=n.length;r<i;)r=" "!==n[r]?a(n,r,i,e):r+1}}(),"undefined"!=typeof s&&(s.parseCssStylesheet=x,s.parseCssDeclarations=M);var A={};if(A.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},A.atype=A.atype,A.ATTRIBS={"*::class":9,"*::data-*":0,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},A.ATTRIBS=A.ATTRIBS,A.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},A.eflags=A.eflags,A.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2},A.ELEMENTS=A.ELEMENTS,A.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},A.ELEMENT_DOM_INTERFACES=A.ELEMENT_DOM_INTERFACES,A.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},A.ueffects=A.ueffects,A.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},A.URIEFFECTS=A.URIEFFECTS,A.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},A.ltypes=A.ltypes,A.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},A.LOADERTYPES=A.LOADERTYPES,"undefined"!=typeof s&&(s.html4=A),"i"!=="I".toLowerCase())throw"I/i problem";var T=function(t){function e(t){if(P.hasOwnProperty(t))return P[t];var e=t.match(B);if(e)return String.fromCharCode(parseInt(e[1],10));if(e=t.match(D))return String.fromCharCode(parseInt(e[1],16));if(N&&R.test(t)){N.innerHTML="&"+t+";";var n=N.textContent;return P[t]=n,n}return"&"+t+";"}function n(t,n){return e(n)}function r(t){return t.replace(L,"")}function i(t){return t.replace(F,n)}function a(t){return(""+t).replace(z,"&amp;").replace(H,"&lt;").replace(V,"&gt;").replace(G,"&#34;")}function o(t){return t.replace(q,"&amp;$1").replace(H,"&lt;").replace(V,"&gt;")}function c(t){var e={cdata:t.cdata||t.cdata,comment:t.comment||t.comment,endDoc:t.endDoc||t.endDoc,endTag:t.endTag||t.endTag,pcdata:t.pcdata||t.pcdata,rcdata:t.rcdata||t.rcdata,startDoc:t.startDoc||t.startDoc,startTag:t.startTag||t.startTag};return function(t,n){return l(t,e,n)}}function l(t,e,n){var r=p(t),i={noMoreGT:!1,noMoreEndComments:!1};d(e,r,0,i,n)}function u(t,e,n,r,i){return function(){d(t,e,n,r,i)}}function d(e,n,r,i,s){try{e.startDoc&&0==r&&e.startDoc(s);for(var a,o,c,l=r,d=n.length;l<d;){var p=n[l++],m=n[l];switch(p){case"&":U.test(m)?(e.pcdata&&e.pcdata("&"+m,s,K,u(e,n,l,i,s)),l++):e.pcdata&&e.pcdata("&amp;",s,K,u(e,n,l,i,s));break;case"</":(a=/^([-\w:]+)[^\'\"]*/.exec(m))?a[0].length===m.length&&">"===n[l+1]?(l+=2,c=a[1].toLowerCase(),e.endTag&&e.endTag(c,s,K,u(e,n,l,i,s))):l=h(n,l,e,s,K,i):e.pcdata&&e.pcdata("&lt;/",s,K,u(e,n,l,i,s));break;case"<":if(a=/^([-\w:]+)\s*\/?/.exec(m))if(a[0].length===m.length&&">"===n[l+1]){l+=2,c=a[1].toLowerCase(),e.startTag&&e.startTag(c,[],s,K,u(e,n,l,i,s));var v=t.ELEMENTS[c];if(v&Y){var y={name:c,next:l,eflags:v};l=_(n,y,e,s,K,i)}}else l=f(n,l,e,s,K,i);else e.pcdata&&e.pcdata("&lt;",s,K,u(e,n,l,i,s));break;case"<!--":if(!i.noMoreEndComments){for(o=l+1;o<d&&(">"!==n[o]||!/--$/.test(n[o-1]));o++);if(o<d){if(e.comment){var b=n.slice(l,o).join("");e.comment(b.substr(0,b.length-2),s,K,u(e,n,o+1,i,s))}l=o+1}else i.noMoreEndComments=!0}i.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",s,K,u(e,n,l,i,s));break;case"<!":if(/^\w/.test(m)){if(!i.noMoreGT){for(o=l+1;o<d&&">"!==n[o];o++);o<d?l=o+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",s,K,u(e,n,l,i,s))}else e.pcdata&&e.pcdata("&lt;!",s,K,u(e,n,l,i,s));break;case"<?":if(!i.noMoreGT){for(o=l+1;o<d&&">"!==n[o];o++);o<d?l=o+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",s,K,u(e,n,l,i,s));break;case">":e.pcdata&&e.pcdata("&gt;",s,K,u(e,n,l,i,s));break;case"":break;default:e.pcdata&&e.pcdata(p,s,K,u(e,n,l,i,s))}}e.endDoc&&e.endDoc(s)}catch(t){if(t!==K)throw t}}function p(t){var e=/(<\/|<\!--|<[!?]|[&<>])/g;if(t+="",W)return t.split(e);for(var n,r=[],i=0;null!==(n=e.exec(t));)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r}function h(t,e,n,r,i,s){var a=m(t,e);return a?(n.endTag&&n.endTag(a.name,r,i,u(n,t,e,s,r)),a.next):t.length}function f(t,e,n,r,i,s){var a=m(t,e);return a?(n.startTag&&n.startTag(a.name,a.attrs,r,i,u(n,t,a.next,s,r)),a.eflags&Y?_(t,a,n,r,i,s):a.next):t.length}function _(e,n,r,i,s,a){var c=e.length;X.hasOwnProperty(n.name)||(X[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=X[n.name],d=n.next,p=n.next+1;p<c&&("</"!==e[p-1]||!l.test(e[p]));p++);p<c&&(p-=1);var h=e.slice(d,p).join("");if(n.eflags&t.eflags.CDATA)r.cdata&&r.cdata(h,i,s,u(r,e,p,a,i));else{if(!(n.eflags&t.eflags.RCDATA))throw new Error("bug");r.rcdata&&r.rcdata(o(h),i,s,u(r,e,p,a,i))}return p}function m(e,n){var r=/^([-\w:]+)/.exec(e[n]),i={};i.name=r[1].toLowerCase(),i.eflags=t.ELEMENTS[i.name];for(var s=e[n].substr(r[0].length),a=n+1,o=e.length;a<o&&">"!==e[a];a++)s+=e[a];if(!(o<=a)){for(var c=[];""!==s;)if(r=$.exec(s)){if(r[4]&&!r[5]||r[6]&&!r[7]){for(var l=r[4]||r[6],u=!1,d=[s,e[a++]];a<o;a++){if(u){if(">"===e[a])break}else 0<=e[a].indexOf(l)&&(u=!0);d.push(e[a])}if(o<=a)break;s=d.join("");continue}var p=r[1].toLowerCase(),h=r[2]?v(r[3]):"";c.push(p,h),s=s.substr(r[0].length)}else s=s.replace(/^[\s\S][^a-z\s]*/,"");return i.attrs=c,i.next=a+1,i}}function v(t){var e=t.charCodeAt(0);return 34!==e&&39!==e||(t=t.substr(1,t.length-2)),i(r(t))}function b(e){var n,r,i=function(t,e){r||e.push(t)};return c({startDoc:function(t){n=[],r=!1},startTag:function(i,s,o){if(!r&&t.ELEMENTS.hasOwnProperty(i)){var c=t.ELEMENTS[i];if(!(c&t.eflags.FOLDABLE)){var l=e(i,s);if(!l)return void(r=!(c&t.eflags.EMPTY));if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");s=l.attribs;var u,d;if("tagName"in l?(d=l.tagName,u=t.ELEMENTS[d]):(d=i,u=c),c&t.eflags.OPTIONAL_ENDTAG){var p=n[n.length-1];!p||p.orig!==i||p.rep===d&&i===d||o.push("</",p.rep,">")}c&t.eflags.EMPTY||n.push({orig:i,rep:d}),o.push("<",d);for(var h=0,f=s.length;h<f;h+=2){var _=s[h],m=s[h+1];null!==m&&void 0!==m&&o.push(" ",_,'="',a(m),'"')}o.push(">"),c&t.eflags.EMPTY&&!(u&t.eflags.EMPTY)&&o.push("</",d,">")}}},endTag:function(e,i){if(r)return void(r=!1);if(t.ELEMENTS.hasOwnProperty(e)){var s=t.ELEMENTS[e];if(!(s&(t.eflags.EMPTY|t.eflags.FOLDABLE))){var a;if(s&t.eflags.OPTIONAL_ENDTAG)for(a=n.length;--a>=0;){var o=n[a].orig;if(o===e)break;if(!(t.ELEMENTS[o]&t.eflags.OPTIONAL_ENDTAG))return}else for(a=n.length;--a>=0&&n[a].orig!==e;);if(a<0)return;for(var c=n.length;--c>a;){var l=n[c].rep;t.ELEMENTS[l]&t.eflags.OPTIONAL_ENDTAG||i.push("</",l,">")}a<n.length&&(e=n[a].rep),n.length=a,i.push("</",e,">")}}},pcdata:i,rcdata:i,cdata:i,endDoc:function(t){for(;n.length;n.length--)t.push("</",n[n.length-1].rep,">")}})}function g(t,e,n,r,i){if(!i)return null;try{var s=y.parse(""+t);if(s&&(!s.hasScheme()||Q.test(s.getScheme()))){var a=i(s,e,n,r);return a?a.toString():null}}catch(t){return null}return null}function k(t,e,n,r,i){if(n||t(e+" removed",{change:"removed",tagName:e}),r!==i){var s="changed";r&&!i?s="removed":!r&&i&&(s="added"),t(e+"."+n+" "+s,{change:s,tagName:e,attribName:n,oldValue:r,newValue:i})}}function w(t,e,n){var r;return r=e+"::"+n,t.hasOwnProperty(r)?t[r]:(r="*::"+n,t.hasOwnProperty(r)?t[r]:void 0)}function E(e,n){return w(t.LOADERTYPES,e,n)}function x(e,n){return w(t.URIEFFECTS,e,n)}function M(t){var e=/data-\w+/g;return e.test(t)}function A(e,n,r,i,s){for(var a=0;a<n.length;a+=2){var o,c=n[a],l=n[a+1],u=l,d=null;if(o=e+"::"+c,(t.ATTRIBS.hasOwnProperty(o)||(o="*::"+c,t.ATTRIBS.hasOwnProperty(o))||(o="*::data-*",M(c)))&&(d=t.ATTRIBS[o]),null!==d)switch(d){case t.atype.NONE:break;case t.atype.SCRIPT:l=null,s&&k(s,e,c,u,l);break;case t.atype.STYLE:if("undefined"==typeof I){l=null,s&&k(s,e,c,u,l);break}var p=[];I(l,{declaration:function(e,n){var i=e.toLowerCase();O(i,n,r?function(e){return g(e,t.ueffects.SAME_DOCUMENT,t.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:i},r)}:null),n.length&&p.push(i+": "+n.join(" "))}}),l=p.length>0?p.join(" ; "):null,s&&k(s,e,c,u,l);break;case t.atype.ID:case t.atype.IDREF:case t.atype.IDREFS:case t.atype.GLOBAL_NAME:case t.atype.LOCAL_NAME:case t.atype.CLASSES:l=i?i(l):l,s&&k(s,e,c,u,l);break;case t.atype.URI:l=g(l,x(e,c),E(e,c),{TYPE:"MARKUP",XML_ATTR:c,XML_TAG:e},r),s&&k(s,e,c,u,l);break;case t.atype.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=i?i(l):l,null!==l&&void 0!==l&&(l="#"+l)):l=null,s&&k(s,e,c,u,l);break;default:l=null,s&&k(s,e,c,u,l)}else l=null,s&&k(s,e,c,u,l);n[a+1]=l}return n}function T(e,n,r){return function(i,s){return t.ELEMENTS[i]&t.eflags.UNSAFE?void(r&&k(r,i,void 0,void 0,void 0)):{attribs:A(i,s,e,n,r)}}}function C(t,e){var n=[];return b(e)(t,n),n.join("")}function S(t,e,n,r){var i=T(e,n,r);return C(t,i)}var I,O,j;"undefined"!=typeof s&&(I=s.parseCssDeclarations,O=s.sanitizeCssProperty,j=s.cssSchema);var P={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},B=/^#(\d+)$/,D=/^#x([0-9A-Fa-f]+)$/,R=/^[A-Za-z][A-za-z0-9]+$/,N="undefined"!=typeof s&&s.document?s.document.createElement("textarea"):null,L=/\0/g,F=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,U=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,z=/&/g,q=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,H=/[<]/g,V=/>/g,G=/\"/g,$=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),W=3==="a,b".split(/(,)/).length,Y=t.eflags.CDATA|t.eflags.RCDATA,K={},X={},Q=/^(?:https?|mailto)$/i,J={};return J.escapeAttrib=J.escapeAttrib=a,J.makeHtmlSanitizer=J.makeHtmlSanitizer=b,J.makeSaxParser=J.makeSaxParser=c,J.makeTagPolicy=J.makeTagPolicy=T,J.normalizeRCData=J.normalizeRCData=o,J.sanitize=J.sanitize=S,J.sanitizeAttribs=J.sanitizeAttribs=A,J.sanitizeWithPolicy=J.sanitizeWithPolicy=C,J.unescapeEntities=J.unescapeEntities=i,J}(A);e.escapeAttrib=T.escapeAttrib,e.makeHtmlSanitizer=T.makeHtmlSanitizer,e.makeSaxParser=T.makeSaxParser,e.makeTagPolicy=T.makeTagPolicy,e.normalizeRCData=T.normalizeRCData,e.sanitize=T.sanitize,e.smartSanitize=function(t,e,n){return t=t.replace(/<([a-zA-Z]+)([^>]*)\/>/g,"<$1$2></$1>"),T.sanitize(t,e,n)},e.sanitizeAttribs=T.sanitizeAttribs,e.sanitizeWithPolicy=T.sanitizeWithPolicy,e.unescapeEntities=T.unescapeEntities}),require.define("List",function(t,e,n,r,i){function s(t,e){var n;if(!(this instanceof s)){if(null==t)return new s;switch(o.getType(t)){case o.ARRAY:t=new s(t);break;case o.OBJECT:if(!(t instanceof s)){(!o.isNumber(t.length)||t.length<0)&&(t.length=o.isArray(t.map)?t.map.length:0);var r=new s(_.call(t));r.map=o.toArray(t.map,r.map),r.id=t.id||r.id,r.type=o.toString(t.type,r.type),t=r}break;case o.STRING:t=s(JSON.parse(t))}if("function"==typeof e)for(n=t.length;n--;)this[n]=new e(t[n]);return t}switch(this.length=0,this.map=[],arguments.length){case 0:return this;case 1:switch(o.getType(t)){case o.NUMBER:return this.length=t,this;case o.ARRAY:break;default:t=arguments}break;default:t=arguments}return m.call(this,0,-1),p.apply(this,t),this}var a=n("EventEmitter"),o=n("util"),c=Array.prototype,l=c.concat,u=c.join,d=c.pop,p=c.push,h=c.reverse,f=c.shift,_=c.slice,m=(c.sort,c.splice),v=c.unshift,y=c.indexOf,b=c.valueOf;s.isList=function(t){return t instanceof s},o.inherits(s,a),s.prototype.EVENT_ADD="add",s.prototype.EVENT_REMOVE="remove",s.prototype.EVENT_UPDATE="update",s.prototype.length=0,s.prototype.id=null,s.prototype.map=null,s.prototype.concat=function(t){return new s(l.call(this,t))},s.prototype.join=u,s.prototype.pop=function(){var t=d.call(this);return this.emit(this.EVENT_REMOVE,[t],[this.map.pop()]),t},s.prototype.push=function(){var t=this.length,e=arguments.length;return 0===e?e=t:(e=p.apply(this,arguments),this.map.length=e,this.emit(this.EVENT_ADD,_.call(arguments),this.map.slice(t))),e},s.prototype.reverse=function(){return h.call(this),this.map.reverse(),this.emit(this.EVENT_UPDATE),this},s.prototype.shift=function(){var t=f.call(this);return this.emit(this.EVENT_REMOVE,[t],[this.map.shift()]),t},s.prototype.slice=function(t,e){return new s(_.call(this,t,e))},s.prototype.splice=function(t,e){var n,r,i,a,o,c=this.length;return t===c||e<0?new s:(t<0&&(t=c+t),t+e>c&&(e=c-t),n=_.call(arguments),n[0]=t,n[1]=e,c=n.length-2,i=n.slice(2),r=m.apply(this,n),a=new Array(c),n.length=2,p.apply(n,a),o=m.apply(this.map,n),e>0&&this.emit(this.EVENT_REMOVE,r,o),c&&this.emit(this.EVENT_ADD,i,a),new s(r))},s.prototype.unshift=function(){var t=v.apply(this,arguments),e=new Array(arguments.length);return v.apply(this.map,e),this.emit(this.EVENT_ADD,_.call(arguments),e),t},s.prototype.indexOf=y||function(t){for(var e=this.length;e;)if(this[--e]===t)return e;return-1},s.prototype.get=function(t){return this[this.getIndexById(t)]},s.prototype.set=function(t,e){var n=null==t?-1:this.getIndexById(t);return n===-1?n=this.push(e)-1:this.setItemByIndex(n,e),this.map[n]=t,this},s.prototype.remove=function(t){return this.removeItems(this.getIndexById(t))},s.prototype.getIdByIndex=function(t){return this.map[t]},s.prototype.getIndexById=function(t){return this.indexOf.call(this.map,t)},s.prototype.hasItem=function(t){return this.getIndexById(t)in this},s.prototype.getItemByIndex=function(t){return this[t]},s.prototype.setItemByIndex=function(t,e){var n;return o.isNumber(t)&&t>=0&&(n=[this.map[t]],t in this&&this.emit(this.EVENT_REMOVE,[this[t]],n),this[t]=e,++t>this.length&&(this.length=t),this.map.length=this.length,this.emit(this.EVENT_ADD,[e],n)),this},s.prototype.move=function(t,e){var n=this.getIndexById(t);return m.call(this,e,0,m.call(this,n,1)),this.map.splice(e,0,this.map.splice(n,1)),this.emit(this.EVENT_UPDATE)},s.prototype.setId=function(t,e){return o.isNumber(t)&&t in this&&(this.map[t]=e),this},s.prototype.removeItems=function(t,e){return o.isNumber(t)&&t in this&&(e=o.isNumber(e)?e-t:1,this.emit(this.EVENT_REMOVE,m.call(this,t,e),this.map.splice(t,e))),this},s.prototype.removeItemByIndex=s.prototype.removeItems,s.prototype.toArray=function(){return _.call(this)},s.prototype.toObject=function(t){var e=this.map;t=o.toObject(t);for(var n=this.map.length;n;)t[e[--n]]=this[n];return t},s.prototype.toString=function(){return this instanceof s?JSON.stringify(this.toJSON()):this},s.prototype.toJSON=function(){var t={id:this.id,type:this.type,length:0};return this.map.length&&(t.map=this.map),p.apply(t,this.toArray()),t},s.prototype.copy=function(){return new s(this.toArray())},s.prototype.keys=function(){return this.map.slice(0)},s.prototype.valueOf=b,t.exports=s}),require.define("Element",function(t,e,n,r,i){function s(t){return t=o.toObject(t),this.id=o.toString(t.id),this.name=o.toString(t.name),this}var a=n("EventEmitter"),o=n("util");s.TYPE="ITEM",s.type={},s.type[s.TYPE]=s,s.isElement=function(t){return t instanceof s},s.parse=function(t){return o.isString(t)?JSON.parse(t):null==t?{}:t},s.create=function(t,e){var n;if(t=s.parse(t),n=null==t?s.TYPE:t.type,s.type.hasOwnProperty(n))return new s.type[n](t,e);if(e===!0)throw new Error("Element type "+n+" is not defined");return t},s.validate=function(t,e){var n;if(null==t?n="Validated object is not defined":o.isString(t.id)?o.isString(t.name)||(n='Property "name" must be a non-empty string'):n='Property "id" must be a non-empty string',n){if(o.isBoolean(e)&&e)throw new Error(n);return new Error(n)}return null},o.inherits(s,a),s.prototype.EVENT_CHANGE="change",s.prototype.type=s.TYPE,s.prototype.id=null,s.prototype.name=null,s.prototype.toObject=function(t,e){return t=o.toObject(t),this.constructor.call(t,this,e),t.type=this.type,t},s.prototype.toString=function(t){return JSON.stringify(this.toObject(null,t))},s.prototype.toJSON=function(t){return this.toObject(null,t)},s.prototype.set=function(t,e){if(this.hasOwnProperty(t)){
var n=this[t];n!==e&&(this[t]=e,this.emit(this.EVENT_CHANGE,t,n,e))}return this},t.exports=s}),require.define("Offer",function(t,e,n,r,i){function s(t,e){if(t=o.parse(t),o.call(this,t,e),this.type=s.validate(t,e)?s.TYPE:o.TYPE,this.shopId=c.toNumber(t.shopId),this.modelId=c.toNumber(t.modelId),this.vendorId=c.toNumber(t.vendorId),this.clusterId=c.toString(t.clusterId),this.hid=c.toNumber(t.hid),this.cpa=c.toString(t.cpa,"no"),this.urlCpa=c.toString(t.urlCpa),this.cpc=c.toString(t.cpc),this.onStock=c.toBoolean(t.onStock),this.fee=c.toString(t.fee),this.feeOffer=c.toNumber(t.feeOffer),this.price=c.toNumber(t.price),this.count=c.toNumber(t.count,1),this.feedId=c.toNumber(t.feedId),this.currency=c.toString(t.currency),this.description=c.toString(t.description),this.offerId=c.toString(t.offerId),this.outletId=c.toString(t.outletId),this.outletRegionId=c.toNumber(t.outletRegionId),this.manufacturerWarranty=a(t.manufacturerWarranty),this.sellerWarranty=a(t.sellerWarranty),this.countryOfOrigin=c.toString(t.countryOfOrigin),this.images=c.toArray(t.images),this.delivery=new s.Delivery(t.delivery),this instanceof s&&this.delivery.delegate(this,this.delivery.EVENT_CHANGE,this.EVENT_CHANGE),this.shopName=c.toString(t.shopName),this.qualityRating=c.toNumber(t.qualityRating),this instanceof s&&c.isArray(this.images))for(var n=this.images.length;n--;)this.images[n]=new s.Image(this.images[n]);this.shopOutletsCount=c.toNumber(t.shopOutletsCount),this.shopStoresCount=c.toNumber(t.shopStoresCount),this.shopBookNowStoresCount=c.toNumber(t.shopBookNowStoresCount),this.shopPickupStoresCount=c.toNumber(t.shopPickupStoresCount),this.shopPostomatStoresCount=c.toNumber(t.shopPostomatStoresCount),this.shopReturnDeliveryAddress=c.toString(t.shop&&t.shop.returnDeliveryAddress),this.returnPolicy=c.toString(t.returnPolicy),this.region=t.region?new s.Region(t.region):void 0,this.seller=t.seller?new s.Seller(t.seller):void 0,this.urlGeo=c.toString(t.urlGeo),this.urlPickupGeo=c.toString(t.urlPickupGeo),this.postomatGeo=c.toString(t.postomatGeo),this.isForeign=c.toBoolean(t.isForeign),this.prepayEnabled=c.toBoolean(t.prepayEnabled),this.isGlobalShop=c.toBoolean(t.isGlobalShop),this.isPromotedByVendor=c.toBoolean(t.isPromotedByVendor),this.sourceProduct=t.sourceProduct?new s.SourceProduct(t.sourceProduct):void 0,this.bundleSettings=new s.BundleSettings(t.bundleSettings||{}),this.filters=c.toArray(t.filters);for(var r=this.filters.length;r--;)this.filters[r]=new s.Filter(this.filters[r]);return this.realShop=new s.RealShop(t.realShop||{}),this.sku=c.toString(t.sku),this.shopSku=c.toString(t.shopSku),this}function a(t){return null!=t&&"P"==String(t).substr(0,1)?t:""}var o=n("Element"),c=n("util"),l=n("List"),u=n("EventEmitter"),d=n("lodash");s.TYPE="OFFER",o.type[s.TYPE]=s,s.isOffer=function(t){return t instanceof s&&t.type===s.TYPE&&o.isElement(t)},s.validate=function(t,e){var n=o.validate(t,e);if(c.isError(n)||(c.isNumber(t.shopId)?c.isNumber(t.hid)?c.isBoolean(t.onStock)?c.isNumber(t.price)||(n='Property "price" is not a number'):n='Property "onStock" is not a boolean':n='Property "hid" is not a number':n='Property "shopId" is not a number'),n){if(c.isBoolean(e)&&e)throw c.toError(n);return!1}return!0},s.isFeeValid=function(t){return t.hasOwnProperty("fee")&&d.isString(t.fee)&&t.fee.length>0},s.isCpaReal=d.matchesProperty("cpa","real"),c.inherits(s,o),s.prototype.type=s.TYPE,t.exports=s,s.Image=function(t){if(t instanceof s.Image)return t;if(t){this.map=t.map,this.length=t.length;for(var e,n=this.length;n;)e=t[--n],this[n]=new s.Image.Thumbnail(e.url,e.width,e.height,e.isStub)}else l.call(this);return this},c.inherits(s.Image,l),s.Image.Thumbnail=function(t,e,n,r){return this.url=c.toString(t),this.width=c.toNumber(e),this.height=c.toNumber(n),this.isStub=c.toBoolean(r,!1),this},s.Delivery=function(t){if(t instanceof s.Delivery)return t;if(u.call(this),t=c.toObject(t),this.regionID=c.toNumber(t.regionID),this.shipping=c.toBoolean(t.shipping),this.shippingShort=c.toString(t.shippingShort),this.shippingLong=c.toString(t.shippingLong),this.pickup=c.toBoolean(t.pickup),this.store=c.toBoolean(t.store),this.free=c.toBoolean(t.free),this.downloadable=c.toBoolean(t.downloadable),this.price=c.toNumber(t.price),this.priority=c.toBoolean(t.priority),this.priorityRegionID=c.toNumber(t.priorityRegionID),this.priorityRegionName=c.toString(t.priorityRegionName),this.priorityCountryNameGenitive=c.toString(t.priorityCountryNameGenitive),this.deliveryOptions=c.toArray(t.deliveryOptions),this instanceof s.Delivery&&c.isArray(this.deliveryOptions))for(var e=this.deliveryOptions.length;e--;)this.deliveryOptions[e]=new s.Delivery.DeliveryOption(this.deliveryOptions[e]);this.pickupOptions=c.toArray(t.pickupOptions),this.currency=c.toString(t.currency),this.isPriorityRegion=c.toBoolean(t.isPriorityRegion),this.isCountrywide=c.toBoolean(t.isCountrywide),this.availableServices=[];for(var n,r=t.availableServices&&t.availableServices.length,i=0;i<r;i++)n=t.availableServices[i],this.availableServices.push(new s.Delivery.AvailableService(n));return this.hasYandexDelivery=c.toBoolean(t.hasYandexDelivery),this.fastestServiceTime=c.toBoolean(t.fastestServiceTime),this.shopPriorityRegion=t.shopPriorityRegion,this.shopPriorityCountry=t.shopPriorityCountry,this},c.inherits(s.Delivery,u),s.Delivery.prototype.EVENT_CHANGE="change",s.Delivery.prototype.set=s.prototype.set,s.Delivery.prototype.toJSON=function(){var t=s.Delivery.call({},this);return t._events=void 0,t},s.Delivery.DeliveryOption=function(t){this.isDefault=c.toBoolean(t.isDefault),this.cost=c.toNumber(t.cost),this.currency=c.toString(t.currency),this.dayTo=c.toNumber(t.dayTo),this.dayFrom=c.toNumber(t.dayFrom),this.orderBefore=c.toNumber(t.orderBefore),this.orderBeforeShopTz=c.toNumber(t.orderBeforeShopTz),this.price=t.price?new s.Price(t.price):void 0},s.Delivery.AvailableService=function(t){this.serviceId=c.toNumber(t.serviceId),this.daysFrom=c.toNumber(t.daysFrom),this.daysTo=c.toNumber(t.daysTo),this.name=c.toString(t.name),this.isMarketBranded=c.toBoolean(t.isMarketBranded),this.price=t.price?new s.Price(t.price):void 0},s.Price=function(t){this.currency=c.toString(t.currency),this.value=c.toNumber(t.value)},s.Region=function(t){this.entity=c.toString(t.entity),this.id=c.toString(t.id),this.name=c.toString(t.name),this.lingua=t.lingua?new s.RegionLingua(t.lingua):void 0},s.RegionLingua=function(t){t.name=t.name||{},this.name={genitive:c.toString(t.name.genitive),preposition:c.toString(t.name.preposition),prepositional:c.toString(t.name.prepositional)}},s.Seller=function(t){this.comment=c.toString(t.comment)},s.SourceProduct=function(t){this.type=c.toString(t.type),this.id=c.toString(t.id)},s.BundleSettings=function(t){this.quantityLimit=new s.QuantityLimit(t.quantityLimit||{})},s.QuantityLimit=function(t){this.minimum=c.toNumber(t.minimum,1),this.step=c.toNumber(t.step,1)},s.Filter=function(t){return this.id=c.toString(t.id),this.kind=c.toNumber(t.kind),this.name=c.toString(t.name),this.noffers=c.toNumber(t.noffers),this.position=c.toNumber(t.position),this.subType=c.toString(t.subType),this.type=c.toString(t.type),this.xslname=c.toString(t.xslname),this.hasDescription=c.toBoolean(t.hasDescription),this.isParametric=c.toBoolean(t.isParametric),this.hasBoolNo=c.toBoolean(t.hasBoolNo),this.precision=c.toNumber(t.precision),this.unit=c.toString(t.unit),this.defaultUnit=c.toString(t.defaultUnit),this.userUnit=c.toString(t.userUnit),this.values=c.toArray(t.values),this.units=c.toArray(t.units),this.marks=t.marks,this},s.RealShop=function(t){this.entity=c.toString(t.entity),this.id=c.toNumber(t.id),this.name=c.toString(t.name),this.gradesCount=c.toNumber(t.gradesCount),this.qualityRating=c.toNumber(t.qualityRating),this.isGlobal=c.toBoolean(t.isGlobal),this.isCpaPrior=c.toBoolean(t.isCpaPrior)}}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Tt.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t){kt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var n=!0;return f(function(){return n&&(i(t),n=!1),e.apply(this,arguments)},e)}function a(t,e){ye[t]||(i(e),ye[t]=!0)}function o(t,e){return function(n){return v(t.call(this,n),e)}}function c(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function l(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,"months");return e-s<0?(n=t.clone().add(i-1,"months"),r=(e-s)/(s-n)):(n=t.clone().add(i+1,"months"),r=(e-s)/(n-s)),-(i+r)}function u(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function d(){}function p(t,e){e!==!1&&P(t),_(this,t),this._d=new Date(+t._d),ge===!1&&(ge=!0,kt.updateOffset(this),ge=!1)}function h(t){var e=A(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+36e5*o,this._days=+a+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=kt.localeData(),this._bubble()}function f(t,e){for(var r in e)n(e,r)&&(t[r]=e[r]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Rt.length>0)for(n in Rt)r=Rt[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function m(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function b(t,e){var n;return e=L(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function g(t,e){return function(n,r){var i,s;return null===r||isNaN(+r)||(a(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=kt.duration(n,r),k(this,i,t),this}}function k(t,e,n,r){var i=e._milliseconds,s=e._days,a=e._months;r=null==r||r,i&&t._d.setTime(+t._d+i*n),s&&_t(t,"Date",ft(t,"Date")+s*n),a&&ht(t,ft(t,"Month")+a*n),r&&kt.updateOffset(t,s||a)}function w(t){return"[object Array]"===Object.prototype.toString.call(t)}function E(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function x(t,e,n){var r,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&C(t[r])!==C(e[r]))&&a++;return a+s}function M(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=de[t]||pe[e]||e}return t}function A(t){var e,r,i={};for(r in t)n(t,r)&&(e=M(r),e&&(i[e]=t[r]));return i}function T(e){var n,r;if(0===e.indexOf("week"))n=7,r="day";else{if(0!==e.indexOf("month"))return;n=12,r="month"}kt[e]=function(i,s){var a,o,c=kt._locale[e],l=[];if("number"==typeof i&&(s=i,i=t),o=function(t){var e=kt().utc().set(r,t);return c.call(kt._locale,e,i||"")},null!=s)return o(s);for(a=0;a<n;a++)l.push(o(a));return l}}function C(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function S(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function I(t,e,n){return lt(kt([t,11,31+e-n]),e,n).week}function O(t){return j(t)?366:365}function j(t){return t%4===0&&t%100!==0||t%400===0}function P(t){var e;t._a&&t._pf.overflow===-2&&(e=t._a[St]<0||t._a[St]>11?St:t._a[It]<1||t._a[It]>S(t._a[Ct],t._a[St])?It:t._a[Ot]<0||t._a[Ot]>24||24===t._a[Ot]&&(0!==t._a[jt]||0!==t._a[Pt]||0!==t._a[Bt])?Ot:t._a[jt]<0||t._a[jt]>59?jt:t._a[Pt]<0||t._a[Pt]>59?Pt:t._a[Bt]<0||t._a[Bt]>999?Bt:-1,t._pf._overflowDayOfYear&&(e<Ct||e>It)&&(e=It),t._pf.overflow=e)}function B(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function D(t){return t?t.toLowerCase().replace("_","-"):t}function R(t){for(var e,n,r,i,s=0;s<t.length;){for(i=D(t[s]).split("-"),e=i.length,n=D(t[s+1]),n=n?n.split("-"):null;e>0;){if(r=N(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&x(i,n,!0)>=e-1)break;e--}s++}return null}function N(t){var e=null;if(!Dt[t]&&Nt)try{e=kt.locale(),require("./locale/"+t),kt.locale(e)}catch(t){}return Dt[t]}function L(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(kt.isMoment(t)||E(t)?+t:+kt(t))-+n,n._d.setTime(+n._d+r),kt.updateOffset(n,!1),n):kt(t).local()}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,r=t.match(zt);for(e=0,n=r.length;e<n;e++)ve[r[e]]?r[e]=ve[r[e]]:r[e]=F(r[e]);return function(i){var s="";for(e=0;e<n;e++)s+=r[e]instanceof Function?r[e].call(i,t):r[e];return s}}function z(t,e){return t.isValid()?(e=q(e,t.localeData()),he[e]||(he[e]=U(e)),he[e](t)):t.localeData().invalidDate()}function q(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(qt.lastIndex=0;r>=0&&qt.test(t);)t=t.replace(qt,n),qt.lastIndex=0,r-=1;return t}function H(t,e){var n,r=e._strict;switch(t){case"Q":return Zt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return r?ne:Gt;case"Y":case"G":case"g":return ie;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?re:$t;case"S":if(r)return Zt;case"SS":if(r)return te;case"SSS":if(r)return ee;case"DDD":return Vt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Yt;case"a":case"A":return e._locale._meridiemParse;case"x":return Qt;case"X":return Jt;case"Z":case"ZZ":return Kt;case"T":return Xt;case"SSSS":return Wt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?te:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return r?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(J(Q(t.replace("\\","")),"i"))}}function V(t){t=t||"";var e=t.match(Kt)||[],n=e[e.length-1]||[],r=(n+"").match(le)||["-",0,0],i=+(60*r[1])+C(r[2]);return"+"===r[0]?i:-i}function G(t,e,n){var r,i=n._a;switch(t){case"Q":null!=e&&(i[St]=3*(C(e)-1));break;case"M":case"MM":null!=e&&(i[St]=C(e)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(e,t,n._strict),null!=r?i[St]=r:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[It]=C(e));break;case"Do":null!=e&&(i[It]=C(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=C(e));break;case"YY":i[Ct]=kt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":i[Ct]=C(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Ot]=C(e);break;case"m":case"mm":i[jt]=C(e);break;case"s":case"ss":i[Pt]=C(e);break;case"S":case"SS":case"SSS":case"SSSS":i[Bt]=C(1e3*("0."+e));break;case"x":n._d=new Date(C(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(e);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(e),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=C(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=kt.parseTwoDigitYear(e)}}function $(t){var n,r,i,s,a,o,c;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,o=4,r=e(n.GG,t._a[Ct],lt(kt(),1,4).year),i=e(n.W,1),s=e(n.E,1)):(a=t._locale._week.dow,o=t._locale._week.doy,r=e(n.gg,t._a[Ct],lt(kt(),a,o).year),i=e(n.w,1),null!=n.d?(s=n.d,s<a&&++i):s=null!=n.e?n.e+a:a),c=ut(r,i,s,o,a),t._a[Ct]=c.year,t._dayOfYear=c.dayOfYear}function W(t){var n,r,i,s,a=[];if(!t._d){for(i=K(t),t._w&&null==t._a[It]&&null==t._a[St]&&$(t),t._dayOfYear&&(s=e(t._a[Ct],i[Ct]),t._dayOfYear>O(s)&&(t._pf._overflowDayOfYear=!0),r=st(s,0,t._dayOfYear),t._a[St]=r.getUTCMonth(),t._a[It]=r.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=a[n]=i[n];for(;n<7;n++)t._a[n]=a[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Ot]&&0===t._a[jt]&&0===t._a[Pt]&&0===t._a[Bt]&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?st:it).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24)}}function Y(t){var e;t._d||(e=A(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],W(t))}function K(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function X(e){if(e._f===kt.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var n,r,i,s,a,o=""+e._i,c=o.length,l=0;for(i=q(e._f,e._locale).match(zt)||[],n=0;n<i.length;n++)s=i[n],r=(o.match(H(s,e))||[])[0],r&&(a=o.substr(0,o.indexOf(r)),a.length>0&&e._pf.unusedInput.push(a),o=o.slice(o.indexOf(r)+r.length),l+=r.length),ve[s]?(r?e._pf.empty=!1:e._pf.unusedTokens.push(s),G(s,r,e)):e._strict&&!r&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=c-l,o.length>0&&e._pf.unusedInput.push(o),e._pf.bigHour===!0&&e._a[Ot]<=12&&(e._pf.bigHour=t),e._a[Ot]=u(e._locale,e._a[Ot],e._meridiem),W(e),P(e)}function Q(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t){var e,n,i,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)a=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[s],X(e),B(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==i||a<i)&&(i=a,n=e));f(t,n||e)}function tt(t){var e,n,r=t._i,i=se.exec(r);if(i){for(t._pf.iso=!0,e=0,n=oe.length;e<n;e++)if(oe[e][1].exec(r)){t._f=oe[e][0]+(i[6]||" ");break}for(e=0,n=ce.length;e<n;e++)if(ce[e][1].exec(r)){t._f+=ce[e][0];break}r.match(Kt)&&(t._f+="Z"),X(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,kt.createFromInputFallback(t))}function nt(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function rt(e){var n,r=e._i;r===t?e._d=new Date:E(r)?e._d=new Date(+r):null!==(n=Lt.exec(r))?e._d=new Date(+n[1]):"string"==typeof r?et(e):w(r)?(e._a=nt(r.slice(0),function(t){return parseInt(t,10)}),W(e)):"object"==typeof r?Y(e):"number"==typeof r?e._d=new Date(r):kt.createFromInputFallback(e)}function it(t,e,n,r,i,s,a){var o=new Date(t,e,n,r,i,s,a);return t<1970&&o.setFullYear(t),o}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function at(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function ot(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ct(t,e,n){var r=kt.duration(t).abs(),i=At(r.as("s")),s=At(r.as("m")),a=At(r.as("h")),o=At(r.as("d")),c=At(r.as("M")),l=At(r.as("y")),u=i<fe.s&&["s",i]||1===s&&["m"]||s<fe.m&&["mm",s]||1===a&&["h"]||a<fe.h&&["hh",a]||1===o&&["d"]||o<fe.d&&["dd",o]||1===c&&["M"]||c<fe.M&&["MM",c]||1===l&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=n,ot.apply({},u)}function lt(t,e,n){var r,i=n-e,s=n-t.day();return s>i&&(s-=7),s<i-7&&(s+=7),r=kt(t).add(s,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ut(t,e,n,r,i){var s,a,o=st(t,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:i,s=i-o+(o>r?7:0)-(o<i?7:0),a=7*(e-1)+(n-i)+s+1,{year:a>0?t:t-1,dayOfYear:a>0?a:O(t-1)+a}}function dt(e){var n,r=e._i,i=e._f;return e._locale=e._locale||kt.localeData(e._l),null===r||i===t&&""===r?kt.invalid({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),kt.isMoment(r)?new p(r,!0):(i?w(i)?Z(e):X(e):rt(e),n=new p(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function pt(t,e){var n,r;if(1===e.length&&w(e[0])&&(e=e[0]),!e.length)return kt();for(n=e[0],r=1;r<e.length;++r)e[r][t](n)&&(n=e[r]);return n}function ht(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),S(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function _t(t,e,n){return"Month"===e?ht(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function mt(t,e){return function(n){return null!=n?(_t(this,t,n),kt.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function yt(t){return 146097*t/400}function bt(t){kt.duration.fn[t]=function(){return this._data[t]}}function gt(t){"undefined"==typeof ender&&(wt=Mt.moment,t?Mt.moment=s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",kt):Mt.moment=kt)}for(var kt,wt,Et,xt="2.9.0",Mt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,At=Math.round,Tt=Object.prototype.hasOwnProperty,Ct=0,St=1,It=2,Ot=3,jt=4,Pt=5,Bt=6,Dt={},Rt=[],Nt="undefined"!=typeof module&&module&&module.exports,Lt=/^\/?Date\((\-?\d+)/i,Ft=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ut=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,zt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,qt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,Vt=/\d{1,3}/,Gt=/\d{1,4}/,$t=/[+\-]?\d{1,6}/,Wt=/\d+/,Yt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kt=/Z|[\+\-]\d\d:?\d\d/gi,Xt=/T/i,Qt=/[\+\-]?\d+/,Jt=/[\+\-]?\d+(\.\d{1,3})?/,Zt=/\d/,te=/\d\d/,ee=/\d{3}/,ne=/\d{4}/,re=/[+-]?\d{6}/,ie=/[+-]?\d+/,se=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ae="YYYY-MM-DDTHH:mm:ssZ",oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ce=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],le=/([\+\-]|\d\d)/gi,ue=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),de={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},pe={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},he={},fe={s:45,m:45,h:22,d:26,M:11},_e="DDD w W M D d".split(" "),me="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return v(C(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(C(t/60),2)+":"+v(C(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(C(t/60),2)+v(C(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ye={},be=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],ge=!1;_e.length;)Et=_e.pop(),ve[Et+"o"]=c(ve[Et],Et);for(;me.length;)Et=me.pop(),ve[Et+Et]=o(ve[Et],2);ve.DDDD=o(ve.DDD,3),f(d.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var r,i,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=kt.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=kt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.apply(e,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return lt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),kt=function(e,n,i,s){var a;return"boolean"==typeof i&&(s=i,i=t),a={},a._isAMomentObject=!0,a._i=e,a._f=n,a._l=i,a._strict=s,a._isUTC=!1,a._pf=r(),dt(a)},kt.suppressDeprecationWarnings=!1,kt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),kt.min=function(){var t=[].slice.call(arguments,0);return pt("isBefore",t)},kt.max=function(){var t=[].slice.call(arguments,0);return pt("isAfter",t)},kt.utc=function(e,n,i,s){var a;return"boolean"==typeof i&&(s=i,i=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=e,a._f=n,a._strict=s,a._pf=r(),dt(a).utc()},kt.unix=function(t){return kt(1e3*t)},kt.duration=function(t,e){var r,i,s,a,o=t,c=null;return kt.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(c=Ft.exec(t))?(r="-"===c[1]?-1:1,o={y:0,d:C(c[It])*r,h:C(c[Ot])*r,m:C(c[jt])*r,s:C(c[Pt])*r,ms:C(c[Bt])*r}):(c=Ut.exec(t))?(r="-"===c[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*r},o={y:s(c[2]),M:s(c[3]),d:s(c[4]),h:s(c[5]),m:s(c[6]),s:s(c[7]),w:s(c[8])}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=b(kt(o.from),kt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),i=new h(o),kt.isDuration(t)&&n(t,"_locale")&&(i._locale=t._locale),i},kt.version=xt,kt.defaultFormat=ae,kt.ISO_8601=function(){},kt.momentProperties=Rt,kt.updateOffset=function(){},kt.relativeTimeThreshold=function(e,n){return fe[e]!==t&&(n===t?fe[e]:(fe[e]=n,!0))},kt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return kt.locale(t,e)}),kt.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?kt.defineLocale(t,e):kt.localeData(t),n&&(kt.duration._locale=kt._locale=n)),kt._locale._abbr},kt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Dt[t]||(Dt[t]=new d),Dt[t].set(e),kt.locale(t),Dt[t]):(delete Dt[t],null)},kt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return kt.localeData(t)}),kt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return kt._locale;if(!w(t)){if(e=N(t))return e;t=[t]}return R(t)},kt.isMoment=function(t){return t instanceof p||null!=t&&n(t,"_isAMomentObject")},kt.isDuration=function(t){return t instanceof h};for(Et=be.length-1;Et>=0;--Et)T(be[Et]);kt.normalizeUnits=function(t){return M(t)},kt.invalid=function(t){var e=kt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},kt.parseZone=function(){return kt.apply(null,arguments).parseZone()},kt.parseTwoDigitYear=function(t){return C(t)+(C(t)>68?1900:2e3)},kt.isDate=E,f(kt.fn=p.prototype,{clone:function(){return kt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0);
},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=kt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return B(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&x(this._a,(this._isUTC?kt.utc(this._a):kt(this._a)).toArray())>0)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=z(this,t||kt.defaultFormat);return this.localeData().postformat(e)},add:g(1,"add"),subtract:g(-1,"subtract"),diff:function(t,e,n){var r,i,s=L(t,this),a=6e4*(s.utcOffset()-this.utcOffset());return e=M(e),"year"===e||"month"===e||"quarter"===e?(i=l(this,s),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-s,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:m(i)},from:function(t,e){return kt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(kt(),t)},calendar:function(t){var e=t||kt(),n=L(e,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,kt(e)))},isLeapYear:function(){return j(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=at(t,this.localeData()),this.add(t-e,"d")):e},month:mt("Month",!0),startOf:function(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=M(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=kt.isMoment(t)?t:kt(t),+this>+t):(n=kt.isMoment(t)?+t:+kt(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=kt.isMoment(t)?t:kt(t),+this<+t):(n=kt.isMoment(t)?+t:+kt(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=M(e||"millisecond"),"millisecond"===e?(t=kt.isMoment(t)?t:kt(t),+this===+t):(n=+kt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=kt.apply(null,arguments),t<this?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=kt.apply(null,arguments),t>this?this:t}),zone:s("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,r=this._offset||0;return null!=t?("string"==typeof t&&(t=V(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?k(this,kt.duration(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,kt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(V(this._i)),this},hasAlignedHourOffset:function(t){return t=t?kt(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(t){var e=At((kt(this).startOf("day")-kt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=lt(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return I(this.year(),t.dow,t.doy)},get:function(t){return t=M(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=M(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(n=kt.localeData(e),null!=n&&(this._locale=n),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),kt.fn.millisecond=kt.fn.milliseconds=mt("Milliseconds",!1),kt.fn.second=kt.fn.seconds=mt("Seconds",!1),kt.fn.minute=kt.fn.minutes=mt("Minutes",!1),kt.fn.hour=kt.fn.hours=mt("Hours",!0),kt.fn.date=mt("Date",!0),kt.fn.dates=s("dates accessor is deprecated. Use date instead.",mt("Date",!0)),kt.fn.year=mt("FullYear",!0),kt.fn.years=s("years accessor is deprecated. Use year instead.",mt("FullYear",!0)),kt.fn.days=kt.fn.day,kt.fn.months=kt.fn.month,kt.fn.weeks=kt.fn.week,kt.fn.isoWeeks=kt.fn.isoWeek,kt.fn.quarters=kt.fn.quarter,kt.fn.toJSON=kt.fn.toISOString,kt.fn.isUTC=kt.fn.isUtc,f(kt.duration.fn=h.prototype,{_bubble:function(){var t,e,n,r=this._milliseconds,i=this._days,s=this._months,a=this._data,o=0;a.milliseconds=r%1e3,t=m(r/1e3),a.seconds=t%60,e=m(t/60),a.minutes=e%60,n=m(e/60),a.hours=n%24,i+=m(n/24),o=m(vt(i)),i-=m(yt(o)),s+=m(i/30),i%=30,o+=m(s/12),s%=12,a.days=i,a.months=s,a.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(t){var e=ct(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=kt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=kt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=M(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=M(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:kt.fn.lang,locale:kt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),kt.duration.fn.toString=kt.duration.fn.toISOString;for(Et in ue)n(ue,Et)&&bt(Et.toLowerCase());kt.duration.fn.asMilliseconds=function(){return this.as("ms")},kt.duration.fn.asSeconds=function(){return this.as("s")},kt.duration.fn.asMinutes=function(){return this.as("m")},kt.duration.fn.asHours=function(){return this.as("h")},kt.duration.fn.asDays=function(){return this.as("d")},kt.duration.fn.asWeeks=function(){return this.as("weeks")},kt.duration.fn.asMonths=function(){return this.as("M")},kt.duration.fn.asYears=function(){return this.as("y")},kt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Nt?module.exports=kt:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Mt.moment=wt),kt}),gt(!0)):gt()}.call(this),function(t){"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("../moment")):t(("undefined"!=typeof global?global:this).moment)}(function(t){function e(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,r){var i={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":t+" "+e(i[r],+t)}function r(t,e){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative";return n[r][t.month()]}function i(t,e){var n={nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative";return n[r][t.month()]}function s(t,e){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},r=/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(e)?"accusative":"nominative";return n[r][t.day()]}return t.defineLocale("ru",{months:r,monthsShort:i,weekdays:s,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,n){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:7}})}),moment.locale("ru"),require.define("moment",function(t){t.exports=moment}),require.define("yate-externals.checkout",function(t,e,n,r,i){var s=n("moment"),a="Под заказ";s.locale("ru",{calendar:{sameDay:"[сегодня,] D MMMM",nextDay:"[завтра,] D MMMM",nextWeek:"dddd[,] D MMMM",lastDay:"dddd[,] D MMMM",lastWeek:"dddd[,] D MMMM",sameElse:"dddd[,] D MMMM"}});var o=" – ",c={};c["n-checkout-delivery-dates-range"]=function(t,e){var n=s(t,"DD-MM-YYYY"),r=s(e,"DD-MM-YYYY");if(!n.isSame(r)){var i="D MMMM",c=i;return n.month()===r.month()&&(c="D"),n.format(c)+o+r.format(i)}return n.isAfter(s().add(31,"d"))?a:n.calendar()},c["n-checkout-delivery-is-on-request"]=function(t,e){var n=s(t,"DD-MM-YYYY"),r=s(e,"DD-MM-YYYY");return n.isSame(r)&&n.isAfter(s().add(31,"d"))},t.exports=c});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.checkout")),require.define("yate-externals.delivery",function(t,e,n,r,i){var s=n("moment"),a="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),o=n("undefined"==typeof window?"helpers/plurals":"plurals");t.exports["n-delivery-time"]=function(t,e){e=e||"на&nbsp;заказ";var n=a.nodeset2data(t)||{},r=Number(n.dayFrom),i=Number(n.dayTo);return r<0||i<0||i>31||r>i?e:isNaN(r)&&isNaN(i)?e:0===r&&0===i?"сегодня":1===r&&1===i?"завтра":r||1!==i?!r&&i>=2?"до&nbsp;"+i+" дней":r>=1&&!i?r+"&nbsp;"+o.pluralStr(r,"день","дня","дней"):r===i&&r>=2?i+"&nbsp;"+o.pluralStr(i,"день","дня","дней"):r!==i&&r>=1&&i>=2?r+"-"+i+" "+o.pluralStr(i,"день","дня","дней"):e:"до&nbsp;завтра"},t.exports["n-delivery-time-precise"]=function(t){var e="D MMMM",n=a.nodeset2data(t)||{},r=Number(n.dayFrom),i=Number(n.dayTo);if(isNaN(i)||r<0||i<0||i>31||r>i)return"на&nbsp;заказ";if(0===r&&0===i)return"сегодня";if(1===r&&1===i)return"завтра";if(!r&&1===i)return"до&nbsp;завтра";var o=s().add(i,"days");return o.format(e)}});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.delivery")),require.define("yate-externals.address",function(t,e,n,r,i){function s(t){t=t||{},this._separator=t.separator||l,this._useAffix=!o.has(t,"useAffix")||t.useAffix,this.addressString=""}var a="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),o=n("lodash"),c={BUILDING:"д. ",BLOCK:"корп. ",WING:"стр. ",ESTATE:"влад. ",OFFICE_NUMBER:"офис ",KM:"-й км",ENTRANCE:"-й подъезд",FLOOR:"-й этаж",FLAT_OR_OFFICE:"кв. или офис "},l=", ",u={LOCAL:"local",GLOBAL:"global"};t.exports["n-address"]=function(t,e){e=e||{};var n=a.nodeset2data(t)||{};switch(e.type){case u.LOCAL:return s.getLocal(n,e);case u.GLOBAL:return s.getGlobal(n,e)}return s.getFull(n,e)},s.getFull=function(t,e){e=e||{};var n=e.separator||l,r=s.getGlobal(t,e),i=s.getLocal(t,e);return r.length>0&&i.length>0?r+n+i:r||i},s.getLocal=function(t,e){var n=c;return new s(e).append(t.street).appendWithSuffix(t.km?String(t.km):void 0,n.KM).appendWithPrefix(t.building,n.BUILDING).appendWithPrefix(t.block,n.BLOCK).appendWithPrefix(t.wing,n.WING).appendWithPrefix(t.estate,n.ESTATE).appendWithSuffix(t.entrance,n.ENTRANCE).append(t.entryphone).appendWithSuffix(t.floor,n.FLOOR).appendWithPrefix(t.room,n.OFFICE_NUMBER).appendWithPrefix(t.office_number,n.OFFICE_NUMBER).appendWithPrefix(t.flat_or_office,n.FLAT_OR_OFFICE).toString()},s.getGlobal=function(t,e){return new s(e).append(t.country).append(t.region).append(t.district).append(t.locality).append(t.postcode).toString()},s.prototype.append=function(t){return t&&(this.appendSeparator(),this.addressString+=t),this},s.prototype.appendSeparator=function(){return this.addressString.length>0&&(this.addressString+=this._separator),this},s.prototype.appendWithSuffix=function(t,e){if(t){var n=this._useAffix?e||"":"";this.appendSeparator(),this.addressString+=t+n}return this},s.prototype.appendWithPrefix=function(t,e){if(t){var n=this._useAffix?e||"":"";this.appendSeparator(),this.addressString+=n+t}return this},s.prototype.toString=function(){return this.addressString}});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.address")),require.define("Time",function(t,e,n,r,i){function s(t,e){this._hours=t||0,this._minutes=e||0}function a(t){var e=String(t);return 1===e.length&&(e="0"+e),e}var o=/^(\d{1,2}):(\d{2})(?::\d{2})?$/,c=/^\D*(\d{1,2})[:|\s|-]+(\d{2})\D*$/,l=60;s.prototype.getHours=function(){return this._hours},s.prototype.getMinutes=function(){return this._minutes},s.prototype.isBefore=function(t){if(!t)return!1;var e=t.getHours();return this._hours<e||this._hours===e&&this._minutes<t.getMinutes()},s.prototype.isAfter=function(t){if(!t)return!1;var e=t.getHours();return this._hours>e||this._hours===e&&this._minutes>t.getMinutes()},s.prototype.equals=function(t){return!!t&&(this._hours===t.getHours()&&this._minutes===t.getMinutes())},s.prototype.isMidnight=function(){return this._hours+this._minutes===0},s.prototype.toString=function(){return a(this._hours)+":"+a(this._minutes)},s.parse=function(t){if(!t)return null;var e=t.match(o);if(!e)return null;var n=Number(e[1]),r=Number(e[2]);return 24===n&&0===r?new s(0,0):n<0||n>23?null:r<0||r>59?null:new s(n,r)},s.format=function(t){return t.replace(c,"$1:$2")},s.minutesToString=function(t){var e=new s(Math.floor(t/l),t%l);return e.toString()},s.stringToMinutes=function(t){var e=this.parse(t);return e?e.getHours()*l+e.getMinutes():null},t.exports=s}),require.define("BusinessHours",function(t,e,n,r,i){function s(t,e){this._schedule=t,this.setupDependencies(e).initializeConstants()}function a(t,e){return t===e.OPEN_UNTIL||t===e.AROUND_THE_CLOCK}function o(t){return c((t+1)%7)}function c(t){return 0===t?7:t}var l=i._||n("lodash");s.prototype.setupDependencies=function(t){return this.TimeContainer=t&&t.TimeContainer,this.WORK_STATUS=t&&t.WORK_STATUS,this.THRESHOLD_SHIFT_OF_THE_DAY=t&&t.THRESHOLD_SHIFT_OF_THE_DAY,this},s.prototype.initializeConstants=function(){return this._changingDaysThreshold=this.TimeContainer.parse(this.THRESHOLD_SHIFT_OF_THE_DAY),this},s.prototype.getStatusForDate=function(t){var e,n=c(t.getDay()),r=this._buildTimeContainer(t);this.currentTime=r;var i=this._getDayIntervals(n);if(!i)return this._getStatusForClosedToday(n,r);for(var s=0;s<i.length;s++){var a=i[s];if(!a){e=this.createWorkStatus(this.WORK_STATUS.CLOSED);break}if(a.to.equals(a.from)&&a.to.isMidnight()){e=this.createWorkStatus(this.WORK_STATUS.AROUND_THE_CLOCK);break}if(r.isBefore(a.from)){e=this.createWorkStatus(this.WORK_STATUS.CLOSED_UNTIL,a.from);break}if(r.isBefore(a.to)||a.to.isBefore(a.from)){var o=this._findFirstIntervalInNextDay(n,r);if(!a.to.isMidnight()||!o){e=this.createWorkStatus(this.WORK_STATUS.OPEN_UNTIL,a.to);break}if(!o.from.isMidnight()){e=this.createWorkStatus(this.WORK_STATUS.OPEN_UNTIL,a.to);break}if(o.to.isBefore(this._changingDaysThreshold)){e=this.createWorkStatus(this.WORK_STATUS.OPEN_UNTIL,o.to);break}e=this.createWorkStatus(this.WORK_STATUS.AROUND_THE_CLOCK);break}}return e||this._getStatusForClosedToday(n,r)},s.prototype._buildTimeContainer=function(t){return new this.TimeContainer(t.getHours(),t.getMinutes())},s.prototype._getDayIntervals=function(t){var e=l.find(this._schedule,function(e){return e.dayNumber===t});if(e)return l.map(e.workingHours,l.bind(function(t){return t.from&&t.to?{from:this.TimeContainer.parse(t.from),to:this.TimeContainer.parse(t.to)}:null},this))},s.prototype._getStatusForClosedToday=function(t,e){var n=this._findFirstIntervalInNextDay(t,e);return n?this.createWorkStatus(this.WORK_STATUS.CLOSED_UNTIL,n.from):this.createWorkStatus(this.WORK_STATUS.CLOSED)},s.prototype._findFirstIntervalInNextDay=function(t,e){var n=this._getDayIntervals(o(t));if(n&&n[0]&&e.isAfter(n[0].from))return n[0]},s.prototype.createWorkStatus=function(t,e,n){var r=a(t,this.WORK_STATUS),i={status:t,isOpen:r};return e&&t!==this.WORK_STATUS.AROUND_THE_CLOCK&&(i.time=String(e)),n&&(i.params=n),i},t.exports=s}),require.define("BusinessHours.constants",function(t,e,n,r,i){e.WORK_STATUS={OPEN_UNTIL:"OPEN-UNTIL",CLOSED_UNTIL:"CLOSED-UNTIL",AROUND_THE_CLOCK:"AROUND-THE-CLOCK",CLOSED:"CLOSED"},e.THRESHOLD_SHIFT_OF_THE_DAY="04:00"}),require.define("yate-externals.outlet",function(t,e,n,r,i){function s(t,e,n){var r=new y(e,{TimeContainer:v,WORK_STATUS:b.WORK_STATUS,THRESHOLD_SHIFT_OF_THE_DAY:y.THRESHOLD_SHIFT_OF_THE_DAY});return r.getStatusForDate(t)}function a(t){var e=o(t),n=c(_.map(e,"dayNumber"));return _.sortBy(e.concat(n),"dayNumber")}function o(t){var e=_.isArray(t)?t:[t];return _.chain(e).flatMap(l).value()}function c(t){return _.map(d(t),function(t){return u(t)})}function l(t){var e=Number(t.daysFrom),n=Number(t.daysTo),r=e===n?[e]:_.range(e,n+1);return _.map(r,function(e){return u(e,t.hoursFrom,t.hoursTo)})}function u(t,e,n){return{dayNumber:t,workingHours:[{from:e,to:n}]}}function d(t){return _.reject(w,function(e){return E(t,e)})}function p(t){return m.nodeset2data(t)}function h(t,e,n){return n?t.getHours()+":"+t.getMinutes()+":"+n:_.uniqueId()}function f(){return"undefined"!=typeof yr}var _=n("lodash"),m="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),v=n("Time"),y=n("BusinessHours"),b=n("undefined"!=typeof yr?"BusinessHours.constants":"BusinessHours/constants"),g={},k=1,w=_.range(k,8),E=_.include||_.includes;g["n-outlet-build-schedule"]=function(t){var e=p(t),n=a(e);return m.object2nodeset(n)};var x=f()?_.memoize(s,h):s;g["n-outlet-get-work-status"]=function(t,e){var n=new Date,r=p(t);return m.object2nodeset(x(n,r,e))},t.exports=g});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.outlet")),require.define("yate-externals.phone",function(t,e,n,r,i){function s(t){var e=t==h?t:p+t;return String(e)}function a(t,e){var n="string"==typeof e?e:u;return n.length?n+f+t:t}var o=i._||n("lodash"),c="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),l={},u="доб.",d=",",p="+",h="8",f=" ",_=/\D/g;l["n-phone-format-pretty"]=function(t,e){var n=c.nodeset2data(t),r=s(n.countryCode)+f,i=n.cityCode+f,o=r+i+n.telephoneNumber;if(n.extensionNumber){var l=a(n.extensionNumber,e);o+=f+l}return o},l["n-phone-format-clean"]=function(t){var e=c.nodeset2data(t),n="";return o.isObject(e)&&(n=(e.countryCode+e.cityCode+e.telephoneNumber).replace(_,""),e.extensionNumber&&(n+=d+e.extensionNumber)),n},t.exports=l});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.phone")),require.define("yate-externals.date",function(t,e,n,r,i){var s={},a=function(){var t=new Date;return t.setMinutes(0),t.setHours(0),t.setSeconds(0),t};s["n-date-is-today"]=function(t){return a().getTime()<=1e3*parseInt(t,10)},s["n-date-is-week-current"]=function(t){var e=new Date(a().getTime()-6048e5);return e.getTime()<=1e3*parseInt(t,10)},s["n-date-is-yesterday"]=function(t){var e=a(),n=new Date(e.getTime()-864e5),r=1e3*parseInt(t,10);return n.getTime()<=r&&r<e.getTime()},s["n-date-now"]=function(){return+new Date},s["n-date-today-date"]=function(){return(new Date).getDate()},s["n-date-day-of-week"]=function(){return(new Date).getDay()},t.exports=s});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.date")),require.define("yate-externals.entity",function(t,e,n,r,i){function s(t){var e=t.length;return 0===e?"":l.map(t,"data")}function a(t,e){return e.indexOf(t)!==e.length-1||!l.isArray(t)&&!l.isPlainObject(t)?(e.pop(),t):(l.forOwn(t,function(n,r){l.isArray(n)?n.forEach(function(t){e.push(t),a(t,e)}):l.isObject(n)?(e.push(n),a(n,e)):l.isString(n)&&(t[r]=d(n))}),e.pop(),t)}var o={},c="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),l=n("lodash"),u=n("jspath"),d=n("google-caja-sanitizer").sanitize;o["n-entity-scalar-list"]=o["n-entity-object-list"]=function(t,e,n){var r;if(t.length){if(r=t[0].data,!(e in r))throw new Error("n-entity-scalar-list: List doesn't have method \""+e+'"');return"undefined"==typeof n?r[e]:r[e](n)}},o["n-nodes-unique"]=function(t){for(var e,n={},r=[],i=0,s=t.length;i<s;i++)e=t[i].data,n.hasOwnProperty(e)||(n[e]=null,r.push(t[i]));return r},o["n-serialize"]=function(t){return JSON.stringify(c.nodeset2data(t))},o["n-parse"]=JSON.parse,o["n-honest-serialize"]=function(t){return JSON.stringify(s(t))},o["n-log"]=function(t,e){var r=n("cycle"),i=JSON.stringify(a(r.decycle(c.nodeset2data(t)),[]));return['<script nonce="',e,'">',"(function () {","    function log() {","        console.log(require('cycle').retrocycle(",i,"));","    }",'    window.$ ? $(log) : document.addEventListener("DOMContentLoaded", log);',"})();","</script>"].join("")},o["n-get-closest-image"]=function(t,e,n){var r=c.nodeset2data(t);if(r&&r.length){var i=r[0];return l.forEach(r,function(t){i.width<=t.width&&t.width<=e&&t.height<=n&&(i=t)}),i}},o["n-get-images-for-size"]=function(t,e,n){var r=c.nodeset2data(t),i=function(t){return t&&(t.width>=e||t.height>=n)};if(r&&r.length)return l(r).map(function(t){if(i(t.original))return l.find(t.thumbnails,i)}).compact().value()},o["n-merge-nodes"]=function(t,e){var n=Boolean(t&&t[0]&&t[0].data),r=Boolean(e&&e[0]&&e[0].data);if(n&&r){var i=t[0];return i.data=l.assignIn({},t[0].data,e[0].data),[i]}return n?t:r?e:[{data:{}}]},o["n-nodeset-to-object"]=function(t){return c.nodeset2data(t)},o["n-js-path"]=function(t,e){return u.apply(t,e)},o["n-has-shop-promo"]=function(t){var e=c.nodeset2data(t),n=["second-offer-discount"],r=e.promo||{};return l.includes(n,r.type)||r.count&&!o["n-has-market-promo"](t)},o["n-has-market-promo"]=function(t){var e=c.nodeset2data(t),n=["market-model-for-fixed-price"];return l.includes(n,l.get(e,"promo.type"))},o["n-has-shop-discount"]=function(t){var e=c.nodeset2data(t);return Boolean(e&&!e.isDiscountFromMarket&&e.percent>0)},t.exports=o});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.entity")),require.define("yate-externals.ext",function(t,e,n,r,i){var s={};s["n-hash-join"]=function(t,e,n){var r,i=[],s=e?e:",",a=n?n:"";for(var o in t)t.hasOwnProperty(o)&&t[o]&&(r=0===o.indexOf("*")?"":o+a+" ",i.push(r+t[o]));return i.join(s+" ")},s["n-print-external-url"]=function(t){return/^([a-z]+:)?\/\//.test(t)?t:"//"+t},s["n-get-bundle-path"]=function(t){return n("dist/browser/manifest.json")[t]},t.exports=s});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.ext")),require.define("yate-externals.math",function(t,e,n,r,i){var s={},a=n("market-money-helpers").Money;s["n-math-abs"]=function(t){return Math.abs(t)},s["n-math-floor"]=function(t){return Math.floor(t)},s["n-math-ceil"]=function(t){return Math.ceil(t)},s["n-math-random"]=function(t){return Math.round(Math.random()*(t>=0?t:1e5))},s["n-math-round"]=function(t){return Math.round(t)},s["n-math-round-to-precision"]=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},s["n-math-sum"]=function(t){for(var e=new a(0),n=0,r=t.length;n<r;n++)e.add(t[n].data);return e.value},s["n-math-sum-params"]=function(){for(var t=new a(0),e=0,n=arguments.length;e<n;e++)t.add(arguments[e]);return t.value},s["n-math-sum-increase"]=function(t,e){for(var n=new a(0),r=0;r<e;r++)n.add(t);return n.value},s["n-math-max"]=function(){return Math.max.apply(Math,arguments)},s["n-math-min"]=function(){return Math.min.apply(Math,arguments)},s["n-math-to-fixed"]=function(t,e){return Number(t).toFixed(Number(e))},t.exports=s});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.math")),require.define("yate-externals.moment",function(t,e,n,r,i){var s=n("moment"),a=s(),o=n("lodash"),c={};c["n-moment"]=function(t,e){return t?s(t,e):s()},c["n-moment-call-scalar"]=function(t,e,n){var r=Array.prototype.slice.call(arguments,2);if(!o.isFunction(t[e]))throw"Method "+e+" not exists in moment.js";return t[e].apply(t,r)},c["n-moment-call"]=c["n-moment-call-scalar"],c["n-moment-print-date-hr"]=function(t,e,n,r,i){var o=s(t,e),c=n&&a.year()===o.year()?"D MMMM":"D MMMM YYYY";return r&&(c+=i?i:" H:mm"),o.format(c)},c["n-moment-print-date-range-hr"]=function(t,e,n,r){var i=s(t,n),o=s(e,n),c=r&&a.year()===i.year()?"D MMMM":"D MMMM YYYY",l=r&&a.year()===o.year()?"D MMMM":"D MMMM YYYY";return 0===i.diff(o,"days")?i.format(c):(i.month()===o.month()&&i.year()===o.year()&&(c="D"),i.format(c)+" – "+o.format(l))},c["n-moment-print-date-diff"]=function(t,e,n){var r=t?s(t,n):s().startOf("day"),i=s(e,n);return i.diff(r,"days")},t.exports=c});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.moment")),require.define("yate-externals.lodash",function(t,e,n,r,i){function s(t){var e=c.nodeset2data(t);return o.castArray(o.get(e,"item",e))}var a={},o=i._||n("lodash"),c="undefined"!=typeof yr?yr:n("yate/lib/runtime.js");a["n-merge-objects"]=function(t,e){return o.assignIn({},t,e)},a["n-omit"]=function(t,e){return o.omit(t,e)},a["n-pick"]=function(t,e){return o.pick(t,e)},a["n-includes"]=function(t,e){return t=s(t),o.includes(t,e)},a["n-union"]=function(t,e){return o.union(t,e)},a["n-sort-by"]=function(t,e){return o.sortBy(t,["data."+e])},t.exports=a});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.lodash")),require.define("yate-externals.router",function(t,e,n,r,i){var s=n("router"),a=n("lodash"),o=n("url"),c=n("querystring"),l=n("localized-hosts"),u={};try{u=n("config")}catch(t){if(!/\bconfig\b/.test(t.message))throw t}var d=u.hosts&&u.hosts.static?"//"+u.hosts.static:"",p=u.hosts&&u.hosts.self?"//"+u.hosts.self:"",h={};h["n-build-url"]=function(t,e){return s.buildURL(t,e)},h["n-build-url-extra"]=function(t,e,n){return s.buildURL(t,a.assign({},e,n))},h["n-get-static-host"]=function(){return d},h["n-get-localized-host"]=function(t,e,n,r){return l.getHost(t,e,n,r)},h["n-get-self-host"]=function(){return p},h["n-parse-url"]=function(t){var e=o.parse(t);return e.query=c.parse(e.query),e},t.exports=h});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.router")),require.define("yate-externals.search",function(t,e,n,r,i){function s(t){var e,n=[],r=1/0;for(a.isArray(t)?n=n.concat(t):n.push(t);e=n.pop();)a.isArray(e)?n=n.concat(e):(e.hasOwnProperty("defaultOrder")&&e.defaultOrder<r&&(r=e.defaultOrder),e.intents&&n.push(e.intents));return r}var a=n("lodash"),o="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),c={};c["n-category-cloud-sort"]=function(t,e){var n,r=[],i=[],s=!1,c=o.nodeset2data(t);for(a.isArray(c)?r=r.concat(c):r.push(c);n=r.pop();)a.isArray(n)?r=r.concat(n):(n.hasOwnProperty("defaultOrder")&&i.push(n),n.category.hid==e&&(s=!0),n.intents&&r.push(n.intents));return i=!e||s?i.sort(function(t,e){return t.defaultOrder-e.defaultOrder}):[],o.array2nodeset(i)},c["n-department-sort"]=function(t){var e={},n=o.nodeset2data(t);if(!a.isNull(n))return a.isArray(n)?e.intents=n.sort(function(t,e){return s(t)-s(e)}):e.intents=n,o.object2nodeset(e)},c["n-count-intents-with-own-count"]=function(t){var e,n=[],r=0,i=o.nodeset2data(t);for(i.intents?n.push(i.intents):n.push(i);e=n.pop();)a.isArray(e)?a.forEach(e,function(t){0!=t.ownCount&&r++,t.intents&&n.push(t.intents)}):(0!=e.ownCount&&r++,e.intents&&n.push(e.intents));return r},c["n-geo-wizrd-points"]=function(t){
var e=[],n=a.castArray(o.nodeset2data(t));return a.forEach(n,function(t){t.outlet&&t.outlet.gpsCoord&&e.push({coords:[t.outlet.gpsCoord.longitude,t.outlet.gpsCoord.latitude]})}),e},t.exports=c});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.search")),require.define("yate-externals.search-adv-exp",function(t,e,n,r,i){var s={},a={90407:!0,90408:!0,90409:!0,90417:!0,90418:!0,90441:!0,90443:!0,90445:!0,90447:!0,90450:!0,90452:!0,90456:!0,90457:!0,90458:!0,90460:!0,90464:!0,90469:!0,90470:!0,90475:!0,90480:!0,90486:!0,90489:!0,90498:!0,90499:!0,90505:!0,90518:!0,90531:!0,90532:!0,90534:!0,90535:!0,90536:!0,90540:!0,90545:!0,90559:!0,90573:!0,90608:!0,90617:!0,90619:!0,90633:!0,90637:!0,90669:!0,90670:!0,90689:!0,90707:!0,90712:!0,90725:!0,90726:!0,90727:!0,90740:!0,90741:!0,90742:!0,90743:!0,90744:!0,90745:!0,90746:!0,90747:!0,90751:!0,90753:!0,90754:!0,90762:!0,90803:!0,90804:!0,90805:!0,90806:!0,90808:!0,90820:!0,90821:!0,90830:!0,90851:!0,90867:!0,90880:!0,90886:!0,90904:!0,90914:!0,90923:!0,90931:!0,90945:!0,90953:!0,90965:!0,90975:!0,91e3:!0,91007:!0,91008:!0,91016:!0,91029:!0,91035:!0,91037:!0,91046:!0,91049:!0,91051:!0,91063:!0,91068:!0,91069:!0,91073:!0,91075:!0,91078:!0,91079:!0,91080:!0,91090:!0,91094:!0,91095:!0,91104:!0,91108:!0,91135:!0,91151:!0,91173:!0,91174:!0,91198:!0,91199:!0,91200:!0,91201:!0,91202:!0,91203:!0,91204:!0,91205:!0,91206:!0,91207:!0,91208:!0,91209:!0,91210:!0,91211:!0,91212:!0,91213:!0,91214:!0,91215:!0,91217:!0,91218:!0,91219:!0,91223:!0,91226:!0,91227:!0,91228:!0,91229:!0,91230:!0,91231:!0,91234:!0,91235:!0,91236:!0,91237:!0,91238:!0,91239:!0,91241:!0,91246:!0,91247:!0,91267:!0,91279:!0,91299:!0,91303:!0,91304:!0,91309:!0,91310:!0,91311:!0,91313:!0,91314:!0,91316:!0,91317:!0,91318:!0,91319:!0,91320:!0,91321:!0,91324:!0,91326:!0,91327:!0,91328:!0,91329:!0,91330:!0,91331:!0,91332:!0,91333:!0,91334:!0,91335:!0,91338:!0,91339:!0,91340:!0,91341:!0,91342:!0,91343:!0,91344:!0,91345:!0,91346:!0,91350:!0,91352:!0,91354:!0,91375:!0,91376:!0,91377:!0,91379:!0,91381:!0,91382:!0,91384:!0,91385:!0,91387:!0,91388:!0,91389:!0,91390:!0,91392:!0,91397:!0,91405:!0,91408:!0,91410:!0,91412:!0,91413:!0,91414:!0,91415:!0,91416:!0,91418:!0,91419:!0,91420:!0,91421:!0,91422:!0,91423:!0,91425:!0,91427:!0,91430:!0,91431:!0,91435:!0,91436:!0,91438:!0,91463:!0,91465:!0,91468:!0,91469:!0,91471:!0,91484:!0,91516:!0,91520:!0,91531:!0,91534:!0,91541:!0,91543:!0,91549:!0,91576:!0,91577:!0,91578:!0,91586:!0,91594:!0,91768:!0,91769:!0,91772:!0,91774:!0,91775:!0,91776:!0,91779:!0,91796:!0,91808:!0,91809:!0,119742:!0,119851:!0,153596:!0,153597:!0,157205:!0,179659:!0,179660:!0,191214:!0,191215:!0,191217:!0,215930:!0,231267:!0,240117:!0,240126:!0,241436:!0,277646:!0,278339:!0,278342:!0,278345:!0,278346:!0,278350:!0,278372:!0,278421:!0,280637:!0,280704:!0,281423:!0,281936:!0,281939:!0,283662:!0,289012:!0,294642:!0,308025:!0,383118:!0,433018:!0,433969:!0,469108:!0,477439:!0,543487:!0,543488:!0,599234:!0,605891:!0,638257:!0,638258:!0,763583:!0,766167:!0,818944:!0,818955:!0,906430:!0,922144:!0,936950:!0,943673:!0,961222:!0,961226:!0,982439:!0,989036:!0,989179:!0,995786:!0,995787:!0,995915:!0,995916:!0,995917:!0,995918:!0,995919:!0,995920:!0,995921:!0,995922:!0,995923:!0,995924:!0,1005464:!0,1005898:!0,1006240:!0,1009489:!0,1016150:!0,1030275:!0,1039107:!0,1039394:!0,1044958:!0,1564518:!0,1568900:!0,1569931:!0,1596792:!0,2212983:!0,4017798:!0,4317343:!0,4540980:!0,4547637:!0,4684840:!0,4827843:!0,4865097:!0,4951525:!0,4955914:!0,4967999:!0,4976530:!0,4992497:!0,4992522:!0,5047118:!0,5057803:!0,5065316:!0,5081621:!0,5087177:!0,5090309:!0,5105924:!0,5110759:!0,5151017:!0,6042233:!0,6101485:!0,6101499:!0,6120838:!0,6120841:!0,6122737:!0,6126496:!0,6126526:!0,6127700:!0,6138133:!0,6202440:!0,6202441:!0,6206045:!0,6206932:!0,6235521:!0,6268029:!0,6268030:!0,6275563:!0,6278685:!0,6290261:!0,6290262:!0,6290266:!0,6290267:!0,6290268:!0,6290271:!0,6290273:!0,6290276:!0,6290278:!0,6290384:!0,6296079:!0,6368402:!0,6374343:!0,6395084:!0,6411795:!0,6430985:!0,6439639:!0,6439643:!0,6489422:!0,6504964:!0,6509282:!0,6527202:!0,6527203:!0,6858863:!0,6858918:!0,6979619:!0,7308012:!0,7331258:!0,7339056:!0,7693914:!0,7717599:!0,7718435:!0,7718838:!0,7774311:!0,7776143:!0,7776182:!0,7791092:!0,7797084:!0,7798524:!0,7811893:!0,7811894:!0,7811897:!0,7811898:!0,7811899:!0,7811900:!0,7811902:!0,7811903:!0,7811904:!0,7811905:!0,7811906:!0,7811907:!0,7811908:!0,7811909:!0,7811911:!0,7812009:!0,7812011:!0,7812145:!0,7812146:!0,7812149:!0,7812151:!0,7812152:!0,7812153:!0,7812156:!0,7812157:!0,7812158:!0,7812161:!0,7812163:!0,7812164:!0,7812166:!0,7812173:!0,7812175:!0,7812196:!0,7812198:!0,7812199:!0,7812200:!0,7812205:!0,7815018:!0,7815019:!0,7815020:!0,7850950:!0,7851706:!0,7851711:!0,7892280:!0,7962992:!0,7969496:!0,8231633:!0,8258814:!0,8264455:!0,8264460:!0,8278683:!0,8367360:!0,8480738:!0,9331719:!0,9335976:!0,10446086:!0,10563370:!0,10590810:!0,10595701:!0,10683225:!0,10683226:!0,10752671:!0,10781640:!0,10792898:!0,10792938:!0,10818844:!0,10833344:!0,11030330:!0,11911278:!0,12176544:!0,12263995:!0,12322515:!0,12327172:!0,12327177:!0,12327203:!0,12341879:!0,12407737:!0,12429679:!0,12457383:!0,12515112:!0,12644431:!0,12797890:!0,12802914:!0,12808926:!0,12808960:!0,12859763:!0,12934577:!0,13041230:!0,13041516:!0,13061828:!0,13077405:!0,13096151:!0,13096204:!0,13098001:!0,13139335:!0,13185111:!0,13203592:!0,13207999:!0,13212434:!0,13314855:!0,13314877:!0,13333758:!0,13334231:!0,13337703:!0,13371306:!0,13403094:!0,13430397:!0,13431995:!0,13446419:!0,13488210:!0,13491870:!0,13559277:!0,13625641:!0,13625669:!0,13625773:!0,13625804:!0,13625883:!0,13626529:!0,13626553:!0,13626649:!0,13744375:!0,13775160:!0,13775761:!0,13792626:!0,13792950:!0,13793828:!0,13802718:!0,13828924:!0,13858268:!0,13858702:!0,13858925:!0,13865600:!0,13870546:!0,13938118:!0,13939151:!0,13946516:!0,13985019:!0,14008830:!0,14192138:!0,14258760:!0,14296140:!0,14333193:!0,14340627:!0,14348682:!0,14350309:!0,14352315:!0,14368112:!0,14369113:!0,14369211:!0,14369377:!0,14369537:!0,14369608:!0,14369611:!0,14369626:!0,14369654:!0,14382443:!0,14414447:!0,14415333:!0,14415357:!0,14415381:!0,14415405:!0,14415429:!0,14415879:!0,14416045:!0,14419975:!0,14420101:!0,14420129:!0,14420217:!0,14420679:!0,14421049:!0,14421210:!0,14423069:!0,14431772:!0,14434533:!0,14436406:!0,14436584:!0,14441498:!0,14459058:!0,14621180:!0,14695400:!0,14696956:!0,14698788:!0,14698852:!0,14700407:!0,14702853:!0,14706137:!0,14716523:!0,14716524:!0,14716548:!0,14716554:!0,14716647:!0,14716690:!0,14729831:!0,14730841:!0,14734226:!0,14806603:!0,14823119:!0,14910790:!0,14919550:!0,14947448:!0,14991001:!0,14993180:!0,14994695:!0,14995755:!0,15002303:!0,15015672:!0};s["n-is-adv-exp-category"]=function(t){return a[t]||!1},t.exports=s});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.search-adv-exp")),require.define("yate-externals.string",function(t,e,n,r,i){function s(t){return p[t.toLowerCase()]}var a=n("google-caja-sanitizer").sanitize,o={},c=("undefined"!=typeof yr?yr:n("yate/lib/runtime.js")).scalar2xml,l=n("market-money-helpers").price,u=n("undefined"==typeof window?"helpers/plurals":"plurals"),d={RUR:"₽",RUB:"₽",BYN:"б.p.",UAH:"грн",KZT:"тнг.",TL:"TL"},p={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ъ":"","ы":"y","ь":"","э":"e","ю":"iu","я":"ia"};o["n-encode-uri-component"]=function(t){return encodeURIComponent(t)},o["n-str-contains"]=function(t,e){return t.indexOf(e)>-1},o["n-str-length"]=function(t){return t.length},o["n-str-substr"]=function(t,e,n){return t.substr(e,n)},o["n-str-substr-after"]=function(t,e){var n=t.indexOf(e);return n>-1?t.substr(n+1):""},o["n-str-substr-before"]=function(t,e){var n=t.indexOf(e);return n>-1?t.substr(0,n):""},o["n-str-to-lower"]=function(t){return t.toLowerCase()},o["n-str-to-upper"]=function(t){return t.toUpperCase()},o["n-str-capitalize"]=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},o["n-str-plural"]=u.pluralStr,o["n-str-format-price"]=function(t,e){return l.format(t,e)},o["n-str-format-price-without-round"]=function(t,e){var n=Number(t),r=Math.floor(n)!==n;return r&&(n=n.toFixed(2)),l.formatWithoutRound(n,e)},o["n-str-replace"]=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},o["n-str-currency"]=function(t){return d[t.toUpperCase()]},o["n-str-castrator"]=function(t,e,n,r){if(e=null==e?100:e,n=null==n?30:n,t.length>e){var i=new RegExp("^(.{0,"+(e-2)+"}[a-zа-яёЁ?!:;](?=[\\s.,:;?!\\(\\)])).{"+n+",}$","im"),s=t.match(i);return s?c(s[1])+(r||"…"):c(t)}return c(t)},o["n-normalize-space"]=function(t){var e=String.prototype.trim?t.trim():$?$.trim(t):t.replace(/^\s*|\s*$/g,"");return e.replace(/\s{2,}/g," ")},o["n-nl2br"]=function(t){return t.replace(/([^>])\n/g,"$1<br/>")},o["n-nl2space"]=function(t){return t.replace(/\r?\n|\r/g," ")},o["n-transliteration"]=function(t){return t.replace(/[а-яё]/gi,s)},o["n-str-decode"]=function(t){return decodeURIComponent(t)},o["n-str-format-number"]=function(t,e,n,r){e=void 0===e?0:e,n=n||",",r=void 0===r?"&thinsp;":r;var i=Number(t).toFixed(e).replace("-","−").split("."),s=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),a=i[1]?n+i[1]:"";return s+a},o["n-sanitize-html"]=function(t){return a(t)},t.exports=o});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.string")),require.define("yate-externals.picture",function(t,e,n,r,i){function s(t){var e=a.get(t,"original.url");if(e)return e;var n=a.maxBy(t&&t.thumbnails,"width");return n&&n.url}var a=n("lodash"),o={};o["n-largest-thumbnails"]=function(t){var e=a.get(t,"[0].data.pictures");return a.map(e,s).filter(Boolean).map(function(t){return{data:t}})},o["n-picture-url"]=function(t,e){var n=t[0].data.pictures;if(!n||!n.length)return!1;var r=n[0].thumbnails;if(r&&r.length){for(var i,s,a=0,o=0;i=r[o++];)i.width<=e&&a<=i.width&&i.height<=e&&(a=i.width,s=i.url);return s}},t.exports=o});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.picture")),require.define("yate-externals.params",function(t,e,n,r,i){var s={},a=n("lodash");s["n-params-expFlags"]=function(t){return t&&t.length||"undefined"==typeof window||(t=[{data:a.get(window,"state.expFlags")}]),t},s["n-params-user"]=function(t){return t&&t.length||"undefined"==typeof window||(t=[{data:a.get(window,"state.user")}]),t},t.exports=s});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.params")),require.define("yate-externals.offer",function(t,e,n,r,i){function s(t){return{entity:"offer",wareId:t.id,titles:{raw:t.name},description:t.description,inStock:t.onStock,cpa:t.cpa,cpc:t.cpc,filters:t.filters,shop:{id:t.shopId,name:t.shopName,qualityRating:t.qualityRating,feed:{id:t.feedId,offerId:t.offerId},outletsCount:t.shopOutletsCount,storesCount:t.shopStoresCount,bookNowStoresCount:t.shopBookNowStoresCount,pickupStoresCount:t.shopPickupStoresCount,postomatStoresCount:t.shopPostomatStoresCount,isGlobal:t.isGlobalShop},vendorId:t.vendorId,model:{id:t.modelId},categories:[{id:t.hid}],feeShow:t.fee,prices:{value:t.price,currency:t.currency},manufacturer:{warranty:t.manufacturerWarranty,country:t.countryOfOrigin},urls:{encrypted:t.url,cpa:t.urlCpa,geo:t.urlGeo,pickupGeo:t.urlPickupGeo,postomatGeo:t.urlPostomatGeo,offercard:t.urlOfferCard},delivery:a(t),region:t.region,seller:t.seller,pictures:[],isForeign:t.isForeign}}function a(t){var e=t.delivery||{};return{inStock:t.onStock,isAvailable:e.shipping,hasPickup:e.pickup,hasLocalStore:e.store,isFree:e.free,isDownloadable:e.downloadable,isCountrywide:e.isCountrywide,price:e.price?{value:e.price,currency:e.currency}:null,options:e.deliveryOptions,pickupOptions:e.pickupOptions,shipping:{shortText:e.shippingShort,fullText:e.shippingLong},regionId:e.regionID,isPriority:e.priority,isPriorityRegion:e.isPriorityRegion,availableServices:e.availableServices,shopPriorityCountry:e.shopPriorityCountry,shopPriorityRegion:e.shopPriorityRegion,fastestServiceTime:e.fastestServiceTime,hasYandexDelivery:e.hasYandexDelivery}}function o(t,e){var n=t.model||{},r=t.shop||{},i=t.prices||{},s=t.delivery||{},a={id:t.wareId,type:"offer",name:_.get(t,"titles.raw"),modelId:n.id,clusterId:n.id,shopId:r.id,shopName:r.name,vendorId:t.vendorId,qualityRating:r.qualityRating,hid:_.get(t,"categories[0].id"),fee:t.feeShow,feeOffer:t.fee,cpc:t.cpc,filters:_.filter(t.filters,{kind:2}),price:i.rawValue?i.rawValue:i.value,currency:i.currency,count:e.count?e.count:1,cpa:t.cpa,feedId:_.get(r,"feed.id"),offerId:_.get(r,"feed.offerId"),bundleSettings:t.bundleSettings,onStock:s.inStock,delivery:c(s),images:l(t.pictures),realShop:t.realShop,sku:t.sku,shopSku:t.shopSku};return"geo-snippet"==e.place&&(a.outletId=_.get(t,"outlet.id"),a.outletRegionId=_.get(t,"outlet.region.id")),"shopping-list"==e.place&&(a.sourceProduct=e.sourceProduct),a}function c(t){var e=t.shipping||{},n=t.shopPriorityRegion||{};return{regionId:_.get(t,"region.id"),shipping:t.isAvailable,pickup:t.hasPickup,store:t.hasLocalStore,free:t.isFree,downloadable:t.isDownloadable,shippingShort:e.shortText?e.shortText:e.fullText,shippingLong:e.fullText,price:_.get(t,"price.value"),priority:t.isPriorityRegion,priorityRegionID:n.id,priorityRegionName:n.name}}function l(t){var e={thumbnails:[{width:50,height:38,url:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",isStub:!0,containerWidth:50,containerHeight:38}]},n=_.head(t)||e,r=new f;return _.forEach(n.thumbnails,function(t){var e=String(t.containerWidth)+String(t.containerHeight);r.set(e,new h.Image.Thumbnail(t.url,t.width,t.height,t.isStub))}),[r]}var u={},d="undefined"!=typeof yr?yr:n("yate/lib/runtime.js"),p=n("makeOfferSafe"),h="undefined"!=typeof window?n("Offer"):n("elements").Offer,f=n("List"),_=n("lodash");u["n-safe-offer"]=function(t,e){var n=d.nodeset2data(t);return p(n,e)},u["n-cart-offer-to-microformat"]=function(t){var e=d.nodeset2data(t);return d.object2nodeset(s(e))},u["n-offer-to-cart-offer"]=function(t,e){var n=d.nodeset2data(t);return o(n,e)},t.exports=u});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.offer")),require.define("n-constants",function(t,e,n,r,i){var s=n("lodash"),a="undefined"!=typeof window,o={checkout:{context:n(a?"n-constants__checkout-context":"constants/checkout/context")},reviews:n(a?"n-constants__reviews":"constants/reviews")},c=s.partial(s.get,o);t.exports={get:c,"n-constants-get":c}}),require.define("n-constants__checkout-context",function(t,e,n,r,i){t.exports={DEFAULT:"DEFAULT",BOOKING:"BOOKING",SHOPPING_LIST:"SHOPPING_LIST",PHILIPS_VENDOR_PROMO:"PHILIPS_VENDOR_PROMO"}}),require.define("n-constants__reviews",function(t,e,n,r,i){t.exports={TYPE_SHOP:0,TYPE_PRODUCT:1,TYPE_CLUSTER:2,MODERATION_STATE_APPROVED:3}});var _=require("lodash");_.assignIn(yr.externals,require("n-constants")),function(){var t=require("jquery");t(function(){BEM.DOM.init(function(){BEM.DOM.trigger("ready")})})}(),require.setModuleNameSpace("Market"),$(document).ajaxError(function(t,e,n,r){401==e.status&&"undefined"!=typeof window&&window.location.reload()}),$(document).on("yacounter160656inited",function(){var t="[object HTMLScriptElement]",e=window.onerror,n=new Ya.Metrika({id:160656});window.onerror=function(r,i,s,a,o){var c=r;if("object"==typeof c&&c.srcElement&&c.target){if(c.srcElement==t&&c.target==t)return;c="Event Error. Target: "+c.target+" srcElement: "+c.srcElement}n.params({message:String(c),url:i,lineNumber:s,column:a,stack:o&&(o.stack||String(o))}),"function"==typeof e&&e(o,i,s)}}),function(){var t=require("user");t.onceState(t.STATE_READY,function(){$.ajaxSetup({data:{sk:t.sk}})})}(),function(t,e,n){function r(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function i(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function s(t,n){var r,i=e.isArray(n);return e.isArray(t)?i?r=t.concat(n):(r=t).push(n):i?(r=n).unshift(t):r=[t,n],r}function a(t){return t.replace(f,function(t){return h[t]})}var o=t.INTERNAL,c=o.ELEM_DELIM,l={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},u=o.buildClass,d=o.buildClasses,p={},h={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},f=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var s=p[t.block]||(p[t.block]={});n.onBlock&&r(s,"_block",i(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?r(s,"_elem",i(n.onElem,t)):e.each(n.onElem,function(e,n){r(s,"_elem"+("*"===e?"":c+e),i(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=n},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return"undefined"==typeof t?e._params:(e._params=t,e)},param:function(t,n,r,i){var s=this,a=s._params;return"undefined"==typeof n?a[t]:(!r&&t in a?i&&(a[t]=e.extend(n,a[t])):a[t]=n,s)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var r=this;if("undefined"==typeof e)return(r._params.attrs||{})[t];var i=r._params.attrs;return i?(n||!(t in i))&&(i[t]=e):(r._params.attrs={})[t]=e,r},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var r=this;if("undefined"==typeof e)return(r._params.mods||{})[t];var i=r._params.mods;return i?(n||!(t in i))&&(i[t]=e):(r._params.mods={})[t]=e,r},mix:function(t,e){var n=this,r=n._params;return"undefined"==typeof t?r.mix:(!e&&"mix"in r?r.mix=r.mix.concat(t):r.mix=t,n)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this,n=e._params;return t.content=n.content,n.content=t,e},beforeContent:function(t){var e=this,n=e._params;return n.content=s(t,n.content),e},afterContent:function(t){var e=this,n=e._params;return n.content=s(n.content,t),e},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,r=n._tParams||(n._tParams={});if("undefined"==typeof e)return r[t];var i=n._tParamsChanges||(n._tParamsChanges={});return t in i||(i[t]=r[t]),r[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,r=t._params,i=typeof r;if("string"===i||"number"===i)n.push(r);else if(e.isArray(r))for(var s,a,o=0,c=r.length;o<c;)t._params=s=r[o++],a=typeof s,"string"===a||"number"===a?n.push(s):s&&(s._pos=o,s._siblingsCount=c,t._buildByDecl());else r&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,r=n._buffer,i=n._params,s=i.tag||"div",o=i.block||i.elem,c=o&&(i.block||n._curBlock.block),p=!1;i.js&&((t={})[u(c,i.elem)]=i.js===!0?{}:i.js,p=!i.elem),r.push("<",s),(o||i.cls)&&(r.push(' class="'),o&&(d(c,i.elem,i.mods,r),i.mix&&e.each(i.mix,function(e,n){n&&(r.push(" "),d(n.block,n.elem,n.mods,r),n.js&&((t||(t={}))[u(n.block,n.elem)]=n.js===!0?{}:n.js,p||(p=!n.elem)))})),i.cls&&r.push(o?" ":"",i.cls),p&&r.push(" i-bem"),r.push('"')),t&&r.push(' onclick="return ',a(JSON.stringify(t)),'"'),i.attrs&&e.each(i.attrs,function(t,e){"undefined"!=typeof e&&null!==e&&e!==!1&&r.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),l[s]?r.push("/>"):(r.push(">"),"undefined"!=typeof i.content&&(n._params=i.content,n._buildAll()),r.push("</",s,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,r=t._params;if(r._curBlock&&(t._curBlock=r._curBlock),r.block&&(t._curBlock=r),!r._wrapper){if(r.block||r.elem){var i=p[t._curBlock.block];if(i){var s;if(r.elem?(s=i["_elem"+c+r.elem],i._elem&&(s=s?s.concat(i._elem):i._elem)):s=i._block,s)for(var a,o=0;(a=s[o++])&&(a(t),!r._isStopped););}}if(r._wrapper)return r._curBlock=t._curBlock,t._params=r._wrapper,t._buildAll()}var l=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,l){var u=t._tParams;e.each(l,function(t,e){"undefined"==typeof e?delete u[t]:u[t]=e})}}})}}(BEM,jQuery),function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):e.indexOf("Opera")!==-1&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var r,i={},s={};(r=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?i.wp=r[1]:(r=e.match(/Android\s+([\d.]+)/))?i.android=r[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?i.android="2.3":(r=e.match(/iPhone\sOS\s([\d_]+)/))?(i.ios=r[1].replace(/_/g,"."),s.iphone=!0):(r=e.match(/iPad.*OS\s([\d_]+)/))?(i.ios=r[1].replace(/_/g,"."),s.ipad=!0):(r=e.match(/Bada\/([\d.]+)/))?i.bada=r[1]:(r=e.match(/MSIE\s9/))?i.wp="7.5":i.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some(function(n){return t[n]&&(e=n)}),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=this.__self.ios||this.__self.android,e=t.split("."),n=e.shift(),r=e.join("-"),i=this.getMod("platform");return{platform:i,major:n,subversion:r}}}},{ios:i.ios,iphone:s.iphone,ipad:s.ipad,android:i.android,bada:i.bada,wp:i.wp,other:i.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent),function(t){function e(){return s.length?s.shift():i?i.clone():i=r()}function n(t){s.push(t)}function r(){return t(h?"<iframe"+(o?' frameborder="0"':"")+">":"<div>")}var i,s=[],a=BEM.blocks["i-ua"],o=a.ie<9,c=a.ie>=9,l="application/x-shockwave-flash",u="ShockwaveFlash.ShockwaveFlash",d=window.ActiveXObject,p=Object(navigator.mimeTypes),h=function(){if(d)try{return Boolean(new d(u))}catch(t){return!1}return Boolean(Object(p[l]).enabledPlugin)}();BEM.DOM.decl("i-popup",{onSetMod:{js:{inited:function(){c&&(this.domElem[0].onresize=function(){this.className+=""})}},visibility:{visible:function(){var t=this._getUnder(),e=t.parent();this.hasMod(t,"type","paranja")?e.is("body")||t.appendTo("body"):e[0]!==this.domElem[0]&&t.prependTo(this.domElem),this._inBody=this._inBody||Boolean(this.domElem.appendTo("body")),this.trigger("show")},"":function(){var t=this._getUnder();this.hasMod(t,"type","paranja")&&t.remove(),this._putUnder(),this.trigger("hide")}}},_getUnder:function(){return this._under||(this._under=e().attr("class",this._underClass||(this._underClass=this.findElem("under").remove().attr("class"))))},_putUnder:function(){n(this._under),delete this._under},show:function(t){return t&&this.domElem.css(t),this.setMod("visibility","visible")},hide:function(){return this.delMod("animate").delMod("visibility")}},{live:!0})}(jQuery),BEM.HTML.decl("i-popup",{onBlock:function(t){t.mod("autoclosable","yes").js(!0).wrapContent({elem:"content"}).afterContent({elem:"under",mods:t.param("underMods"),mix:t.param("underMix")}).param("zIndex")&&t.attr("style","z-index:"+(32700+t.param("zIndex")))}}),BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some(function(e){return this[e]===t},this)}}),BEM.DOM.decl({block:"i-popup",modName:"autoclosable",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.afterCurrentEvent(function(){if(this.domElem&&this.hasMod("visibility","visible")){var t=this._under;this.bindToDoc("pointerclick",function(t){this.containsDomElem($(t.target))||this._onOutClick(t)}).bindToDoc("keydown",function(t){t.keyCode===BEM.blocks.keycodes.ESC&&this.hide()}),t&&t.is("iframe")&&this.hasMod(t,"type","paranja")&&this.bindToDomElem($([t[0].contentWindow,t[0].contentWindow.document]),"pointerclick",this._onOutClick)}}),this.__base.apply(this,arguments)},"":function(){return this.unbindFromDoc("pointerclick keydown").__base.apply(this,arguments)}}},_onOutClick:function(t){var e=$.Event("outside-click");this.trigger(e,{domEvent:t}),e.isDefaultPrevented()||this.hide()}}),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target),n=this.containsDomElem(e)||this.params.form.containsDomElem(e);n||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;return t.params.form.on("submit",function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&n.data.prevent!==!1&&this.removeHiddenInputs(),t._clear(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest(),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var n=this.getMod("type");return t=t||{},"simple"!==n&&"all"!==n||(t.simple="yes"),"advanced"!==n&&"all"!==n||(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.domEvent.target).attr("target")&&n.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t.unbindFromDoc("pointerclick"),t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSearchButtonMousedown,t),t},setItems:function(t,e){var n=this,r=e.data.items||[];return n._isFormSubmitDurinQuery()||!r.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(r,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t)},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this,r=n._getItemIndex(t),i=t.onSelect(e),s=t.valOnSelect();return n._text=n._input.realVal(s),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:r,byKeyboard:e,callbackOnSelect:i}),s!==!1&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),r},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),n=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=n?n:e,maxWidth:n}},adjustView:function(){return{}}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var r=e.block.domElem[0];r===n.relatedTarget||$.contains(r,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&this._enterItemIndex!==-1&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&this._enterItemIndex!==-1&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,r=this._enterItemIndex+e;return r===-1||r===n?(this._enterItemIndex=r,this._unselectItems(this._items[r]),this.trigger("out",{val:this._text,
byKeyboard:!0})):(r<0?r=n-1:r>=n&&(r=0),void this._onEnterItem(this._items[r],!0))},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",function(){this._onDownItem()}),this.__base()}}),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target),n=this.containsDomElem(e)||this.params.form.containsDomElem(e);n||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;return t.params.form.on("submit",function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&n.data.prevent!==!1&&this.removeHiddenInputs(),t._clear(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("click tap leftclick",t._bodyHandler),t.bindEvents(),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){return BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.$e.target).attr("target")&&n.$e.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t.unbindFromDoc("click tap leftclick"),t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSearchButtonMousedown,t),t},setItems:function(t,e){var n=this,r=e.data.items||[];return n._isFormSubmitDurinQuery()||!r.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(r,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t)},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this,r=n._getItemIndex(t),i=t.onSelect(e),s=t.valOnSelect();return n._text=n._input.realVal(s),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:r,byKeyboard:e,callbackOnSelect:i}),s!==!1&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),r},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var r=e.block.domElem[0];r===n.relatedTarget||$.contains(r,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},leftclick:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&~this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&~this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,r=this._enterItemIndex+e;return r===-1||r===n?(this._enterItemIndex=r,this._unselectItems(this._items[r]),this.trigger("out",{val:this._text,byKeyboard:!0})):(r<0?r=n-1:r>=n&&(r=0),void this._onEnterItem(this._items[r],!0))},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){this.liveBindTo("mousedown",function(){this._onDownItem()})}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create("suggest2-provider",t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n){var r=this,i={val:t,caretPosition:e,data:n};r._requests.push(i);var s=r._isNeedRequest(t,n);return s.need?(i.requestTime=(new Date).getTime(),r.trigger("request",{val:t,pos:e}),r.getProvider().get(t,e,function(t,e,n){i.responseTime=(new Date).getTime(),r._onResponse(t,e,n);var s=r._requests[r._requests.length-1];r.params.sequentialQueriesTimeout&&s.val!==t&&r.request(s.val,s.caretPosition,s.data)}),r):r.trigger("reject",{val:t,pos:e,code:s.code,reason:s.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var r=this._requests[n];if(void 0===r.responseTime&&(new Date).getTime()-r.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:r}}}if(!e)return{need:!0};var i,s=this.getCancelRequestConditions();t:for(n=0;n<s.length;n++){i=s[n];for(var a in i)if(i.hasOwnProperty(a)&&i[a]!==e[a])continue t;return{need:!1,code:1,reason:{condition:i}}}return{need:!0}},_onResponse:function(t,e,n){var r={val:t,pos:e,data:n};BEM.channel("suggest2").trigger("response",r),this.trigger("response",r)}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create("suggest2-provider",t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n){var r=this,i={val:t,caretPosition:e,data:n};r._requests.push(i);var s=r._isNeedRequest(t,n);return s.need?(i.requestTime=(new Date).getTime(),r.trigger("request",{val:t,pos:e}),r.getProvider().get(t,e,function(t,e,n){i.responseTime=(new Date).getTime(),r._onResponse(t,e,n);var s=r._requests[r._requests.length-1];r.params.sequentialQueriesTimeout&&s.val!==t&&r.request(s.val,s.caretPosition,s.data)}),r):r.trigger("reject",{val:t,pos:e,code:s.code,reason:s.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var r=this._requests[n];if(void 0===r.responseTime&&(new Date).getTime()-r.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:r}}}if(!e)return{need:!0};var i,s=this.getCancelRequestConditions();t:for(n=0;n<s.length;n++){i=s[n];for(var a in i)if(i.hasOwnProperty(a)&&i[a]!==e[a])continue t;return{need:!1,code:1,reason:{condition:i}}}return{need:!0}},_onResponse:function(t,e,n){this.trigger("response",{val:t,pos:e,data:n})}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,n=/^get|post$/i,r=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",function(i,s,a){if(i.crossDomain&&i.async&&n.test(i.type)&&e.test(i.url)&&r.test(i.url)){var o=null;return{send:function(e,n){var r="",a=(s.dataType||"").toLowerCase();o=new XDomainRequest,/^\d+$/.test(s.timeout)&&(o.timeout=s.timeout),o.ontimeout=function(){n(500,"timeout")},o.onload=function(){var e="Content-Length: "+o.responseText.length+"\r\nContent-Type: "+o.contentType,r={code:200,message:"success"},i={text:o.responseText};try{if("html"===a||/text\/html/i.test(o.contentType))i.html=o.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(o.contentType))try{i.json=t.parseJSON(o.responseText)}catch(t){r.code=500,r.message="parseerror"}}catch(t){throw t}finally{n(r.code,r.message,i,e)}},o.onprogress=function(){},o.onerror=function(){n(500,"error",{text:o.responseText})},s.data&&(r="string"===t.type(s.data)?s.data:t.param(s.data)),o.open(i.type,i.url),o.send(r)},abort:function(){o&&o.abort()}}}})}}(jQuery),function(t){if(t.support.cors||!t.ajaxTransport||!window.XDomainRequest)return t;var e=/^(https?:)?\/\//i,n=/^get|post$/i,r=new RegExp("^(//|"+location.protocol+")","i");return t.ajaxTransport("* text html json",function(i,s,a){if(i.crossDomain&&i.async&&n.test(i.type)&&e.test(i.url)&&r.test(i.url)){var o=null;return{send:function(e,n){var r="",a=(s.dataType||"").toLowerCase();o=new XDomainRequest,/^\d+$/.test(s.timeout)&&(o.timeout=s.timeout),o.ontimeout=function(){n(500,"timeout")},o.onload=function(){var e="Content-Length: "+o.responseText.length+"\r\nContent-Type: "+o.contentType,r={code:200,message:"success"},i={text:o.responseText};try{if("html"===a||/text\/html/i.test(o.contentType))i.html=o.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(o.contentType))try{i.json=t.parseJSON(o.responseText)}catch(t){r.code=500,r.message="parseerror"}}catch(t){throw t}finally{n(r.code,r.message,i,e)}},o.onprogress=function(){},o.onerror=function(){n(500,"error",{text:o.responseText})},s.data&&(r="string"===t.type(s.data)?s.data:t.param(s.data)),o.open(i.type,i.url),o.send(r)},abort:function(){o&&o.abort()}}}}),t}(jQuery),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_lastQuery:null,get:function(t,e,n){var r=this,i=this.params.abortQueries,s=function(){n.call(r,t,e,r.convert(r._lastData))};return r._lastText===t?this._lastQuery.always(s):(r._lastText=t,i&&null!==this._lastQuery&&this._lastQuery.abort(),void(this._lastQuery=$.ajax(r._extendParamsData(r.getRequestData(t,e))).done(function(t){r._lastData=t,i&&s()}).fail(function(){r._lastData=[]}).always(function(){i||s()})))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e){var n={};return BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&(n.svg=1),$.extend({part:t,pos:e},n)},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params},_lastText:void 0,_lastData:[]}),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_lastQuery:null,get:function(t,e,n){var r=this,i=this.params.abortQueries,s=function(){n.call(r,t,e,r.convert(r._lastData))};return r._lastText===t?this._lastQuery.always(s):(r._lastText=t,i&&null!==this._lastQuery&&this._lastQuery.abort(),void(this._lastQuery=$.ajax(r._extendParamsData(r.getRequestData(t,e))).done(function(t){r._lastData=t,i&&s()}).fail(function(){r._lastData=[]}).always(function(){i||s()})))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e){var n={};return BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&(n.svg=1),$.extend({part:t,pos:e},n)},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params},_lastText:void 0,_lastData:[]}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t})},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})}).liveBindTo("link","pointerclick",function(t){this.trigger("link-click",{domEvent:t})}),this.__base()}}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t})},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}}),BEM.DOM.decl("suggest2-item",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("mouseover mouseout mousedown leftclick",function(t){this.trigger(t.type,t)}).liveBindTo("link","leftclick",function(t){this.trigger("link-click",{$e:t})})}}),function(){var t=require("lodash");BEM.DOM.decl({name:"suggest2-item",modName:"type",modVal:"model"},{onSetMod:{selected:{yes:function(){this.params.image&&this._setPlaceholderImg(this.params.image.replace("size=2","size=5"))},"*":function(t,e){""===e&&this._setPlaceholderImg("")}}},_setPlaceholderImg:function(t){var e=this.findBlockOutside("suggest2").findElem("content"),n=this.findBlockOutside("suggest2").findElem("model-img"),r=this.findElem("text"),i=this.getMaxItemWidth();n.css({marginLeft:parseInt(r.offset().left)+i+"px"}),(""===t||e.height()>n.outerHeight(!0)&&this.fitsInWindow(n))&&n.css({"background-image":""!==t?"url("+t+")":""})},fitsInWindow:function(t){var e=$(t),n=$(window).width(),r=e.offset(),i=e.outerWidth();return n-(r.left+i)>0},getMaxItemWidth:function(){if(!this.maxItemWIdth){var e=this.findBlockOutside("suggest2").domElem,n=t.max(t.map(e.find(".suggest2-item__text"),function(t){return $(t).width()}));this.maxItemWIdth=150+n}return this.maxItemWIdth}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("pointerclick",function(t){this.trigger(t.type,t)}).liveBindTo("link","pointerclick",function(t){this.trigger("link-click",{$e:t})})}})}(),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this._popup.domElem?(t&&this.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._setPosition(),this.trigger("show"),this)):this},_setPosition:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this.bindSuggestEvents()}}},show:function(t){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),r="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:r,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,r){var i=r.text,s=r.mods,a=r.js,o=r.props,c=r.content;return e.pers&&(s.personal="yes"),e.url&&(s.interact="link",o.url=this.__self._resolveUrl(e.url),e.target&&(o.target=e.target)),e.search_cgi&&(a.searchCGI=e.search_cgi),0===c.length&&c.push(i),$.extend({block:"suggest2-item",mods:s,js:a,content:c},o)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){var n=Array.isArray(t)?t[0]||"text":"text";return"icon"!==n||e.icon?n:"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,r=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),i=[],s=0;return r.length?(r.forEach(function(e){n=s>e[0]?s:e[0],i.push(t.slice(s,n)),i.push({elem:"highlight",content:t.slice(n,s=e[1])})},this),i.push(t.slice(s)),i.filter(function(t){return t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":["nav"].indexOf(e)!==-1?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",mods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),r="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:r,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,r){var i=r.text,s=r.mods,a=r.js,o=r.props,c=r.content;if(e.pers&&(s.personal="yes"),"fact"===n)c.push(i,{elem:"bullet"},{elem:"fact",content:t[2]});else if("weather"===n)c.push(i,{elem:"icon",elemMods:{weather:t[3]}},{elem:"fact",content:t[2]});else if("traffic"===n)c.push(i,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});else if("nav"===n)a.val=t[1],s.interact="link",o.url=this.__self._resolveUrl(t[4]),c.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});else if("icon"===n){var l={};e.icon.forEach(function(t,e,n){Array.isArray(t)?l[t[0]]=t[1]:0===e&&(l[t]=n[e+1])}),c.push(i,$.extend({elem:"icon",elemMods:{size:"s"}},l)),e.fact&&c.push({elem:"fact",content:e.fact})}else"html"===n?(a.val=t[1],c.push(e.body)):"bemjson"===n?(a.val=t[1],c=c.concat(e.bemjson)):c.push(i);return e.url&&(s.interact="link",o.url=this.__self._resolveUrl(e.url),e.target&&(o.target=e.target)),e.search_cgi&&(a.searchCGI=e.search_cgi),$.extend({block:"suggest2-item",mods:s,js:a,content:c},o)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){var n=Array.isArray(t)?t[0]||"text":"text";return"icon"!==n||e.icon?n:"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,r=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),i=[],s=0;return r.length?(r.forEach(function(e){n=s>e[0]?s:e[0],i.push(t.slice(s,n)),i.push({elem:"highlight",content:t.slice(n,s=e[1])})},this),i.push(t.slice(s)),i.filter(function(t){return!!t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle(function(e,n){t._onClear(e,n)},300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("undefined"!=typeof t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){var t=this._input.hasMod("focused");t&&this._input.delMod("focused"),this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),t&&this._input.setMod("focused","yes")},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(n){this._bindedEventsNames.indexOf(n)===-1&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){var e=["blur","focus","change","clear"];return e.indexOf(t)!==-1?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle(function(e,n){t._onClear(e,n)},300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){
return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("undefined"!=typeof t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){var t=this._input.hasMod("focused");t&&this._input.delMod("focused"),this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),t&&this._input.setMod("focused","yes")},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(n){this._bindedEventsNames.indexOf(n)===-1&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return~["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}}),$.extend({debounce:function(t,e,n,r){var i,s=function(){var s=arguments;r=r||this,n&&!i&&t.apply(r,s),clearTimeout(i),i=setTimeout(function(){n||t.apply(r,s),i=null},e)};return 3===arguments.length&&"boolean"!=typeof n&&(r=n,n=!1),s.stop=function(){clearTimeout(i),i=null},s},throttle:function(t,e,n){var r,i,s,a=function(){i=arguments,s=!0,n=n||this,r||function(){s?(t.apply(n,i),s=!1,r=setTimeout(arguments.callee,e)):r=null}()};return a.stop=function(){clearTimeout(r),r=null},a}}),function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery),BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){return!this.hasMod("disabled")&&void(this._focused||(this._focus(),this.trigger("focus")))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this.domElem.attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}}),BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){return!this.hasMod("disabled")&&void this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){this._preventClick||this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),n.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.prvntKeys)&&t.preventDefault(),n.is(e,this.params.pressKeys)&&(this.delMod("pressed"),n.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("keydown",function(t){this._onKeydown(t)}).liveBindTo("keyup",function(t){this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",function(t){this.hasMod("disabled")||this._onClick(t)}),this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base()}}),function(){function t(){n.hasClass("pointerfocus")&&(i=!0,setTimeout(function(){i=!1}))}var e=$(window),n=$(document.documentElement),r=0,i=!1;document.documentMode<=9?n.on("focusin",function(e){var n=e.originalEvent;!n||n.fromElement||n.relatedTarget||t()}):e.on("blur",function(){e.one("focus",t)}),n.addClass("utilityfocus").on({focusin:function(){n.toggleClass("pointerfocus",i).toggleClass("utilityfocus",!i)},keydown:function(){clearTimeout(r),i=!1},"pointerdown pointerup click":function(t){i=!0,clearTimeout(r),r=setTimeout(function(){i=!1},600)}})}(),BEM.DOM.decl({name:"suggest2",modName:"type",modVal:"market"},{init:function(){this.bindToDoc("pointerclick",this._bodyHandler);var t=this.__base.apply(this,arguments);return this._input.val()&&this._input.isFocused()&&this._doRequest(),t},initModel:function(){return BEM.create({block:"suggest2-model",mods:{type:"market"}},this.params)},initView:function(t,e){var t={type:"market"};this.initPresizer();var n={counter:this.params.counter};return this.params.backend&&_.merge(n,{backend:this.params.backend}),BEM.create({block:"suggest2-view",mods:t},n)},initPresizer:function(){function t(t){function e(t){return $(t.target).is(":checked")}function r(t){n._isBlur=!1,setTimeout(function(){n._isBlur=!0},100),n.presizerStatus=e(t)}function s(t){r(t),a(t),c.prop("disabled",!e(t)),u.val(e(t)?0:2)}function a(n){l.val(t),l.prop("disabled",!e(n))}var o=n.params.form,c=o.findElem("presizer-input"),l=o.findElem("presizer-flag"),u=o.findElem("redirect-input"),d="";return"geo"==t?function(t){r(t),e(t)?(d=o.domElem.attr("action"),o.domElem.attr("action","/geo.xml")):o.domElem.attr("action",d)}:("shop"==t?c.attr({name:"fesh",value:i}):"category"==t&&c.attr({name:"hid",value:i}),s)}var e=this.params.presizer?{presizer:this.params.presizer}:{},n=this,r=this.params.presizer,i=this.params.presizerValue||"",s=this.params.form.findElem("presizer-checkbox");e.suggest=this,r&&s.delegate("input.checkbox__control","change",t(r,n))},bindEvents:function(){var t=this;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",function(e){t._onSelectItem(e.block,!1)}),t.__base.apply(t,arguments)},unbindAllEvents:function(){return this.unbindFromDoc("pointerclick"),this.__base.apply(this,arguments)}}),BEM.decl({name:"suggest2-model",modName:"type",modVal:"market"},{setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:{type:"market"}},t),this._provider}}),function(){BEM.decl({name:"suggest2-provider",modName:"type",modVal:"market"},{convert:function(t){var e=t[2]?t[2].map(function(e,n){var r="string"==typeof e?JSON.parse(e):e,i=r[0]||r,s=t[1][n]||i.text.toLowerCase();return $.extend(i,{text:s})}):[];return{orig:t[0],items:e,meta:t[3]}}})}(),function(){var t=require("lodash");BEM.decl({name:"suggest2-view",modName:"type",modVal:"market"},{onSetMod:{js:{inited:function(){var t=this;t.fesh=void 0,BEM.channel("market:preciser").on("change",function(e,n){t.fesh=n},t)}}},html:function(t,e){var n=this.build(t,e),r=[{block:"suggest2",elem:"model-img"},n],i=BEMHTML.apply(r);return i},buildItems:function(e,n){function r(e,n){return e=e.bind(i,l),n=n.bind(i),t.flow([e,i._updateItemTypes.bind(i),i._buildItems.bind(i,n)]).bind(i)}var i=this,s=i.params.counter._reqID;const a=["backend"];t.forEach(e,function(e){var n=BEM.blocks.uri.parse(e.link);s&&n.addParam("suggest_reqid",s),i.fesh&&""!==i.fesh&&n.addParam("fesh",i.fesh),t.forEach(a,function(t){i.params[t]&&""!==i.params[t]&&n.addParam(t,i.params[t])}),e.link=n.path()+n.query()}),e=this._clearDuplicates(e,"categories_vendors","recipe");var o,c=13,l=Math.min(c,e.length);return(o="type"===this.getMod("group-by")?r(this._getGroups,this._buildGroup):r(this._getItems,this.buildItem))(e)},buildItem:function(t){return this._getItemByType(t)},_getGroups:function(e,n){for(var r=[{title:"",types:["multi_category"]},{title:"Модели",types:["model"]},{title:"Категории",types:["category","category_city"]},{title:"Бренды",types:["vendor"]},{title:"Часто ищут",types:["parametric","recipe","category_vendor_type"]},{title:"Группы товаров",types:["categories_vendors"]},{title:"Подборки",types:["collection"]},{title:"Статьи",types:["article"]},{title:"Магазины",types:["shop"]},{title:"Запросы",types:["search"]}],i=t.groupBy(n,"type"),s=t.compact(t.map(r,function(e){var n={};return n.title=e.title,n.allItems=t.flatMap(e.types,function(t){return i[t]||[]}),n.items=[],n.allItems.length?n:""})),a=0,o=0;o<e;)s[a].allItems.length&&(s[a].items.push(s[a].allItems.shift()),o++),a=(a+1)%s.length;return this._getGroupsSortedByPopularity(s)},_getItems:function(t,e){return e.slice(0,t)},_updateItemTypes:function(e){var n=Boolean(t.get(e,"[0].items"));return n?this.currentItemTypes=t.chain(e).map("items").flattenDeep().map("type").value():this.currentItemTypes=t.map(e,"type"),e},_buildItems:function(t,e){return e.map(t)},_buildGroup:function(t){return{block:"suggest2",elem:"group",content:[{block:"suggest2",elem:"title",content:[{block:"suggest2",elem:"title-content",content:t.title}]},{block:"suggest2",elem:"items",content:t.items.map(this.buildItem.bind(this))}]}},_getItemByType:function(t){var e=[{block:"suggest2-item",elem:"text",content:[t.text]}],n={},r=t.type;if("model"===r){var i="yes"===this.getMod("show-price")&&this._getModelPrice(t,"min"),s={block:"suggest2",elem:"model-price",content:[i]};t.img&&"yes"===this.getMod("show-img")&&(n.js={image:t.img}),e.push(i?s:"")}else"multi_category"===r&&e.push({block:"suggest2",elem:"category",content:[t.category]});return $.extend({block:"suggest2-item",mods:{type:r,interact:"link"},url:t.link,target:"_self",content:e},n)},_getModelPrice:function(t,e){var n=require("user").region.id;if(t.prices&&t.prices.length){var r=t.prices.filter(function(t){return t.region==n});if(r.length)return r[0][e]?"от "+this._prettyPrice(r[0][e])+" ₽":""}return""},_prettyPrice:function(t){return parseInt(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},_clearDuplicates:function(e,n,r){var i=t.map(e,function(t){return t.type==n?t.text:""});return t.reject(e,function(e){return e.type==r&&t.contains(i,e.text)})},_getGroupsSortedByPopularity:function(e){return t.sortBy(e,function(e){return 0-t.chain(e.items).map("popularity").max().value()})}})}(),BEM.DOM.decl("suggest2-counter",{onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._renderTimes=[],t._renderTime=0,t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=0,t._meta={},t._afterSendAjaxCallback,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],r=n.val();e._params.text=r,e._params.pos=n.getCaretPosition(),e.params.suggestReqID&&e.attachReqID(),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=r},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,render_times:t._renderTimes,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},bindEvents:function(){var t=this,e=t.params,n=e.suggest,r=e.form,i=n.getModel(),s=n.params["suggest2-input"],a=n.params["suggest2-popup"];return r.on({"button-click":t._onFormButtonClick,submit:t._onFormSubmit},t),i.on({request:t._onModelRequest,response:t._onModelResponse},t),s.on({change:t._onInputChange,enter:t._onInputEnter},t),a.on({show:t._onPopupShow,hide:t._onPopupHide},t),BEM.blocks["suggest2-item"].on(n.domElem,"enter",t._onSuggestItemEnter,t),n.on({update:t._onSuggestUpdate,select:t._onSuggestSelect},t),t},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&e.data.prevent!==!1&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(){this._requestTime=new Date},_onModelResponse:function(t,e){e.data.items&&(this._path.personal=this._hasPersonal(e.data.items)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._addTime(new Date-this._requestTime),this._renderTime=new Date,this._setMetaProps(e))},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onPopupHide:function(t,e){"empty"===e.response&&(this._path.state="not_shown")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){var n=this;n._path.state=e.byKeyboard?"keyboard":"mouse",n._path.index=e.itemIndex+1,n._selectedText=e.val,e.item.hasMod("personal")&&(n._path.personal="nah_used"),n.params.submitBySelect&&(n._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",n._params.pos=e.pos,n._params.text=this._selectedText),n.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||n.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect})},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form;return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),e.params["suggest2-popup"].un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){return{since_first_change:this._getSinceTime("first"),since_last_change:this._getSinceTime("last")}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addTime:function(t){return this._times.push(t),this._params.times=this._times.join("."),this},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){var t=BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9);return t+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(-Math.min(t,10))}}),BEM.DOM.decl("suggest2-counter",{onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._renderTimes=[],t._requestTime=0,t._renderTime=0,t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=0,t._meta={},t._afterSendAjaxCallback,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],r=n.val();e._params.text=r,e._params.pos=n.getCaretPosition(),e._selectedText&&e._selectedText!==e._params.text&&(e._path.state="edit"),e.params.suggestReqID&&e.attachReqID(),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=r},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,render_times:t._renderTimes,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this.params.timeout,cache:!0}).always(this._sendAjaxAlways.bind(this,e)),this},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},bindEvents:function(){var t=this,e=t.params,n=e.suggest,r=e.form,i=n.getModel(),s=n.params["suggest2-input"],a=n.params["suggest2-popup"];return r.on({"button-click":t._onFormButtonClick,submit:t._onFormSubmit},t),i.on({request:t._onModelRequest,response:t._onModelResponse},t),s.on({change:t._onInputChange,enter:t._onInputEnter},t),a.on({show:t._onPopupShow,hide:t._onPopupHide},t),BEM.blocks["suggest2-item"].on(n.domElem,"enter",t._onSuggestItemEnter,t),n.on({update:t._onSuggestUpdate,select:t._onSuggestSelect},t),t},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&e.data.prevent!==!1&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this.submit())},_onModelRequest:function(){this._requestTime=new Date},_onModelResponse:function(t,e){e.data.items&&(this._path.personal=this._hasPersonal(e.data.items)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._addTime(new Date-this._requestTime),this._renderTime=new Date,this._setMetaProps(e))},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){this._path.state="not_used"},_onPopupHide:function(t,e){"empty"===e.response&&(this._path.state="not_shown")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){var n=this;n._path.state=e.byKeyboard?"keyboard":"mouse",n._path.index=e.itemIndex+1,n._selectedText=e.val,e.item.hasMod("personal")&&(n._path.personal="nah_used"),n.params.submitBySelect&&(n._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",n._params.pos=e.pos,n._params.text=this._selectedText),n.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||n.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect})},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form;return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),e.params["suggest2-popup"].un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){return{since_first_change:this._getSinceTime("first"),since_last_change:this._getSinceTime("last")}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addTime:function(t){return this._times.push(t),this._params.times=this._times.join("."),this},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){var t=BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9);return t+(+new Date).toString().slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(2,Math.min(t,10)+2)}}),BEM.DOM.decl({name:"suggest2-counter",modName:"type",modVal:"market"},{onSetMod:{js:{inited:function(){this.clear()}}},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!0,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck/dtype=stred/pid=0/cid=2873",dataUrl:"http://ya.ru",params:{},timeout:300}},_onModelResponse:function(t,e){this.__base.apply(this,arguments),e.data.items.length||(this._path.state="not_shown")},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit||"button_by_mouse"].join(".")}},clear:function(){this.__base(),this._reqID=this.__self._generateReqID()},attachReqID:function(){this._reqID=this._reqID||this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},bindEvents:function(){this.__base.apply(this,arguments);var t=this,e=t.params,n=e.suggest,r=require("metrika");n.on({select:function(t,e){BEM.channel("market-metrika").trigger("emit",{suggest2:{types:n._view.currentItemTypes,selected:n._view.currentItemTypes[e.itemIndex],position:e.itemIndex}})}},t),n.getModel().on({response:function(e,n){t._meta=n.data.meta||{},r.reachGoal("SUGGEST_RESPONSE",r.marketCounterID,{suggestExprt:t._meta.exprt||""})}})}}),BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("hide",function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})},this)}}},_setPosition:function(){this._popup.show(this.params.owner)},hide:function(t){return this.isShown()&&(this._popup.hide(),this.trigger("hide",t||{})),this},isShown:function(){return!!this._popup&&this._popup.isShown()}}),BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("hide",function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})},this)}}},show:function(t){return this._popup.domElem?(t&&this._popup.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._popup.show(this.params.owner),this.trigger("show"),this)):this},hide:function(t){return this.isShown()&&(this._popup.hide(),this.trigger("hide",t||{})),this},isShown:function(){return!!this._popup&&this._popup.isShown()}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");if(t||"_self"===n.attr("target"))return function(){e._locationChange(n.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");if(t||"_self"===n.attr("target"))return function(){e._locationChange(n.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.form=this,n.input=t.input,n.popup=t.popup,n.button=t.button,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({for:this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,n)),t.proxies.input=n["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,n)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,n.counter=t.counter),this.bindFormEvents(t),t},this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,
updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,n){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(n)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",function(t){e._onButtonClick(t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){var e=this;return t.button&&t.button.unbindFrom("pointerclick"),e.unbindFrom("submit"),e},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,r){var i=$(r),s=t._getFormNodeElems(i);e.push(t._getFormNodeBlocks(s,i))}),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button2")}},_getFormNodeBlocks:function(t,e){var n=this.findBlockInside(e,"suggest2");return{node:e,suggest:n,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:n.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){return this.liveInitOnBlockInsideEvent("pointerclick change focus","input"),this.__base()}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.input=t.input,n.button=t.button,n.form=this,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:{for:this.params.popupName}},{suggest:e,popup:e.findBlockOn(this.params.popupName),owner:this.getOwner(t)||n.input}),t.proxies.input=n["suggest2-input"]=BEM.create("suggest2-input",{suggest:e,input:n.input,updateOnEnterByKeyboard:n.updateOnEnterByKeyboard}),t.counter&&(t.counter.params.suggest=e,t.counter.params.form=this,n.counter=t.counter),this.bindFormEvents(t),t},this)},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("click press",function(t){e._onButtonClick(t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},_onButtonClick:function(t){this.trigger("button-click",t)},unbindFormEvents:function(t){var e=this;return t.button&&t.button.un("click press"),e.unbindFrom("submit"),e},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,r){var i=$(r),s=t.findBlockInside(i,"suggest2"),a={input:t.findElem(i,"input"),button:t.findElem(i,"button")};e.push({node:i,suggest:s,counter:t.findBlockOn("suggest2-counter"),input:t.findBlockOn(a.input,t.params.inputName),button:t.findBlockOn(a.button,t.params.buttonName),popup:s.findBlockOn(t.params.popupName)})}),e},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}}),require.define("checkout",function(t,e,n,r,i){function s(t){t&&t.status?o(t.data,this.status,this.outletId):this.status.reject(t&&t.error)}function a(t,e,n){this.status.setState(this.status.STATE_REJECTED,n)}function o(t,e,n){var r,i=0===t.count,s=c(t,n),a=[],o=e.offer,p=o.price;e.region=t.buyerRegionId||e.region,e.delivery=t.delivery,e.offer=o,e.timestamp=Number(new Date),s?(e.setOutletAvailability(n,!1),r=e.CODE_NOT_AVAILABLE_IN_OUTLET):i?r=e.CODE_NOT_AVAILABLE:(e.price[t.shopCurrency]=t.price||e.price[t.shopCurrency],o.currency===t.shopCurrency&&l.isImportantPriceDiff(t.price,o.price)?(p=t.price,e.setKeys(["price","oldPrice"]),r=e.CODE_CHANGE_PRICE,a=[t.price,o.price]):r=e.CODE_ACTUAL),e.update(e.STATE_RESOLVED,r,a),o.price!==p&&o.set("price",p),o.delivery.set("shipping",e.delivery),o.set("type",i?d.TYPE:u.TYPE)}function c(t,e){var n=[];return h.isArray(t.outletIds)&&(n=h.map(t.outletIds,function(t){return Number(t)})),e&&n.length&&!h.includes(n,Number(e))}var l=t.exports,u=n("Offer"),d=n("Element"),p=n("checkout.OfferStatus"),h=n("lodash");l.getStatus=function(t){return new p(t)},l.setStatus=function(t){o(t,this.getStatus(t.offer),t.offer.outletId)},l.actualize=function(t){var e=this.getStatus(t);return e.isResolved()?e:($.ajax({url:"/gate/actualize?ajax=1",type:"POST",dataType:"json",data:{offer:t.toString()},success:s,error:a,context:{status:e,outletId:t.outletId}}),e)},l.isImportantPriceDiff=function(t,e){var n=t-e;return n>1||n<-10}}),require.define("checkout.OfferStatus",function(t,e,n,r,i){function s(t){if(null==t||"object"!=typeof t)throw new Error("Offer must be a object or Offer");var e=t.id;if(y.hasOwnProperty(e)||!(this instanceof v)){var n=y[e];return n.offer||a(t,n),n}h.call(this),this.offer=_.isOffer(t)?t:null,this.id=e,this.price={},this.region=null,this.delivery=!1,this.timestamp=Number(new Date),this.code=this.CODE_UNDEFINED,this.isShowed=!0,this.outletsAvailability={};for(var r in f.currencyMap)f.currencyMap.hasOwnProperty(r)&&(this.price[r]=null);return y[e]=this,this}function a(t,e){switch(e.offer=t,e.offer.delivery.set("shipping",e.delivery),e.code){case"not-available":return void t.set("type",m.TYPE);case"change-price":t.set("price",e.stateData[0])}e.offer.set("type",_.TYPE)}function o(){if(p){var t,e={};try{for(var n in y)y.hasOwnProperty(n)&&(t=y[n],k.hasOwnProperty(t.code)&&(e[n]=t));p.setItem(b,JSON.stringify(e))}catch(t){return!1}}return!0}function c(){var t,e,n,r=p,i=Number(new Date);if(r){try{t=JSON.parse(p.getItem(b))||{}}catch(t){return}p=null;for(var s in t)if(t.hasOwnProperty(s)){if(e=t[s],k.hasOwnProperty(e.code)&&(n=i-e.timestamp,n>k[e.code]))continue;d(e)}p=r,o()}}function l(t){var e,n,r,i,s={};if(t&&t.originalEvent.key===b){t=t.originalEvent;try{e=JSON.parse(t.newValue)}catch(t){return void o()}for(i in e)e.hasOwnProperty(i)&&(n=e[i],y.hasOwnProperty(i)?(r=y[i],r.code=n.code,r.isShowed=n.isShowed,n.state!==r.state?(r.price=n.price,r.region=n.region,r.delivery=n.delivery,r.timestamp=n.timestamp,r.outletsAvailability=n.outletsAvailability,r.setState(n.state,n.data)):n.code!==r.code&&r.emit(r.EVENT_CHANGE_CODE,n.code,r.code),s[i]=r):s[i]=d(n));for(i in y)y.hasOwnProperty(i)&&!s.hasOwnProperty(i)&&(s[i]=y[i]);y=s}}function u(){i.localStorage&&(p=i.localStorage)}function d(t){var e=s.toStatus(t);return e.delivery=t.delivery,e.region=t.region,e.timestamp=t.timestamp,e.price=t.price,e.code=t.code,e.isShowed=t.isShowed,e.outletsAvailability=t.outletsAvailability,e}var p,h=n("Response"),f=n("user"),_=n("Offer"),m=n("Element"),v=h.State,y={},b="checkout.status",g="storage",k={"not-available-in-outlet":9e5,"not-available":9e5,"change-price":108e5};t.exports=s,s.prototype=h.create(s),s.toStatus=function(t){return new s(t).setState(t.state,t.data)},s.prototype.CODE_NOT_AVAILABLE="not-available",s.prototype.CODE_NOT_AVAILABLE_IN_OUTLET="not-available-in-outlet",s.prototype.CODE_CHANGE_PRICE="change-price",s.prototype.CODE_ACTUAL="actual",s.prototype.CODE_UNDEFINED="undefined",s.prototype.EVENT_CHANGE_CODE="change-code",s.prototype.isShowed=!0,s.prototype.showed=function(t){var e=!arguments.length||Boolean(t);return e!==this.isShowed&&(this.isShowed=e,this.save()),this},s.prototype.update=function(t,e,n){var r=!1,i=this.code,s=arguments.length?e:this.CODE_UNDEFINED;return"actual"!==s&&"undefined"!==s||(r=!0),this.code=s,this.isShowed=r,this.stateData=n,this.save().setState(t,n),i!==this.code&&this.emit(this.EVENT_CHANGE_CODE,this.code,i),this},s.prototype.getPrice=function(){if(this.code!==this.CODE_CHANGE_PRICE||this.isShowed){if(this.offer)return this.offer.price;throw new Error("Offer is not defined")}return this.stateData[1]},s.prototype.save=function(){return o(),this},s.prototype.toJSON=function(){return{id:this.id,state:this.state,data:this.stateData,price:this.price,region:this.region,delivery:this.delivery,timestamp:this.timestamp,code:this.code,isShowed:this.isShowed,outletsAvailability:this.outletsAvailability}},s.prototype.setOutletAvailability=function(t,e){this.outletsAvailability[t]=e},s.prototype.isAvailableInOutlet=function(t){return!(t&&this.outletsAvailability&&this.outletsAvailability.hasOwnProperty(t))||this.outletsAvailability[t]},u(),c(),p&&$(window).on(g,l)});var _=require("lodash");$(document).ajaxSuccess(function(t,e,n){function r(t,e,n){var r=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=t.indexOf("?")!==-1?"&":"?";return t.match(r)?t.replace(r,"$1"+e+"="+n+"$2"):t+i+e+"="+n}var i,s,a=!1;if(n&&n.hasOwnProperty("authRedirect")&&(a=n.authRedirect),a&&"application/x-javascript"==e.getResponseHeader("Content-Type")&&e.responseText)try{i=JSON.parse(e.responseText),"captcha"==i.type&&_.isObject(i.captcha)&&i.captcha["captcha-page"]&&(s=r(i.captcha["captcha-page"],"retpath",encodeURIComponent(window.location.href)),window.location.href=s)}catch(t){}}),require.define("cart",function(t,e,n,r,i){var s=n("user"),a=(n("EventEmitter"),n("Response")),o=n("List"),c=n("Element"),l=n("Offer"),u=n("lodash"),d=n("checkout");e.create=function(t){function e(){this.listen(w({url:D,type:K,data:{item:this.data.toString(),listID:O.id}}))}function n(){var t=I.getOfferById(this.data);t?this.listen(r(t)):this.reject("Offer at id "+this.data+" is not found")}function r(t){var e=p(t);return e?e:new a.Queue([i,s,p]).setData(t.id).strict().start()}function i(){return w({url:B})}function s(t){return I._replace(t.list)._actualize()._save(),I.getOfferById(this.data)}function p(t){var e=O.indexOf(t),n=O.getIdByIndex(e);if(n)return w({url:R,type:K,data:{itemID:n,listID:O.id}})}function h(){var t=this.data,e=t.ids;return t.offers=I.getOffersById(e),t.offers.length?void this.listen(w({url:N,type:K,data:{ids:t.offers.map.join(","),listID:O.id}})):this.reject("Offers at ids "+e+" is not found")}function f(){var t=this.data,e=t.offerID,n=I.getOfferById(e);n||this.reject("Offer at id "+e+" is not found"),t.offer=n,this.listen(w({url:L,type:K,data:{itemID:O.getIdByIndex(O.indexOf(n)),listID:O.id,count:t.count}}))}function _(t){var e,n,r=t&&t.originalEvent;if(r&&r.key===q){try{e=JSON.parse(r.newValue),n=Number(C.getItem(V))}catch(t){return void I._save()}switch(!0){case I.ID&&!e.id:break;case e.id!==I.ID:case r.oldValue===r.newValue:return}I._replace({list:e,timestamp:n}).emit(I.EVENT_UPDATE)}}function m(){I.setState(I.STATE_UPDATING)}function v(){this.pending(),I._save().setState(I.STATE_READY)}function y(t){var e=this.data;I.timestamp=t.timestamp,O.unshift(e),O.setId(0,t.id),e.delegate(I,e.EVENT_CHANGE,I.EVENT_CHANGE),I.emit(I.EVENT_ADD,e,t.id),this.setKeys(["id","offer"]).resolve(e.id,e)}function b(t){var e=I.getOfferById(this.data);t&&(I.timestamp=t.timestamp),O.removeItemByIndex(O.indexOf(e)),e.unDelegate(I,e.EVENT_CHANGE),I.emit(I.EVENT_REMOVE,[e],[e.id],{multiple:!1}),this.setKeys(["id","offer"]).resolve(e.id,e)}function g(t){var e=this.data.offers;I.timestamp=t.timestamp,u(e).filter(c.isElement).forEach(function(t){t.unDelegate(I,t.EVENT_CHANGE),O.removeItemByIndex(O.indexOf(t))}),I.emit(I.EVENT_REMOVE,e.toArray(),e.map,{multiple:!0}),this.setKeys(["offers"]).resolve(e)}function k(t){var e=this.data,n=e.offer;I.timestamp=t.timestamp,n.set("count",e.count),this.setKeys(["id","offer","count"]).resolve(n.id,n,e.count)}function w(t){var e=new a;return $.ajax({url:t.url,cache:!1,dataType:t.dataType||Y,type:t.type||X,data:t.data,success:E,error:x,traditional:!0,context:e}),e}function E(t){!t||t.error||0==t.status?this.reject(t.error||new Error(tt)):(t.data&&null!=t.data.isModified&&(I.isModified=t.data.isModified),this.resolve(t.data))}function x(t,e,n){this.reject(n)}function M(t){return new l(t)}function A(t){return l.isOffer(t)&&l.isFeeValid(t)}function T(){var t=u.map(I.toArray(),M),e=u.filter(t,A);I._replace({list:e,timestamp:I.timestamp})._save()}var C,S,I=new a.State,O=new o,j=new a.Queue,P="/gate/route/",B=P+"carter/getBasketList",D=P+"carter/addItem",R=P+"carter/removeItem",N=P+"carter/removeItems",L=P+"carter/setCountItems",F=P+"carter/replaceContent",U=P+"carter/mergeBaskets",z="/api/cart/getOffers",q="cart-list",H="cart-uid",V="cart-timestamp",G="storage",W="NS_ERROR_FILE_CORRUPTED",Y="json",K="post",X="get",Q=100,J="ready",Z="The cart can not init",tt="Error request",et="ID is not defined",nt="IDs is not defined",rt="Offer is not valid",it="Invalid count value",st="Ошибка обновления корзины. Похоже файл хранилища браузера поврежден.";return I.EVENT_ADD="add",I.EVENT_REMOVE="remove",I.EVENT_UPDATE="update",I.EVENT_CHANGE="change",I.STATE_PENDING=0,I.STATE_READY=1,I.STATE_UPDATING=2,I.STATE_ERROR=3,I.ID="",I.state=I.STATE_PENDING,I.timestamp=0,I.isModified=!1,I.error=null,I.toObject=function(){return O.toObject()},I.toArray=function(){return O.toArray()},I.toList=function(){return o(O)},I.getLength=function(){return O.length},I.getTotalPrice=function(){var t=I.getValidOffers();return u.reduce(t,function(t,e){return t+e.count*e.price},0)},I.getTotalCount=function(){var t=I.getValidOffers();return u.reduce(t,function(t,e){return t+e.count},0)},I.init=function(e){if(this.state!==this.STATE_PENDING)return this;if(e.error)return this._setError(e.error);var n=e.list&&e.list.id;if(O.length&&!O.id)return T(),this._push(O,n).then(this._update,this._setError,null,this),this;if(t.isAuth&&n!==O.id)return this._mergeAnonymousBasket().then(this._update,this._setError,null,this),this;e.list&&(I.ID=n,O.id=n);var r=t.uid&&S&&String(t.uid)!==String(S);return!r&&e.timestamp<this.timestamp&&(e.list=O,e.timestamp=this.timestamp),e.list=o(e.list),e.timestamp=Number(e.timestamp),this._update(e)},I.getOfferById=function(t){var e,n=0;if(u.isString(t))for(;(e=O[n++])&&e.id!==t;);return e},I.getOffersById=function(t){for(var e=new o,n=null,r=null,i=null,s=0,a=t.length;s<a;s++)n=I.getOfferById(t[s]),r=O.indexOf(n),i=O.getIdByIndex(r),e.set(i,n);return e},I.getValidOffers=function(){var t=I.toArray();return u.filter(t,I.validateOffer)},I.hasOffer=function(t){if(t instanceof l)for(var e=O.length;e--;)if(O[e].id===t.id)return!0;return!1},I.validateOffer=function(t){return l.isOffer(t)&&l.isFeeValid(t)&&l.isCpaReal(t)},I.actualizeOffer=function(e){var n=d.getStatus(e);switch(n.code){case n.CODE_CHANGE_PRICE:e.price=n.price[e.currency]||e.price;break;case n.CODE_NOT_AVAILABLE:e.type=c.TYPE}return t.region.id===n.region&&(e.delivery.shipping=n.delivery),e},I.addOffer=function(t){if(O.length===Q)return a.reject("Exceeded the maximum number of items");try{return t instanceof l||(t=new l(t,!0)),this.validateOffer(t)?this.hasOffer(t)?a.resolve(t.id,t):this._addTask(e,y,t):a.reject(rt)}catch(t){return a.reject(t)}},I.removeOfferById=function(t){return u.isString(t)?this._addTask(n,b,t):a.reject(et)},I.removeOffersById=function(t){return u.isArray(t)&&t.length?this._addTask(h,g,{ids:t,offers:null}):a.reject(nt)},I.setCount=function(t,e){var r={offerID:u.isString(t)?t:void 0,count:u.isNumber(e)?e:-1,offer:null};return void 0===r.offerID?a.reject(et):r.count<0?a.reject(it):r.count>0?this._addTask(f,k,r):this._addTask(n,b,r)},I._addTask=function(t,e,n){var r=new a;return j.push((new a).onState(J,t).onResolve(e).setData(n).notify(r)),j.isPending()&&j.start(),r},I._update=function(t){O=t&&t.list||O;var e=O.length,n=[];if(e){for(;e--;)n.push(JSON.stringify(O[e]));this.setState(this.STATE_UPDATING),w({url:z,type:K,data:{offers:n,numdoc:Q}}).then(this._merge,this._setError,null,this)}else this._setReady({list:O,timestamp:t?t.timestamp:this.timestamp});return this},I._push=function(t,e){return w({url:F,type:K,data:{list:o(t).toString(),listID:e}})},I._mergeAnonymousBasket=function(){return w({url:U,type:K})},I._replace=function(t){var e,n=0;for(O=o(t.list);e=O[n];)e instanceof l||(e=O[n]=new l(e)),e.delegate(this,e.EVENT_CHANGE,this.EVENT_CHANGE),n++;return this.ID=O.id,this.timestamp=t.timestamp,this},I._save=function(){if(!C)return this;try{C.setItem(H,t.uid||t.yandexuid),C.setItem(V,I.timestamp),C.setItem(q,O.toString())}catch(t){t.name===W&&console.log(st)}return this},I._merge=function(t){for(var e,n,r=o(t.list)||new o,i=0;e=O[i];)n=r.get(e.id),n?(n.fee=e.fee,n.count=e.count,n.outletId=e.outletId):(n=new l(e),n.type=c.TYPE),O[i]=n,i++;return this._setReady({list:O,timestamp:this.timestamp})},I._setReady=function(t){return j.onStart(m).onState(j.STATE_RESOLVED,v).onState(j.STATE_REJECTED,v),C&&$(window).on(G,_),this._replace(t)._actualize()._save().removeAllListeners(this.STATE_ERROR).on(this.EVENT_CHANGE,this._save).setState(this.STATE_READY)},I._setError=function(t){return this.error=t,this.removeAllListeners(this.STATE_READY).setState(this.STATE_ERROR,t),this},I._actualize=function(){for(var t,e=0;t=O[e++];)I.actualizeOffer(t);return this},"localStorage"in window&&(C=window.localStorage,C||I._setError(Z),S=C.getItem(H),O=o(C.getItem(q)),O.id&&(I.timestamp=Number(C.getItem(V)))),j.onNextItem(function(t){t.setState(J)}),I},t.exports=e.create(s)}),require.define("ClientError",function(t,e,n,r,i){function s(t,e,n){Error.call(this),this.name="ClientError",this.message=t+" "+a(n),this.stack=e&&e.stack,this.originalError=e}function a(t){try{return JSON.stringify(t)}catch(t){return""}}var o=(n("lodash"),n("util").inherits);o(s,Error),s.safeThrowError=function(t,e,n){setTimeout(function(){throw new s(t,e,n)},0)},t.exports=s}),require.define("templater",function(t,e,n,r,i){var s={};s.render=function(t){var e=t.id||"page";try{result=yr.run(e,t.data,t.mode,t.args,t.nodeName)}catch(t){throw t}return result},t.exports=s}),function(t){var e=function(){var t=new Date;return t.setMinutes(0),t.setHours(0),t.setSeconds(0),t};t["date-is-today"]=function(t){return t=1e3*parseInt(t,10),e().getTime()<=t},t["date-is-week-current"]=function(t){t=1e3*parseInt(t,10);var n=new Date(e().getTime()-6048e5);return n.getTime()<=t},t["date-is-yesterday"]=function(t){t=1e3*parseInt(t,10);var n=e(),r=new Date(n.getTime()-864e5);return r.getTime()<=t&&t<n.getTime()},t["date-now"]=function(){return+new Date},t["date-today-date"]=function(){return(new Date).getDate()}}(yr.externals),function(t){var e=require("Money");t["math-abs"]=function(t){return Math.abs(t)},t["math-random"]=function(){return Math.round(1e5*Math.random())},t["math-round"]=function(t){return Math.round(t)},t["math-sum"]=function(t){for(var n=new e(0),r=0,i=t.length;r<i;r++)n.add(t[r].data);return n},t["math-sum-params"]=function(){for(var t=new e(0),n=0,r=arguments.length;n<r;n++)t.add(arguments[n]);return t},t["math-sum-increase"]=function(t,n){for(var r=new e(0),i=0;i<n;i++)r.add(t);return r},t["math-market-round"]=function(t){return require("price").round(t)}}(yr.externals),function(t){var e=require("lodash"),n="undefined"!=typeof yr?yr:require("yate").yr;t["entity-scalar-list"]=t["entity-object-list"]=function(t,e,n){var r;if(t.length){if(r=t[0].data,!(e in r))throw new Error("entity-scalar-list: List doesn't have method \""+e+'"');return"undefined"==typeof n?r[e]:r[e](n)}},t["nodes-unique"]=function(t){for(var e,n={},r=[],i=0,s=t.length;i<s;i++)e=t[i].data,n.hasOwnProperty(e)||(n[e]=null,r.push(t[i]));return r},t.serialize=function(t){var e=[],n="";if(t.length>1){for(var r=0,i=t.length;r<i;r++)e.push(t[r].data);n=JSON.stringify(e)}else 1==t.length&&(n=JSON.stringify(t[0].data));return n},t["get-closest-image"]=function(t,e,n){if(t&&t.length){for(var r,i,s=t[0].data,a=0,o=0;r=s[o++];)r.width<=e&&a<=r.width&&r.height<=n&&(a=r.width,i=r);return i}},t["merge-nodes"]=function(t,n){var r=Boolean(t&&t[0]&&t[0].data),i=Boolean(n&&n[0]&&n[0].data);if(r&&i){var s=t[0];return s.data=e.assignIn({},t[0].data,n[0].data),[s]}return r?t:i?n:[{data:{}}]},t["merge-objects"]=function(t,n){return e.assignIn({},t,n)},t["nodeset-to-object"]=function(t){return n.nodeset2data(t)}}(yr.externals),function(t){t["decode-uri-component"]=function(t){return decodeURIComponent(t)},t["encode-uri-component"]=function(t){return encodeURIComponent(t)},t["str-contains"]=function(t,e){return t.indexOf(e)>-1},t["str-length"]=function(t){return t.length},t["str-substr"]=function(t,e,n){return t.substr(e,n)},t["str-substr-after"]=function(t,e){var n=t.search(e);return n>-1?t.substr(n+1):""},t["str-substr-before"]=function(t,e){var n=t.search(e);return n>-1?t.substr(0,n):""},t["str-to-lower"]=function(t){return t.toLowerCase()},t["str-to-upper"]=function(t){return t.toUpperCase()},t["str-plural"]=function(t,e,n,r){var i,s;if(t%=100,t>=11&&t<=19)i=r;else switch(s=t%10){case 1:i=e;break;case 2:case 3:case 4:i=n;break;default:i=r}return i},t["str-format-price"]=function(t,e){return require("price").format(t,e)},t["str-format-price-without-round"]=function(t,e){return require("price").formatWithoutRound(t,e)},t["str-format-number"]=function(t,e,n,r){e=void 0===e?0:e,n=n||",",r=void 0===r?"&thinsp;":r;var i=Number(t).toFixed(e).replace("-","−").split("."),s=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,r),a=i[1]?n+i[1]:"";return s+a}}(yr.externals),function(t){t["checkout-delivery-compare"]=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++)for(var s=t[r].data,a=0,o=e.length;a<o;a++){var c=e[a];if(c.data.id==s.id&&c.parent.data.shopId==s.shopId){if(!c.data.hasOwnProperty("outlets")){n.push(c);continue}for(var l=c.data.outlets,u=0,d=l.length;u<d;u++)l[u].id==s.outletId&&n.push(c)}}return n}}(yr.externals),function(t){"use strict";t["params-expFlags"]=function(t){return t&&t.length||(t=[{data:window.state.expFlags}]),t}}(yr.externals);var yr=yr||{},router=require("router");yr.externals=yr.externals||{},function(t,e){t["build-url"]=function(t,n){return e.buildURL(t,n)}}(yr.externals,router);var yr=yr||{};yr.externals=yr.externals||{},function(t){"use strict";var e={RUR:"₽",RUB:"₽",BYN:"б.p.",UAH:"грн",KZT:"тнг.",TL:"TL"};t.i18n=function(t){return e[t]||t}}(yr.externals),function(){function t(){try{var t=c.actualize(this.data.offer);return i.isResponse(t)?t:i.resolve(t)}catch(t){return i.reject(t)}}function e(){var t=this.data.offer,e=this.data.status,r=[e.CODE_NOT_AVAILABLE,e.CODE_NOT_AVAILABLE_IN_OUTLET];if(!n.includes(r,e.code))return a.addOffer(t)}var n=require("lodash"),r=require("templater"),i=require("Response"),s=i.Queue,a=require("cart"),o=require("user"),c=require("checkout"),l=require("ClientError");BEM.DOM.decl("offer-purchase",{onSetMod:{js:{inited:function(){this.offer=this.params.offer,this.status=this.params.status,this.__self._instance=this,this.__self.setStateForCurrentInstance(this.params.state,this.offer.id),this.__self.actualizeAndAddToCart({onChangeOfferState:this._callStateHandler,offer:this.offer,status:this.status},this),this._setListeners()}},state:{"":function(t,e){},wait:function(t,e){this._updateContent(e)},"not-available":function(t,e){this._updateContent(e)},"not-available-in-outlet":function(t,e){this._updateContent(e)},"in-cart":function(t,e){this._updateContent(e)},error:function(t,e){this._updateContent(e)}}},_setListeners:function(){a.on(a.EVENT_CHANGE,this._updateAction,this).on(a.EVENT_UPDATE,this._updateAction,this).on(a.EVENT_ADD,this._updateAction,this)},_updateContent:function(t){var e=this._decorateWithStatus(this.offer,this.status);return e=this._decorateWithCart(e),BEM.DOM.update(this.findElem("content"),this.__self._buildContent(e,t)),this},_updateAction:function(){var t=this._decorateWithStatus(this.offer,this.status),e=this.findElem("action");return e&&(t=this._decorateWithCart(t),BEM.DOM.update(e,this.__self._buildAction(t))),this},_decorateWithStatus:function(t,e){return n.assignIn({priceChanged:e.code===e.CODE_CHANGE_PRICE,isShowed:e.isShowed,newPrice:e.stateData[0],oldPrice:e.stateData[1]},t)},_decorateWithCart:function(t){return n.assignIn({cartTotalPrice:a.getTotalPrice(),cartTotalCount:a.getTotalCount()},t)},_setRejectState:function(){this.__self.setStateForCurrentInstance("reject",this.offer.id)},_callStateHandler:function(t,e){return t&&t.isRejected()&&l.safeThrowError("ACTUALIZE_ERROR",t.getReason(),{offerId:n.get(this,"offer.id"),regionId:n.get(o,"region.id")}),e&&e.isRejected()?void this._setRejectState():void this.params.onChangeOfferState()},destruct:function(){return this.__self._instance=null,a.off(a.EVENT_CHANGE,this._updateAction,this).off(a.EVENT_UPDATE,this._updateAction,this).off(a.EVENT_ADD,this._updateAction,this),this.__base.apply(this,arguments),this}},{_instance:null,getInstance:function(){return this._instance},create:function(t){var e=r.render({data:t.offer,mode:"offer-purchase"});return $(e).bem("offer-purchase",t)},actualizeAndAddToCart:function(n,r){var i=new s([t,e]).always(n.onChangeOfferState,r).setData({offer:n.offer,status:n.status}).start();return i},setStateForCurrentInstance:function(t,e){var n=this.getInstance();if(n&&e&&e===n.offer.id)switch(t){case"processed":n.setMod("state","wait");break;case"in-cart":n.setMod("state","in-cart");break;case"not-available":n.setMod("state","not-available");break;case"not-available-in-outlet":n.setMod("state","not-available-in-outlet");break;case"reject":n.setMod("state","error")}},_buildContent:function(t,e){return r.render({data:t,args:[e],mode:"offer-purchase__content"})},_buildAction:function(t){return r.render({data:t,mode:"offer-purchase__action"})},live:function(){this.liveBindTo({elem:"button",modName:"ation",modVal:"continue-shopping"},"click",function(){this.params.onClose()}),this.liveBindTo({elem:"closer",modName:"type",modVal:"button"},"click",function(){this.params.onClose()})}})}(),function(){var t=require("metrika"),e={counterId:"yaCounter160656"},n=BEM.DOM.decl("offer-purchase",{onSetMod:{state:{"not-available":function(n,r){this.__base.apply(this,arguments),t.reachGoal("POP_LOAD_ERROR_SKLAD",e.counterId)},"in-cart":function(n,r){this.__base.apply(this,arguments),t.reachGoal("POPUP_MIDDLE",e.counterId)}}},destruct:function(){this.__base.apply(this,arguments),t.reachGoal("POPUP_CLOSED",e.counterId)}});n.liveBindTo({elem:"button",modName:"ation",modVal:"continue-shopping"},"click",function(){t.reachGoal("PPP_PRSS_SBMT",e.counterId)})}(),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._url=this.params._url||this.domElem.attr("href")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("href",this._url)},yes:function(){this.__base.apply(this,arguments),this.domElem.removeAttr("href")}}},getUrl:function(){return this._url},setUrl:function(t){return this._url=t,this.hasMod("disabled")||this.domElem.attr("href",t),this},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["ENTER"]})}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{},{live:function(){return this.liveBindTo("dragend",function(t){this.hasMod("type","link")&&!this.hasMod("disabled")&&this.delMod("pressed")}),this.__base()}}),require.define("yate-externals.internationalization",function(t,e,n,r,i){function s(t,e){return"object"!=typeof e||0===Object.keys(e).length||"string"!=typeof t?t:o(t)(e)}var a={},o=n("lodash").template;a["n-i18n-locale"]={RUR:"₽",RUB:"₽",BYN:"б.p.",UAH:"грн",KZT:"тнг.",TL:"TL",ADDRESS_NOMINATIV:"адрес",ADDRESS_GENETIV:"адреса",ADDRESS_PLURAL:"адресов",ADDRESS_HOUSE_ACRONYM:"д.",ADDRESS_BLOCK_ACRONYM:"корп.",BUYER_NOMINATIV:"покупатель",BUYER_GENETIV:"покупателя",BUYER_PLURAL:"покупателей",DAY_NOMINATIV:"день",DAY_GENETIV:"дня",DAY_PLURAL:"дней",DAY_1:"понедельник",DAY_2:"вторник",DAY_3:"среда",DAY_4:"четверг",DAY_5:"пятница",DAY_6:"суббота",DAY_7:"воскресенье",DAY_TODAY:"сегодня",DAY_TOMORROW:"завтра",FILTER:"Фильтр",FREE:"бесплатно",FROM:"от",GRADE_NOMINATIV:"оценка",GRADE_GENETIV:"оценки",GRADE_PLURAL:"оценок",MORE:"Eщё",OUTLET_TYPE_PICKUP:"Пункт выдачи заказов",OUTLET_TYPE_STORE:"Торговый зал",OUTLET_TYPE_MIXED:"Торговый зал и пункт выдачи заказов",OUTLET_TYPE_PICKUP_MARKET_BRANDED_RUSSIAN_POST:"Пункт выдачи посылок Почты России",OUTLET_WORK_SCHEDULE:"График работы",OUTLET_WORKS_24HOURS_TITLE:"Круглосуточно",OUTLET_CLOSED_TITLE:"Закрыт",OUTLET_WORKS_24HOURS_TODAY:"Круглосуточно",OUTLET_CLOSED_TODAY:"Сегодня закрыт",OUTLET_OPEN:"Открыт",OUTLET_CLOSED:"Закрыт",OUTLET_WORKS_FROM:"c",OUTLET_WORKS_TO:"до",PICKUP:"Cамовывоз",PRODUCT_NOMINATIV:"товар",PRODUCT_GENETIV:"товара",PRODUCT_PLURAL:"товаров",REVIEW_NOMINATIV:"отзыв",REVIEW_GENETIV:"отзыва",REVIEW_PLURAL:"отзывов",SORT:"Сортировать",SORT_BY_DISTANCE:"по удалённости",SORT_BY_POPULAR:"по популярности",SORT_BY_PRICE:"по цене",SHOP_NOMINATIV:"магазин",SHOP_GENETIV:"магазина",SHOP_PLURAL:"магазинов",SHOP_HAS_NO_REVIEWS:"Пока нет отзывов",CHECKOUT_TITLE:"Оформление заказа",CHECKOUT_EMPTY_MESSAGE:"Нет товаров для заказа.",CHECKOUT_SHOP_EMPTY_MESSAGE:"Вы отказались от всех товаров из этого магазина.",CHECKOUT_EMPTY_ACTION:"Перейти к выбору товаров",CHECKOUT_PAYMENT_ACTION_TEXT:"Отправить заказ",CHECKOUT_PAYMENT_ACTION_TEXT_BOOKING:"Подтвердить бронирование",CHECKOUT_PAYMENT_CARD_ON_DELIVERY:"Картой при получении",CHECKOUT_PAYMENT_SHOP_PREPAID:"Предоплата после оформления заказа",CHECKOUT_PAYMENT_CASH_ON_DELIVERY:"Наличными при получении",CHECKOUT_PAYMENT_YANDEX:"Оплата на Маркете","CHECKOUT_PAYMENT_YANDEX-BALANCE-BANK_CARD":"Оплата онлайн","CHECKOUT_PAYMENT_YANDEX-BALANCE-YANDEX_MONEY":"Яндекс.Деньги",CHECKOUT_PAYMENT_STOCK_CONDITIONS:"Условия акции",CHECKOUT_PAYMENT_TITLE:"Способ оплаты",CHECKOUT_PAYMENT_EMPTY_TITLE:"Сейчас в этом магазине нельзя заказать выбранные товары.",CHECKOUT_PAYMENTS_INFO:"Способы оплаты обновились",CHECKOUT_PAYMENTS_ERROR:"Выберите способ оплаты",CHECKOUT_PAYMENTS_DESCRIPTION:"Яндекс.Маркет гарантирует получение товара или возврат денег",CHECKOUT_PAYMENTS_DESCRIPTION_CART:"Если вы&nbsp;оплатите заказ банковской картой или Яндекс.Деньгами, Маркет гарантирует: вы&nbsp;получите товар или вам вернут деньги.",CHECKOUT_PAYMENTS_DESCRIPTION_MONEY:"Если магазин не доставит предоплаченный на Маркете товар, вы гарантированно получите деньги обратно. В случае проблем с магазином Маркет выступит в качестве арбитра.",CHECKOUT_PAYMENTS_DESCRIPTION_GLOBAL:"Яндекс.Маркет гарантирует получение товара или возврат денег за товары, приобретённые за границей",CHECKOUT_RECIPIENT_PHONE_NUMBER:"Номер телефона",CHECKOUT_RECIPIENT_EMAIL:"Электронная почта",CHECKOUT_RECIPIENT_NAME:"Имя",CHECKOUT_TITLE_ADDRESS_BLOCK:"Адрес доставки",CHECKOUT_ORDER_COMMENT:"Комментарий к заказу",CHECKOUT_ORDER_DELIVERY_ADDRESS:"Адрес доставки",CHECKOUT_ORDER_DELIVERY_PICKUP:"Пункт выдачи товара",CHECKOUT_ORDER_DELIVERY_YOU_CAN_PICKUP_DAYS:"Ожидаемая дата доставки в пункт выдачи",CHECKOUT_ORDER_DELIVERY_YOU_CAN_PICKUP_DAYS_AFTER:"через",CHECKOUT_ORDER_DELIVERY_FREE:"Бесплатно",CHECKOUT_ORDER_DELIVERY_SEVEN_DAYS_A_WEEK:"без выходных",CHECKOUT_ORDER_DELIVERY_24HOURS:"круглосуточно",CHECKOUT_ORDER_DELIVERY_FROM:"с",CHECKOUT_ORDER_DELIVERY_TO:"до",CHECKOUT_ORDER_RESOLVED_TITLE:"Заказ успешно оформлен",CHECKOUT_ORDER_RESOLVED_NEXT_ORDER:"Оформить следующий заказ",CHECKOUT_ORDER_RESOLVED_TRACK_POSTPAID_1:"За&nbsp;ходом выполнения заказа можно следить в&nbsp;личном кабинете на&nbsp;Маркете. Кроме того, вы&nbsp;будете получать письма и&nbsp;смс об&nbsp;обновлениях. Если у&nbsp;вас возникнут вопросы к&nbsp;магазину, напишите ему в&nbsp;разделе личного кабинета",
CHECKOUT_ORDER_RESOLVED_TRACK_POSTPAID_2:"Мои заказы",CHECKOUT_ORDER_RESOLVED_TRACK_PREPAID_1:"За&nbsp;ходом выполнения заказа можно следить в&nbsp;личном кабинете на&nbsp;Маркете. Кроме того, вы&nbsp;будете получать письма и&nbsp;смс об&nbsp;обновлениях. А&nbsp;если с&nbsp;заказом возникнет проблема, сообщите о&nbsp;ней магазину. Маркет гарантирует: вы&nbsp;получите товар или вам вернут деньги. Написать магазину о&nbsp;проблеме лучше в&nbsp;разделе",CHECKOUT_ORDER_RESOLVED_TRACK_PREPAID_2:"Мои заказы",CHECKOUT_ORDER_RESOLVED_TRACK_PREPAID_3:"&mdash;&nbsp;так вы&nbsp;сможете обратиться на&nbsp;Маркет за&nbsp;помощью в&nbsp;любой момент.",CHECKOUT_ORDER_RESOLVED_TRACK_NONAUTH:"Уведомления о статусе заказа будут приходить на указанные адрес и телефон.",CHECKOUT_ORDER_RESOLVED_MY_ORDER_1:"Заказ №",CHECKOUT_ORDER_RESOLVED_MY_ORDER_2:"в магазине",CHECKOUT_ORDER_RESOLVED_GOTO_MY_ORDERS:"Перейти в Мои заказы",CHECKOUT_ORDER_DELIVERY_ON_REQUEST:"Магазин договорится с вами о сроках доставки при подтверждении заказа",CHECKOUT_ORDER_PAYMENT_TOTAL:"Итого к оплате",CHECKOUT_ORDER_SHOP_NO_RESPONSE:"Магазин не отвечает",CHECKOUT_ORDER_VALIDATION_ERROR_TITLE:"Ошибка оформления заказа",CHECKOUT_ORDER_SHOP_ERROR_MESSAGE:"Магазин не отвечает, попробуйте ещё раз",CHECKOUT_ORDER_FATAL_ERROR_MESSAGE:"Произошла техническая ошибка. Попробуйте оформить заказ позже.",CHECKOUT_ORDER_LIMIT_ERROR_TITLE:"Что-то пошло не так",CHECKOUT_ORDER_UNKNOWN_ERROR_MESSAGE:"Произошла неизвестная ошибка. Попробуйте оформить заказ позже.",CHECKOUT_ORDER_GLOBAL_NOTICE:"Товар отправляется из",CHECKOUT_ORDER_GLOBAL_NOTICE_HINT:"Продажа товара осуществляется за рубежом.",CHECKOUT_ORDER_GLOBAL_NOTICE_HINT_LINK:"Подробнее",CHECKOUT_RECIPIENT_FIRSTNAME_ERROR:"Представьтесь, пожалуйста",CHECKOUT_RECIPIENT_LASTNAME_ERROR:"Вы забыли сообщить фамилию",CHECKOUT_RECIPIENT_PHONE_ERROR:"Пример:",CHECKOUT_RECIPIENT_PHONE_ERROR_EMPTY:"Вы забыли указать номер",CHECKOUT_RECIPIENT_EMAIL_ERROR:"Неверный формат почты",CHECKOUT_RECIPIENT_EMAIL_ERROR_EMPTY:"Вы забыли сообщить адрес",CHECKOUT_AGREEMENTS_REQUIRED_TERMOFUSE:"Примите условия использования сервиса",CHECKOUT_VALIDATE_DEFAULT_ERROR:"Ошибка валидации",CHECKOUT_DELIVERY_UNAVAILABLE:"Нет доставки по указанному адресу",CHECKOUT_DELIVERY_UNAVAILABLE_IN_OUTLET:"Товара нет в наличии в выбранной точке",CHECKOUT_DELIVERY_CONDITIONS_CHANGED:"Магазин изменил условия доставки",CHECKOUT_DELIVERY_OPTION_SELF_PICKUP:"Самовывоз",CHECKOUT_DELIVERY_OPTION_POSTOMAT_PICKUP:"Почтоматы Маркета",CHECKOUT_ADDRESSES_POSTCODE_ERROR:"Неверный формат индекса",CHECKOUT_ADDRESSES_APARTMENT_ERROR:"Не более 45 символов",CHECKOUT_NOTE_LENGTH_ERROR:"Длина комментария не должна превышать 500 символов",CHECKOUT_TOTAL_INVALID_ERROR:"Сумма заказа не должна превышать",CHECKOUT_ORDER_UNAVAILABLE_MESSAGE:"В наличии нет товаров, доступных для доставки.",CHECKOUT_GLOBAL_FREE_TAX_LIMIT:"Сумма вашего заказа превышает беспошлинный порог в 1&nbsp;000&nbsp;&#8364;, поэтому вам будет необходимо уплатить таможенную пошлину (Статья 360 Таможенного Кодекса, статья 12 Соглашения), а также оформить таможенную декларацию (Статья 355 Таможенного Кодекса, статья 8 Соглашения). Способы прохождения процедуры таможенного оформления зависят от способа доставки. ",CHECKOUT_SHOP_PREPAYMENT_YA_MONEY:"Оплата по заказу осуществляется непосредственно на счёт продавца.",CHECKOUT_SHOP_PREPAYMENT_YA_MARKET:"Оплата по заказу осуществляется на счёт ООО «Яндекс.Маркет» в пользу продавца на основании его поручения.",GEO_MAP_LOCATION_HINT_TITLE:"Моё местоположение",GEO_MAP_ZOOM_IN_HINT_TITLE:"Приблизить",GEO_MAP_ZOOM_OUT_HINT_TITLE:"Отдалить",GEO_MOVE_TO_SHOP_TITLE:"Перейти в магазин",GEO_SHOP_INFO_TITLE:"Информация о",GEO_SELLER_NOMINATIV:"продавце",GEO_SELLER_GENETIV:"продавцах",GEO_SELLER_PLURAL:"продавцах",GEO_COST_WITH_DISCOUNT_TITLE:"С учётом скидки",GEO_NOT_FOUND_PHRASE_FULL:"Ничего не найдено. Уточните запрос или измените масштаб карты.",GEO_NOT_FOUND_PHRASE_SHORT:"Ничего не найдено",BOOK_NOW_CHOOSE_MOD_TITLE:"Выбрать из",BOOK_NOW_PICKUP_TODAY_TITLE:"Забрать сегодня",BOOK_NOW_MOD_PLURAL:"товаров",BOOK_NOW_ITEM_RESERVED_UNTIL:"Товар забронирован до",BOOK_NOW_ITEMS_RESERVED_UNTIL:"Товары забронированы до ",BOOK_NOW_TIME_IS_UP:"Время бронировния истекло",BOOK_NOW_FILTER_DESCRIPTION_TITLE:"Товары, отмеченные кнопкой «Забрать сегодня», можно бронировать на Маркете",BOOK_NOW_FILTER_DESCRIPTION_LIST:"Такие заказы можно самостоятельно забрать в выбранном магазине в его рабочее время, начиная с момента подтверждения заказа.",BOOK_NOW_CAN_PICKUP_TO:"Можно забрать до",FILTER_BOOLEAN_OFFER_SHIPPING_ALL:"Все",FILTER_BOOLEAN_OFFER_CPA:"Заказать на Маркете",FILTER_ENUM_OFFER_SHIPPING_OUTLET:"Пункты выдачи",FILTER_ENUM_OFFER_SHIPPING_SHOP:"Магазины",FILTER_ENUM_OFFER_SHIPPING_POSTOMAT:"Почтоматы Маркета",FILTER_NOT_FOUND:"Ничего не найдено",BUTTON_PREV:"Назад",BUTTON_NEXT:"Вперед",BUTTON_SHOW_ALL:"Показать все",BUTTON_SHOW_PER:"Показывать по",BUTTON_COLLAPSE:"Свернуть",SUBSCRIBE_ON_PRICE:"Узнать о снижении цены",SUBSCRIBE_ON_STOCK:"Подписаться",SUBSCRIPTION_ON_STOCK:"Вы подписаны",SUBSCRIPTION_ON_PRICE:"Вы следите за ценой",CALL_CENTER_INFO_TEXT:"Служба поддержки Яндекс.Маркета",CALL_CENTER_INFO_TEXT_LONG:"У вас возникли вопросы по заказу? Обращайтесь в службу поддержки Яндекс.Маркета:",CALL_CENTER_INFO_NUMBER:"8 495 974-35-43",ORDER_STATUS_UNPAID:"Не оплачен",ORDER_STATUS_PROCESSING:"Находится в обработке",ORDER_STATUS_PENDING:"Находится в обработке",ORDER_STATUS_DELIVERY:"Передан в доставку",ORDER_STATUS_PICKUP:"Доставлен на пункт выдачи",ORDER_STATUS_DELIVERED_TYPE_DELIVERY:"Вручён",ORDER_STATUS_DELIVERED:"Доставлен",ORDER_STATUS_CANCELLED:"Заказ отменён",ORDER_STATUS_DELIVERY_UPDATED:"Магазин изменил условия доставки",ORDER_STATUS_ITEMS_UPDATED:"Магазин изменил состав заказа",ORDER_STATUS_BOOK_NOW_PICKUP:"Доставлен в пункт самовывоза",CHECKPOINT_STATUS_META:"Комментарий службы доставки",CHECKPOINT_STATUS_IN_TRANSIT:"Заказ в пути",CHECKPOINT_STATUS_OUT_FOR_DELIVERY_COURIER:"Ждите — курьер скоро привезёт заказ",CHECKPOINT_STATUS_OUT_FOR_DELIVERY_PICKUP:"Заказ в пункте выдачи",CHECKPOINT_STATUS_OUT_FOR_DELIVERY_POST:"Заказ в пункте выдачи Почты России",CHECKPOINT_STATUS_DELIVERED:"Заказ доставлен",CHECKPOINT_STATUS_ATTEMPT_FAIL:"Служба доставки ищет вас — свяжитесь с ней или магазином",CHECKPOINT_STATUS_EXCEPTION:"Заказ не доставлен",CHECKPOINT_SHOW_TRANSLATION:"Показать перевод",CHECKPOINT_TRACK_NUMBER:"Номер посылки",CHECKPOINT_TRACK_DESCRIPTION:"Здесь можно наблюдать за путешествием вашего заказа. Если в какой-то момент новости перестанут появляться, не переживайте. Такое случается — например, когда посылка задерживается в промежуточном пункте. Ориентируйтесь на дату доставки. Если она прошла, а заказ вы так и не получили — вот тогда стоит обратиться в магазин. Номер посылки пригодится, если у вас возникнут вопросы о доставке. Задать их можно специалисту магазина или Маркета.",RETURNS_BUYER_MIDDLENAME_ERROR:"Укажите полностью фамилию, имя и отчество",RETURNS_BUYER_ACCOUNT_DETAILS_ERROR:"Укажите реквизиты счета",RETURNS_EMPTY_REASON_ERROR:"Укажите причину возврата товара",RETURNS_EXCHANGE_OPTIONS_ERROR:"Предложите свой вариант обмена",RETURN_TERM_WITH_PROBLEMS:"Магазин имеет право отказать в&nbsp;обмене и&nbsp;возврате товара.",RETURN_TERM_NO_RETURN:"Товар обмену и&nbsp;возврату не&nbsp;подлежит.",RETURN_TERM_TEXT_1:"Вернуть товар надлежащего качества можно&nbsp;в&nbsp;течение",RETURN_TERM_TEXT_2:"после&nbsp;покупки.",RETURN_TERM_GLOBAL:"Условия уточняйте в магазине.",REFUND_SUM:"Сумма возврата",CHANGE_SUM:"Сумма для учёта при обмене",DELIVERY_REFUND_CONDITIONS:"Магазин вправе не возвращать стоимость доставки, так как услуга была оказана. Но вы можете попробовать обсудить это с его представителем.",DELIVERY_CHANGE_CONDITIONS:"Магазин вправе не учитывать стоимость доставки, так как услуга была оказана. Но вы можете попробовать обсудить это с его представителем.",CHANGE_ORDER_IS_CANCELLED:"Невозможно создать заявку на обмен, так как заказ был отменен.",REFUND_ORDER_IS_CANCELLED:"Невозможно создать заявку на возврат, так как заказ был отменен.",CHANGE_ORDER_MUST_BE_DELIVERED:"Заявку на возврат можно создать только для доставленных заказов.",REFUND_ORDER_MUST_BE_DELIVERED:"Заявку на обмен можно создать только для доставленных заказов.",CHANGE_EMPTY_REFUNDABLE_ITEMS:"В заказе не осталось товаров для обмена.",REFUND_EMPTY_REFUNDABLE_ITEMS:"В заказе не осталось товаров для возврата.",SHOPPING_LIST_PAGE_TITLE:"Доставка из одного магазина",FOREIGN_SHOP_JUR_TEXT:"Продажа осуществляется за рубежом.",FOREIGN_SHOP_JUR_LINK_TEXT:"Подробнее",FOREIGN_SHOP_COUNTRY_TEXT:"Магазин из",RATING:{1:"Ужасно",2:"Плохо",3:"Удовлетворительно",4:"Хорошо",5:"Отлично"},RATING_MODEL:{1:"Ужасная модель",2:"Плохая модель",3:"Обычная модель",4:"Хорошая модель",5:"Отличная модель"},RATING_SHOP:{1:"Ужасный магазин",2:"Плохой магазин",3:"Обычный магазин",4:"Хороший магазин",5:"Отличный магазин"},PROMO_TYPE:{"n-plus-m":"Акция N+M","gift-with-purchase":"Подарок за покупку","service-with-purchase":"Услуга в подарок","second-offer-discount":"Скидка на второй товар","second-offer-for-fixed-price":"Cпециальная цена на второй товар"},PREPAYMENT_TEXT_SHORT:"Защита покупателя",PREPAYMENT_TEXT_DEFAULT_PART_1:"Защита покупателя ",PREPAYMENT_TEXT_DEFAULT_PART_2:"при оплате на&nbsp;Маркете",PREPAYMENT_TEXT_CARD_PART_1:"Если вы&nbsp;оплатите товар банковской картой или Яндекс.Деньгами, ",PREPAYMENT_TEXT_CARD_PART_2:"Маркет гарантирует: вы&nbsp;получите товар или вам вернут деньги. ",PREPAYMENT_TEXT_MY_ORDER_PART_1:"Этот заказ защищён",PREPAYMENT_TEXT_MY_ORDER_PART_2:"Если заказ не&nbsp;доставят или он&nbsp;вам не&nbsp;подойдёт, вы&nbsp;получите деньги назад. ",PREPAYMENT_TEXT_CHECKOUT:"При оплате на&nbsp;Яндекс.Маркете вы&nbsp;гарантированно получите товар или вам вернут деньги. ",SUBSCRIBE_COMMON_OK_TITLE:"Вы подписались на рассылку Яндекс.Маркета",SUBSCRIBE_COMMON_OK_TEXT1:"Подписка подтверждена",SUBSCRIBE_COMMON_OK_TEXT2:"",SUBSCRIBE_COMMON_ERROR_TITLE:"Ошибка",SUBSCRIBE_COMMON_ERROR_TEXT1:"Извините, включить рассылку не удалось",SUBSCRIBE_COMMON_ERROR_TEXT2:"",SUBSCRIBE_ADVERTISING_OK_TITLE:"Вы подписались на рассылку Яндекс.Маркета",SUBSCRIBE_ADVERTISING_OK_TEXT1:"Теперь вы будете сразу узнавать об акциях, скидках и специальных предложениях на Маркете. А также получать списки интересных товаров, составленные специально для вас.",SUBSCRIBE_ADVERTISING_OK_TEXT2:"",SUBSCRIBE_ADVERTISING_ERROR_TITLE:"Ошибка.",SUBSCRIBE_ADVERTISING_ERROR_TEXT1:"Извините, включить рассылку не удалось.",SUBSCRIBE_ADVERTISING_ERROR_TEXT2:"Попробуйте ещё раз.",SUBSCRIBE_PA_ON_SALE_OK_TITLE:"Подписка подтверждена",SUBSCRIBE_PA_ON_SALE_OK_TEXT1:"Вы подписаны на рассылку от Яндекс.Маркета о статусе товара ${modelName}.",SUBSCRIBE_PA_ON_SALE_OK_TEXT2:"Вы также будете узнавать информацию об акциях, скидках и специальных предложениях на Маркете. А также получать списки интересных товаров, составленные специально для вас.",SUBSCRIBE_PA_ON_SALE_ERROR_TITLE:"Ошибка",SUBSCRIBE_PA_ON_SALE_ERROR_TEXT1:"Извините, включить рассылку автоматически не удалось",SUBSCRIBE_PA_ON_SALE_ERROR_TEXT2:"Вы можете сделать это вручную, нажав кнопку на ${modelLink}.",SUBSCRIBE_ERROR_ERROR_TITLE:"Ошибка",SUBSCRIBE_ERROR_ERROR_TEXT1:"Извините, включить рассылку не удалось.",SUBSCRIBE_ERROR_ERROR_TEXT2:"Попробуйте ещё раз.",UNSUBSCRIBE_SETTINGS:"настройках",UNSUBSCRIBE_PRODUCT_CARD:"карточке товара",UNSUBSCRIBE_COMMON_OK_TITLE:"Вы успешно отписались",UNSUBSCRIBE_COMMON_OK_TEXT1:"Вы больше не будете получать уведомление от Яндекс.Маркета.",UNSUBSCRIBE_COMMON_OK_TEXT2:"",UNSUBSCRIBE_COMMON_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_COMMON_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_COMMON_ERROR_TEXT2:"",UNSUBSCRIBE_CLICK_OK_TITLE:"Вы успешно отписались",UNSUBSCRIBE_CLICK_OK_TEXT1:"Вы больше не будете получать от Яндекс.Маркета приглашения оценить посещенные магазины.",UNSUBSCRIBE_CLICK_OK_TEXT2:"Рассылку всегда можно включить обратно в ${settingsLink}.",UNSUBSCRIBE_CLICK_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_CLICK_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_CLICK_ERROR_TEXT2:"Вы можете сделать это вручную — сняв нужную галочку в ${settingsLink}.",UNSUBSCRIBE_ADVERTISING_OK_TITLE:"Вы успешно отписались",UNSUBSCRIBE_ADVERTISING_OK_TEXT1:"Вы больше не будете получать уведомления Яндекс.Маркета о скидках и акциях.",UNSUBSCRIBE_ADVERTISING_OK_TEXT2:"Рассылку всегда можно включить обратно в ${settingsLink}.",UNSUBSCRIBE_ADVERTISING_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_ADVERTISING_ERROR_TEXT1:"Извините, отключить рассылку автоматически не удалось.",UNSUBSCRIBE_ADVERTISING_ERROR_TEXT2:"Вы можете сделать это вручную — сняв нужную галочку в ${settingsLink}.",UNSUBSCRIBE_PA_ON_SALE_OK_TITLE:"Рассылка отключена",UNSUBSCRIBE_PA_ON_SALE_OK_TEXT1:"Вы больше не будете получать от Яндекс.Маркета письма о статусе товара ${modelName}.",UNSUBSCRIBE_PA_ON_SALE_OK_TEXT2:"Рассылку всегда можно включить обратно на ${settingsLink}.",UNSUBSCRIBE_PA_ON_SALE_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_PA_ON_SALE_ERROR_TEXT1:"Извините, отключить рассылку автоматически не удалось.",UNSUBSCRIBE_PA_ON_SALE_ERROR_TEXT2:"Вы можете сделать это вручную, нажав кнопку на ${settingsLink}.",UNSUBSCRIBE_WISHLIST_OK_TITLE:"Рассылка отключена",UNSUBSCRIBE_WISHLIST_OK_TEXT1:"Вы больше не будете получать от Яндекс.Маркета напоминания об отложенных товарах.",UNSUBSCRIBE_WISHLIST_OK_TEXT2:"",UNSUBSCRIBE_WISHLIST_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_WISHLIST_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_WISHLIST_ERROR_TEXT2:"Попробуйте ещё раз.",UNSUBSCRIBE_ALL_OK_TITLE:"Рассылка отключена",UNSUBSCRIBE_ALL_OK_TEXT1:"Вы больше не будете получать уведомления от Яндекс.Маркета.",UNSUBSCRIBE_ALL_OK_TEXT2:"",UNSUBSCRIBE_ALL_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_ALL_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_ALL_ERROR_TEXT2:"Попробуйте ещё раз.",UNSUBSCRIBE_WELCOME_OK_TITLE:"Вы успешно отписались",UNSUBSCRIBE_WELCOME_OK_TEXT1:"Управлять рассылкой можно в ${settingsLink}",UNSUBSCRIBE_WELCOME_OK_TEXT2:"",UNSUBSCRIBE_WELCOME_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_WELCOME_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_WELCOME_ERROR_TEXT2:"Попробуйте ещё раз.",UNSUBSCRIBE_MODEL_GRADE_OK_TITLE:"Рассылка отключена",UNSUBSCRIBE_MODEL_GRADE_OK_TEXT1:"Вы больше не будете получать уведомления о комментариях пользователей от Яндекс.Маркета.",UNSUBSCRIBE_MODEL_GRADE_OK_TEXT2:"",UNSUBSCRIBE_MODEL_GRADE_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_MODEL_GRADE_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_MODEL_GRADE_ERROR_TEXT2:"Попробуйте ещё раз.",UNSUBSCRIBE_ERROR_ERROR_TITLE:"Ошибка",UNSUBSCRIBE_ERROR_ERROR_TEXT1:"Извините, отключить рассылку не удалось.",UNSUBSCRIBE_ERROR_ERROR_TEXT2:"Попробуйте ещё раз.",INCOME_RECEIPT:"Чек покупки",RETURN_RECEIPT:"Чек на возврат товара",ORDER_RECEIPT:"Чек по заказу",ORDER_RECEIPTS:"Чеки по заказу",FAILED_RECEIPTS_REQUEST_1:"Что-то пошло не так. Пожалуйста, обновите страницу и попробуйте открыть это окно ещё раз. Если не поможет — обратитесь в ",FAILED_RECEIPTS_REQUEST_2:"службу поддержки Маркета.",ORDER_RECEIPTS_EMPTY_LIST_TITLE:"Для заказа № ${orderId} нет чеков.",ORDER_RECEIPTS_EMPTY_LIST_DESCRIPTION:"Скорее всего, он был оформлен до 1 июля 2017 года — электронные чеки тогда не выдавались.",REGION_SETTINGS_OFFERS_AVAILABLE_IN_REGION:"Вам показаны товары<br /> с доставкой ",REGION_SETTINGS_AUTO_DEFINITION:"Определять автоматически",REGION_SETTINGS_CHOOSE_ANOTHER_REGION:"Укажите другой регион",REGION_SETTINGS_CONTINUE_WITH_NEW_REGION:"Продолжить с новым регионом",REGION_SETTINGS_ENTER_REGION:"Укажите регион",REGION_NOTIFICATION_CHANGE:"Нет, другой",REGION_NOTIFICATION_OK:"Да, спасибо",REGION_NOTIFICATION_BACK_TO:"Вернуть ${locationName}",REGION_NOTIFICATION_NOW_YOU_SEE:"Теперь вы видите товары<br /> с доставкой в ",REGION_NOTIFICATION_NOW_YOUR_REGION:"Теперь ваш регион",REGION_NOTIFICATION_YOUR_REGION:"Ваш регион",PRODUCT_TOOLBAR_CONTROL_COMPARE:"Сравнить",PRODUCT_TOOLBAR_CONTROL_COMPARE_DONE:"В сравнении",PRODUCT_TOOLBAR_CONTROL_WISHLIST:"Отложить",PRODUCT_TOOLBAR_CONTROL_WISHLIST_DONE:"Отложено",PRODUCT_TOOLBAR_CONTROL_GO_BACK:"К описанию",PRODUCT_TOOLBAR_CONTROL_COMPARE_EXPERIMENT:"Сравнить",PRODUCT_TOOLBAR_CONTROL_WISHLIST_EXPERIMENT:"Отложить",PRODUCT_TOOLBAR_CONTROL_WISHLIST_DONE_EXPERIMENT:"Отложено",ERROR_CODE:"Код ошибки",ERROR_TITLE:"Ой. Что-то пошло не так",ERROR_400_TITLE:"Что-то пошло не так",ERROR_404_TITLE:"Тут ничего нет",ERROR_NO_CONNECTION_TITLE:"Нет соединения",ERROR_TEXT:"Попробуйте обновить страницу<br/>или зайдите позже.",ERROR_400_TEXT:"Возможно, вы перешли по некорректной ссылке.<br/>Попробуйте зайти на главную и поищите товары ещё раз.",ERROR_403_TEXT:"Доступ к этой странице ограничен.",ERROR_404_TEXT:"Попробуйте вернуться назад<br/>или поищите что-нибудь другое.",ERROR_NO_CONNECTION_TEXT:"Проверьте соединение с интернетом<br/>и попробуйте обновить страницу.",ERROR_MOVE_HOME:"На главную",ERROR_MOVE_REFRESH:"Обновить"},a["n-i18n-exists"]=function(t){return void 0!==a["n-i18n-locale"][t]},a["n-i18n"]=function(t,e){return a["n-i18n-locale"]?void 0===a["n-i18n-locale"][t]?t:s(a["n-i18n-locale"][t],e):t},a["n-i18n-map"]=function(t,e){return a["n-i18n-locale"][t]?a["n-i18n-locale"][t][e]||t+"["+e+"]":t+"["+e+"]"},t.exports=a});var _=require("lodash");_.assignIn(yr.externals,require("yate-externals.internationalization")),function(){BEM.DOM.decl("n-rating-variable",{onSetMod:{js:{inited:function(){this.params.variable&&this.setMod("variable","yes")}},variable:{yes:function(){this._rating=this.domElem.attr("data-rate")||"",this.params.label&&this._rating&&this.elem("label").text(this.elem("item").eq(this._rating-1).data("rate-name")),this.bindTo("item","pointerclick",function(t){this._onItemClicked($(t.target).index()+1)}),this.bindTo("item","pointerover",function(t){this._onItemHovered($(t.target).index()+1)}),this.bindTo("pointerout",this._setDataRatingAttribute)},"":function(){this.unbindFrom("item","pointerclick"),this.unbindFrom("item","pointerover"),this.unbindFrom("pointerout")}}},_onItemHovered:function(t){this.domElem.attr("data-rate",t),this.params.label&&this.elem("label").text(this.elem("item").eq(t-1).data("rate-name")),this.trigger("ratingHovered",{rating:t})},_onItemClicked:function(t){this._rating=t,this.elem("value").attr("value",t),this.trigger("ratingChanged",{rating:t})},_setDataRatingAttribute:function(){this.domElem.attr("data-rate",this._rating),this._rating?this.elem("label").text(this.elem("item").eq(this._rating-1).data("rate-name")):this.elem("label").text("")},_rating:0,getRating:function(){return this._rating},setRating:function(t){return"number"==typeof t&&(this._rating=t,this._setDataRatingAttribute(),this.trigger("ratingChanged",{rating:t})),this}})}(),function(t){t.DOM.decl({block:"n-rating-stars",baseBlock:"n-rating-variable"},{onSetMod:{js:{inited:function(){this.__base()}},variable:{yes:function(){this.__base()},"":function(){this.__base()}}}})}(BEM),function(){function t(t){return"[object Object]"===r.call(t)}function e(n,r,i){var s,a;n=Object(n),r=Object(r);for(s in r)a=i&&i(n[s],r[s],s),void 0!==a?n[s]=a:t(n[s])&&t(r[s])?n[s]=e(n[s],r[s],i):n[s]=r[s];return n}function n(t,n){return e(t,n,function(t,e,n){if("mix"===n)return[].concat(t,e)})}var r=Object.prototype.toString;$.extend($.util,{merge:e,mergeBemjson:n})}(),BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("href",this._url)},yes:function(){this.__base.apply(this,arguments),this._url=this.domElem.attr("href"),this.domElem.removeAttr("href"),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("hint",{onSetMod:{js:{inited:function(){this.initialize(),this.content&&this._renderTooltip().setListeners()}}},setContent:function(t){return this.content=t,this},show:function(){this._cache.tooltip.setContent(this.domElem.data("title")||this.content),this._cache.tooltip.setMod("shown","yes"),this._cache.tooltip.domElem[0].style["z-index"]="32000"},hide:function(){this._cache.tooltip.delMod("shown")},toggleShow:function(){return this._cache.tooltip.hasMod("shown")?this.hide():this.show(),this},setListeners:function(){return this.bindTo("mouseover",this.onMouseOver.bind(this)).bindTo("mouseleave",this.onMouseLeave.bind(this)),this},initialize:function(){return this.content=this.domElem.data("title")||this.params.content,this.debounce=this.params.debounce||{show:450,hide:0},this._cache={},this._timeoutObject={},this},onMouseOver:function(){return this._timeoutObject&&clearTimeout(this._timeoutObject),this._timeoutObject=setTimeout(this.show.bind(this),this.debounce.show),this},onMouseLeave:function(){return this._timeoutObject&&clearTimeout(this._timeoutObject),this._timeoutObject=setTimeout(this.hide.bind(this),this.debounce.hide),this},_renderTooltip:function(){return BEM.DOM.append(this.domElem,BEMHTML.apply(this._buildTooltip())),this._cache.tooltip=this.findBlockInside("tooltip"),this._cache.tooltip.setOwner(this),this},_buildTooltip:function(){return{block:"tooltip",mods:{size:"xs",theme:this.params.theme||"normal",autoclosable:"yes"},js:{offset:this.params.offset||10,to:this.params.to||["right","left"]},mix:{block:"hint",elem:"tooltip"},content:this.content}}},{live:function(){return this.liveInitOnEvent("pointerover",this.prototype.show),!0}}),BEM.DOM.decl("hint",{onSetMod:{js:{inited:function(){if(this.content=this.domElem.data("title")||this.params.content,this.content){var t=this;this._cache={},this._timeoutObject={},t._renderTooltip(),this.hasMod("type","clickable")?this.bindTo("pointerclick",this._openTooltip.bind(this)):(this.bindTo("pointerover",this._openTooltip.bind(this)),this.bindTo("pointerleave",this._closeTooltip.bind(this)))}}}},_openTooltip:function(){this._timeoutObject&&clearTimeout(this._timeoutObject);var t="undefined"!=typeof this.params.delay?this.params.delay:450;this._timeoutObject=setTimeout(function(){this._cache.tooltip.setContent(this.domElem.data("title")||this.content),this._cache.tooltip.setMod("shown","yes"),this._cache.tooltip.domElem[0].style["z-index"]="32000"}.bind(this),t)},_closeTooltip:function(){this._timeoutObject&&clearTimeout(this._timeoutObject),this._cache.tooltip.delMod("shown")},_renderTooltip:function(){BEM.DOM.append(this.domElem,BEMHTML.apply(this._buildTooltip())),this._cache.tooltip=this.findBlockInside("tooltip"),this._cache.tooltip.setOwner(this)},_buildTooltip:function(){return{block:"tooltip",mods:{size:"xs",theme:"normal",autoclosable:"yes"},js:{offset:this.params.offset||10,to:this.params.to||["right","left"]},mix:{block:"hint",elem:"tooltip"},content:this.content}},setContent:function(t){this.content=t}}),BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setAnchor(this._owner).setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}}),BEM.DOM.decl("tooltip",{_onEnter:function(){this.setMod("hovered","yes")},_onLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onEnter(t):this._onLeave(t))}),this.__base()}}),BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(BEM.DOM.scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do t._preventHideByClick=!0,t=t._getParentPopup();while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],r=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==r&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3}),BEM.DOM.decl("popup2",{show:function(t){return t&&this.setAnchor(t),this.setMod("visible","yes"),this},hide:function(){return this.delMod("visible"),this},isShown:function(){return this.hasMod("visible","yes")},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:function(){return this.liveBindTo("closer","pointerclick",this.prototype.hide),this.__base()}}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0}}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).setMod("outside","yes").redraw().delMod("outside")},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},redraw:function(){function t(t,e){var n=!1;return Object.keys(e).forEach(function(r){var i=e[r];t[r]!==i&&(t[r]=i,n=!0)}),n}if(!this.hasMod("visible","yes")&&!this.hasMod("outside","yes"))return this;var e=this._calcBestDrawingParams();return this.setMod("direction",e.direction),t(this._lastPopupDrawingCss,this._calcDrawingCss(e))&&this.domElem.css(this._lastPopupDrawingCss),t(this._lastTailDrawingCss,this._calcTailDrawingCss(e))&&this.elem("tail").css(this._lastTailDrawingCss),this},_calcDrawingCss:function(t){return{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return{left:t.tail.left,top:t.tail.top}},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map(function(r){var i={direction:r,width:0,height:0,left:0,top:0};return this._checkMainDirection(r,"bottom")?(i.top=t.top+t.height+n.main,i.height=e.bottom-i.top-n.viewport):this._checkMainDirection(r,"top")?(i.height=t.top-e.top-n.main-n.viewport,i.top=t.top-i.height-n.main):(this._checkSecondaryDirection(r,"center")?(i.height=e.bottom-e.top-2*n.viewport,i.top=t.top+(t.height-i.height)/2):this._checkSecondaryDirection(r,"bottom")?(i.height=t.top+t.height-e.top-n.secondary-n.viewport,i.top=t.top+t.height-i.height-n.secondary):this._checkSecondaryDirection(r,"top")&&(i.top=t.top+n.secondary,i.height=e.bottom-i.top-n.viewport),this._checkMainDirection(r,"left")?(i.width=t.left-e.left-n.main-n.viewport,i.left=t.left-i.width-n.main):(i.left=t.left+t.width+n.main,i.width=e.right-i.left-n.viewport)),this._checkSecondaryDirection(r,"right")?(i.width=t.left+t.width-e.left-n.secondary-n.viewport,i.left=t.left+t.width-i.width-n.secondary):this._checkSecondaryDirection(r,"left")?(i.left=t.left+n.secondary,i.width=e.right-i.left-n.viewport):this._checkSecondaryDirection(r,"center")&&this._checkMainDirection(r,"top","bottom")&&(i.width=e.right-e.left-2*n.viewport,i.left=t.left+t.width/2-i.width/2),i},this)},_calcBestDrawingParams:function(){for(var t,e,n,r,i,s,a=this._calcPopupDimensions(),o=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,u=l.length,d=0;d<u&&(t=l[d],e=this._calcPos(t,o,a),n=this._calcViewportFactor(e,c,a),(0===d||n>s||!s&&this.hasMod("direction",t))&&(r=t,s=n,i=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));d++);return{direction:r,left:i.left,top:i.top,tail:this._calcTailPos(r,o,a,i)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail");return t.length>0&&"none"!==t.css("display")?this.elem("tail").outerWidth():0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),r=t.width(),i=t.height();return{top:e,left:n,
bottom:e+i,right:n+r}},_calcPos:function(t,e,n){var r={},i=this._calcOffsets();return this._checkMainDirection(t,"bottom")?r.top=e.top+e.height+i.main:this._checkMainDirection(t,"top")?r.top=e.top-n.height-i.main:this._checkMainDirection(t,"left")?r.left=e.left-n.width-i.main:this._checkMainDirection(t,"right")&&(r.left=e.left+e.width+i.main),this._checkSecondaryDirection(t,"right")?r.left=e.left+e.width-n.width-i.secondary:this._checkSecondaryDirection(t,"left")?r.left=e.left+i.secondary:this._checkSecondaryDirection(t,"bottom")?r.top=e.top+e.height-n.height-i.secondary:this._checkSecondaryDirection(t,"top")?r.top=e.top+i.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?r.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(r.top=e.top+e.height/2-n.height/2)),r},_calcTailPos:function(t,e,n,r){var i={},s=this._calcTailDimension()/2;return this._checkMainDirection(t,"bottom")?i.top=-s:this._checkMainDirection(t,"top")?i.top=Math.floor(n.innerHeight-s):this._checkMainDirection(t,"left")?i.left=Math.floor(n.innerWidth-s):this._checkMainDirection(t,"right")&&(i.left=-s),this._checkSecondaryDirection(t,"right")?i.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-s:this._checkSecondaryDirection(t,"left")?i.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-s:this._checkSecondaryDirection(t,"bottom")?i.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-s:this._checkSecondaryDirection(t,"top")?i.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-s:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=Math.ceil(n.innerWidth/2)-s:i.top=Math.ceil(n.innerHeight/2)-s),i},_calcViewportFactor:function(t,e,n){var r=this.params.viewportOffset,i=Math.max(t.left,e.left+r),s=Math.min(t.left+n.width,e.right-r),a=Math.max(t.top,e.top+r),o=Math.min(t.top+n.height,e.bottom-r);return i<s&&a<o?(s-i)*(o-a)/n.area:0},_calcOffsets:function(){var t=this.params,e=Math.round(this._calcTailDimension()*Math.SQRT1_2);return{main:Math.max(t.mainOffset,e),secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.redraw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){var t=this.__self.AVAILABLE_DIRECTIONS;this.params.directions.forEach(function(e){if(t.indexOf(e)===-1)throw new Error("Can't init popup with \""+e+'" direction. Available directions: '+t.join(", "))}),this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0}}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).setMod("outside","yes").redraw().delMod("outside")},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},redraw:function(){function t(t,e){var n=!1;return Object.keys(e).forEach(function(r){var i=e[r];t[r]!==i&&(t[r]=i,n=!0)}),n}if(!this.hasMod("visible","yes")&&!this.hasMod("outside","yes"))return this;var e=this._calcBestDrawingParams();return this.setMod("direction",e.direction),t(this._lastPopupDrawingCss,this._calcDrawingCss(e))&&this.domElem.css(this._lastPopupDrawingCss),t(this._lastTailDrawingCss,this._calcTailDrawingCss(e))&&this.elem("tail").css(this._lastTailDrawingCss),this},_calcDrawingCss:function(t){return{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return{left:t.tail.left,top:t.tail.top}},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map(function(r){var i={direction:r,width:0,height:0,left:0,top:0};return this._checkMainDirection(r,"bottom")?(i.top=t.top+t.height+n.main,i.height=e.bottom-i.top-n.viewport):this._checkMainDirection(r,"top")?(i.height=t.top-e.top-n.main-n.viewport,i.top=t.top-i.height-n.main):(this._checkSecondaryDirection(r,"center")?(i.height=e.bottom-e.top-2*n.viewport,i.top=t.top+(t.height-i.height)/2):this._checkSecondaryDirection(r,"bottom")?(i.height=t.top+t.height-e.top-n.secondary-n.viewport,i.top=t.top+t.height-i.height-n.secondary):this._checkSecondaryDirection(r,"top")&&(i.top=t.top+n.secondary,i.height=e.bottom-i.top-n.viewport),this._checkMainDirection(r,"left")?(i.width=t.left-e.left-n.main-n.viewport,i.left=t.left-i.width-n.main):(i.left=t.left+t.width+n.main,i.width=e.right-i.left-n.viewport)),this._checkSecondaryDirection(r,"right")?(i.width=t.left+t.width-e.left-n.secondary-n.viewport,i.left=t.left+t.width-i.width-n.secondary):this._checkSecondaryDirection(r,"left")?(i.left=t.left+n.secondary,i.width=e.right-i.left-n.viewport):this._checkSecondaryDirection(r,"center")&&this._checkMainDirection(r,"top","bottom")&&(i.width=e.right-e.left-2*n.viewport,i.left=t.left+t.width/2-i.width/2),i},this)},_calcBestDrawingParams:function(){for(var t,e,n,r,i,s,a=this._calcPopupDimensions(),o=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,u=l.length,d=0;d<u&&(t=l[d],e=this._calcPos(t,o,a),n=this._calcViewportFactor(e,c,a),(0===d||n>s||!s&&this.hasMod("direction",t))&&(r=t,s=n,i=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));d++);return{direction:r,left:i.left,top:i.top,tail:this._calcTailPos(r,o,a,i)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail");return t.length>0&&"none"!==t.css("display")?this.elem("tail").outerWidth():0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),r=t.width(),i=t.height();return{top:e,left:n,bottom:e+i,right:n+r}},_calcPos:function(t,e,n){var r={},i=this._calcOffsets();return this._checkMainDirection(t,"bottom")?r.top=e.top+e.height+i.main:this._checkMainDirection(t,"top")?r.top=e.top-n.height-i.main:this._checkMainDirection(t,"left")?r.left=e.left-n.width-i.main:this._checkMainDirection(t,"right")&&(r.left=e.left+e.width+i.main),this._checkSecondaryDirection(t,"right")?r.left=e.left+e.width-n.width-i.secondary:this._checkSecondaryDirection(t,"left")?r.left=e.left+i.secondary:this._checkSecondaryDirection(t,"bottom")?r.top=e.top+e.height-n.height-i.secondary:this._checkSecondaryDirection(t,"top")?r.top=e.top+i.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?r.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(r.top=e.top+e.height/2-n.height/2)),r},_calcTailPos:function(t,e,n,r){var i={},s=this._calcTailDimension()/2;return this._checkMainDirection(t,"bottom")?i.top=-s:this._checkMainDirection(t,"top")?i.top=Math.floor(n.innerHeight-s):this._checkMainDirection(t,"left")?i.left=Math.floor(n.innerWidth-s):this._checkMainDirection(t,"right")&&(i.left=-s),this._checkSecondaryDirection(t,"right")?i.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-s:this._checkSecondaryDirection(t,"left")?i.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-s:this._checkSecondaryDirection(t,"bottom")?i.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-s:this._checkSecondaryDirection(t,"top")?i.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-s:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=Math.ceil(n.innerWidth/2)-s:i.top=Math.ceil(n.innerHeight/2)-s),i},_calcViewportFactor:function(t,e,n){var r=this.params.viewportOffset,i=Math.max(t.left,e.left+r),s=Math.min(t.left+n.width,e.right-r),a=Math.max(t.top,e.top+r),o=Math.min(t.top+n.height,e.bottom-r);return i<s&&a<o?(s-i)*(o-a)/n.area:0},_calcOffsets:function(){var t=this.params,e=Math.round(this._calcTailDimension()*Math.SQRT1_2);return{main:t.mainOffset<0?t.mainOffset:Math.max(t.mainOffset,e),secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.redraw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(t){function e(t,e){return t.addClass("i-bem "+e).bem(e)}BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._anchorParents=null,this._destructor=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=t.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._anchor.parents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){return this._unbindFromAnchorParents()._unbindFromParentPopup()._unbindFromDestructor(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=e(this._anchor,"_"+this.__self.getName()+"-destructor"),this._isAnchorVisible=void 0,this._bindToDestructor(),this.hasMod("visible","yes")?(this._anchorParents=this._anchor.parents(),this._recaptureZIndex()._bindToAnchorParents()._bindToParentPopup().redraw()):(this._anchorParents=null,this._zIndexGroupLevel=null),this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(e){return"undefined"==typeof this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),t.extend(this.__base(e),{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var e=this._anchor,n=this._getOffsetOf(e),r=n.left,i=n.top,s=r+e.outerWidth(),a=i+e.outerHeight(),o=this.getMod("direction"),c=Math.floor(this._checkDirection(o,"top")?i:a),l=Math.floor(this._checkDirection(o,"left")?r:s),u=!0;return this._anchorParents.each(function(e,n){if("BODY"===n.tagName)return!1;n=t(n);var r=/scroll|hidden|auto/,i=r.test(n.css("overflow-y")),s=r.test(n.css("overflow-x"));if(i||s){var a=this._getOffsetOf(n),o=Math.floor(a.top);if(c<o||o+n.outerHeight()<c)return u=!1;var d=Math.floor(a.left);return u=l>=d&&d+n.outerWidth()>=l}}.bind(this)),u},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible()},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop(),this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup, .popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")}return this._parentPopup}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100});var n=BEM.DOM;n.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}}),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl({name:"hint",modName:"clickhide",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base(),this.bindTo("click",this._closeTooltip.bind(this))}}}}),function(){"use strict";BEM.DOM.decl("n-product-kind-params-list",{showFullList:function(){this.setMod("full","yes")}},{live:function(){this.liveInitOnEvent("more","pointerclick",function(){this.showFullList()})}})}(),function(){"use strict";var t=require("templater"),e=require("lodash"),n=1,r=200;BEM.DOM.decl("offer-quantity-select",{showNotification:function(t){var i=e.get(this.params,"quantityLimit.step");i>n&&t&&(this.hintWasShown=!0,setTimeout(function(){this.renderNotification(t)}.bind(this),r))},onQuantityChange:function(t,e){e&&"input"!==e.source&&(this.hintWasShown||this.showNotification(e.amount))},onQuantityCorrect:function(t,e){e&&this.showNotification(e.amount)},renderNotification:function(t){if(this.domElem){var e=this.findElem("content");e&&BEM.DOM.update(e,this.buildNotificationTemplate(t))}},buildNotificationTemplate:function(n){return t.render({data:e.defaults({count:n},this.params),args:[e.defaults({showNotification:!0},this.params.options)],mode:"offer-quantity-select__content"})}},{live:function(){this.liveInitOnBlockInsideEvent("amount:correct","amount-select",function(){this.onQuantityCorrect.apply(this,arguments)}),this.liveInitOnBlockInsideEvent("amount:change","amount-select",function(){this.onQuantityChange.apply(this,arguments)})}})}(),require.define("math",function(t,e,n,r,i){function s(t,e){var n=e.minimum,r=e.maximum,i=e.step,s=!_.isBoolean(e.roundUp)||e.roundUp;t<n?t=n:t>r&&(t=r);var a=(t-n)%i;return 0===a?t:s?t+(i-a):t-a}t.exports={findClosestNumber:s}}),function(){var t=require("lodash"),e=require("math").findClosestNumber,n="keydown",r="blur",i="focus",s=/\D+/g,a=1,o=999,c=1;BEM.DOM.decl("amount-select",{onSetMod:{js:{inited:function(){this._amountInput=this.findBlockOn(this.elem("input"),"input"),this._onLimitStateValue=this.params.onLimitButtonMod,this._amountStep=Number(this.params.step)||c,this._minAmount=Number(this.params.minAmount)||a,this._maxAmount=Number(this.params.maxAmount)||o,this._maxAmount=this.correctAmount(this._maxAmount,!1),this._amountInput&&(this._amountButtons={minus:this.findBlockOn(this.elem("button","type","minus"),"button2"),plus:this.findBlockOn(this.elem("button","type","plus"),"button2")},this._amountInput.on(i,this.onInputFocus,this),this._currAmount=Number(this.params.amount)||this._minAmount,this._lastEmitedAmount=0,this.subscribe())}}},onElemSetMod:{button:{state:{disabled:function(t){this.findBlockOn(t,"button2").setMod("disabled","yes")},"":function(t){var e=this.findBlockOn(t,"button2");e.hasMod("disabled","yes")&&e.delMod("disabled")}}},input:{state:{disabled:function(t){this.findBlockOn(t,"input").setMod("disabled","yes")},"":function(t){this.findBlockOn(t,"input").delMod("disabled")}}}},setAmount:function(t,e){e=e||{};var n=e.silent||!1;this.toggleButtonsVisibilityByAmount(t);var r=this.correctAmount(t);return t!==r&&(t=r,n||this.trigger("amount:correct",{amount:r})),this._currAmount=t,this._amountInput.val(t),n||this.emitAmount(t,{source:e.source}),this},getAmount:function(){var t=this._amountInput.val().toString(),e=Number(t.replace(s,""));return e||this._minAmount},subscribe:function(){this._amountInput.on(r,this.onAmountInputBlur,this),this.bindTo(this._amountInput.elem("control"),n,this.onAmountInputKeyPress)},unsubscribe:function(){var t=this._amountInput;t.un(r,this.onAmountInputBlur),t.domElem&&this.unbindFrom(t.elem("control"),n)},toggleButtonsVisibilityByAmount:function(t){this.toggleMod(this._amountButtons.minus.domElem,"state",this._onLimitStateValue,t<=this._minAmount),this.toggleMod(this._amountButtons.plus.domElem,"state",this._onLimitStateValue,t>=this._maxAmount)},emitAmount:function(t,e){e=e||{},this._lastEmitedAmount!==t&&(this._lastEmitedAmount=t,this.trigger("amount:change",{amount:t,source:e.source||"default"}))},onAmountInputBlur:function(){this.setAmount(this.getAmount(),{source:"input"})},onAmountButtonClick:function(t,e,n){var r=this._currAmount;switch(n){case"plus":r+=this._amountStep;break;case"minus":r-=this._amountStep}this.setAmount(r,{source:"button"})},onInputFocus:function(){this.toggleButtonsVisibilityByAmount(this._currAmount)},onAmountInputKeyPress:function(t){switch(t.keyCode){case 13:return this._amountInput.delMod("focused"),!1;case 38:return this.changeAmount(this._amountStep),!1;case 40:return this.changeAmount(-this._amountStep),!1}},changeAmount:function(t){var e=this.getAmount();0!==t&&(e+=t),this.setAmount(e,{silent:!0,source:"button"})},correctAmount:function(n,r){return e(n,{minimum:this._minAmount,maximum:this._maxAmount,step:this._amountStep,roundUp:!t.isBoolean(r)||r})},disable:function(){this.setMod(this._amountButtons.plus.domElem,"state","disabled"),this.setMod(this._amountButtons.minus.domElem,"state","disabled"),this.setMod(this._amountInput.domElem,"state","disabled")},enable:function(){this.delMod(this._amountInput.domElem,"state"),this.toggleButtonsVisibilityByAmount(this._currAmount)}},{live:function(){return this.liveBindTo("button","pointerclick",function(t){var e=this.findBlockOn(t.data.domElem,"button2"),n=this.getMod(t.data.domElem,"type");this.onAmountButtonClick(t,e,n)}),this.liveInitOnBlockInsideEvent("focus","input"),!1}})}(),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){return!this.hasMod("disabled")&&(e?this._focused||this._focus():this._focused&&this._blur(),void this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n="undefined"!=typeof t,r=this.elem("control");return t=n?null===t?"":t.toString():r.val(),this._val!==t&&(this._val=t,r.val()!==t&&r.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var r=t.value.length,i=t.createTextRange();i.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=i.compareEndPoints("EndToEnd",s)>-1?r:-i.moveEnd("character",-r)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){return!this.hasMod("disabled","yes")&&void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._updateVal)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")}))}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(this.__base()===!1)return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._updateVal()})}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",function(){this._updateValNextTick()}),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base(),this._mayShowSuggest=!0,this._hasChanged=!1,this.on("change",function(){this._hasChanged=!0})}}},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var r=t.value.length,i=t.createTextRange();i.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=i.compareEndPoints("EndToEnd",s)>-1?r:-i.moveEnd("character",-r)}}return e}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(t){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(t){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(t){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}}),function(){BEM.DOM.decl("manotice",{show:function(t,e){},hide:function(){}})}(),function(){BEM.DOM.decl({name:"manotice",modName:"type",modVal:"popup"},{show:function(t,e){this._popup||(this._popup=this.__self._createPopup(this,this.params)),this.hasMod("local-context","true")&&this.setCurrentContext(),this._popup.setMod("theme",t).setContent(e).show(this),this.__base.apply(this,arguments)},hide:function(){this._popup&&this._popup.hide(),this.__base.apply(this,arguments)},isShown:function(){return this._popup&&this._popup.isShown()},getCurrentPosition:function(){if(this._popup)return this._context?this._popup.domElem.offset():this._popup.getCurrPos()},destruct:function(){this._popup&&this._popup.destruct()},repaint:function(){this._popup&&this._popup.repaint()},setCurrentContext:function(){this._popup&&(this._context=this.domElem,this._popup.setContext(this._context))},setAutoclosable:function(){this._popup&&this._popup.setMod("autoclosable","yes")},setAutoclosableVisible:function(){this._popup&&this._popup.setMod("autoclosable","visible")},unsetAutoclosable:function(){this._popup&&this._popup.delMod("autoclosable")},getPopup:function(){return this._popup}},{_createPopup:function(t,e){var n,r=$(BEMHTML.apply(this._buildPopup(e)));return BEM.DOM.after(t.domElem,r),n=r.bem("popup")},_buildPopup:function(t){var e=t.autoclosable||"no",n=t.hasClose||"no",r=t.animate||"no",i=[{elem:"tail"},{elem:"content"}];return"yes"===n&&i.push({elem:"close"}),{block:"popup",attrs:t.attrs,mix:t.mix,mods:{autoclosable:e,animate:r,"has-close":n},content:i,js:{directions:t.directions}}}})}(),BEM.DOM.decl("popup",{getDefaultParams:function(){var t={left:15,right:15,top:15,bottom:15};return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:t},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),r=e.generateDirections?this._generateDirections:e.directions,i=this._repackDirParams(r);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=i.keys.map(function(t){var e=i.directions[t],r=n.directions[t];return r||(r=n.directions[e.to]),this._directions[t]=this._mergeParams(r,e,{tail:this._tailParamsHook}),t},this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var n="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+n).bem(n)}var r=this._findParent(e);r&&this.setParent(r)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach(function(t){t.hide&&t.hide(),t.delMod("visible")}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var n=this;return this.beforeHide(function(){n.domElem&&n.delMod("visibility")}),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,r=0;r<n;r++)if(e[r]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),t.on("beforeClose",function(){this.afterCurrentEvent(function(){this.removeChild(t)})},this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,n=e.length,r=0;r<n;r++)if(e[r]._uniqId===t._uniqId)return void e.splice(r,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})}),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this.domElem&&this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint);
},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));return this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0===this._firstFocusable.length?void(this._skipReturnFocus=!0):void this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){var t=(this._parent||{})._skipReturnFocus||this._skipReturnFocus;t||this._lastFocused.focus()},_mergeParams:function(t,e,n){var r={},i=Object.prototype.hasOwnProperty;return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),Object.keys(e).forEach(function(s){var a=i.call(n,s)?n[s].call(this,t[s],e[s]):e[s];!a||"object"!=typeof a||Array.isArray(a)?r[s]=a:t[s]?r[s]=this._mergeParams(t[s],a,n):r[s]=a},this),r},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],n=e,r=t.length,i=[],s=0;s<r;s++)for(var a=t[s],o=a.length,c=0;c<o;c++)for(var l=e[s],u=l.length,d=0;d<u;d++)for(var p=n[s],h=p.length,f=0;f<h;f++)i.push({direction:a[c],axis:l[d],tail:{axis:p[f]}});return this.__self._generateDirectionsCache=i,i},_repackDirParams:function(t){var e={},n=[];return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),n=t.map(function(t){if("string"==typeof t){var n=t.split("-");t={to:n[0],tail:{}},n[1]&&(t.axis=n[1]),n[2]&&(t.tail.axis=n[2])}var r=t.to;return e[r]||(e[r]=t),t.axis&&(r+="-"+t.axis),t.key=r,e[r]=t,r},this),{directions:e,keys:n}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<n;t++){var r=e[t],i=this._directions[r];this._resetPos(r)._pushPos(r,this._calcPos(i))._pushPos(r,this._calcOffsets(i)),this._hasTail()&&this._resetTailPos(r)._pushTailPos(r,this._calcTailPos(i))._pushTailPos(r,this._calcTailOffset(i))._pushPos(r,this._calcOffsetByTail(i)),this._pushPos(r,this._getParentOffset());var s=this._calcVisibilityFactor(i);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[r],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),r=this.getPlacingSize(),i=t.axis,s=this.params.position||{},a={},o=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":a={top:o.call(s,"top")?s.top:e.top+n.height,left:o.call(s,"left")?s.left:this._calcLeft(i)};break;case"top":a={top:o.call(s,"top")?s.top:e.top-r.height,left:o.call(s,"left")?s.left:this._calcLeft(i)};break;case"left":a={top:o.call(s,"top")?s.top:this._calcTop(i),left:o.call(s,"left")?s.left:e.left-r.width};break;case"right":a={top:o.call(s,"top")?s.top:this._calcTop(i),left:o.call(s,"left")?s.left:e.left+n.width}}return a},_calcTop:function(t){var e=0,n=this.getPlacingSize(),r=this.getOwnerPos(),i=this.getOwnerSize();return"top"===t?e+=r.top:"middle"===t?e+=r.top+i.height/2-n.height/2:"bottom"===t&&(e+=r.top+i.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),r=this.getOwnerPos(),i=this.getOwnerSize();return"left"===t?e+=r.left:"center"===t?e+=r.left+i.width/2-n.width/2:"right"===t&&(e+=r.left+i.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),r=t.key,i=t.offset;if(n[r])return n[r];if(!i)return!1;if(e={left:0,top:0},"number"==typeof i)switch(r){case"left":e.left+=i;break;case"right":e.left-=i;break;case"top":e.top+=i;break;case"bottom":e.top-=i}else i.left&&(e.left+=i.left),i.right&&(e.left-=i.right),i.top&&(e.top+=i.top),i.bottom&&(e.top-=i.bottom);return n[r]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){n!==!1&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,r=this._viewport,i=this._getSizeOf(r),s=this.getPopupSize(),a=this._positions[t.key],o=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:r.scrollTop(),left:r.scrollLeft()},l=a.top+o.top-c.top,u=a.left+o.left-c.left,d=u+s.width-i.width,p=l+s.height-i.height,h={height:s.height,width:s.width},f=100;return p>0&&(h.height-=p),l<0&&(h.height+=l),u<0&&(h.width+=u),d>0&&(h.width-=d),h.height<0||h.width<0?f=0:(n=Math.abs(h.height*h.width),e=s.height*s.width,e!==n&&(f=n/e*100)),f},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach(function(t){t.domElem&&BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],r=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==r&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide({source:"close-click"})})},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var n="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=$(this),n=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each(function(){var t=$(this);if("none"===t.css("display"))return n=!1}),n)})},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null}),BEM.DOM.decl("popup",{_moveToContainer:function(t){if(t)this._inContainer=!1;else if(this._context)t=this._context;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},setContext:function(t){return this._context=t,this}}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._scope||(this._scope=$("body"))}}}}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},_captureZIndex:function(){var t=this._zIndex,e=this.__base.apply(this,arguments);return this._zIndex!==t&&this.hasMod(this._under,"type","paranja")&&this.elem("under").css("z-index",this._zIndex),e},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]}),BEM.DOM.decl("popup",{isDivEnough:function(){return"div"===this.params["under-tag"]}}),function(){BEM.DOM.decl("popup",{isDivEnough:function(){return!0}})}(),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",function(t){t.stopPropagation(),this.hide({source:"outside-click"})}),this.bindTo(t,"pointerdown",function(){this._skipReturnFocus=!0})),this.bindTo("pointerdown pointerclick",function(){var t=this;do t._preventHideByClick=!0,t=t._getParentPopup();while(t)}),this.bindToDoc("pointerclick",function(t){if(this._preventHideByClick)return void(this._preventHideByClick=null);if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}}),this.bindToDoc("pointerdown",function(){this._skipReturnFocus=!0})}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,r=this._childs.length;for(n=0;n<r;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),r={opacity:1,top:n.top,left:n.left},i={opacity:0,top:n.top,left:n.left};"bottom"===e?i.top+=10:"top"===e?i.top-=10:"left"===e?i.left-=10:"right"===e&&(i.left+=10),this.domElem.stop(!0).css(i).animate(r,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,r=this.getCurrPos(),i=this.domElem,s={top:r.top,left:r.left,opacity:0};return"bottom"===n?s.top+=10:"top"===n?s.top-=10:"left"===n?s.left-=10:"right"===n&&(s.left+=10),i.stop(!0,!0).animate(s,this.params.duration,function(){t(),i.css("opacity","")})}}),BEM.DOM.decl({block:"popup",modName:"local-context",modVal:"true"},{onSetMod:{js:{inited:function(){var t=this.domElem,e=this.params.localContextSelector,n=e?t.closest(e):t.parent();this.__base.apply(this,arguments),this.setContext(n)}}}}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],r=t.tail.axis,i={};return"top"===e||"bottom"===e?i.left=this._calcTailLeft(r,n):"left"!==e&&"right"!==e||(i.top=this._calcTailTop(r,n)),i},_calcTailTop:function(t,e){var n=0,r=this.getOwnerSize(),i=this.getOwnerPos(),s=this.params.tail.width,a=this.getPopupSize(),o=a.height,c=i.top-e.top,l=e.top+a.height-(i.top+r.height);return c>0&&(n+=c,o-=c),l>0&&(o-=l),"middle"===t?(o-=s,n+=o/2):"bottom"===t&&(o-=s,n+=o),n<0&&(n=0),n},_calcTailLeft:function(t,e){var n=0,r=this.getOwnerSize(),i=this.getOwnerPos(),s=this.params.tail.width,a=this.getPopupSize(),o=i.left-e.left,c=a.width,l=e.left+a.width-(i.left+r.width);return o>0&&(n+=o,c-=o),l>0&&(c-=l),"center"===t?(c-=s,n+=c/2):"right"===t&&(c-=s,n+=c),n},_calcOffsetByTail:function(t){var e=this.params.tail,n=e.height,r={};switch(t.to){case"top":r={top:-n};break;case"bottom":r={top:n};break;case"right":r={left:n};break;case"left":r={left:-n}}return r},_calcTailOffset:function(t){var e={},n=t.to,r=t.tail,i=r.offset,s=r.axis;return!!i&&("top"===n||"bottom"===n?(e.left=0,"left"===s?e.left+=i.left:"center"===s?(i.left&&(e.left+=i.left),i.right&&(e.left-=i.right)):"right"===s&&(e.left-=i.right)):"left"!==n&&"right"!==n||(e.top=0,"top"===s?e.top+=i.top:"middle"===s?(i.top&&(e.top+=i.top),i.bottom&&(e.top-=i.bottom)):"bottom"===s&&(e.top-=i.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),BEM.DOM.decl({block:"popup"},{onSetMod:{visibility:{visible:function(){this.__base.apply(this,arguments),this.hasMod("autoclosable","visible")&&this._enableAutoclosableVisible()},"":function(){this.__base.apply(this,arguments),this.hasMod("autoclosable","visible")&&this._disableAutoclosableVisible()}},autoclosable:{visible:function(){this._enableAutoclosableVisible()},"":function(){this.__base.apply(this,arguments),this._disableAutoclosableVisible()}}},_enableAutoclosableVisible:function(){this.bindToDoc("pointerclick",function(){this.domElem&&this.domElem.is(":visible")&&this.hide()})},_disableAutoclosableVisible:function(){this.unbindFromDoc("pointerclick")}}),BEM.DOM.decl({block:"popup"},{onSetMod:{visibility:{visible:function(){this.__base.apply(this,arguments),this.hasMod("autoclosable","visible")&&this._enableAutoclosableVisible()},"":function(){this.__base.apply(this,arguments),this.hasMod("autoclosable","visible")&&this._disableAutoclosableVisible()}},autoclosable:{visible:function(){this._enableAutoclosableVisible()},"":function(){this.__base.apply(this,arguments),this._disableAutoclosableVisible()}}},_enableAutoclosableVisible:function(){this.bindToDoc("pointerclick",function(){this.domElem&&this.domElem.is(":visible")&&this.hide()})},_disableAutoclosableVisible:function(){this.unbindFromDoc("pointerclick")}}),function(){BEM.DOM.decl({name:"manotice"},{onSetMod:{js:{inited:function(){this.hasMod("state","open")&&this.stateOpen()}},state:{open:function(){this.stateOpen()}}},stateOpen:function(){this.__base(),this.params.messageType&&this.params.message&&this.show(this.params.messageType,this.params.message)}})}(),function(){var t=require("cart"),e=require("lodash"),n=500;BEM.DOM.decl("purchase-popup-amount",{onSetMod:{js:{inited:function(){var t=BEM.blocks["amount-select"];t&&t.on(this.domElem,"amount:change",this._setCount,this)}}},_setCount:e.debounce(function(e,n){t.setCount(this.params.offerId,n.amount)},n)},{live:function(){return this.liveInitOnBlockInsideEvent("amount:change","amount-select",function(t,e){this._setCount(t,e)}),!1}})}(),require.define("cms",function(t,e,n){"use strict";function r(t,e){return s.ajax({url:"/api/cms/"+t,type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json"}).then(i)}function i(t){return t.status?t.data:s.Deferred().reject(new Error(t.error))}var s=n("jquery");e.render=r.bind(null,"render"),e.getData=r.bind(null,"data")}),function(){var t=require("cms");BEM.DOM.decl("n-w-recommendations",{onSetMod:{js:{inited:function(){this._deferred=$.Deferred();var e=this.getWidgetData();t.render(e).then(this.setContent.bind(this))}}},getWidgetData:function(){switch(this.params.widgetType){case"roll":return this.getRollData();case"carousel":return this.getCarouselData()}},getGarsonsData:function(){return[]},decorateWidgetViewByHeaderData:function(t){var e=this.params;if(!e.noHeader){var n={};e.title&&(n.title={text:e.title}),e.description&&(n.description=e.description),t.header=n}},getSnippetsData:function(){return{rows:{count:1},columns:{count:this.params.columnsCount||3},cells:{type:this.params.cellType||"recommendation"},align:"left"}},getRollData:function(){var t=this.params,e={entity:"widget",id:"Roll",anchor:"recommendations",resources:{garsons:this.getGarsonsData(),completers:[],shuffle:{mode:"stripe"}},view:{snippets:this.getSnippetsData(),pager:{type:null,style:{theme:"normal"}}},metrika:t.metrika};return this.decorateWidgetViewByHeaderData(e.view),e},getCarouselData:function(){var t=this.params,e={entity:"widget",id:"Carousel",anchor:"recommendations",groups:[{resources:{garsons:this.getGarsonsData(),completers:[]}}],view:{snippets:this.getSnippetsData(),pager:{place:"popup"!==t.layout?"onSides":null}},metrika:t.metrika};return this.decorateWidgetViewByHeaderData(e.view),e},result:function(){return this._deferred.promise()},setContent:function(t){BEM.DOM.update(this.elem("widget"),t);var e;switch(this.params.widgetType){case"roll":e=this.findBlockInside("n-roll");break;case"carousel":e=this.findBlockInside("n-carousel")}this.toggleMod("enable","yes","no",Boolean(e)),this._deferred.resolve({widget:e,params:this.params})}})}(),function(){var t="pager-more",e=BEM.channel(t);BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){var t=this;this._history=BEM.blocks.history.getInstance(),this._isPagerApplied=!1,this._lastState=this._history.state,this._firstView=this.params.firstView,this._spin=this.findBlockInside("spin"),this._btnMore=this.findBlockInside("button"),this._currentPage=this.params["current-page"],this._maxPage=this.params.max,this._perPage=this.params["per-page"],this._insertNode=$(t.params["insert-selector"]),this._btnMore.bindTo("click",function(){t._sendRequest()}),BEM.blocks.history.hasNativeAPI()&&BEM.channel("market:filter").on("dataLoading",function(){t.domElem.stop(!0).hide()}),BEM.channel("market:filter").on("dataLoaded",function(e,n){if(n.hasOwnProperty("total")){var r=n.total,i=Math.ceil(r/t._perPage);t._firstView=!0,t._currentPage=1,t.params.forceMaxPage?i<t.params.forceMaxPage?t._maxPage=i:t._maxPage=t.params.forceMaxPage:t._maxPage=i,n.page=t._currentPage,BEM.channel("market:pager").trigger("change",n),t._maxPage>1?t.domElem.fadeIn():t.domElem.hide(),t._isMaxReached(),BEM.blocks.history.hasNativeAPI()&&t.params.mustChangeHistory&&t._changeHistory(!1)}}),this._history.on("statechange",function(){var e=t._history.state;e.url!=t._lastState.url&&(t._lastState.data&&"pager"===t._lastState.data.changedBy&&(!e.data||"filter"!=e.data.changedBy&&"push"==e.data.action)?window.location.reload():e.data?"pager"!==e.data.changedBy||t._isPagerApplied||window.location.reload():t._firstView?t._lastState.data||e.url==t._lastState.url||window.location.reload():window.location.reload(),t._isPagerApplied=!1,t._lastState=e)})}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{firstView:!0,mustChangeHistory:!0})},_buildGateUrl:function(){var t=BEM.blocks.uri.parse(document.location.href).deleteParam("cvredirect"),e=BEM.blocks.uri.parse(this.params.gate);return $.each(Object.keys(t.queryParams),function(n,r){e.addParam(r,t.queryParams[r])}),e.replaceParam(this.params["page-param"],this._currentPage+1),e.toString()},_buildLinkUrl:function(){var t=BEM.blocks.uri.parse(document.location.href);return this._currentPage>1?t.replaceParam(this.params["page-param"],this._currentPage):t.deleteParam(this.params["page-param"]),t.toString()},_sendRequest:function(){var t=this,n="Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время";$.ajax({url:this._buildGateUrl(),type:"GET",dataType:"json",timeout:1e4,beforeSend:function(){t._spin.setMod("progress","yes"),t._btnMore.domElem.hide()},success:function(r){r.success?(t._insertNode.length?BEM.DOM.append(t._insertNode,r.data):BEM.DOM.before(t.domElem,r.data),BEM.DOM.doc.trigger("scroll"),r.page=++t._currentPage,BEM.channel("market:pager").trigger("change",r),t.delMod("active"),t._isMaxReached(),BEM.blocks.history.hasNativeAPI()&&t.params.mustChangeHistory&&t._changeHistory(!0),e.trigger("more_loaded",{page:t.params["page-id"]})):alert(n)},error:function(){alert(n)},complete:function(){t._spin.delMod("progress"),t._btnMore.domElem.show()}})},_isMaxReached:function(){this._currentPage>=this._maxPage?(this._btnMore.setMod("disabled","yes").delMod("focused"),this.setMod("state","hidden")):(this._btnMore.delMod("disabled"),this.delMod("state"))},_changeHistory:function(t){var e=this._buildLinkUrl();if(t){var n=require("metrika"),r=n.marketCounterID;r&&window[r]&&e!=document.location.href&&window[r].hit(e,document.title,document.location.href)}this._isPagerApplied=!0,e!=this._history.state.url&&(this._firstView?(this._history.pushState({changedBy:"pager",action:"push"},this._history.state.title,e),this._firstView=!1):this._history.replaceState({changedBy:"pager",action:"replace"},this._history.state.title,e))}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("pager"),r={"page-pressed":"NEXT_PAGE_NUM"};for(var i in r)!function(i){n.on(i,function(){var n=r[i];n&&t.reachGoal(n,e)})}(i)}(),BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var n=this.domElem;e&&this.delMod("hovered"),this._href&&(e?n.removeAttr("href"):n.attr("href",this._href)),this.afterCurrentEvent(function(){n&&n.prop("disabled",e)})},pressed:function(t,e){return!this.hasMod("disabled")&&void this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.domElem&&this.trigger("click")})}},{live:function(){this.liveBindTo("pointerclick",function(t){this._onClick(t)}).liveBindTo("pointerpress",function(t){this.isDisabled()||this._onPointerpress(t)})}}),BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){return!this.isDisabled()&&(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),void this.trigger("focus"))},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){return!this.isDisabled()&&void(!e&&this.delMod("pressed"))},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;!this._keyDowned&&e.is(n,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,n===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)}).liveBindTo("focusin focusout",function(t){this.toggleMod("focused","yes","focusin"===t.type)}),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",function(t){this.domElem.height()}),this.__base()}}),BEM.DOM.decl("pager",{onSetMod:{js:{inited:function(){var t=this;this._currentPage=this.params.current,this._maxPage=this.params.max,this._perPage=this.params["per-page"],this.bindTo("click",function(){BEM.channel("pager").trigger("page-pressed")}),this._numbers=this.findBlocksInside({blockName:"button",modName:"type",modVal:"page"}),this._arrows=this.findBlocksInside({blockName:"button",modName:"type",modVal:"arrow"}),BEM.channel("market:pager").on("change",function(e,n){t._changeCurrentPage(n.page)}),BEM.blocks.history.hasNativeAPI()&&BEM.channel("market:filter").on("dataLoading",function(){t.domElem.stop(!0).hide()}),BEM.channel("market:filter").on("dataLoaded",function(e,n){if(n.hasOwnProperty("total")){var r=n.total;t._maxPage=Math.ceil(r/t._perPage),t._changeCurrentPage(1)}}),BEM.channel("market:filter").on("contentShowed",function(){t.domElem.fadeIn()})}}},_changeCurrentPage:function(t){var e=this;this._currentPage=t,1==this._currentPage&&this.findBlockInside({block:"pager__group",modName:"part",modVal:"to-begin"}).domElem.addClass("g-hidden"),this._currentPage>1&&this.findBlockInside({block:"pager__group",modName:"part",modVal:"to-begin"}).domElem.removeClass("g-hidden"),this._numbers.forEach(function(n,r){var i=t-2+r;n.delMod("side"),1==e._currentPage&&1==i?n.setMod("side","left"):i==e._maxPage&&e._currentPage==i?n.setMod("side","right"):(n.setMod("side","right"),n.domElem.addClass("button_side_left")),e._currentPage==i?n.domElem.removeAttr("href"):n.domElem.attr("href",e._buildLinkUrl(i)),n.elem("text").text(i),i>0&&i<=e._maxPage&&1!=e._maxPage?n.domElem.removeClass("g-hidden"):n.domElem.addClass("g-hidden")}),this._arrows.forEach(function(t,n){t.hasMod("side","left")&&(t.domElem.attr("href",e._buildLinkUrl(e._currentPage-1)),1==e._currentPage?t.domElem.addClass("g-hidden"):t.domElem.removeClass("g-hidden")),t.hasMod("side","right")&&(t.domElem.attr("href",e._buildLinkUrl(e._currentPage+1)),e._currentPage>=e._maxPage||e._maxPage<=1?t.domElem.addClass("g-hidden"):t.domElem.removeClass("g-hidden"))})},_buildLinkUrl:function(t){var e=BEM.blocks.uri.parse(document.location.href).deleteParam("cvredirect");return t>1?e.replaceParam(this.params["page-param"],t):e.deleteParam(this.params["page-param"]),e.toString()}}),function(){var t="background-position",e="0 -",n=!1,r="animation",i="islands-spin",s="transform",a="sprite";!function(){var i=document.createElement("img");void 0!==i.style["background-position-y"]&&(t="background-position-y",e="-");var s="Webkit Moz O ms Khtml".split(" ");if(void 0!==i.style.animationName)n=!0;else for(var a=0;a<s.length;a++){var o=s[a];if(void 0!==i.style[o+"AnimationName"]){r="-"+o.toLowerCase()+"-animation",n=!0;break}}}(),BEM.DOM.decl("spin",{getDefaultParams:function(){return{animation:s,startDelay:0,frameAngle:10,frameTime:27,frames:36}},onSetMod:{js:{inited:function(){n||(this.params.animation=a),this.params.animation===a&&(this._size=parseInt(this.getMod("size")||/[\d]+/.exec(this.getMod("theme"))[0],10),this._height=this._size*this.params.frames,this._curFrame=0,this.setMod("support-transforms","no")),this.hasMod("progress","yes")&&this._startSpin()}},progress:{yes:function(){this._startSpin()},"":function(){this._stopSpin()}}},_startSpin:function(){var t=function(){if(this.hasMod("progress","yes")&&!this._interval)switch(this.params.animation){case s:var t=i+" "+Math.floor(360*this.params.frameTime/this.params.frameAngle)+"ms infinite linear";this.elem("icon").css(r,t);break;case a:this._interval=setInterval(this._switchFrame.bind(this),this.params.frameTime)}}.bind(this);this._delayTimeout=setTimeout(t,this.params.startDelay)},_stopSpin:function(){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._interval&&(clearInterval(this._interval),delete this._interval)},_switchFrame:function(){var n=++this._curFrame,r=n*this._size;r>=this._height&&(this._curFrame=r=0),this.elem("icon").css(t,e+r+"px")},destruct:function(){this._stopSpin(),this.__base.apply(this,arguments)}})}(),require.define("teleport",function(t,e,n){function r(t){var e="TELEPORT["+t+"]",n=window[e];return n instanceof HTMLElement?n:null}var i=n("jquery"),s=Object.create(null);e.has=function(t){return t in s||Boolean(r(t))},e.get=function(t){var e=s[t];if(void 0!==e)return e;var n=r(t);if(n)return s[t]=e=JSON.parse(n.innerHTML),i(n).remove(),e}}),require.define("DataCollector",function(t,e,n){"use strict";function r(t){var e=i.get(t);if(null==e)throw new ReferenceError('No such key "'+t+'" in the storage');if("string"!=typeof e)throw new TypeError('Object by key "'+t+'" is not like the memento');this.busy=!1,this._memento=e}var i=n("teleport"),s=n("jquery");r.prototype.next=function(t){if(this.busy)throw new Error("Wait the previous request");if(t|=0,t<=0||!this._memento)return s.Deferred().resolve([]);var e=this,n=s.ajax({url:"/api/data-collector",type:"POST",data:JSON.stringify({memento:this._memento,n:t}),contentType:"application/json; charset=utf-8",dataType:"json"});return this.busy=!0,n.always(function(){e.busy=!1}).then(function(t){return t.status?(e._memento=t.data.memento,t.data.data):s.Deferred().reject(new Error(t.error));
})},t.exports=r}),function(t){BEM.DOM.decl("n-roll",{onSetMod:{js:{inited:function(){this.currentPage=1,this._channel=BEM.channel("n-roll"),this._items=this.findBlocksInside("snippet-cell"),this._itemsPerPage=this.params.itemsPerPage,this._$items=t(".snippet-cell",this.domElem),this._$pagerMore=t(".pager-more",this.domElem),this._$pagerMoreButton=t(".pager-more .button",this.domElem),this.bindTo(this._$pagerMore,"click",this._onPagerMoreClick),this.updateVisibleItems()}}},_onPagerMoreClick:function(){this.currentPage++,this.updateVisibleItems(),this._$pagerMoreButton.removeClass("button_focused_yes")},updateVisibleItems:function(){var e=this.currentPage*this._itemsPerPage,n=this._$items.filter(":lt("+e+")"),r=this._$items.filter(":gt("+(e-1)+")");n.find("img[data-src-lazy-loading]").each(function(e,n){var r=t(n);r.attr("src",r.data("src-lazy-loading")),r.removeData("src-lazy-loading")}),n.removeClass("g-hidden").slideDown(),0===r.length?this._$pagerMore.fadeOut():r.hide().removeClass("g-hidden")}})}(jQuery),function(){"use strict";function t(t){var e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return!(t.right<0||e<t.left)&&t.bottom<2*n}var e=require("jquery"),n=require("lodash"),r=require("templater"),i=require("DataCollector"),s=require("metrika");BEM.DOM.decl("n-roll",{onSetMod:{js:{inited:function(){var e=this.domElem[0].getBoundingClientRect();this._nextPage=null,this._dc=new i(this.params.stateKey),this._metrika=this.findBlockOn("metrika"),this._pagerMoreButton=this.findBlockInside("pager-more","button"),this._slideDownSpeed=250*this.params.rowsCount,this._pagerMoreButton&&this._pagerMoreButton.on("click",this._onPagerMoreClick,this),this._metrika&&this._bindMetrikaEvents(),t(e)?this._fetchNextPage():this.bindToWin("scroll",this._onScrollOnce)}}},_onScrollOnce:function(){this._fetchNextPage(),this.unbindFromWin("scroll",this._onScrollOnce)},_onPagerMoreClick:function(){var t=this._flushNextPage();t?this._disablePaging():(this._pagerMoreButton.setMod("disabled","yes"),this._fetchNextPage());var e=this.params.metrika?this.params.metrika.onMoreClick:null;e&&s.emitGoalPoint({mbolayoutWidgets:{target:e}})},_flushNextPage:function(){for(var t=this.params,i="",s=this._nextPage.length<t.itemsPerPage,a=0;a<this._nextPage.length;++a)n.set(this._nextPage[a],"expFlags",n.get(window,"state.expFlags")),i+=r.render({data:this._nextPage[a],mode:"n-snippet-cell_cms",args:[t.cellType,{metrika:t.metrika,convertCurrency:t.convertCurrency,class:"snippet-list__item"}]});var o=e('<div class="n-roll__page">'+i+"</div>").hide();return o=BEM.DOM.append(this.elem("list"),o),o.slideDown(this._slideDownSpeed,function(){o.css("display",""),o.css("overflow","")}.bind(this)),this._metrika.updatePixels&&this._metrika.updatePixels(),s},_fetchNextPage:function(){var t=this,e=this.params;this._dc.next(e.itemsPerPage).then(function(e){return 0===e.length?void t._disablePaging():(t._nextPage=e,void t._pagerMoreButton.setMod("disabled","no"))})},_disablePaging:function(){this.elem("pager-more").fadeOut()},_bindMetrikaEvents:function(){var t=this.params.metrika||{};BEM.blocks.button.liveCtxBind(this.domElem,"click",function(){if("cart"===this.getMod("to")){var e=this.findBlockOutside("offer"),n=e.getMods(e.elem("pusher")).state;t.toCartClick&&"processed"===n&&s.emitGoalPoint({mbolayoutWidgets:{target:t.toCartClick}}),t.inCartClick&&"in-cart"===n&&s.emitGoalPoint({mbolayoutWidgets:{target:t.inCartClick}})}})}})}(),function(t){function e(e,i){function s(){return A?g.innerHeight():g.innerWidth()}function a(t){return Math.max(Math.min(Math.floor(t/M),w.length,i.max),Math.min(i.min,w.length))}function o(){return T.last-T.first}function c(t){if(t<0||t>=w.length-o())return null;var e=w.eq(t).get(0);return A?e.offsetTop:e.offsetLeft}function l(t){var e=c(t);return null===e?null:A?{top:"-"+e+"px"}:{left:"-"+e+"px"}}function u(){return T.first>0}function d(){return T.last<w.length-1}function p(){var e=s(),n=a(e),r=t();if(k.length>1?t.each(k,function(e,n){r=r.add(t(n).find("."+i.item).slice(T.first,T.last+1))}):r=w.slice(T.first,T.last+1),w.length>n&&i.resizable)if("%"==i.unit){if(I!=n){var o=100/n+"%";w.css(A?"height":"width",o),I=n}}else{w.css(A?"height":"width",Math.floor(e/n)+"px");var c=Math.floor(e/n),l=e%n,u=function(t){return c+(t<l?1:0)+"px"};r.css(A?"height":"width",u)}i.lazyLoading&&r.find("img[data-src-lazy-loading]").each(function(e,n){var r=t(n);r.attr("src",r.data("src-lazy-loading")),r.removeData("src-lazy-loading")}),r.addClass(i.visible)}function h(){t.each(k,function(e,n){t(n).find("."+i.item).slice(0,Math.max(0,T.first)).removeClass(i.visible),t(n).find("."+i.item).slice(T.last+1,w.length).removeClass(i.visible)})}function f(t){var e=o();t<0&&(t=0),t>=w.length-e&&(t=w.length-e-1);var n=l(t);null!==n&&(T.first=t,T.last=t+e,p(),i.transition?(k.css(n),_()):k.stop().animate(n,S,i.easing,function(){_(),h()})),b.trigger("activeItem.flexGrid",{slide:t})}function _(){b.trigger("previousButton.flexGrid",+u()),b.trigger("nextButton.flexGrid",+d())}function m(){f(Math.max(0,T.first-o())-C)}function v(){f(Math.min(T.last,w.length-o()-1)+C)}function y(){var t=s();if(t<=M)return!1;var e=a(t),n=Math.max(0,Math.min(T.first,w.length-e));T.last=T.first+e-1,n!=T.first&&(T.first=n,T.last=T.first+e-1),b.data("flex-grid-count",e);var r=l(T.first);return null!==r&&k.css(r),i.resizable&&(A?w.width(k.innerWidth()):w.height(k.innerHeight())),p(),_(),h(),!0}var b=e.addClass("flex-grid"),g=b.find("."+i.container).addClass(n.container),k=g.find("."+i.list).addClass(n.list),w=k.find("."+i.item).addClass(n.item),E=i.previous?b.find("."+i.previous):void 0,x=i.next?b.find("."+i.next):void 0,M=parseInt(i["min-size"])||150,A="vertical"==i.direction,T={first:0,last:0},C=parseInt(i["offset-items"])||n.offsetItems,S=parseInt(i.speed)||i.speed||n.speed,I=null;this.settings=i,this.items=w.clone(),b.data("flexGrid.obj",this),i.removeBlank&&k.contents().filter(function(){return 3==this.nodeType&&""==t.trim(this.data)}).remove(),E&&x&&(E.on("click",function(){u()&&m()}),x.on("click",function(){d()&&v()})),i.scrollable&&g.mousewheel(function(t,e){return f(T.first-Math.round(Math.abs(e)/e)),!1}),i.touchable&&!function(){var t,e,n,r,i,s,a;g.on("touchstart",function(r){1==r.originalEvent.changedTouches.length&&(t=r.originalEvent&&r.originalEvent.changedTouches[0],e=t.pageX,n=t.pageY)}),g.on("touchend",function(t){1==t.originalEvent.changedTouches.length&&(r=t.originalEvent.changedTouches[0].pageX,i=t.originalEvent.changedTouches[0].pageY,s=e-r,a=n-i,Math.abs(s)>Math.abs(a)&&(s>0?v():m()))})}(),"8"!=parseInt(navigator.userAgent.toLowerCase().split("msie")[1])&&(r.on("resize",y),b.on("resize.flexGrid",y)),t(y),this.reset=function(t){return I=null,y(),t||f(0),this},this.sort=function(t){return w=this.items.clone().sort(t),k.empty().append(w),this.reset()},this.filter=function(t){return w=this.items.filter(t),k.empty().append(w),this.reset()},this.replace=function(t){return w=this.items=t,k.empty().append(w),this.reset()},this.append=function(t,e){return k.append(t),w=k.find("."+i.item).addClass(n.item),this.items=w.clone(),this.reset(e)},this.scrollTo=function(t){f(t)},this.getSize=function(){return{visible:a(s()),all:w.length,max:i.max}}}var n={"min-size":"150px",removeBlank:!0,unit:"%",direction:"horizontal",speed:"slow",easing:"swing",min:3,max:Number.MAX_VALUE,scrollable:!1,resizable:!0,touchable:!0,transition:!1,container:"flex-grid__container",list:"flex-grid__list",item:"flex-grid__item",previous:"flex-grid__previous",next:"flex-grid__next",visible:"flex-grid_visible_yes",hidden:"flex-grid_hidden_yes",invisible:"flex-grid_invisible_yes",lazyLoading:!1,offsetItems:0},r=t(window);t.fn.flexGrid=function(r){return this.each(function(){new e(t(this),t.extend({},n,r))})}}(jQuery),function(){var t=require("metrika");BEM.DOM.decl("snippet-cell",{onSetMod:{js:{inited:function(){var e=this.params.type||"",n=this.params.goalPoints;this._header=this.findBlockInside("snippet-cell__header"),this._image=this.findBlockInside("snippet-cell__image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this._header&&this.bindTo(this._header.domElem,"pointerclick",function(){this._metrikaSnippetClick("header",e)}),this._image&&this.bindTo(this._image.domElem,"pointerclick",function(){this._metrikaSnippetClick("picture",e)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",e)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",e)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",e)}),n&&n.click&&this.bindTo($(".link, .button, .stickers__sticker_type_discount",this.domElem),"click",function(e){t.emitGoalPoint(n.click)})}}},_metrikaSnippetClick:function(e,n){t.emitGoalPoint({snippetClick:{place:e,snippetType:n}})}})}(),function(){BEM.DOM.decl("shop-bonus",{showTooltip:function(){return this._getTooltip().setMod("shown","yes"),this},hideTooltip:function(){return this._tooltip&&this._getTooltip().setMod("shown",""),this},toggleTooltip:function(){var t="yes",e=this._getTooltip();return e.hasMod("shown",t)?e.setMod("shown",""):e.setMod("shown",t),this},destruct:function(){this._getTooltip().destruct(),this.__base()},_showTimeout:null,_getTooltip:function(){return this._tooltip||(this._tooltip=this._createTooltip()),this._tooltip},_createTooltip:function(){var t=this,e=this._buildTooltip(this._result||this.params);BEM.DOM.append(this.domElem,BEMHTML.apply(e));var n=this.findBlockInside("tooltip");return n.setOwner(this),n.bindTo("pointerover",function(){t._clearTooltipHideTimeout()}).bindTo("pointerout",function(){t._runTooltipHideTimeout()}),n},_buildTooltip:function(t){return{block:"tooltip",mix:[{block:"shop-bonus",elem:"tooltip"}],mods:{size:"xs",theme:"normal",autoclosable:"yes"},js:{to:"bottom",offset:5},content:{block:"shop-bonus",elem:"content",content:this._buildTooltipContent(t)}}},_buildTooltipContent:function(t){return[]},_onClick:function(){this.toggleTooltip(),clearTimeout(this._showTimeout)},_onMouseover:function(){this._clearTooltipHideTimeout(),this._showTimeout=setTimeout(this.showTooltip.bind(this),this.__self.AUTO_SHOW_DELAY)},_onMouseout:function(){clearTimeout(this._showTimeout),this._runTooltipHideTimeout()},_runTooltipHideTimeout:function(){this._hideTimeout=setTimeout(this.hideTooltip.bind(this),this.__self.AUTO_HIDE_DELAY)},_clearTooltipHideTimeout:function(){clearTimeout(this._hideTimeout)}},{AUTO_HIDE_DELAY:2e3,AUTO_SHOW_DELAY:450,live:function(){this.liveBindTo("pointerover",function(t){this._onMouseover(t)}).liveBindTo("pointerout",function(t){this._onMouseout(t)}).liveBindTo("pointerclick",function(t){this._onClick(t)})}})}(),BEM.DOM.decl({block:"shop-bonus",modName:"type",modVal:"recommend"},{I18N_RECOMMEND_TEXT:"RECOMMEND_TEXT",I18N_RECOMMEND_CONDITION_LINK:"RECOMMEND_CONDITION_LINK",_buildTooltipContent:function(t){var e=this.__self.getName();return[{block:"shop-bonus",elem:"text",content:BEM.I18N(e,this.I18N_RECOMMEND_TEXT,t.vendor)},{block:"link",target:"_blank",attrs:{rel:"noopener noreferrer"},mix:[{block:"metrika",js:{onClick:{vendorRecomended:"out"}}}],url:t.vendor.url,content:BEM.I18N(e,this.I18N_RECOMMEND_CONDITION_LINK)}]}}),BEM.DOM.decl({block:"shop-bonus",modName:"type",modVal:"warranty"},{I18N_WARRANTY_TEXT:"WARRANTY_TEXT",_buildTooltipContent:function(){return BEM.I18N(this.__self.getName(),this.I18N_WARRANTY_TEXT)}}),BEM.DOM.decl("product-top-offers-list-mini",{onSetMod:{js:{inited:function(){var t=this;this._spin=this.findBlockInside("spin"),this._owner=this.findBlockInside("button"),this._popup=this.findBlockInside("popup"),this._inner=this.elem("inner"),this._owner.bindTo("pointerclick",function(){t._sendRequest()})}}},_buildGateUrl:function(){return this.params.gate},_sendRequest:function(){var t=this,e="Извините, произошла ошибка, <br> попробуйте еще раз через некоторое время.";this.hasOwnProperty("_cache")?(BEM.DOM.update(t._inner,this._cache),t._popup.toggle(t._owner)):$.ajax({url:t._buildGateUrl(),type:"GET",dataType:"json",timeout:3500,beforeSend:function(){t._spin.setMod("progress","yes")},success:function(n){n.success&&""!=n.data?(t._cache=n.data,BEM.DOM.update(t._inner,n.data)):BEM.DOM.update(t._inner,e)},error:function(){BEM.DOM.update(t._inner,e)},complete:function(){t._spin.delMod("progress"),t._popup.toggle(t._owner)}})}}),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.blocks["i-global"],r={CPA_SHOWN:{top3:"CAN_BUY_ACCSS","product-offers":"CAN_BUY_OFFERS",defoffer:"CAN_BUY_OFFERS_DEF"},CPA_CLICK:{top3:"CLICK_BUY_ACCSS","product-offers":"CLICK_BUY_OFFERS",defoffer:"CLICK_BUY_OFFERS_DEF"}},i=BEM.channel("offer__button");for(var s in r)!function(s){i.on(s,function(i,a){var o=a&&a.position,c=r[s][o]||r[s][n.param("page-id")];c&&t.reachGoal(c,e)})}(s)}(),function(){BEM.DOM.decl({name:"offer__pusher"},{onSetMod:{js:{inited:function(){this.domElem.addClass("client-events client-events_add-to-cart"),this.domElem.bem("client-events")}}}},{live:function(){BEM.blocks["client-events"]["_add-to-cart"].clickOnLastCritical()}})}(),require.define("criticalEvents",function(t){var e=window.__criticalEvents||[];delete window.__criticalEvents,t.exports=e}),function(){function t(){n().forEach(e)}function e(){$.post(o.buildURL("api:client-actions",{action:"addToCart"}))}function n(){return l.filter(function(t){return $(t.target).closest(".client-events_add-to-cart").length>0})}function r(){c.onceState(c.STATE_READY,a.flow(i,s))}function i(){var t=n();if(t.length)return t[t.length-1]}function s(t){t&&$(t.target).click()}var a=require("lodash"),o=require("router"),c=require("cart"),l=require("criticalEvents");BEM.DOM.decl({block:"client-events",modName:"add-to-cart"},{},{live:function(){this.__base(),this.liveBindTo("click",e),t()},"_add-to-cart":{clickOnLastCritical:function(){setTimeout(r,0)}}})}(),function(t,e){var n=require("metrika");t.DOM.decl({name:"offer__pusher",modName:"type",modVal:"cart-button"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._metrikaParams=this.params.metrikaParams,this._metrikaShowTriggered=!1,this._offer=this.findBlockOutside("offer"),this._button=this.findBlockOn(this.domElem,this.params.buttonClass||"button"),this._cpaButtonTheme=this._button.getMod("theme"),this._toCartText=this.params.toCartText||this._button.elem("text").html(),this._inCartText=this.params.inCartText||"В корзине",this.shouldEmitMetrika=null===this.findBlockOutside("i-slider__item-wrap_cloned_yes")&&null===this.findBlockOutside("n-product-intents-item")}},state:{init:function(){this._enableButton()},ready:function(){this._enableButton()._showMetrika("addToCartButton")._setToCartText()},"not-available":function(){this._disableButton()},processed:function(){this._disableButton()},"in-cart":function(){this._disableButton()._showMetrika("goToCartButton")._setInCartText()}}},_showMetrika:function(t){return this.shouldEmitMetrika&&!this._metrikaShowTriggered&&(n.emitGoalPoint({productOfferInit:e.extend({},this._metrikaParams,{element:t})}),this._metrikaShowTriggered=!0),this},_enableButton:function(){var t=this._offer,r=this._metrikaParams;return this.unbindFrom("pointerclick"),this.bindTo("pointerclick",function(i){n.emitGoalPoint({productOfferClick:e.extend({},r,{element:"addToCartButton"})}),t.purchaseOffer(),i.preventDefault()}),this._button.setMod("theme",this._cpaButtonTheme),this},_disableButton:function(){var t=this._metrikaParams;return this.unbindFrom("pointerclick"),this.bindTo("pointerclick",function(r){n.emitGoalPoint({productOfferClick:e.extend({},t,{element:"goToCartButton"})})}),this._button.delMod("hovered").delMod("focused"),this.params.withoutAdditionalTheme||this._button.delMod("theme").setMod("theme","gold"),this},_setToCartText:function(){return this._button.elem("text").html(this._toCartText),this},_setInCartText:function(){return this._button.elem("text").text(this._inCartText),this}})}(BEM,jQuery),BEM.DOM.decl({name:"offer__pusher",modName:"type",modVal:"text"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._offer=this.findBlockOutside("offer")}},state:{"*":function(t,e){switch(e){case"init":case"ready":this._bindClick();break;case"processed":case"not-available":case"in-cart":this._unbindClick()}}}},_bindClick:function(){this.unbindFrom("pointerclick"),this.bindTo("pointerclick",function(t){this._offer.purchaseOffer(),t.preventDefault()})},_unbindClick:function(){this.unbindFrom("pointerclick")}}),BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup2")}},visible:function(t,e){var n=e?"Open":"Close",r=this.elem("content"),i=window.getComputedStyle?window.getComputedStyle(r[0]):r[0].currentStyle,s=parseFloat(i.animationDuration)>0?"animationend":parseFloat(i.webkitAnimationDuration)>0?"webkitAnimationEnd":"",a=function(){this.trigger("after"+n)};this.trigger("before"+n)._popup.setMod(t,e),s?r.one(s,a.bind(this)):this.afterCurrentEvent(a)}},destruct:function(){this.delMod("visible").__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:!0}),BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._enforceRepaint=this._enforceRepaint.bind(this)}},visible:{yes:function(){this.__base.apply(this,arguments),window.attachEvent&&this.elem("content")[0].attachEvent("onresize",this._enforceRepaint)},"":function(){this.__base.apply(this,arguments),window.detachEvent&&this.elem("content")[0].detachEvent("onresize",this._enforceRepaint)}}},_enforceRepaint:function(){this.domElem[0].className+=""}}),function(){var t=require("templater");require("lodash");BEM.DOM.decl("modal",{show:function(){return this.setMod("visible","yes"),this},hide:function(){return this.delMod("visible"),this},isShown:function(){return this.hasMod("visible","yes")},getContent:function(){return this.elem("wrapper")},setContent:function(t){return BEM.DOM.update(this.elem("wrapper"),t),this}},{createModal:function(e){var n=t.render({mode:"n-modal",args:e}),r=$(n);return BEM.DOM.append(BEM.DOM.scope,r),r.bem("modal")}})}(),BEM.DOM.decl({block:"modal",modName:"theme",modVal:"normal"},{onSetMod:{visible:{yes:function(){this.setMod("has-animation","yes").__base.apply(this,arguments)}}}}),BEM.DOM.decl({block:"modal",modName:"autoclosable",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._preventHideByClick=!1}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindTo("content","pointerdown pointerclick",this._setPreventHideByClick).bindTo("pointerclick",this._onPointerClick)._popup.on("beforeClose",this._onPopupClose,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("content","pointerdown pointerclick").unbindFrom("pointerclick")._popup.un("beforeClose",this._onPopupClose,this)}}},_setPreventHideByClick:function(t){this._preventHideByClick=!0},_onPointerClick:function(t){this._preventHideByClick||this.delMod("visible"),this._preventHideByClick=!1},_onPopupClose:function(){this.delMod("visible")}}),function(){var t=(require("lodash"),BEM.DOM.decl("uni-modal",{},{_instance:null,_createInstance:function(){var e=BEM.blocks.modal;t._instance=e.createModal({mods:{closer:"content",appearance:"top-fixed",background:"paranja"}}),t.setHandler("afterClose",t._cleanUpContent)},_getInstance:function(){return t._instance||t._createInstance(),t._instance},_cleanUpContent:function(){var e=t._getInstance();e.setContent("")},show:function(e){var n=t._getInstance();n.setContent(e),n.isShown()||n.show()},hide:function(){var e=t._getInstance();e.hide()},setHandler:function(e,n){var r=t._getInstance();r.on(e,n)}}))}(),function(){function t(){var t=this.params.clickProxyUrl,e=new a;return t?($.get(t).always(function(){e.resolve()}),e):(e.reject(),e)}function e(t,e,n){var r=document.createElement("form"),i=document.createElement("input"),s=document.createElement("input"),a=document.createElement("input"),c=document.createElement("input");return i.name="offer",i.value=JSON.stringify(t),s.name="outletId",s.value=e,a.name="regionId",a.value=n,c.type="submit",c.value="submit",r.action=o.buildURL("market:booking"),r.method="POST",r.target="_parent",r.appendChild(i),r.appendChild(s),r.appendChild(a),r.appendChild(c),r.style.display="none",document.body.appendChild(r),r}var n=require("lodash"),r=require("cart"),i=require("Offer"),s=require("checkout"),a=require("Response"),o=require("router"),c=BEM.blocks["offer-purchase"],l=BEM.blocks["uni-modal"];BEM.DOM.decl("offer",{onSetMod:{js:{inited:function(){this._locked=null,this._offer=new i(this.params.options),this.isValid=r.validateOffer(this._offer),this._status=s.getStatus(this._offer),this._pushers=this.findBlocksInside("offer__pusher"),this._outStockMessage=this.elem("out-stock-message"),this._cpaButtonTheme="",this.afterCurrentEvent(function(){r.onceState(r.STATE_READY,this._onInit,this)},this)}},state:{ready:function(){this._setCpaControlsState("ready")},"no-cpa":function(){c.setStateForCurrentInstance("reject",this._offer.id)},processed:function(){this._setCpaControlsState("processed"),c.setStateForCurrentInstance("processed",this._offer.id)},"in-cart":function(){this._setCpaControlsState("in-cart"),c.setStateForCurrentInstance("in-cart",this._offer.id)},"not-available":function(){this._setControlNotAvailable(),c.setStateForCurrentInstance("not-available",this._offer.id)},"not-available-in-outlet":function(){this._setControlNotAvailable(),c.setStateForCurrentInstance("not-available-in-outlet",this._offer.id)}}},destruct:function(){r.off(r.EVENT_UPDATE,this._determineState).off(r.EVENT_REMOVE,this._determineState).off(r.EVENT_ADD,this._determineState),this._status.off(this._status.EVENT_CHANGE_CODE,this._determineState),this.__base.apply(this,arguments)},getDefaultParams:function(){return{options:{}}},purchaseOffer:function(){this._beforePurchaseOffer();var e=this.hasMod("action","no-popup");if(this.setMod("state","processed"),t.call(this),e)return void c.actualizeAndAddToCart({offer:this._offer,status:this._status,onChangeOfferState:this._determineState},this);var n=c.create({offer:this._offer,status:this._status,state:this.getMod("state"),onChangeOfferState:this._determineState.bind(this),onClose:l.hide});l.show(n.domElem)},bookNow:function(t,n){var r=e(this._offer,t,n);r.submit()},_beforePurchaseOffer:function(){var t=n.get(this._offer,"bundleSettings.quantityLimit.minimum");n.isInteger(t)&&this._offer.set("count",t)},_onInit:function(){this.isValid&&(r.on(r.EVENT_UPDATE,this._determineState,this).on(r.EVENT_REMOVE,this._determineState,this).on(r.EVENT_ADD,this._determineState,this),"popup"!==this.getMod("position")&&this._setCpaControlsState("init")),this._status.on(this._status.EVENT_CHANGE_CODE,this._determineState,this),this._determineState()},_determineState:function(){var t,e=this._status,n=this._offer,i=n.outletId,s=!e.isAvailableInOutlet(i);return this.domElem?(e.code===e.CODE_NOT_AVAILABLE?(t="not-available",BEM.channel("market:offer").trigger("not-available",n)):s?(t="not-available-in-outlet",BEM.channel("market:offer").trigger("not-available",n)):t=r.hasOffer(n)?"in-cart":this.isValid?"ready":"no-cpa",this.setMod("state",t),this):this},_setCpaControlsState:function(t){var e=this.__self._allowCpaStates,r=this._pushers;r.length&&e.indexOf(t)!==-1&&n.forEach(r,function(e){e.setMod("state",t)})},_setControlNotAvailable:function(){var t,e=this.findElem(this._outStockMessage,"out-stock-text");this._setCpaControlsState("not-available"),0===e.length&&(t=$(BEMHTML.apply(this.__self._outStockJson)),this._outStockMessage.append(t))}},{_outStockJson:{block:"offer__out-stock-text",tag:"span",content:"Нет в наличии"},_allowCpaStates:["init","ready","processed","in-cart","not-available"]})}(),BEM.DOM.decl("booking-button",{bookNow:function(t){var e=this.findBlockOutside("offer");e&&e.bookNow(this.params.outletId,this.params.regionId)}},{live:function(){this.liveInitOnBlockEvent("click","button",this.prototype.bookNow)}}),function(t,e){t("lodash"),t("router");e.DOM.decl("n-smart-link",{onSetMod:{js:{inited:function(t){this.initializeProperties().setListeners()}}},updateHref:function(t){return this.href=t,this.domElem&&this.domElem.attr("href",this.href),this},setListeners:function(){return this},initializeProperties:function(){return this.href=this.params.href||this.domElem.attr("href"),this},onLinkUpdate:function(t,e){this.updateHref(e)}},{live:function(){this.liveInitOnEvent("pointerover")}})}(require,BEM),function(){var t=require("lodash");BEM.DOM.decl("n-smart-link",{onSetMod:{js:function(){this._uri=BEM.blocks.uri.parse(this.domElem.attr("href")),this._fleetingParams={},this._shouldMakeAllComingParamsFleeting=!1,this._paramsBlacklist=this.params.paramsBlacklist||[],this.domElem.on("mouseup mouseover focusin",this._updateHref.bind(this)),t.includes(this.params.subscriptions,"filters")&&this.startListeningToFilters()}},setParams:function(e){var n=this;t.forEach(this._fleetingParams,function(t,e){t&&n._uri.queryParams.hasOwnProperty(e)&&n._uri.deleteParam(e)}),e&&(e=t.omit(e,this._paramsBlacklist),t.forEach(e,function(t,e){n._uri.replaceParam(e,t),n._shouldMakeAllComingParamsFleeting&&n.makeFleeting(e)}))},makeFleeting:function(e){var n=this;switch($.type(e)){case"array":t.forEach(e,function(t){n._fleetingParams[t]=!0});break;case"object":t.forEach(e,function(t,e){n._fleetingParams[e]=!0});break;case"string":this._fleetingParams[e]=!0}},makeAllComingParamsFleeting:function(){this._shouldMakeAllComingParamsFleeting=!0},_updateHref:function(){this.domElem.attr("href",this._uri.toString())},startListeningToFilters:function(){var t=this,e=BEM.blocks["i-filters"];if(e){var n=e.getInstance();if(n){var r=n.getFiltersObject();this.makeFleeting(r),this.setParams(r)}BEM.channel("market:filter").on("filters-changed",function(e,n){t.makeFleeting(n),t.setParams(n)})}}})}(),function(t,e){e.DOM.decl({block:"n-smart-link",modName:"listen",movVal:"filters"},{initializeProperties:function(){var t=e.blocks["i-filters"];return this.iFiltersBlockInstance=t&&t.getInstance(),this.stableQueryParams=this.params["stable-query-params"],this.__base()},setListeners:function(){return this.iFiltersBlockInstance&&(e.channel("market:filter").on("filters-changed",this.updateLink,this),this.updateLink()),this},buildLinkWithFilters:function(){var t=e.blocks.uri.parse(this.href);return this.iFiltersBlockInstance.buildUriFor(t,this.stableQueryParams)},updateLink:function(){var t=this.buildLinkWithFilters();t&&this.updateHref(t.toString())}})}(require,BEM),function(){var t=require("lodash"),e=700,n={"in-stock":-1,deliveryincluded:0};BEM.decl("i-filters",{onSetMod:{js:{inited:function(){var t=this;this._isSuspended=!1,this._history=BEM.blocks.history.getInstance(),this._filters={},this._firstView=!0,this._lastState=this._history.state,this._isFilterApplied=!1,this._isPrevRequestAborted=!1,this._filterKeys=["gfilter","glfilter"],this._filtersWhiteList=["pricefrom","priceto","qrfrom","onstock","show-book-now-only","book-now-outlet-id","offer-shipping","fesh","how","deliveryincluded","manufacturer_warranty","viewtype","show-old","grhow","in-stock","cpa","delivery-interval","free-delivery"],this._queryWhiteList=["text","cvredirect","hid","srnum","_ym_debug","how","grhow","sec-per-page","paramstext","lr"],this._immediatelyUpdateContent=this._updateContent,this._updateContent=$.debounce(this._updateContent,e),this._history.on("statechange",function(e){var n=t._history.state;n.url!=t._lastState.url&&(t._lastState.data&&"filter"===t._lastState.data.changedBy&&(!n.data||"pager"!=n.data.changedBy&&"push"==n.data.action)?window.location.reload():n.data?"filter"!==n.data.changedBy||t._isFilterApplied||window.location.reload():t._firstView?t._lastState.data||n.url==t._lastState.url||window.location.reload():window.location.reload(),t._isFilterApplied=!1,t._lastState=n)}),BEM.channel("market:filter").on("load",this._onFilterLoad,this),BEM.channel("market:filter").on("change",this._onFilterChange,this),BEM.channel("market:filter").on("update",this._updateContent,this),BEM.channel("market:filter").on("suspend",this._suspend,this)}}},_onFilterChange:function(t,e){if(this.applyFilter(e),BEM.blocks.history.hasNativeAPI())this._changeHistory();else{var n=this._buildUri().toString();BEM.channel("market:filter").trigger("url-changed",n)}this._isSuspended||BEM.channel("market:filter").trigger("filter-used",e[0][0]),this._currentDataRequest?(this._isPrevRequestAborted=!0,this._currentDataRequest.abort()):this._isPrevRequestAborted=!1,"sort"==e[0][0]||"view"==e[0][0]?this._immediatelyUpdateContent():this._updateContent()},_onFilterLoad:function(t,e){if(this.applyFilter(e),BEM.blocks.history.hasNativeAPI())this._changeHistory(!0);else{var n=this._buildUri().toString();BEM.channel("market:filter").trigger("url-changed",n)}},applyFilter:function(t){var e=this._dataToObject(t);switch(e.info.type){case"gf":e.info.type="gfilter";break;case"glf":e.info.type="glfilter"}switch(e.type){case"radio":this._applyRadio(e.info,e.value);break;case"checkbox":this._applyCheckbox(e.info,e.value);break;case"number":this._applyNumber(e.info,e.value,t)}BEM.channel("market:filter").trigger("filters-changed",this.getFiltersObject())},_applyRadio:function(t,e){if("false"!==e)if(this._filters[t.id]||(this._filters[t.id]={val:"",type:t.type}),"glfilter"!==t.type)switch(t.value){case"-1":delete this._filters[t.id];break;case"1":this._filters[t.id].val="select";break;case"0":this._filters[t.id].val="exclude";break;default:this._filters[t.id].val=t.value}else t.value==-1?delete this._filters[t.id]:this._filters[t.id].val=t.value},_applyCheckbox:function(t,e){"glfilter"===t.type&&(t.value="select"==t.value?"1":t.value),this._filters[t.id]||(this._filters[t.id]={val:[],type:t.type}),e?$.inArray(t.value,this._filters[t.id].val)===-1&&this._filters[t.id].val.push(t.value):($.inArray(t.value,this._filters[t.id].val)!==-1&&this._filters[t.id].val.splice($.inArray(t.value,this._filters[t.id].val),1),0!=this._filters[t.id].val.length||n.hasOwnProperty(t.id)||delete this._filters[t.id])},_applyNumber:function(t,e,n){if(e=e.replace(",","."),"pricefrom"===t.id||"priceto"===t.id)e>0?(this._filters[t.id]||(this._filters[t.id]={val:"",type:t.type,currency:n[3],currencyOld:n[4]}),this._filters[t.id].val=e):delete this._filters[t.id];else{var r,i;switch(t.type){case"gfilter":i="~";break;case"glfilter":i=","}this._filters[t.id]||(this._filters[t.id]={val:i,type:t.type}),this._filters[t.id].val&&(r=0!==this._filters[t.id].val.indexOf(i));var s=this._filters[t.id].val&&this._filters[t.id].val.split(i)?this._filters[t.id].val.split(i):"";if(2===s.length){switch(t.value){case"from":s[0]=e;break;case"to":s[1]=e}this._filters[t.id].val=s.join(i)}else if(r)switch(t.value){case"from":this._filters[t.id].val=this._filters[t.id].val+i;break;case"to":this._filters[t.id].val=this._filters[t.id].val+e}else switch(t.value){case"from":this._filters[t.id].val=e+this._filters[t.id].val;break;case"to":this._filters[t.id].val=i+e}this._filters[t.id].val===i&&delete this._filters[t.id]}},_dataToObject:function(t){return{info:{type:t[0][0],id:t[0][1],value:t[0][2],isEnabled:t[0][3]},value:t[1],type:t[2]}},_buildUri:function(){for(var t=this,e=BEM.blocks.uri.parse(document.location.href),r=0,i=this._filterKeys.length;r<i;++r)e.deleteParam(this._filterKeys[r]);return Object.keys(e.queryParams).forEach(function(n){!t._filters.hasOwnProperty(n)&&t._queryWhiteList.indexOf(n)<0&&e.deleteParam(n)}),Object.keys(this._filters).forEach(function(r){if(t._filtersWhiteList.indexOf(r)!=-1){var i=$.isArray(t._filters[r].val)?t._filters[r].val.join(","):t._filters[r].val;
n.hasOwnProperty(r)&&!i&&(i=n[r]),"pricefrom"!==r&&"priceto"!==r||!window.state.isNeedToConvertCurrency||"BYN"!==t._filters[r].currency?e.replaceParam(r,i):e.replaceParam(r,1e4*Number(i))}else t._filterKeys.indexOf(t._filters[r].type)!=-1&&e.addParam(t._filters[r].type,r+":"+t._filters[r].val)}),e},buildUriFor:function(e,r){var i=r||[];return t.forEach(this._filterKeys,function(t){e.deleteParam(t)}),t.forEach(e.queryParams,t.bind(function(n,r){var s=t.includes(this._queryWhiteList,r),a=t.includes(i,r),o=t.has(this._filters,r);a||s||o||e.deleteParam(r)},this)),t.forEach(this._filters,t.bind(function(r,i){var s=this._filtersWhiteList.indexOf(i)!==-1;if(!s){var a=this._filterKeys.indexOf(r.type)!==-1;return void(a&&e.addParam(r.type,i+":"+r.val))}var o=t.isArray(r.val)?r.val.join(","):r.val;n.hasOwnProperty(i)&&!o&&(o=n[i]),"pricefrom"!==i&&"priceto"!==i||!window.state.isNeedToConvertCurrency||"BYN"!==r.currency?e.replaceParam(i,o):e.replaceParam(i,1e4*Number(o))},this)),e},_updateContent:function(){var t=this;this._unsuspend(),this._currentDataRequest=$.ajax({url:this._buildGateUrl(),type:"GET",dataType:"json",timeout:1e4,beforeSend:function(){t._isPrevRequestAborted||BEM.channel("market:filter").trigger("dataLoading"),t._isPrevRequestAborted=!1},success:function(e){t._isPrevRequestAborted||(BEM.channel("market:filter").trigger("dataLoaded",e),BEM.channel("market-metrika").trigger("update")),t._currentDataRequest=null,t.isPrevRequestAborted=!1},error:function(){t._currentDataRequest=null}})},_buildGateUrl:function(){var t=this,e=this._buildUri();this.params.hasOwnProperty("additionalQueryParams")&&Object.keys(this.params.additionalQueryParams).forEach(function(n){e.replaceParam(n,t.params.additionalQueryParams[n])}),e.replaceParam("cvredirect","0"),BEM.blocks.history.hasNativeAPI()&&"product"!=BEM.blocks["i-global"].param("page-id")||e.addParam("noresults","1");var n=document.location.protocol+"//"+document.location.host+this.params.gateUrl+e.query();return n},_changeHistory:function(t){var e=this._buildUri().toString(),n=require("metrika"),r=n.marketCounterID;r&&window[r]&&e!=document.location.href&&!t&&(BEM.channel("market-metrika").trigger("before-update"),window[r].hit(e,document.title,document.location.href)),this._isFilterApplied=!0,e!=this._history.state.url&&(t?(this._lastState.url=e,this._history.replaceState({},this._history.state.title,e)):this._firstView?(this._history.pushState({changedBy:"filter",action:"push"},this._history.state.title,e),this._firstView=!1):this._history.replaceState({changedBy:"filter",action:"replace"},this._history.state.title,e))},_suspend:function(){this._isSuspended=!0},_unsuspend:function(){this._isSuspended=!1},getFiltersObject:function(){var t={};for(var e in this._filters)if(this._filters.hasOwnProperty(e))if(this._filtersWhiteList.indexOf(e)>=0)"pricefrom"!==e&&"priceto"!==e||!window.state.isNeedToConvertCurrency||"BYN"!==this._filters[e].currency?t[e]=this._filters[e].val:t[e]=1e4*this._filters[e].val;else{var n=this._filters[e].type,r=this._filters[e].val,i=r instanceof Array?r.join(","):r;t[n]=t[n]||[],t[n].push(e+":"+i)}return t}},{_instance:null,_initInstance:function(t,e){this._instance||(this._instance=BEM.create("i-filters",{gateUrl:t,additionalQueryParams:e}))},getInstance:function(){return arguments.length&&this._initInstance.apply(this,arguments),this._instance}})}(),function(){var t=require("lodash"),e=require("metrika"),n=700,r=["gfilter","glfilter"],i=["pricefrom","priceto","qrfrom","onstock","book-now-outlet-id","point_id","local-offers-first","offer-shipping","fesh","how","deliveryincluded","manufacturer_warranty","viewtype","show-old","grhow","in-stock","cpa","delivery-interval","free-delivery","home_region","show-book-now-only","prepay-enabled","entity","is-global-shop","filter-discount-only","filter-promo","filter-subsidies","filter-promo-or-discount"],s=["clid","page","suggest","suggest_type","track","was_redir","rt"],a=["text","cvredirect","hid","srnum","_ym_debug","how","grhow","sec-per-page","paramstext","lr","backend","force-report-params","page","dd","rs","book-now-outlet-id","book-now-region-id","point_id","suggest_text","suggest","clid","suggest_type","was_redir","track","entity","return-route","is-global-shop","rt","shoptabs","not-collapse"],o={onstock:0,"in-stock":-1,deliveryincluded:0,"local-offers-first":0};BEM.decl("i-filters",{onSetMod:{js:{inited:function(){this._isSuspended=!1,this._history=BEM.blocks.history.getInstance(),this._filters={},this._loadFilterStateFromUrl(),this._firstView=!0,this._isPrevRequestAborted=!1,this._immediatelyUpdateContent=this._updateContent,this._updateContent=$.debounce(this._updateContent,n),window.onpopstate=function(t){t.state&&window.location.reload()},BEM.channel("market:filter").on("load",this._onFilterLoad,this),BEM.channel("market:filter").on("change",this._onFilterChange,this),BEM.channel("market:filter").on("update",this._updateContent,this),BEM.channel("market:filter").on("suspend",this._suspend,this)}}},_onFilterChange:function(t,n){var r=n[0][0];if(this.applyFilter(n),BEM.blocks.history.hasNativeAPI()){var i="viewtype"===this._dataToObject(n).info.id;this._changeHistory(i)}else{var s=this._buildUri().toString();BEM.channel("market:filter").trigger("url-changed",s)}this._isSuspended||(BEM.channel("market:filter").trigger("filter-used",this._dataToObject(n)),"prepay-enabled"===n[0][1]&&e.reachGoal("arbitrage_filter_use",e.marketCounterID)),this._currentDataRequest?(this._isPrevRequestAborted=!0,this._currentDataRequest.abort()):this._isPrevRequestAborted=!1,"sort"===r||"view"===r?this._immediatelyUpdateContent():this._updateContent()},_onFilterLoad:function(t,e){var n=e[0][1];if(this._filters[n]&&this._filters[n].loadedFromUrl&&delete this._filters[n],this.applyFilter(e),BEM.blocks.history.hasNativeAPI())this._changeHistory(!0);else{var r=this._buildUri().toString();BEM.channel("market:filter").trigger("url-changed",r)}},applyFilter:function(t){var e=this._dataToObject(t);switch(e.info.type){case"gf":e.info.type="gfilter";break;case"glf":e.info.type="glfilter"}switch(e.type){case"radio":this._applyRadio(e.info,e.value);break;case"checkbox":this._applyCheckbox(e.info,e.value);break;case"number":this._applyNumber(e.info,e.value,t)}var n=this.getFiltersObject();BEM.channel("market:filter").trigger("filters-changed",n).trigger("filters-changed-info",{filters:n,changed:e}).trigger("change-view",t)},_applyRadio:function(t,e){if("false"!==e)if(this._filters[t.id]||(this._filters[t.id]={val:"",type:t.type}),"glfilter"!==t.type)switch(t.value){case"-1":delete this._filters[t.id];break;case"1":this._filters[t.id].val="select";break;case"0":this._filters[t.id].val="exclude";break;default:this._filters[t.id].val=t.value}else t.value==-1?delete this._filters[t.id]:this._filters[t.id].val=t.value},_applyCheckbox:function(t,e){"glfilter"===t.type&&(t.value="select"===t.value?"1":t.value),this._filters[t.id]||(this._filters[t.id]={val:[],type:t.type}),e?$.inArray(t.value,this._filters[t.id].val)===-1&&("1"===this._filters[t.id].val?this._filters[t.id].val=["1"]:this._filters[t.id].val.push(t.value)):($.inArray(t.value,this._filters[t.id].val)!==-1&&this._filters[t.id].val.splice($.inArray(t.value,this._filters[t.id].val),1),0!==this._filters[t.id].val.length||o.hasOwnProperty(t.id)||delete this._filters[t.id])},_applyNumber:function(e,n,r){if(n=n.replace(",","."),"pricefrom"===e.id||"priceto"===e.id)n>0?(this._filters[e.id]||(this._filters[e.id]={val:"",type:e.type,currency:r[3],currencyOld:r[4]}),this._filters[e.id].val=n):delete this._filters[e.id];else{var i,s="~";this._filters[e.id]||(this._filters[e.id]={val:s,type:e.type}),this._filters[e.id].val&&(i=0!==this._filters[e.id].val.indexOf(s));var a=this._filters[e.id].val;a=t.isArray(a)?t.head(a):a;var o=a&&a.split(s)?a.split(s):"";if(2===o.length){switch(e.value){case"from":o[0]=n;break;case"to":o[1]=n}this._filters[e.id].val=o.join(s)}else if(i)switch(e.value){case"from":this._filters[e.id].val=this._filters[e.id].val+s;break;case"to":this._filters[e.id].val=this._filters[e.id].val+n}else switch(e.value){case"from":this._filters[e.id].val=n+this._filters[e.id].val;break;case"to":this._filters[e.id].val=s+n}this._filters[e.id].val===s&&delete this._filters[e.id]}},_dataToObject:function(t){return{info:{type:t[0][0],id:t[0][1],value:t[0][2],isEnabled:t[0][3]},value:t[1],type:t[2]}},_buildUri:function(e){for(var n=this,c=BEM.blocks.uri.parse(document.location.href),l=0,u=r.length;l<u;++l)c.deleteParam(r[l]);return Object.keys(c.queryParams).forEach(function(t){(e&&s.indexOf(t)>=0||!n._filters.hasOwnProperty(t)&&a.indexOf(t)<0)&&c.deleteParam(t)}),Object.keys(this._filters).forEach(function(e){if(i.indexOf(e)!==-1){var s,a=n._filters[e].val;o.hasOwnProperty(e)?(s=t.isArray(a)?t.last(a):a,s=s||o[e]):s=t.isArray(a)?a.join(","):a,c.replaceParam(e,s)}else r.indexOf(n._filters[e].type)!==-1&&c.addParam(n._filters[e].type,e+":"+n._filters[e].val)}),c},_updateContent:function(){var t=this;this._unsuspend(),this._currentDataRequest=$.ajax({url:this._buildGateUrl(),type:"GET",dataType:"json",timeout:1e4,beforeSend:function(){t._isPrevRequestAborted||BEM.channel("market:filter").trigger("dataLoading"),t._isPrevRequestAborted=!1},success:function(e){t._isPrevRequestAborted||(BEM.channel("market:filter").trigger("dataLoaded",e),BEM.channel("market-metrika").trigger("update")),t._currentDataRequest=null,t.isPrevRequestAborted=!1},error:function(){t._currentDataRequest=null}})},_buildGateUrl:function(){var t=this,e=this._buildUri(),n=BEM.blocks.uri.parse(this.params.gateUrl),r=n.queryParams;this.params.hasOwnProperty("additionalQueryParams")&&Object.keys(this.params.additionalQueryParams).forEach(function(n){e.replaceParam(n,t.params.additionalQueryParams[n])}),r&&Object.keys(r).forEach(function(t){e.queryParams[t]?e.replaceParam(t,r[t]):e.addParam(t,r[t])}),e.replaceParam("cvredirect","0"),BEM.blocks.history.hasNativeAPI()&&"product"!=BEM.blocks["i-global"].param("page-id")||e.addParam("noresults","1");var i=document.location.protocol+"//"+document.location.host+n.path()+e.query();return i},_changeHistory:function(t){var n=this._buildUri(!t).toString(),r=e.marketCounterID;r&&window[r]&&n!=document.location.href&&!t&&(BEM.channel("market-metrika").trigger("before-update"),window[r].hit(n,document.title,document.location.href)),n!=this._history.state.url&&(t?this._history.replaceState({},this._history.state.title,n):this._firstView?(this._history.pushState({changedBy:"filter",action:"push"},this._history.state.title,n),this._firstView=!1):this._history.replaceState({changedBy:"filter",action:"replace"},this._history.state.title,n))},_suspend:function(){this._isSuspended=!0},_unsuspend:function(){this._isSuspended=!1},getFiltersObject:function(){var t={};for(var e in this._filters)if(this._filters.hasOwnProperty(e))if(i.indexOf(e)>=0)t[e]=this._filters[e].val;else{var n=this._filters[e].type,r=this._filters[e].val,s=r instanceof Array?r.join(","):r;t[n]=t[n]||[],t[n].push(e+":"+s)}return t},getFilters:function(){var t={};for(var e in this._filters)this._filters.hasOwnProperty(e)&&(i.indexOf(e)>=0?t[e]=this._filters[e].val:t[e]=this._filters[e]);return t},_loadFilterStateFromUrl:function(){var t=this,e=BEM.blocks.uri.parse(document.location.href);for(var n in e.queryParams)if(i.indexOf(n)>=0)this._filters[n]={val:e.queryParams[n],type:"glfilter"};else if(r.indexOf(n)>=0){var s=e.queryParams[n];s.forEach(function(e){var n=e.split(":"),r=n[0],i=n[1]?n[1].split(","):null;t._filters[r]={type:"glfilter",val:i,loadedFromUrl:!0}})}}},{_instance:null,_initInstance:function(t,e){this._instance||(this._instance=BEM.create("i-filters",{gateUrl:t,additionalQueryParams:e}))},getInstance:function(){return arguments.length&&this._initInstance.apply(this,arguments),this._instance}})}(),function(){var t=require("lodash"),e=require("metrika");BEM.DOM.decl("shop-history",{_saveClickToHistory:function(){var t={ware_id:this.params.offerId,currency:this.params.currency};$.ajax({url:this.params.gate,type:"GET",data:t})},_emmitRecommendedGoalPoint:function(){e.emitGoalPoint({vendorRecomended:"redir"})},_sendClickParams:function(){var e=t.assignIn({},this.params.clickParams,{coid:this.params.offerId+(new Date).getTime()}),n=document.getElementById("google-tag-manager");n&&n.contentWindow.postMessage(JSON.stringify(e),"*")}},{live:function(){this.liveBindTo("link","pointerclick",function(){this._sendClickParams(),this.params.isRecommended&&this._emmitRecommendedGoalPoint()})}})}(),function(){var t=require("metrika");BEM.DOM.decl("delivery",{onSetMod:{js:{inited:function(){this.getDescription()&&(this.setMod("link","yes"),this.bindTo("click",this._onDeliveryClick)),this.findBlockInside("link")&&this.setMod("link","yes");var e=this.findElem("icon");if(e&&e.length&&(this._lastIco=e[e.length-1]),this.hasMod("has-yandex-delivery","yes")){var n=this,r=this.findBlockOutside("b-page"),i=r.findBlocksInside({block:"delivery",modName:"has-yandex-delivery",modVal:"yes"}),s=i.filter(function(t){return!t.findBlockOutside("product-card-offer")&&n._checkVisible(t.domElem)});s.length&&s[0]==this&&this.informationPopupShouldBeShown()&&(this.toggleDescriptionPopup(),this.informationPopupShown()),t.emitGoalPoint({yandexDelivery:"delivery-show"})}}}},_onDeliveryClick:function(){this.toggleDescriptionPopup()},getDescription:function(){var t=this.elem("popup");return t&&t.text().length&&t.html()},toggleDescriptionPopup:function(){var t=this.getDescription();if(t)return this._popup&&this._popup.hasMod("visibility","visible")?this.hideDescriptionPopup():this.showDescriptionPopup(),this._popup},hideDescriptionPopup:function(){this._popup&&this._popup.hasMod("visibility","visible")&&this._popup.hide()},showDescriptionPopup:function(){var t=this.getDescription();if(t){this._popup||(this._popup=this._generatePopup(t),this._bindMetrikaEvents());var e=this._lastIco?$(this._lastIco):this;this._popup.show(e)}return this._popup},_checkVisible:function(t,e){var n=BEM.DOM.win.height(),r=BEM.DOM.win.scrollTop(),i=t.offset().top,e=e||0,s=t.height();return i<n+r-e&&i>r-s+e},informationPopupShouldBeShown:function(){var t=window.localStorage;return"undefined"!=typeof t&&"shown"!==t.yaDInformer},informationPopupShown:function(){var t=window.localStorage;"undefined"!=typeof t&&(t.yaDInformer="shown")},_generatePopup:function(t){return $(BEMHTML.apply({block:"popup",attrs:{style:"padding: 18px 15px 15px"},mods:{autoclosable:"yes",theme:"info"},content:[{elem:"content",content:t},{elem:"tail"}],js:{directions:[{to:"bottom",axis:"left",offset:{left:-30,top:5},tail:{offset:{left:-3}}}]}})).bem("popup")},_bindMetrikaEvents:function(){var e,n=this,r=this._popup.findBlockInside("outlets-button");this._popup.on("show",function(){t.emitGoalPoint({delivery:{place:n.params.place,eventType:"popup-show"}})}),this.hasMod("has-yandex-delivery","yes")&&(this._popup.on("show",function(){t.emitGoalPoint({yandexDelivery:"delivery-popup-show"})}),e=this._popup.findBlockInside({blockName:"link",modName:"to",modVal:"yandex-delivery"}),e&&e.bindTo("click",function(){t.emitGoalPoint({yandexDelivery:"delivery-link-click"})})),r&&r.bindTo("click",function(){t.emitGoalPoint({delivery:{place:n.params.place,eventType:"outlets-button-click"}})})}})}(),function(t){BEM.DOM.decl("snippet-description",{onSetMod:{js:{inited:function(){this._moreDots=this.findBlockInside("b-more__dots"),this._moreDots&&this.getDescription()&&this.bindTo(this._moreDots.domElem,"click",this._onFullDescriptionClick)}}},_onFullDescriptionClick:function(){this.toggleDescriptionPopup()},getDescription:function(){var e=t(".js-snippet-description-full",this.domElem);return e&&e.html()},toggleDescriptionPopup:function(){var t=this.getDescription();return t&&(this._popup&&this._popup.hasMod("visibility","visible")?this.hideDescriptionPopup():this.showDescriptionPopup()),this._popup},hideDescriptionPopup:function(){this._popup&&this._popup.hasMod("visibility","visible")&&this._popup.hide()},showDescriptionPopup:function(){var e=this.getDescription();return e&&(this._popup||(this._popup=t(BEMHTML.apply({block:"popup",attrs:{style:"width:300px; padding: 6px 10px 5px"},mods:{autoclosable:"yes",theme:"ffffff"},content:[{elem:"content",content:e}],js:{directions:[{to:"bottom",offset:-10}]}})).bem("popup")),this._popup.show(this)),this._popup}})}(jQuery);var _=require("lodash"),FILTER_KEYS=["gfilter","glfilter"],FILTER_WHITE_LIST=["pricefrom","priceto","qrfrom","onstock","offer-shipping","fesh","how","deliveryincluded","manufacturer_warranty","viewtype","show-old","grhow","in-stock","cpa","delivery-interval","free-delivery"];BEM.DOM.decl("smart-link",{onSetMod:{js:function(){var t=this;this._uri=BEM.blocks.uri.parse(this.domElem.attr("href")),this._fleetingParams={},this._shouldMakeAllComingParamsFleeting=!1,this.domElem.mouseup(this._updateHref.bind(this)),_.includes(this.params.subscriptions,"filters")&&t.startListeningToFilters()}},setParams:function(t){var e=this;_.forEach(this._fleetingParams,function(t,n){t&&e._uri.queryParams.hasOwnProperty(n)&&e._uri.deleteParam(n)}),t&&_.forEach(t,function(t,n){e._isWhiteListEnabled&&!e._whiteList[n]||(e._uri.replaceParam(n,t),e._shouldMakeAllComingParamsFleeting&&e.makeFleeting(n))})},makeFleeting:function(t){var e=this;switch($.type(t)){case"array":_.forEach(t,function(t){e._fleetingParams[t]=!0});break;case"object":_.forEach(t,function(t,n){e._fleetingParams[n]=!0});break;case"string":this._fleetingParams[t]=!0}},makeAllComingParamsFleeting:function(){this._shouldMakeAllComingParamsFleeting=!0},_updateHref:function(){this.domElem.attr("href",this._uri.toString())},startListeningToFilters:function(){var t=this,e="market:filter",n=BEM.blocks["i-filters"];n&&n.getInstance()&&this.setParams(n.getInstance().getFiltersObject());var r=BEM.blocks.uri.parse(document.location.href),i={};Object.keys(r.queryParams).forEach(function(t){var e=r.queryParams[t];FILTER_KEYS.indexOf(t)===-1&&FILTER_WHITE_LIST.indexOf(t)===-1||(i[t]=e)}),this.setParams(i),BEM.channel(e).on("filters-changed",function(e,n){t.makeFleeting(n),t.setParams(n)})}});var _=require("lodash");BEM.DOM.decl("smart-link",{onSetMod:{js:function(){var t=this;this._uri=BEM.blocks.uri.parse(this.domElem.attr("href")),this._fleetingParams={},this._shouldMakeAllComingParamsFleeting=!1,this.domElem.mouseup(this._updateHref.bind(this)),_.includes(this.params.subscriptions,"filters")&&t.startListeningToFilters()}},setParams:function(t){var e=this;_.forEach(this._fleetingParams,function(t,n){t&&e._uri.queryParams.hasOwnProperty(n)&&e._uri.deleteParam(n)}),t&&_.forEach(t,function(t,n){e._isWhiteListEnabled&&!e._whiteList[n]||(e._uri.replaceParam(n,t),e._shouldMakeAllComingParamsFleeting&&e.makeFleeting(n))})},makeFleeting:function(t){var e=this;switch($.type(t)){case"array":_.forEach(t,function(t){e._fleetingParams[t]=!0});break;case"object":_.forEach(t,function(t,n){e._fleetingParams[n]=!0});break;case"string":this._fleetingParams[t]=!0}},makeAllComingParamsFleeting:function(){this._shouldMakeAllComingParamsFleeting=!0},_updateHref:function(){this.domElem.attr("href",this._uri.toString())},startListeningToFilters:function(){var t=this,e="market:filter",n=BEM.blocks["i-filters"];n&&(n.getInstance()&&this.setParams(n.getInstance().getFiltersObject()),BEM.channel(e).on("filters-changed",function(e,n){t.makeFleeting(n),t.setParams(n)}))}}),function(){var t=require("metrika"),e="pointerclick";BEM.DOM.decl({name:"phone",modName:"view-type",modVal:"text"},{onSetMod:{js:{inited:function(){var e=this.findElem("text");BEM.DOM.replace(e,BEMHTML.apply({block:"link",mods:{theme:"minor"},url:"tel:"+this.params.phone,content:this.params.phone})),$.get(this.params.clickUrl),t.emitGoalPoint({phone:{}})}}}},{live:function(){this.liveInitOnEvent(e)}})}(),function(){var t=require("metrika"),e="pointerclick";BEM.DOM.decl({name:"phone",modName:"view-type",modVal:"button"},{onSetMod:{js:{inited:function(){this._tooltip=this._createTooltip(this.params.phone),this._toggleTooltip(),$.get(this.params.clickUrl),t.emitGoalPoint({phone:{}}),this.bindTo(e,this._toggleTooltip.bind(this))}}},_toggleTooltip:function(){this._tooltip.hasMod("shown","yes")?this._tooltip.delMod("shown"):this._tooltip.setMod("shown","yes")},_createTooltip:function(t){var e={block:"tooltip",mods:{size:"xs",theme:"normal"},content:t},n=$(BEMHTML.apply(e)).bem("tooltip").setOwner(this);return n}},{live:function(){this.liveInitOnEvent(e)}})}(),function(){var t=require("metrika");BEM.DOM.decl("snippet-cell-mini",{onSetMod:{js:{inited:function(){var e=this.params.goalPoints;e&&e.click&&this.bindTo($(".link, .button, .stickers__sticker_type_discount",this.domElem),"click",function(n){t.emitGoalPoint(e.click)})}}}})}(),function(){var t="snippet-list";BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){var t=this.domElem.data("offers-in-stock"),e=this.domElem.data("offers-by-region");0==t&&0==e&&BEM.channel("snippet-list").trigger("no-offers"),0==t&&e>0&&BEM.channel("snippet-list").trigger("no-local-offers")}}}})}(),BEM.DOM.decl("selectable-item",{onSetMod:{js:{inited:function(){this.mute=!1,this._checkbox=this.findBlockOn(this.elem("checkbox"),"checkbox"),this._checkbox&&this._checkbox.on("change",this._onCheckboxChange,this)}},selected:{yes:function(){this.mute||this.trigger("change",{selected:!0})},"":function(){this.mute||this.trigger("change",{selected:!1})}}},_onCheckboxChange:function(t,e){e.checked?this.setMod("selected","yes"):this.delMod("selected")},toggle:function(){this.isSelected()?this.unselect():this.select()},select:function(){this.mute=!0,this._checkbox&&this._checkbox.setMod("checked","yes"),this.mute=!1},unselect:function(){this.mute=!0,this._checkbox&&this._checkbox.delMod("checked"),this.mute=!1},isSelected:function(){return this.hasMod("selected","yes")}}),BEM.DOM.decl({block:"checkbox",baseBlock:"control"},{onSetMod:{js:{inited:function(){var t=this.elem("control");this.toggleMod("checked","yes",t.prop("checked")),this.toggleMod("focused","yes",t.isFocused())}},hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},checked:function(t,e){this.elem("control").prop("checked",e),this.trigger("change",{checked:Boolean(e)})},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered").delMod("pressed")}}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return Boolean(this.elem("control").prop("checked"))},toggle:function(){this.toggleMod("checked","yes")},val:function(t){var e=this.elem("control");return"undefined"==typeof t?e.val():(e.val(t),this)},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_onChange:function(t){this.toggleMod("checked","yes",t.target.checked)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.trigger("click",{domEvent:t}),this.setMod("focused","yes")},_onKeydown:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.setMod("pressed","yes")},_onKeyup:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.delMod("pressed")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("control","keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo("control","keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}).liveBindTo("control","change",function(t){this._onChange(t)}),this.__base()}}),BEM.DOM.decl({block:"checkbox"},{_onClick:function(t){this.__base(t),this.trigger("click")}}),function(){var t=300,e=require("metrika"),n=require("page");BEM.DOM.decl("n-snippet-card",{onSetMod:{js:{inited:function(){"market:product-offers"===n.getData().id&&this._initProductOfferMetrika(),this._header=this.findBlockInside("snippet-card__header"),this._description=this.findBlockInside("snippet-card__desc"),this._description&&this._header&&(this._description.domElem[0].scrollWidth>this._description.domElem.innerWidth()||this._description.domElem[0].scrollHeight>this._description.domElem.innerHeight()||this._header.domElem[0].scrollWidth>this._header.domElem.innerWidth()||this._header.domElem[0].scrollHeight>this._header.domElem.innerHeight())&&(this._slideBlocks=[{block:this._header,basicHeight:this._header.domElem.outerHeight()},{block:this._description,basicHeight:this._header.domElem.outerHeight()}],this._description.setMod("clickable","yes"),this.bindTo(this._description.domElem,"pointerclick",this._onDescClick)),this._initSnippetMetrika()}}},_initProductOfferMetrika:function(){var t="snippet",n=this.findElem("header-link");n&&n.on("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"title",entityType:t}})});var r=this.findElem("image");r&&r.on("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"picture",entityType:t}})});var i=this.findElem("shop-name");i&&i.on("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"shopName",entityType:t}})});var s=this.findBlockInside("snippet-card__price");s&&s.bindTo("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"price",entityType:t}})})},_initSnippetMetrika:function(){var t=this.params.type||"";this._image=this.findBlockInside("snippet-card__image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._priceLink=this.findBlockInside("snippet-card__price"),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this._oneShopOffers=this.findBlockInside({block:"link",modName:"type",modVal:"fesh"}),this._shopRating=this.findBlockInside("n-shop-rating"),this._shopRating&&(this._shopReviewsLink=this._shopRating.findBlockInside("link")),this._modelReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"reviews"}),this._header&&this.bindTo(this._header.domElem,"pointerclick",function(){this._metrikaSnippetClick("header",t)}),this._image&&this.bindTo(this._image.domElem,"pointerclick",function(){this._metrikaSnippetClick("picture",t)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",t)}),this._priceLink&&this.bindTo(this._priceLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("price",t)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",t)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",t)}),this._oneShopOffers&&this.bindTo(this._oneShopOffers.domElem,"pointerclick",function(){e.emitGoalPoint({oneShopOffers:{}})}),this._shopReviewsLink&&this.bindTo(this._shopReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-reviews",t)}),this._modelReviewsLink&&this.bindTo(this._modelReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("reviews",t)})},_metrikaSnippetClick:function(t,n){e.emitGoalPoint({snippetClick:{place:t,snippetType:n}})},_onDescClick:function(){this.hasMod("open","yes")||(this.setMod("open","yes"),$(this._slideBlocks).each(function(){this.block.hasMod("clickable","yes")&&this.block.delMod("clickable"),this.block.domElem.css({"max-height":this.basicHeight}).animate({"max-height":this.block.domElem[0].scrollHeight},t)}),e.emitGoalPoint({description:{}}))}},{live:function(){this.liveBindTo("pointerover")}})}(),function(){var t=300,e=require("metrika");BEM.DOM.decl("snippet-card",{onSetMod:{js:{inited:function(){var t=this.params.type||"";this._header=this.findBlockInside("snippet-card__header"),this._image=this.findBlockInside("snippet-card__image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._priceLink=this.findBlockInside("snippet-card__price"),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this._oneShopOffers=this.findBlockInside({block:"link",modName:"type",modVal:"fesh"}),this._description=this.findBlockInside("snippet-card__desc"),this._description&&this._header&&(this._description.domElem[0].scrollWidth>this._description.domElem.innerWidth()||this._description.domElem[0].scrollHeight>this._description.domElem.innerHeight()||this._header.domElem[0].scrollWidth>this._header.domElem.innerWidth()||this._header.domElem[0].scrollHeight>this._header.domElem.innerHeight())&&(this._slideBlocks=[{block:this._header,basicHeight:this._header.domElem.outerHeight()},{block:this._description,basicHeight:this._header.domElem.outerHeight()}],this._description.setMod("clickable","yes"),this.bindTo(this._description.domElem,"pointerclick",this._onDescClick)),this._header&&this.bindTo(this._header.domElem,"pointerclick",function(){this._metrikaSnippetClick("header",t)}),this._image&&this.bindTo(this._image.domElem,"pointerclick",function(){this._metrikaSnippetClick("picture",t)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",t)}),this._priceLink&&this.bindTo(this._priceLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("price",t)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",t)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",t)}),this._oneShopOffers&&this.bindTo(this._oneShopOffers.domElem,"pointerclick",function(){e.emitGoalPoint({oneShopOffers:{}})})}}},_onDescClick:function(){if(!this.hasMod("open","yes")){this.setMod("open","yes"),$(this._slideBlocks).each(function(){this.block.hasMod("clickable","yes")&&this.block.delMod("clickable"),this.block.domElem.css({"max-height":this.basicHeight}).animate({"max-height":this.block.domElem[0].scrollHeight},t)});var e=require("metrika");e.emitGoalPoint({description:{}})}},_metrikaSnippetClick:function(t,n){e.emitGoalPoint({snippetClick:{place:t,snippetType:n}})}},{live:function(){this.liveBindTo("pointerover")}})}(),function(){var t="snippet-card__action";BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){this._priceButton=this.findBlockInside("button"),this._priceButton&&this._priceButton.bindTo("click",function(){BEM.channel("snippet-card").trigger("price-button")})}}}})}(),function(){var t="snippet-card__header";BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){this._modTitle=this.findBlockInside("link"),this._modTitle&&this._modTitle.bindTo("click",function(){BEM.channel("snippet-card").trigger("mod-title")})}}}})}(),function(){var t=require("metrika"),e=(require("page"),BEM.channel("snippet-card"));e.on("price-button",function(){t.emitGoalPoint({productModsSnippet:"priceButtonClick"})}),e.on("mod-title",function(){t.emitGoalPoint({productModsSnippet:"titleClick"})})}(),function(){var t="pointerclick",e=BEM.channel("offer-complain"),n="complainedOffers",r=require("metrika"),i=require("templater"),s=null,a=null,o=null,c=BEM.DOM.decl({block:"popup-complain"},{onSetMod:{js:{inited:function(){this.hasMod("submitted","yes")||c.initComplainBLock(this)}}}},{live:function(){this.liveBindTo("switcher",t)},complains:$.cookie(n)?$.cookie(n).split(","):[],initComplainBLock:function(n){var r=this;this._inited||this._init(),this._showPopupOnBlock(n),
e.on("complainSent",function(t,e){n.params.offerData.offerId===e.offerId&&n.setMod("submitted","yes")}),n.elem("switcher").on(t,function(){n.hasMod("submitted","yes")||r._showPopupOnBlock(n)})},_inited:!1,_init:function(){s=this._createPopup(),BEM.DOM.append(BEM.DOM.scope,s.domElem),this._bindEvents(),this._inited=!0},_createPopup:function(){var t={block:"popup",mods:{"has-close":"yes",autosize:"no"},js:{directions:[{to:"top",offset:{left:100,bottom:-150}}]},content:[{elem:"content",content:""}]};return $(BEMHTML.apply(t)).bem("popup")},_createForm:function(t){var e=i.render({data:t,mode:"offer-complain-form"});return $(e).bem("offer-complain-form")},_bindEvents:function(){var t=this;e.on("complainSent",function(e,r){t.complains.push(r.offerId),$.cookie(n,t.complains,{path:"/"})})},_showPopupOnBlock:function(t){a!=t.params.offerData.offerId&&(o=this._createForm(t.params.offerData),s.setContent(o.domElem)),s.show(t),t.setMod("active","yes"),o.onFirst("finish",s.hide.bind(s)),s.onFirst("hide",function(){t.setMod("active","no")}),r.emitGoalPoint({complain:{action:"popupShowed"}}),a=t.params.offerData.offerId}})}(),function(){var t=require("metrika"),e=BEM.channel("offer-complain"),n=require("lodash"),r=require("router");BEM.DOM.decl({block:"offer-complain-form"},{onSetMod:{js:{inited:function(){this._isSubmitting=!1,this._isSubmitted=!1,this._title=this.findElem("title"),this._radiobox=this.findBlockInside("radiobox"),this._submitButton=this.findElem("submit-button"),this._closeButton=this.findElem("close-button"),this._textarea=this.findBlockInside("textarea"),this._spinnerHolder=this.findElem("spinner-holder"),this._okMessage=this.findElem("success-message"),this.bindTo(this._submitButton,"pointerclick",this._submitForm.bind(this)),this.bindTo(this._closeButton,"pointerclick",this.trigger.bind(this,"finish"))}}},_submitForm:function(){if(!this._isSubmitted&&!this._isSubmitting){var t=this.domElem.serializeArray(),e=n.reduce(t,function(t,e){return t[e.name]=e.value,t},{});return e.about="offer",e.external=Boolean(e.external),e.cause?void this._complain(e):(alert("Выберите одну из причин, чтобы пожаловаться на товар"),!1)}},_complain:function(t){$.ajax({url:r.buildURL("api:complain"),type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",timeout:3e3,beforeSend:this._beforeSend.bind(this),success:this._success.bind(this),error:this._error.bind(this)})},_beforeSend:function(){this._isSubmitting=!0,this._radiobox.setMod("disabled","yes"),this._textarea.domElem.attr("disabled","yes"),this._showSpinner()},_success:function(){var n=this;this._isSubmitted=!0,this._radiobox.domElem.fadeOut(),this._title.fadeOut(),this._textarea.domElem.fadeOut(function(){n._okMessage.fadeIn(),n._title.text("Жалоба принята").fadeIn()}),this._submitButton.fadeOut(function(){n._closeButton.fadeIn(),n.trigger("redraw")}),this._hideSpinner(),e.trigger("complainSent",this.params),t.emitGoalPoint({complain:{action:"sendForm"}})},_error:function(){this._isSubmitting=!1,this._radiobox.delMod("disabled"),this._textarea.domElem.removeAttr("disabled"),this._hideSpinner()},_showSpinner:function(){BEM.DOM.update(this._spinnerHolder,BEMHTML.apply({block:"spin2",mods:{size:"xs",progress:"yes"}}))},_hideSpinner:function(){BEM.DOM.update(this._spinnerHolder,"")}})}(),BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(t,e){var n=$(e),r=this.__self._getRadioByElem(n);n.isFocused()&&this.setMod(r,"focused","yes"),n.prop("checked")&&this.setMod(r,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");e.isFocused()||e.focus(),this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus",{current:t})})},"":function(t){this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur",{prev:t})})}},checked:{yes:function(t){var e=this.elem("radio","checked","yes"),n=this.findElem(t,"control"),r=this._val;this._willSwitch=!0,this.delMod(e,"checked"),this._willSwitch=!1,n.prop("checked",!0),this._val=n.val(),this.trigger("change",{current:t,currentVal:this._val,prev:e,prevVal:r})},"":function(t){var e=this.findElem(t,"control"),n=this._val;e.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:t,prevVal:n})}},hovered:function(t){return!this.isDisabled(t)},pressed:function(t){return!this.isDisabled(t)},disabled:function(t,e,n){t.find(this.buildSelector("control")).prop("disabled",n),n&&this.delMod(t,"hovered").delMod(t,"pressed")}}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(t){if("undefined"==typeof t)return this._val;var e=this;return this.elem("control").each(function(n,r){if(r.value===t)return e.setMod(e.__self._getRadioByElem($(r)),"checked","yes"),!1}),e},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(t){this.setMod(t.data.domElem,"hovered","yes")},_onRadioLeave:function(t){this.delMod(t.data.domElem,"hovered")},_onRadioClick:function(t,e){this.isDisabled(t)||this.setMod(t,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")},_onPointerpress:function(t){var e=t.data.domElem;this.setMod(e,"pressed","yes").bindToDoc("pointerrelease",function(){this.delMod(e,"pressed").unbindFromDoc("pointerrelease")})}},{live:function(){this.liveBindTo("radio","pointerclick",function(t){this._onRadioClick(t.data.domElem,t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("radio","pointerover pointerout",function(t){t.data.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onRadioEnter(t):this._onRadioLeave(t))}).liveBindTo("control","focusin focusout",function(t){var e=this.__self._getRadioByElem(t.data.domElem);this.setMod(e,"focused","focusin"===t.type?"yes":""),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&t.preventDefault()}).liveBindTo("radio","pointerpress",function(t){this.hasMod(t.data.domElem,"disabled")||this._onPointerpress(t)})},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}}),BEM.DOM.decl("title",{onSetMod:{js:{inited:function(){var t=this,e=!!this.params["max-length"],n=BEM.channel("market:filter");n.on("titleChange",function(n,r){t.domElem.text(r),t.domElem.attr("title",r),e&&t.setMod("size",r.length<=t.params["max-length"]?"32":"22")}),e&&this.setMod("changeable","yes")}}}}),BEM.DOM.decl("title",{onSetMod:{js:{inited:function(){var t=this,e=!!this.params["max-length"],n=this.findBlockOutside("headline");if(n&&n.elem("header")){var r=BEM.channel("market:filter");r.on("titleChange",function(n,r){t.domElem.text(r),t.domElem.attr("title",r),e&&t.setMod("size",r.length<=t.params["max-length"]?"32":"22"),t.toggleMod("display","yes","no",r>"")})}e&&this.setMod("changeable","yes")}}}}),BEM.DOM.decl("product-toolbar",{onSetMod:{js:{inited:function(){var t=this.findBlockInside("share-dropdown");t&&t.domElem.on("pointerclick",function(){$(document).trigger("SHARE_CLICK")})}}}}),BEM.DOM.decl("user-lists",{onSetMod:{js:{inited:function(){this._currentListCount=0}}},_setDefaultParams:function(t){var e=t||{},n={image:{url:BEM.blocks["user-lists"].BLANC_GIF},title:""};this.params=$.extend(n,this.params,e)},_buildGateParams:function(){return{sk:require("user").sk,id:this.params.id,hid:this.params.hid,catid:this.params.catid}},_changeListCount:function(t){this._currentListCount=Number(t.data.count)},_sendRequest:function(t,e){var n=t.success||this._onSuccess,r=t.error||this._onError,i={url:t.url,type:"POST",data:e,dataType:"json",timeout:3500,success:n.bind(this),error:r.bind(this)};t.beforeSend&&(i.beforeSend=t.beforeSend.bind(this)),$.ajax(i)},_onSuccess:function(t,e,n){t.success?this._responseHandler(this.params.listName,t):alert(BEM.I18N("user-list","error"))},_onError:function(){alert(BEM.I18N("user-list","error"))},_onErrorPopup:function(t){this._showPopup(t,{success:!1})},_responseHandler:function(t,e){this._changeListCount(e),this._showPopup(t,e),this._triggerEvent(t)},_showPopup:function(t,e){var n=this.params.listName,r=BEM.channel("user-lists"),i=this._getParamsForInformer(t,e);return this._popupInformer=BEM.blocks["popup-informer"].create(i),this._popupControlButton=this._popupInformer.findBlockInside("button"),this._popupControlButton&&this._popupControlButton.bindTo("pointerclick",function(){r.trigger("button-click",n)}),this},_getParamsForInformer:function(t,e){return 0==e.success?{image:this._getInformerImage(),title:"Ошибка",details:BEM.I18N(this.params.blockName,"error")}:{title:this._buildTitle(t),image:this._getInformerImage(),details:this._buildDetails(),controls:this._buildControls(e)}},_getInformerImage:function(){var t={url:this.params.image.url};return this.params.image.hasOwnProperty("mix")&&(t.mix=this.params.image.mix),t},_buildDetails:function(){var t="";return t=this._currentListCount?BEM.I18N(this.params.blockName,"details",{count:this._currentListCount,categoryName:this.params.catname}):BEM.I18N(this.params.blockName,"detailsEmpty")},_buildControls:function(){var t=this.params.blockName,e={block:"button",mods:{size:"m",theme:"normal"},content:BEM.I18N(t,"controlText")};return e},_triggerEvent:function(t){BEM.channel("market").trigger("list-"+this.params.listName+"-change",{type:t,modelid:this.params.id})}},{BLANC_GIF:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"}),function(){var t={max:1,fadeDuration:300,notifyTimeout:0};BEM.DOM.decl("popup-informer",{onSetMod:{js:{inited:function(){var t=this;this.__self.onShow(this),this.domElem.css("opacity"),this.domElem.css("opacity",1),this._timeout=null,this.params.notifyTimeout>0&&(this._timeout=setTimeout(this.hide.bind(this,!0),this.params.notifyTimeout),this._bindToMouseEvents()),this.afterCurrentEvent(function(){this.domElem&&t._addCloseEventsListeners()})}}},_addCloseEventsListeners:function(){var t=this;this.findElem("close").on("pointerclick",function(){t._hide()}),this.domElem.on("pointerclick",function(t){t.stopPropagation()}),this.bindToDoc("pointerclick",this._onDocClick)},_bindToMouseEvents:function(){this.bindTo("pointerenter",this._onMouseEnter)},_onMouseEnter:function(){clearTimeout(this._timeout)},_onDocClick:function(){this._hide()},getDefaultParams:function(){return t},_hide:function(t){this.hide(t),this.trigger("hide")},hide:function(t){var e=this;this.domElem.css("opacity",0),setTimeout(function(){e.destruct()},this.params.fadeDuration),this.__self.onHide(this)}},{_height:null,_store:[],create:function(e){var n=this.getName();this._store.length===t.max&&this._store[0].hide(),e.offset=this._height?this._store.length*this._height:0;var r=this.build(e),i=$(BEMHTML.apply(r));return BEM.DOM.append($("body"),i),BEM.DOM.init(i),i.bem(n)},onShow:function(t){null===this._height&&(this._height=t.domElem.height()),this._store.push(t)},onHide:function(t){var e,n,r,i=!1;for(n=0,r=this._store.length;n<r;n++)e=this._store[n],e.domElem&&(i?e.domElem.css("top",this._height*n):e.domElem[0]===t.domElem[0]&&(this._store.splice(n,1),r--,n--,i=!0))},build:function(t){var e=this.getName();return{block:e,attrs:{style:"top:"+t.offset+"px"},mods:t.mods,js:!0,content:[{elem:"pane",elemMods:{type:"notify"},content:{elem:"content",content:this.buildContent(t)}}]}},buildContent:function(t){var e=this.getName(),n=[],r=[];return t.hasOwnProperty("title")&&r.push({elem:"title",elemMods:t.titleMod?t.titleMod:{},content:t.title}),t.hasOwnProperty("details")&&r.push({elem:"details",content:t.details}),t.image&&n.push({block:e,elem:"image",url:t.image.url,mix:t.image.mix}),n.push({block:e,elem:"text",content:r}),n.push({block:e,elem:"controls",content:t.controls}),n.push({block:e,elem:"close"}),n}})}(),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="…";return function(e,n,r){return e.length>n+r?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}}),function(){var t=require("metrika"),e=t.marketCounterID,n={compare:"CMPR_MC_PRSN"},r=BEM.channel("user-lists");r.on("button-click",function(r,i){var s=n[i];s&&t.reachGoal(s,e)})}(),function(t){function e(t,e){for(var n,r=e.split("&"),i=r.length,s=[];i--;)n=r[i].split("="),2===n.length&&n[0]===t&&n[1]&&s.push(n[1]);return s}var n=require("user"),r="sk";n.onceState(n.STATE_READY,function(){t.ajaxPrefilter(function(t){var i=(t.url||"").split("?"),s=i[0],a=i[1]||"",o="string"==typeof t.data?t.data:"",c=e(r,(a?a+"&":"")+o);(1!==c.length||"GET"!==t.type&&"get"!==t.type&&"POST"!==t.type&&"post"!==t.type)&&(c=c.length?c[0]:n.sk,o=o.replace(/&sk=[^&]*(?=&|$)/g,"").replace(/^sk=[^&]*&/,""),a=a.replace(/&sk=[^&]*(?=&|$)/g,"").replace(/^sk=[^&]*&/,""),a+=a?"&"+r+"="+c:r+"="+c,"string"==typeof t.data&&(t.data=o),t.url=s+(a?"?"+a:""))})})}(jQuery),require.define("comparisonLists",function(t,e,n,r,i){var s=n("comparison");t.exports=s()}),require.define("comparison",function(t,e,n,r,i){function s(){var t=$.cookie(m)||v;if(!a())return!1;switch(t){case v:return $.cookie(m,y),!0;case y:return!0;case g:return!0;case b:return o(),!1;default:return $.cookie(m,g),!0}}function a(){var t=p.getCollection();return t.length>0}function o(){var t=p.STORAGE_ITEM,e=localStorage.getItem(t);try{localStorage.setItem(_,e)}catch(t){}localStorage.removeItem(t),$.removeCookie(m)}function c(){var t=location.href,e=/\/compare(\/)?(\?.*)?$/.test(t);e&&(location.href="/my/compare-lists")}var l=n("lodash"),u=n("metrika"),d=n("user"),p=n("ComparisonLocalStorage"),h=n("ComparisonRemote"),f=$.Deferred();d.onState(d.STATE_READY,function(){f.resolve(!0)});var _="cmp-new-backup",m="cmp-new",v=0,y=1,b=2,g=3;t.exports=function(){var t,e=$.Deferred(),n=window.state&&window.state.comparison;return s()?$.when(f).then(function(){$.ajax({url:"/api/comparison/convert",type:"POST",contentType:"application/json",data:localStorage.getItem(p.STORAGE_ITEM),dataType:"json",timeout:2e3}).done(function(n){n.status?(u.emitGoalPoint({comparisonSuccessMigration:""}),$.cookie(m,b),o(),t=new h,t.getCollection({force:!0}).always(function(){e.resolve(t)})):($.cookie(m,g),c(),e.resolve(new p))}).fail(function(){$.cookie(m,g),c(),e.resolve(new p)})},function(){e.resolve(new p)}):l.isArray(n)?e.resolve(new h(n)):(t=new h,t.getCollection({force:!0}).always(function(){e.resolve(t)})),e.promise()}}),require.define("ComparisonRemote",function(t,e,n,r,i){function s(t){l.call(this),this.list=o.isArray(t)?t:void 0}function a(t){return o.map(t,function(t){return{hid:t.categoryId,ids:o.map(t.items,"productId")}})}var o=n("lodash"),c=n("util"),l=n("EventEmitter"),u=n("router"),d=3500;c.inherits(s,l),s.prototype.EVENT_UPDATE="update",s.prototype.getCount=function(){var t=$.Deferred();return o.isArray(this.list)?t.resolve(this.list.length):$.ajax({url:u.buildURL("api:comparison-categories-count"),type:"GET",dataType:"json",timeout:d}).done(function(e){var n=e.status&&e.data&&e.data.count||0;t.resolve(n)}).fail(function(){t.resolve(0)}),t.promise()},s.prototype.getCollection=function(t){var e=this,n=t||{},r=$.Deferred();if(!n.force&&o.isArray(this.list)){var i=n.oldFormat?a(this.list):this.list;r.resolve(i)}else $.ajax({url:u.buildURL("api:comparison-get"),type:"GET",dataType:"json",timeout:d}).done(function(t){if(t.status&&t.data){e.list=t.data||e.list;var i=n.oldFormat?a(e.list):e.list;r.resolve(i)}else r.resolve([])}).fail(function(){r.resolve([])});return r.promise()},s.prototype.add=function(t,e){e=o.castArray(e);var n=this;return this.getCollection().then(function(n){var r=o.find(n,{categoryId:String(t)});if(r){var i=o.map(r.items,"productId"),s=o.difference(e,i);s.forEach(function(t){r.items.push({productId:t})})}else n.push({categoryId:String(t),items:o.map(e,function(t){return{productId:t}})});return n}).then(function(r){var i=$.Deferred();return n._add(t,e).then(function(t){t.status?(n.emit(n.EVENT_UPDATE,r),i.resolve(r)):i.reject()},function(){i.reject()}),i.promise()})},s.prototype.update=function(t,e){e=o.castArray(e);var n=this;return this.getCollection().then(function(r){var i=$.Deferred(),s=o.find(r,{categoryId:String(t)});return s?(s.items=o.map(e,function(t){return{productId:t}}),n._update(t,e).done(function(t){t.status?(n.emit(n.EVENT_UPDATE,r),i.resolve(r)):i.reject()}).fail(function(){i.reject()})):i.reject(),i.promise()})},s.prototype.remove=function(t,e){o.isArray(e)&&(e=e[0]);var n=this;return this.getCollection().then(function(n){var r=o.find(n,{categoryId:String(t)});return r&&(r.items=o.reject(r.items,function(t){return t.productId===e}),0===r.items.length&&(n=o.reject(n,{categoryId:String(t)}))),n}).then(function(t){var r=$.Deferred();return n._remove(e).then(function(e){e.status?(n.emit(n.EVENT_UPDATE,t),r.resolve(t)):r.reject()},function(){r.reject()}),r.promise()})},s.prototype.deleteCategory=function(t){var e=this;return this.getCollection().then(function(n){var r=$.Deferred();return e._deleteCategory(t).done(function(i){if(i.status===!1)return r.reject();var s=o.reject(n,{categoryId:String(t)});e.emit(e.EVENT_UPDATE,s),r.resolve(s)}).fail(function(){r.reject()}),r.promise()})},s.prototype.getCategories=function(){return this.getCollection().then(function(t){return o.map(t,"categoryId")})},s.prototype.getCategoryModels=function(t,e){return this.getCollection(e).then(function(e){var n=o.find(e,{categoryId:t});return n?o.map(n.items,"productId"):[]})},s.prototype.isInList=function(t,e){return this.getCategoryModels(t).then(function(t){return t.indexOf(e)>=0})},s.prototype._add=function(t,e){var n=o.map(e,function(e){return{categoryId:t,productId:e}});return $.ajax({url:u.buildURL("api:comparison-add-product"),type:"POST",contentType:"application/json",data:JSON.stringify(n),dataType:"json",timeout:d,context:this}).done(this._invalidateCache)},s.prototype._update=function(t,e){var n={items:e,comparisonAccess:window.state&&window.state.comparisonAccess};return $.ajax({url:u.buildURL("api:comparison-update-category",{categoryId:t}),type:"PUT",contentType:"application/json",data:JSON.stringify(n),dataType:"json",timeout:d,context:this}).done(this._invalidateCache)},s.prototype._remove=function(t){return $.ajax({url:u.buildURL("api:comparison-delete-product",{productId:t}),type:"DELETE",contentType:"application/json",data:JSON.stringify({comparisonAccess:window.state&&window.state.comparisonAccess}),dataType:"json",timeout:d,context:this}).done(this._invalidateCache)},s.prototype._deleteCategory=function(t){return $.ajax({url:u.buildURL("api:comparison-delete-category",{categoryId:t}),type:"DELETE",contentType:"application/json",data:JSON.stringify({comparisonAccess:window.state&&window.state.comparisonAccess}),dataType:"json",timeout:d,context:this}).done(this._invalidateCache)},s.prototype._invalidateCache=function(t){t.status&&this.getCollection({force:!0})},t.exports=s}),require.define("ComparisonLocalStorage",function(t,e,n,r,i){function s(){c.call(this)}var a=n("lodash"),o=n("util"),c=n("EventEmitter");o.inherits(s,c);var l="comparison-lists",u=10,d=20;s.STORAGE_ITEM=l,s.getCollection=function(){var t=localStorage.getItem(l)||"[]";try{return JSON.parse(t)}catch(t){"function"==typeof this.clear&&this.clear()}return[]},s.prototype.EVENT_UPDATE="update",s.prototype.add=function(t,e){var n,r=this.getCollection(),i=a.find(r,{hid:t});return i?(n=a.union(i.ids,e),n.length>d&&(n=n.splice(n.length-d)),i.ids=n):r.push({hid:t,ids:e}),r.length>u&&(r=r.splice(r.length-u)),localStorage.setItem(l,JSON.stringify(r)),this.emit(this.EVENT_UPDATE,r),r},s.prototype.remove=function(t,e){var n,r=this.getCollection(),i=a.find(r,{hid:t}),s=this.getCategoryModels(t);if(!i)return r;for(var o=0,c=e.length;o<c;o++)s=a.without(s,e[o]);return i.ids=s,i&&0===i.ids.length&&(n=r.indexOf(i),r.splice(n,1)),localStorage.setItem(l,JSON.stringify(r)),this.emit(this.EVENT_UPDATE,r),r},s.prototype.deleteCategory=function(t){var e=this.getCollection();return e=a.reject(e,{hid:t}),localStorage.setItem(l,JSON.stringify(e)),this.emit(this.EVENT_UPDATE,e),e},s.prototype.clear=function(){localStorage.removeItem(l),this.emit(this.EVENT_UPDATE,this.getCollection())},s.prototype.getCollection=s.getCollection,s.prototype.getCategories=function(){var t=this.getCollection();return a.map(t,"hid")},s.prototype.getCategory=function(t){var e=this.getCollection();return a.find(e,{hid:t})},s.prototype.getCategoryModels=function(t){var e=this.getCategory(t);return e?e.ids:[]},s.prototype.update=function(t,e){return null},s.prototype.isInList=function(t,e){var n=this.getCategoryModels(t);return n.indexOf(e)>=0},s.prototype.getCount=function(){var t=this.getCollection();return t.length},t.exports=s}),function(){var t={blockName:"user-lists_type_compare",listName:"compare",delim:"&CMD=-CMP="},e=require("comparisonLists");BEM.DOM.decl({block:t.blockName,baseBlock:"user-lists"},{onSetMod:{js:{inited:function(){this.__base(),this._setDefaultParams(t);var n=this.params.hid,r=this.params.id;e.then(function(t){return t.isInList(n,r)}).then(this._toggleInListStatus.bind(this)),this.params.hasOwnProperty("compareList")&&(this._currentListCount=this.params.compareList.count),BEM.channel("market").on("list-bulk-compare-change",this._highlightIfInlist,this)}},"in-list":{yes:function(){this.domElem.data("title",BEM.I18N(t.blockName,"textRemove"))},no:function(){this.domElem.data("title",BEM.I18N(t.blockName,"textAdd"))}}},_highlightIfInlist:function(t,e){if(!this.domElem)return void BEM.channel("market").un("list-bulk-compare-change",this._highlightIfInlist,this);var n=e.modelid.split(",");n.indexOf(this.params.id)!==-1&&this.setMod("in-list","yes")},compareAction:function(t){var n=this,r=this._buildGateParams(),i=r.id.split(","),s=r.hid;r&&e.then(function(e){return $.when(t,$.when(e[t](s,i)).then(function(){return e.getCategoryModels(s)}),n._toggleInListStatus())}).done(this._onActionSuccess.bind(this)).fail(this._onActionError.bind(this,t))},_onActionSuccess:function(t,e){this._responseHandler(t,{data:{count:e.length,ids:e.join()},success:!0})},_onActionError:function(t){this._toggleInListStatus(),this._onErrorPopup(t)},_toggleInListStatus:function(t){var e=arguments.length>0?t:this.hasMod("in-list","no");e?this.setMod("in-list","yes"):this.setMod("in-list","no")},_changeListCount:function(t){this._currentListCount=Number(t.data.count)},_buildPageUrl:function(t){return this.params.link},_buildTitle:function(t){return BEM.I18N(this.params.blockName,t+"Title",{name:this.params.name})},_buildControls:function(t){var e=this.__base.apply(this,t);return t&&this._currentListCount?e.url=this._buildPageUrl(t):e.mods.disabled="yes",e}})}(),BEM.DOM.decl({block:"product-action-compare",baseBlock:"user-lists_type_compare"},{onSetMod:{js:{inited:function(){this.__base(),this.bindTo("pointerclick",this._onClick)}}},_onClick:function(t){this.afterCurrentEvent(function(){this.hasMod("in-list","yes")?this.compareAction("remove"):($(document).trigger("COMPARE_CLICK"),this.compareAction("add"))},this)}}),BEM.DOM.decl("share-dropdown",{updateLink:function(t,e){var n=this.findBlockInside(this.elem("share-item","service",t),"link");return this._updateLink(n,e),this},updateLinks:function(t){var e=this;this.findBlocksInside("link").forEach(function(n){e._updateLink(n,t)})},_updateLink:function(t,e){var n=t.domElem;e=e||{};var r=e.description?e.description:$("meta[name=description]").attr("content")||"";n.attr("href","//share.yandex.ru/go.xml?service="+n.attr("data-service")+"&url="+encodeURIComponent(void 0!==e.url?e.url:window.location.href)+"&title="+encodeURIComponent(e.title?e.title:document.title)+(e.image?"&image="+encodeURIComponent(e.image):"")+"&description="+encodeURIComponent(r))}},{live:!0}),BEM.DOM.decl("dropdown",{onSetMod:{js:{inited:function(){var t=this,e=t.params,n=t.findBlockOn(t.elem(e.popupElem),"popup");t._popup=n,n.on("show",t._onPopupShow,t).on("hide",t._onPopupHide,t),e.popupMethods.forEach(function(e){t[e]=n[e].bind(n)}),t.elem("switcher").attr({"aria-haspopup":!0,"aria-expanded":!1})}},action:function(t,e){var n="open"===e;this.elem("switcher").attr("aria-expanded",n),this._getButton()&&this._getButton().toggleMod("arrow","up","down",n)}},getPopup:function(){return this._popup},_getButton:function(){return this._button||(this._button=this.findBlockInside("switcher","button")),this._button},_toggle:function(){var t=["button","link"].some(function(t){var e=this.findBlockOn("switcher",t);return e&&e.hasMod("disabled")},this);t&&!this._popup.isShown()||this._popup.toggle(this.elem("switcher"))},_onSwitcherClick:function(){this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase(),n=BEM.blocks.keycodes;"button"!==e&&("a"!==e&&t.keyCode===n.ENTER||t.keyCode===n.SPACE)&&(t.preventDefault(),this._toggle())}},_onPopupShow:function(){this.setMod("action","open").trigger("show")},_onPopupHide:function(){this.setMod("action","closed").trigger("hide")},destruct:function(){this._popup.un("show",this._onPopupShow,this).un("hide",this._onPopupHide,this),this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}}},{live:function(){this.liveBindTo("switcher","pointerclick",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,r){if("disabled"===r)return!1;var i=this.elem("item","state","current");this.delMod(i,"state").trigger("current",{prev:i,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","pointerclick",function(t){this.onItemSelectorClick(t)})}}),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"}),function(){var t=require("metrika"),e=t.marketCounterID,n={COMPARE_CLICK:"CMPR_MC",SHARE_CLICK:"SHR_MC_CLCK"};for(var r in n)!function(r){$(document).on(r,function(i,s){var a=s&&s.position,o=n[r][a]?n[r][a]:n[r];t.reachGoal(o,e)})}(r)}(),require.define("underscore",function(t,e,n,r,i){t.exports=n("lodash")}),require.define("backbone",function(t,e,n,r,i){!function(t){var r="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,n,i){r.Backbone=t(r,i,e,n)});else if("undefined"!=typeof e){var s,a=n("underscore");try{s=n("jquery")}catch(t){}t(r,e,a,s)}else r.Backbone=t(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,n,r){var i=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],c(t,this),i)};case 4:return function(t,i,s){return n[e](this[r],c(t,this),i,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},o=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},c=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},d=/\s+/,p=function(t,e,r,i,s){var a,o=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(a=n.keys(r);o<a.length;o++)e=p(t,e,a[o],r[a[o]],s)}else if(r&&d.test(r))for(a=r.split(d);o<a.length;o++)e=t(e,a[o],i,s);else e=t(e,r,i,s);return e};u.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,r,i){if(t._events=p(f,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var s=t._listeners||(t._listeners={});s[i.id]=i}return t};u.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=s[i];if(!a){var o=this._listenId||(this._listenId=n.uniqueId("l"));a=s[i]={obj:t,objId:i,id:o,listeningTo:s,count:0}}return h(t,e,r,this,a),this};var f=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,a=r.ctx,o=r.listening;o&&o.count++,i.push({callback:n,context:s,ctx:s||a,listening:o})}return t};u.off=function(t,e,n){return this._events?(this._events=p(_,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),a=0;a<s.length;a++){var o=i[s[a]];if(!o)break;o.obj.off(e,r,this)}return this};var _=function(t,e,r,i){if(t){var s,a=0,o=i.context,c=i.listeners;if(e||r||o){for(var l=e?[e]:n.keys(t);a<l.length;a++){e=l[a];var u=t[e];if(!u)break;for(var d=[],p=0;p<u.length;p++){var h=u[p];r&&r!==h.callback&&r!==h.callback._callback||o&&o!==h.context?d.push(h):(s=h.listening,s&&0===--s.count&&(delete c[s.id],delete s.listeningTo[s.objId]))}d.length?t[e]=d:delete t[e]}return t}for(var f=n.keys(c);a<f.length;a++)s=c[f[a]],delete c[s.id],delete s.listeningTo[s.objId]}};u.once=function(t,e,r){var i=p(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},u.listenToOnce=function(t,e,r){var i=p(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var s=t[e]=n.once(function(){i(e,s),r.apply(this,arguments)});s._callback=r}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return p(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,a,o);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,a=r.silent,o=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});
var l=this.attributes,u=this.changed,d=this._previousAttributes;for(var p in i)e=i[p],n.isEqual(l[p],e)||o.push(p),n.isEqual(d[p],e)?delete u[p]:u[p]=e,s?delete l[p]:l[p]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=r);for(var h=0;h<o.length;h++)this.trigger("change:"+o[h],this,l[o[h]],r)}if(c)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var s=t[i];n.isEqual(e[i],s)||(r[i]=s)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return!!e.set(i,t)&&(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},z(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,o=r.success,c=this.attributes;r.success=function(t){a.attributes=c;var e=r.parse?a.parse(t,r):t;return s&&(e=n.extend({},i,e)),!(e&&!a.set(e,r))&&(o&&o.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},z(this,r),i&&s&&(this.attributes=n.extend({},c,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var u=this.sync(l,this,r);return this.attributes=c,u},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(z(this,t),a=this.sync("delete",this,t)),i||s(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var g={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(b,g,"attributes");var k=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),s=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<s;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+s+n]=i[r]};n.extend(k.prototype,u,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,E))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var s,a,o=[],c=[],l=[],u=[],d={},p=e.add,h=e.merge,f=e.remove,_=!1,m=this.comparator&&null==i&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){s=t[a];var y=this.get(s);if(y){if(h&&s!==y){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=y.parse(b,e)),y.set(b,e),l.push(y),m&&!_&&(_=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,o.push(y)),t[a]=y}else p&&(s=t[a]=this._prepareModel(s,e),s&&(c.push(s),this._addReference(s,e),d[s.cid]=!0,o.push(s)))}if(f){for(a=0;a<this.length;a++)s=this.models[a],d[s.cid]||u.push(s);u.length&&this._removeModels(u,e)}var g=!1,k=!m&&p&&f;if(o.length&&k?(g=this.length!==o.length||n.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,x(this.models,o,0),this.length=this.models.length):c.length&&(m&&(_=!0),x(this.models,c,null==i?this.length:i),this.length=this.models.length),_&&this.sort({silent:!0}),!e.silent){for(a=0;a<c.length;a++)null!=i&&(e.index=i+a),s=c[a],s.trigger("add",s,this,e);(_||g)&&this.trigger("sort",this,e),(c.length||u.length||l.length)&&(e.changes={added:c,removed:u,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var M={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(k,M,"models");var A=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(A.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(T);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var s=S[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||U()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){a.type="POST",i.emulateJSON&&(a.data._method=s);var o=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),o)return o.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var c=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,c&&c.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,P=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,u,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,function(n){var a=s._extractParameters(t,n);s.execute(i,a,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(a)),s.trigger("route",r,a),e.history.trigger("route",s,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(B,"\\$&").replace(O,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var D=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,L=/#.*$/;D.started=!1,n.extend(D.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!D.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(L,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new D;var F=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=k.extend=I.extend=A.extend=D.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),t.exports.$=n("jquery")}),require.define("backbone-local-storage",function(t,e,n,r,i){function s(t){return JSON.parse(JSON.stringify(t))}function a(t){return t.emulateHTTP&&t.data._method?t.data._method:t.type}function o(){return String(Math.floor(1e4*Math.random()))+String(Date.now())}function c(t){var e=l(t);if(!h[e]){var n=window.localStorage.getItem(e);if(n)var r=JSON.parse(n);r?h[e]=new p.Collection(r):h[e]=new p.Collection}var i=h[e];return i.sync=function(){window.localStorage.setItem(e,JSON.stringify(i.toJSON())),window.localStorage.setItem(e+"-last-modified",(new Date).toUTCString())},i.actualize=function(){i.reset(JSON.parse(window.localStorage.getItem(e)))},i}function l(t){var e=t.split("/");return"api"===e[1]?e[2]:e[1]}function u(t){var e=t.split("/");return"api"===e[1]?e[3]:e[2]}function d(t){var e,n=a(t),r=t.url,i=u(r);t.data&&(e=JSON.parse(t.data));var l=c(r);switch(n){case"GET":l.actualize(),t.success(i?l.get(i).toJSON():l.toJSON(),null);break;case"POST":var d=s(e);d.id||(d.id=o()),l.add(d),l.sync(),t.success(s(d));break;case"PUT":case"PATCH":var p=l.get(i);for(var h in e)p.set(h,e[h]);l.sync(),t.success(p);break;case"DELETE":l.remove(l.get(i)),l.sync(),t.success(null)}}var p=n("backbone");Date.now=Date.now||function(){return+new Date};var h=[];t.exports=function(){var t=p.ajax;p.ajax=function(e){return e&&"local"===e.storage?d(e):t(e)}}}),require.define("backbone-sync-unwrapData",function(t,e,n,r,i){var s=n("backbone");t.exports=function(){var t=s.ajax;s.ajax=function(e){var n=e.success;return e&&e.unwrapData===!0&&(e.success=function(t){var r=Array.prototype.slice.call(arguments,1);r.unshift(t&&t.data),t&&t.status===!0?n&&n.apply(e.context,r):e.error&&e.error.apply(e.context,r)}),t(e)}}}),require.define("backbone-sync",function(t,e,n,r,i){function s(t,e){return function(n,r,i){var s=l.assignIn({},i,e);return t.call(this,n,r,s)}}function a(t){return s(t,{emulateHTTP:!0,emulateJSON:!0})}function o(t){return s(t,{storage:"local"})}function c(t){return s(t,{unwrapData:!0})}var l=n("lodash");t.exports={decorateWithParams:s,decorateWithUnwrapData:c,decorateWithEmulation:a,decorateWithLocalstorage:o},n("backbone-local-storage")(),n("backbone-sync-unwrapData")()}),require.define("collectionWishlist",function(t,e,n,r,i){var s=n("backbone"),a=n("backbone-sync"),o=n("lodash"),c=n("user"),l=function(t,e,n){var r=n.success;return n.success=function(t,e,n){var i="";n&&(i=n.getResponseHeader("Last-Modified")),i&&localStorage.setItem("wishlist-last-modified",i),r&&r(t,e,n)},s.sync.apply(this,[t,e,n])};l=c.isAuth?a.decorateWithUnwrapData(l):a.decorateWithLocalstorage(l);var u=s.Model.extend({urlRoot:"/api/wishlist",defaults:{itemId:"",hid:"",type:"",modelId:"",tags:[],invisible:!1,selected:!1,readyForDestroy:!1},isVisible:function(){return!this.attributes.invisible&&!this.attributes.readyForDestroy},addTag:function(t){if(!this.hasTag(t)){var e=o.union(this.get("tags"),[t]);this.save({tags:e},{patch:!0})}},removeTag:function(t){if(this.hasTag(t)){var e=o.without(this.get("tags"),t);this.save({tags:e},{patch:!0})}},hasTag:function(t){return this.get("tags").indexOf(t)>=0},sync:l}),d=s.Collection.extend({url:"/api/wishlist",model:u,sync:l,getAllTags:function(){return o.uniq(o.flattenDeep(this.pluck("tags")))},getAllCategories:function(){return o.uniq(this.pluck("hid"))},markAllWithoutTagAsInvisible:function(t){this.forEach(function(e){e.get("tags").indexOf(t)>=0?e.set("invisible",!1):e.set("invisible",!0)})},markAllNotInCategoryAsInvisible:function(t){this.forEach(function(e){e.get("hid")==t?e.set("invisible",!1):e.set("invisible",!0)})},unmarkAllAsInvisible:function(){this.forEach(function(t){t.set("invisible",!1)})}});t.exports=d}),require.define("collectionTags",function(t,e,n,r,i){var s=n("backbone"),a=n("backbone-sync"),o=n("user"),c=s.sync;c=o.isAuth?a.decorateWithUnwrapData(c):a.decorateWithLocalstorage(c);var l=s.Model.extend({urlRoot:"/api/tags",sync:c}),u=s.Collection.extend({url:"/api/tags",model:l,comparator:"displayName",sync:c});t.exports=u}),require.define("tags",function(t,e,n,r,i){var s,a=n("collectionTags"),o=n("Response"),c=n("teleport"),l=new a,u=c.get("WishlistTags");l.asyncRequire=new o;try{s=JSON.parse(window.localStorage.getItem("tags"))}catch(t){s=[]}u&&u.length?l.reset(u):s&&s.length&&l.reset(s),l.asyncRequire.resolve(l),t.exports=l}),require.define("userWishlist",function(t,e,n,r,i){function s(t,e){if(!_.asyncRequire.isResolved()){var n=e||{};t&&t.length&&_.reset(t,f.omit(n,"count")),_.count=n.count||_.length,_.asyncRequire.resolve(_)}}function a(t,e){return $.ajax({type:"POST",url:"/api/wishlist/merge",dataType:"json",data:{model:t.model,tags:t.tags},headers:{Accept:"application/json"},success:e,error:l})}function o(t){return $.ajax({type:"GET",url:"/api/wishlist/count",success:t})}function c(t){var e=t;return function(t){"wishlist-last-modified"===t.key&&t.oldValue!==t.newValue&&--e>0&&_.fetch({success:function(){s(null,{count:_.length})}})}}function l(){_.asyncRequire.reject()}var u=n("collectionWishlist"),d=n("user"),p=n("Response"),h=n("tags"),f=n("lodash"),_=new u;_.asyncRequire=new p;var m="wishlist",v="tags",y=window.localStorage.getItem(v),b=window.localStorage.getItem(m),g=b&&JSON.parse(b),k=window.state.wishlist,w=c(10);d.isAuth?g&&g.length?k&&0===k.length?s(g):a({model:b,tags:y},function(t){t.status===!0?(_.isMerged=!0,s(t.data?t.data.wishlist:[]),t.data&&t.data.tags&&(h.reset(t.data.tags),h.asyncRequire.resolve(h)),window.localStorage.removeItem(m),window.localStorage.removeItem(v)):l()}):k?s(k,{silent:!0}):o(function(t){s(null,{count:t.data?t.data.count:0})}):s(g),window.addEventListener?window.addEventListener("storage",w):document.attachEvent&&document.attachEvent("onstorage",w),h.on("destroy",function(t){_.each(function(e){e.removeTag(t.id)})}),t.exports=_}),function(){var t=require("userWishlist");BEM.DOM.decl("wishlist-control",{onSetMod:{js:{inited:function(){t.asyncRequire.onResolve(this._initBlock,this)}}},_initBlock:function(){this.userWishlist=t,this.item={itemId:this.params.item.itemId,hid:this.params.item.hid,type:this.params.item.type,displayName:this.params.item.displayName,modelId:"offer"===this.params.item.type?this.params.item.modelId:""},this.checkbox=this.findBlockOn("pseudo-checkbox"),this.hint=this.findBlockOn("hint"),this.actualizeControl(),this.findBlockOn("pseudo-checkbox").on("change",this.actualizeCollection,this),this.userWishlist.on("add remove",function(){this.actualizeControl()},this)},getModel:function(){return this.userWishlist.findWhere({type:this.item.type,itemId:this.item.itemId})},destruct:function(){return this.userWishlist&&this.userWishlist.off(null,null,this),this.__base.apply(this,arguments)}})}(),function(){BEM.DOM.decl("pseudo-checkbox",{onSetMod:{js:{inited:function(){this.domElem.on("click",this._onClick.bind(this)),this.domElem.on("mouseover mouseout",this._onMouseOverMouseOut.bind(this))}}},isChecked:function(){return this.hasMod("checked","yes")},_onClick:function(t){t.preventDefault(),this._toggle(),this.trigger("pointerclick  ")},_toggle:function(){this.isChecked()?this.delMod("checked"):this.setMod("checked","yes"),this.trigger("change")},_onMouseOverMouseOut:function(t){this.setMod("hovered","mouseover"===t.type?"yes":"")}})}(),function(){var t=require("metrika");BEM.DOM.decl({block:"wishlist-control",modName:"type",modVal:"toggle"},{actualizeCollection:function(){var e=this.getModel();e?(e.destroy(),BEM.blocks["popup-informer"]&&this.afterCurrentEvent(function(){var t={title:BEM.I18N("w-wishlist-control_type_toggle","removeTitle",{name:this.item.displayName}),details:BEM.I18N("w-wishlist-control_type_toggle","details",{count:this.userWishlist.length})};this.params.image&&this.params.image.url&&(t.image={url:this.params.image.url}),BEM.blocks["popup-informer"].create(t)})):(this.userWishlist.create(this.item),t.emitGoalPoint({wishlist:{action:"addToWishlist"}}),BEM.blocks["popup-informer"]&&this.afterCurrentEvent(function(){var e,n={title:BEM.I18N("w-wishlist-control_type_toggle","addTitle",{name:this.item.displayName}),details:BEM.I18N("w-wishlist-control_type_toggle","details",{count:this.userWishlist.length}),controls:{block:"button",url:"/my/wishlist?track=rmmbr",mods:{theme:"normal",size:"m"},content:BEM.I18N("w-wishlist-control_type_toggle","goToWishlistButtonText")}};this.params.image&&this.params.image.url&&(n.image={url:this.params.image.url}),e=BEM.blocks["popup-informer"].create(n),e.findBlockInside("button").on("release",function(){t.emitGoalPoint({wishlist:{action:"goToPersonal"}})})}))},actualizeControl:function(){this.getModel()?(this.checkbox.setMod("checked","yes"),this.hint&&this.hint.setContent&&this.hint.setContent("Удалить из отложенных")):(this.checkbox.delMod("checked"),this.hint&&this.hint.setContent&&this.hint.setContent("Добавить в отложенные"))}})}(),BEM.DOM.decl({block:"wishlist-control",modName:"type",modVal:"remove"},{actualizeCollection:function(){var t=this.getModel();t&&(t.set("readyForDestroy",!0),this.checkbox.delMod("checked"))},actualizeControl:function(){}}),require.define("env",function(t,e,n,r,i){function s(t){t=t||new Function("return this")();var e=o.parse(t.location.href);return this.global=t,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.port=e.port,this.hostname=e.hostname,this.hash=e.hash,this.search=e.query,this.query=e.query,this.pathname=e.pathname,this.path=e.path,this.pass=e.pass,this.user=e.user,this.auth=e.auth,this.params=l.parse(this.query),this.Env=s,this}var a=n("EventEmitter"),o=n("url"),c=n("util"),l=n("querystring"),u=new Function("return this.top")();s.top=function(){return new s(u)},s.isTop=function(t){return t===u.Env},s.current=function(){return new s},c.inherits(s,a),s.prototype.EVENT_MESSAGE="message",s.prototype.EVENT_RELOAD="reload",s.prototype.EVENT_REPLACE="replace",s.prototype.window=null,s.prototype.href="",s.prototype.protocol="",s.prototype.host="",s.prototype.port="",s.prototype.hostname="",s.prototype.hash="",s.prototype.search="",s.prototype.query="",s.prototype.pathname="",s.prototype.pass="",s.prototype.user="",s.prototype.auth=null,s.prototype.Env=null,s.prototype.params={},s.prototype.getParam=function(t){return this.params[t]},s.prototype.reload=function(){return this.emit(this.EVENT_RELOAD),this.global.location.reload(),this},s.prototype.replaceUrl=function(t){return this.emit(this.EVENT_REPLACE,t),this.global.location.replace(t),this},s.prototype.setUrl=function(t){this.emit(this.EVENT_REPLACE,t),this.global.location.href=t},s.prototype.postMessage=u.postMessage;var d=new s(i);t.exports=d}),function(){var t=require("env"),e=require("user"),n=require("metrika");BEM.DOM.decl("product-subscribe-button",{onSetMod:{js:{inited:function(){this._form=this.findBlockInside("product-subscribe"),this._button=this.findBlockInside("button"),this._buttonText=this._button.elem("text"),this._popup=this.findBlockInside({blockName:"popup",modName:"for",modVal:"product-subscribe"}),this._form&&this._form.on("subscribed",this._onSubscribe,this).on("subscribe",this._onUnSubscribe,this),this._button.on("click",this._onButtonClick,this),this._showOnReturn()}}},showPopup:function(t){if(this._form)switch(this._form.getMod("type")){case"stock":e.isAuth||n.emitGoalPoint({productSubscribe:"showStockPopup"});break;case"price":n.emitGoalPoint({productSubscribe:"showPricePopup"})}this._popup.show(t||this)},_showOnReturn:function(){t.getParam("showPopup")==this.params.modelid&&this.showPopup({top:300,left:450})},_onSubscribe:function(){this._buttonText.text(this.params.unsubscribeText),this.setMod("subscribed","yes")},_onUnSubscribe:function(){this._buttonText.text(this.params.subscribeText),this._popup.hide(),this.setMod("subscribed","")},_onButtonClick:function(){this.showPopup(),this._form&&e.isAuth&&this._form.hasMod("type","stock")&&this.hasMod("subscribed","")&&this._form.subscribe()}})}(),function(){function t(t){t&&t.status?this.resolve(t.data):this.reject("Что-то пошло не так. Попробуйте ещё раз.")}function e(){this.reject("Что-то пошло не так. Попробуйте ещё раз.")}var n=require("Response"),r=require("user"),i=require("querystring"),s=require("userWishlist"),a="product-subscribe";BEM.DOM.decl("product-subscribe",{onSetMod:{js:{inited:function(){this.model=null,this._preloader=this.findBlockOn("preloadable"),this._initBlock&&this._initBlock(),r.delegate(r,r.STATE_READY,"resolve"),new n.Queue([r,s.asyncRequire],!0).onResolve(this.create,this)}},action:{subscribe:function(){this.trigger("subscribe"),this.model&&(this.model.destroy(),this.model=null)},subscribed:function(){this.trigger("subscribed"),this.model||(this.model=s.create(this._buildModel()))},"*":function(t,e){this.rebuild(e)}},state:{"":function(){this._hideErrors(),this._preloader.hidePreloader()},sending:function(){this._preloader.showPreloader()},error:function(){this._preloader.hidePreloader()}}},create:function(){return this.model=s.findWhere(this._buildModel()),r.unDelegate(r,r.STATE_READY),this.params.currency=BEM.I18N("dictionary","currency-"+r.settings.currency),this.rebuild(this.params.subscription?"unsubscribe":"subscribe"),BEM.blocks.button.on(this.domElem,"click",this._onButtonClick.bind(this)),this},rebuild:function(t){var e=BEMHTML.apply(this._buildContent(t||this.getMod("action")));return BEM.DOM.update(this.domElem,$(e)),this},subscribe:function(){this._doAction("subscribed","add")},unsubscribe:function(){this._doAction("subscribe","remove")},_buildURL:function(t,e){return"/gate/route/subscription/"+t+"/?"+e},_buildModel:function(){return{type:"model",itemId:this.params.modelId,hid:this.params.hid}},_onButtonClick:function(t){var e=t.block;this._doAction(e.params.action,e.getMod("for"))},_doAction:function(t,e){this.hasMod("state","sending")||null==t||(e?this._postForm(e).onResolve(function(){this.setMod("action",t)},this).done():this.setMod("action",t))},_postForm:function(t){var e=this._buildQuery();return this.setMod("state","sending"),new n.Queue([e,this._buildParams,this._validateParams.bind(this),this._buildURL.bind(this,t,e),this._sendRequest.bind(this)]).strict().then(this._saveParams,this._showError,null,this).then(this._clearState,this._setError,null,this).start()},_buildQuery:function(){var t=this.domElem.serializeArray().map(function(t){return"price"==t.name&&(t.value=t.value.replace(/\s+/g,"")),t});return $.param(t)},_buildParams:function(t){return i.parse(t)},_validateParams:function(t){var e,r=this.constraints,i=[];if(!r)return n.resolve();for(var s in t)t.hasOwnProperty(s)&&r.hasOwnProperty(s)&&(e=r[s](t[s]),
e.setData(s).onReject(this._showManotice.bind(this,s)),i.push(e));return new n.Queue(i).strict().start().onReject(this._setError,this)},_sendRequest:function(r){var i=(new n).then(t,e);return $.ajax({type:"get",url:r,dataType:"json",timeout:"3000",cache:!1,context:i,success:i.resolve,error:i.reject}),i},_clearState:function(){this.setMod("state","")},_setError:function(t){this.setMod("state","error")},_saveParams:function(t,e,n,r,i){var s=i.getResult();this.params.subscription=s?s[0]:null},_showError:function(t,e){this.hasMod("state","error")||(e?this._showInputError(e,t.message):this._showInternalError(t.message))},_showInputError:function(t,e){var n=this.findBlockInside({blockName:"input",modName:"for",modVal:t});n&&n.findBlockOn("manotice").show("error",e)},_showInternalError:function(t){var e=this.findElem("error");if(e){var n=BEMHTML.apply(this._buildError(t));BEM.DOM.update(e,$(n)),this.setMod(e,"state","showed")}},_hideErrors:function(){var t=this.findBlocksInside("manotice"),e=t.length;for(this.findElem("error");e;)t[--e].hide()},_showManotice:function(t,e){this._showError(e,t)},_buildManotice:function(){return{block:"manotice",mods:{type:"popup"},js:{directions:{to:"right"},autoclosable:"yes",messageType:"error",message:"",mix:{block:"popup",mods:{nowrap:"yes"}}}}},_buildError:function(t){return{block:a,elem:"text",mods:{for:"error"},content:[{block:"image",mods:{name:"error"},alt:"#"},t]}},constraints:null},{constraints:{price:function(t){var e=t&&t.replace(/\s/g,"");return e?isNaN(e)||Number(e)<=0?n.reject("Цена должна быть положительным целым числом"):n.resolve():n.reject("Не забудьте указать цену")},email:function(t){return t?t.indexOf("@")===-1?n.reject("Неверный формат. Пример: example@yandex.ru"):n.resolve():n.reject("Не забудьте указать адрес почты")},userName:function(t){return t?n.resolve():n.reject("Пожалуйста, введите имя")}}})}(),BEM.DOM.decl({block:"select",modName:"mode",modeVal:"wide-popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this._getPopup();t.domElem.outerWidth(this.domElem.width())}}}}),BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this._items=[],this._curItemIndex=-1,this._scrollableElemOutsidePopup=null,this._rowHeight=22,this.on("change",this._redrawParentPopup);var t=this._getSelectedText();t&&t!==this._getButtonText()&&this.elem("control").trigger("change")}},disabled:function(t,e){this.elem("control").prop("disabled",e),this._getButton().setMod(t,e),e&&this.delMod("opened").delMod("focused")},focused:{yes:function(){return!this.hasMod("disabled")&&(this._useNativeControl()||this.bindTo("keydown",this._onKeyDown),void this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus")}))},"":function(){this._useNativeControl()||this.delMod("opened").unbindFrom("keydown"),this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur")})}},opened:function(t,e){this._getButton()&&this._getButton().domElem&&this._getButton().toggleMod("arrow","up","down",Boolean(e))}},isDisabled:function(){return this.hasMod("disabled","yes")},isOpened:function(){return this.hasMod("opened","yes")},open:function(){return this.setMod("opened","yes")},close:function(){return this.delMod("opened")},val:function(t,e){if("undefined"==typeof t)return this.elem("control").val();var n,r=-1;return this.findElem("option").each(function(e){this.value===t&&!this.disabled&&(n=$(this).parent("optgroup")[0],!(n&&n.disabled))&&(r=e)}),r>-1&&this._selectedIndex(r,e),this},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_selectedIndex:function(t,e){var n=this._getSelectedIndex();return"undefined"==typeof t||t===n?n:(this.elem("control").prop("selectedIndex",t),this._useNativeControl()||(this._setButtonText(this._getSelectedText()),this._items[0]&&this.delMod(this._items,"selected").setMod(this._items.eq(t),"selected","yes")),this.trigger("change",$.extend({index:t,prev:n},e)),t)},setOptions:function(t){return t?(BEM.DOM.update(this.elem("control"),BEMHTML.apply($.map(t,this.__self._buildOption))),this.redraw()):this},redraw:function(){return this._popup&&this._redrawList(),this.elem("control").trigger("change"),this},_useNativeControl:function(){return null!==this.__self.useNativeControl?this.__self.useNativeControl:this.__self.useNativeControl="none"!==this.elem("control").css("display")},_redrawParentPopup:function(){return this._isParentPopup()&&this._popup._parent.repaint(),this},_isParentPopup:function(){return this._popup&&this._popup._parent&&!this.hasMod("layout","fixed")},_onSelectChange:function(){var t=this;t._setButtonText(t._getSelectedText()),t.trigger("change",{index:t._getSelectedIndex(),prev:-1})},_onControlFocusInOut:function(t){this._useNativeControl()&&this.toggleMod("focused","yes","","focusin"===t.type)},_onMouseDown:function(t){this._isControlFocused()&&t.preventDefault()},_onKeyDown:function(t){var e=BEM.blocks.keycodes,n=t.keyCode===e.UP,r=t.keyCode===e.DOWN,i=t.keyCode===e.ENTER,s=t.keyCode===e.SPACE;if(n||r){if(t.preventDefault(),!this.isOpened())return this.open();var a=this._items.length,o=this._curItemIndex;if(n&&0===o||r&&o>a-2)return;if(a){var c,l=r?1:-1;for(c=o;c>=0&&c<=a;)if(c+=l,this._isSelectableItem(this._items.eq(c))){o=c;break}this._onEnterItem(this._items.eq(o),!0)}}(i||s)&&this._onEnterItem(this._items.eq(this._curItemIndex),!0,!0)},_onEnterItem:function(t,e,n){this.elem("button").attr("aria-activedescendant",t.attr("id"));var r=this._curItemIndex,i=this._getItemIndex(t),s=this._items;r>-1&&this.delMod(s.eq(r),"hovered"),i>-1&&(this._curItemIndex=i,this.setMod(s.eq(i),"hovered","yes")),n&&this._selectedIndex(this._curItemIndex),e&&this._scrollToCurrent()},_onLeaveItem:function(t){var e=this._curItemIndex;e>-1&&e===this._getItemIndex(t)&&(this.delMod(this._items.eq(e),"hovered")._curItemIndex=-1)},_onSelectItem:function(t){return this._isSelectableItem(t)&&this._selectedIndex(this._curItemIndex),this.close()},_onButtonFocus:function(){this.setMod("focused","yes")},_findScrollableElemOutsidePopup:function(){if(null===this._scrollableElemOutsidePopup){var t,e=this._getPopup().domElem;do e=e.parent(),t=e.css("overflow-y");while("scroll"!==t&&"auto"!==t&&"HTML"!==e.prop("tagName"));this._scrollableElemOutsidePopup=e}return this._scrollableElemOutsidePopup},_onButtonBlur:function(){if(this.isOpened()&&this._isPopupFocused())if(8===BEM.blocks["i-ua"].ie){var t=this._findScrollableElemOutsidePopup(),e=t.scrollTop();this._focusButton(),t.scrollTop(e)}else this._focusButton();else this.delMod("focused")},_onButtonPress:function(){this.toggleMod("opened","yes","")},_focusButton:function(){return this._getButton().setMod("focused","yes"),this},_blurButton:function(){return this._getButton().delMod("focused"),this},_isPopupFocused:function(){try{return this._getPopup().containsDomElem($(document.activeElement))}catch(t){return!1}},_getButtonText:function(){return this._getButton().elem("text").text()},_setButtonText:function(t){t.length&&(this._getButton().elem("text").text(t),BEM.blocks["i-ua"].ie<10&&this.domElem.parent().css("outline",""))},_isOutsideClicked:function(t,e){return this.containsDomElem($(e.target))},_getItemIndex:function(t){return $.inArray(t.get(0),this._items)},_getSelectedText:function(){return this.elem("control").find(":selected").text()},_getSelectedIndex:function(){return this.elem("control").prop("selectedIndex")},_isSelectableItem:function(t){var e;return e=!this.hasMod(t,"disabled","yes")&&!this.hasMod(t,"label","yes")},_getButton:function(){return this._button||(this._button=this.findBlockOn("button","button"))},_getRowHeight:function(){return this.findElem(this._getPopup().domElem,"item").outerHeight()},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},destruct:function(){this._outPopup&&this._outPopup.un("outside-click"),this.delMod("opened"),this._popup&&this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{rows:15,popupMods:{direction:"down"}}}},{live:function(){this.liveBindTo("control","change",function(t){this._onSelectChange()}),this.liveBindTo("control","focusin focusout",function(t){this._onControlFocusInOut(t)}),this.liveBindTo("mousedown",function(t){this._onMouseDown(t)}),this.liveInitOnBlockInsideEvent("focus","button",function(){this._onButtonFocus()}).liveInitOnBlockInsideEvent("blur","button",function(){this._onButtonBlur()})},useNativeControl:null,_buildOption:function t(e,n,r){var i={};return"option"===e.item?(i={block:"select",elem:"option",tag:"option",attrs:{value:e.value},content:e.content},e.disabled&&(i.attrs.disabled="disabled"),e.selected&&(i.attrs.selected="selected")):"optgroup"===e.item&&(i={elem:"option-group",tag:"optgroup",attrs:{label:e.label}},e.disabled&&(i.attrs.disabled="disabled"),i.content=Array.isArray(e.content)?e.content.map(t):e.content),i.block="select",i}}),BEM.DOM.decl("select",{onElemSetMod:{item:{hovered:function(){BEM.blocks["i-ua"].opera<13&&this._popup.domElem.css("display","inline").css("display","")}}}},{live:function(){return this.liveInitOnBlockInsideEvent("press","button",function(){this._onButtonPress()}),this.__base.apply(this,arguments)}}),BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._footer=null,this.params.footer&&this.setFooter(this.params.footer)}},opened:function(t,e){this.__base.apply(this,arguments),"yes"===e&&this.trigger("open")}},setFooter:function(t){return this._footer=t,this.redraw()},_setButtonText:function(t){var e=t;this.params.buttonTitle&&(e=this.params.buttonTitle+" "+t),this.__base.apply(this,[e])}}),BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._initButton()}}},_initButton:function(){},_redrawList:function(){var t,e=this,n=this._getPopup().domElem;return BEM.DOM.update(this.findElem(n,"list"),this.__self._buildItemsHtml(this.elem("control").children())),t=this.findElem(n,"item"),this._curItemIndex=-1,this._items=t.filter(function(){return!e.hasMod($(this),"label","yes")}),this.bindTo(e._items,{pointerclick:function(t){t.preventDefault(),e._onSelectItem(t.data.domElem)},pointerover:function(t){e._onEnterItem(t.data.domElem)},pointerout:function(t){e._onLeaveItem(t.data.domElem)}}),this}},{_buildItemsHtml:function(t){function e(t,e,n){var r={block:"select",elem:"item",content:{elem:"text",tag:"span",content:e||"   "},elemMods:{}};return n&&(r.elemMods=n),r}function n(t,r){var c=t.length;if(c){var l=0;do{var u=$(t[l]),d=u.attr("disabled")&&{disabled:"yes"};if(u.is("optgroup")){o=!0,!u.prev().is("optgroup")&&l>0&&s.push(i),a.push(s),s=[],s.push(e(u,u.attr("label"),$.extend({label:"yes"},d,r))),n(u.children(),$.extend({inner:"yes"},d,r));var p=s;s=a.pop(),s.push({block:"select",elem:"group",content:p})}else s.push(e(u,u.html(),$.extend(d,u.is(":selected")&&{selected:"yes"},r)))}while(++l<c||(o=!1))}}var r="select",i={block:r,elem:"separator",tag:"i"},s=[],a=[],o=!1;return n(t),BEMHTML.apply(s)}}),BEM.DOM.decl("select",{_redrawList:function(){var t=this.__base.apply(this,arguments),e=this._getPopup().domElem;return BEM.DOM.append(this.findElem(e,"list"),BEMHTML.apply(this._footer)),t}}),BEM.DOM.decl("select",{onSetMod:{opened:{yes:function(){if(this.hasMod("disabled"))return!1;this._drawPopup();var t=this.findElem(this._popup.domElem,"item","selected","yes");this.elem("button").attr({"aria-activedescendant":t.attr("id"),"aria-expanded":!0})},"":function(){this.elem("button").attr("aria-expanded",!1).removeAttr("aria-activedescendant"),this._getPopup().hide()}}},_getPopupContent:function(t){return{block:t,elem:"list"}},_getPopupMix:function(t){return{block:t,elem:"popup",elemMods:{}}},_getPopup:function(){if(this._popup)return this._popup;var t=this,e=t.params,n=t.__self.getName(),r=this._getPopupContent(n),i=this._getPopupMix(n),s={animate:"no"},a={directions:[{to:"bottom",axis:"left",offset:{top:8}},{to:"top",axis:"left",offset:{bottom:8}}]};["size","layout","theme","width"].forEach(function(e){t.hasMod(e)&&(i.elemMods[e]=t.getMod(e))}),$.extend(i.elemMods,e.elemPopupMods),$.extend(s,e.popupMods),$.extend(a,e.popupParams);var o=$(BEMHTML.apply({block:"popup",mods:s,mix:i,js:a,content:{elem:"content",content:r}}));return this._popup=this.findBlockOn(o,"popup"),this._popup.on({show:function(){t._curItemIndex=t._getSelectedIndex();var e=t._items.eq(t._curItemIndex);t.delMod(t._items,"selected").setMod(e,"hovered","yes").setMod(e,"selected","yes")},"outside-click":function(e,n){t._isOutsideClicked(e,n)?e.preventDefault():t._blurButton()},hide:function(){t.delMod("opened").delMod(t._items,"hovered").delMod(t.findElem(t._popup.domElem,"popup"),"scrollable")}}).bindTo("mousedown",function(t){t.preventDefault()}),BEM.DOM.append(BEM.DOM.scope,t._popup.domElem),t._redrawList(),t._outPopup=t.findBlockOutside("button","popup"),t._outPopup&&t._outPopup.on("outside-click",function(e,n){t._popup.containsDomElem($(n.target))&&e.preventDefault()}),t._popup},_calcPopupDimensions:function(){this._popupContent||(this._popupContent=this._getPopup().findBlockInside("popup").elem("content"));var t=parseInt(this.params.rows,10),e=this._getPopup();if(t&&this.findElem(this._popupContent,"item").size()>t){this._rowHeight=this._getRowHeight();var n=parseInt(e.domElem.css("height"),10),r=t*this._rowHeight;n!==r&&(e.setSize({height:r}),n>r&&this.setMod(this.findElem(e.domElem,"popup"),"scrollable","yes"))}else e.setSize({height:"auto"})},_drawPopup:function(){var t=this.findBlockInside("select"),e=this._getPopup();e.show(t),this._calcPopupDimensions(),this._scrollToCurrent()},_scrollToCurrent:function(){if(this._popupContent&&!(this._curItemIndex<0)){var t,e=this._items.eq(this._curItemIndex).get(0).offsetTop,n=this._popupContent,r=n.scrollTop(),i=e-r,s=2*this._rowHeight;i>n.height()-s?t=e-s:r&&i<s&&(t=e-n.height()+s),t&&n.scrollTop(t)}}},{SHADOW_OFFSET:1}),BEM.DOM.decl({block:"select",modName:"layout",modVal:"content"},{_calcPopupDimensions:function(){this.__base.apply(this,arguments),this._popupContent.css("width",this._getButton().domElem.outerWidth()-2*this.__self.FOCUS_OFFSET_HORIZ)}},{FOCUS_OFFSET_HORIZ:1}),BEM.DOM.decl({block:"input",modName:"hint",modVal:"always"},{_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!0)}}),function(){var t=require("user"),e=require("querystring"),n=require("router"),r=require("metrika"),i="product-subscribe",s=BEM.DOM.decl({name:i,modName:"type",modVal:"price"},{onSetMod:{action:{subscribed:function(){r.emitGoalPoint({productSubscribe:"subscribePrice"}),this.__base()}}},_initBlock:function(){this.constraints={price:s.constraints.price,email:s.constraints.email,userName:s.constraints.userName}},_buildContent:function(t){return[this._buildWrapper(t),this._buildFooter(t)]},_buildHeader:function(){var t=this.params.subscription||{};return{block:i,elem:"header",content:[{elem:"title",content:"Ожидаемая цена"},{elem:"desc",content:[{block:"input",value:t.price,mods:{size:"s",clear:"no",for:"price",hint:"always"},name:"price",mix:this._buildManotice(),content:[{elem:"hint",content:this.params.currency},{elem:"control"}]}]},{elem:"title",content:""},{elem:"desc",content:[{block:"checkbox",checkboxAttrs:{name:"onlyHome",value:"true"},mods:{size:"s",checked:t.onlyHome?"yes":"",for:"region"},content:[{elem:"label",content:"Только в моём городе"}]}]}]}},_buildWrapper:function(n){var r=this.params.subscription||{},s={block:i,elem:"wrapper",content:[{block:i,tag:"input",attrs:{type:"hidden",name:"type",value:"PA_ON_SALE"}},{block:i,tag:"input",attrs:{type:"hidden",name:"modelId",value:this.params.modelId}},{block:i,tag:"input",attrs:{type:"hidden",name:"id",value:r.id}}]};switch(n){case"subscribe":case"change-subscribe":if(s.content.push(this._buildHeader()),t.isAuth){for(var a,o,c=this.params.emails.length,l=[];a=this.params.emails[--c];)r.email&&(r.email===a.value?a.selected=!0:delete a.selected),a.selected&&(o=a.value),l.push({elem:"option",attrs:a,content:a.value});s.content.push({elem:"title",content:"Электронная почта"},{elem:"desc",content:[{block:"select",name:"email",mods:{size:"s",theme:"normal",layout:"content"},js:{footer:{block:"link",mix:[{block:"settings-list",elem:"link"},{block:i,elem:"select-mail-change"}],url:"https://validator.yandex.ru/",content:"Редактирование адресов"}},content:[{block:"button",content:o},{elem:"control",content:l}]}]})}else s.content.push({elem:"title",content:"Электронная почта"},{elem:"desc",content:[{block:"input",name:"email",value:r.email,mods:{size:"s",clear:"no",for:"email"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:"Имя"},{elem:"desc",content:[{block:"input",name:"userName",value:r.userName,mods:{size:"s",clear:"no",for:"userName"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:""},{elem:"desc",mix:{block:i,js:!0,elem:"signin"},content:[{block:"link",content:"У меня есть аккаунт на Яндексе",mods:{pseudo:"yes"},mix:{block:"domik-opener",js:{type:"domik",retpathParams:e.stringify({showPopup:this.params.modelId})}}}]});break;case"unsubscribe":case"subscribed":case"updated":s.content.push({block:"title",mods:{size:"18"},content:"Вы узнаете о снижении цены"},{elem:"item",content:"Ожидаемая цена"},{elem:"value",content:r.price+" "+this.params.currency},{elem:"item",content:"Электронная почта"},{elem:"value",content:r.email}),t.isAuth||s.content.push({elem:"item",content:"Как обратиться"},{elem:"value",content:r.userName})}return s.content.push({elem:"error"}),s},_buildFooter:function(t){var e={block:i,elem:"footer",mix:{block:"clearfix"},content:[]};switch(t){case"subscribe":e.content.push({elem:"text",content:"Товар будет добавлен в отложенные"},{block:"button",mods:{size:"m",theme:"action",for:"add"},content:"Подписаться",js:{action:"subscribed"}});break;case"unsubscribe":e.content.push({block:"button",mods:{size:"m",place:"left",for:"remove"},content:"Отменить подписку",js:{action:"subscribe"}},{block:"button",mods:{size:"m"},content:"Изменить условия",js:{action:"change-subscribe"}});break;case"change-subscribe":e.content.push({block:"button",mods:{size:"m",place:"left"},content:"Отменить изменения",js:{action:"unsubscribe"}},{block:"button",mods:{size:"m",theme:"action",for:"update"},content:"Сохранить",js:{action:"updated"}});break;case"subscribed":case"updated":e.content.push({elem:"text",content:[{block:"image",mods:{name:"heart"},alt:"#"},"Товар добавлен в",{block:"link",url:n.buildURL("market:wishlist"),content:"отложенные"}]},{block:"button",mods:{size:"m"},content:"Изменить условия",js:{action:"change-subscribe"}})}return e}})}(),function(){var t=require("user"),e=require("querystring"),n=require("router"),r=require("metrika"),i="product-subscribe",s=BEM.DOM.decl({name:i,modName:"type",modVal:"stock"},{onSetMod:{action:{subscribe:function(){t.isAuth&&r.emitGoalPoint({productSubscribe:"unsubscribeStock"}),this.__base()},subscribed:function(){r.emitGoalPoint({productSubscribe:"subscribeStock"}),this.__base()}}},_initBlock:function(){this.constraints={email:s.constraints.email,userName:s.constraints.userName}},_showInternalError:function(e){var n=this.getMod("action");switch(this._preloader.hidePreloader(),!0){case""===n:case t.isAuth&&"subscribe"===n:case!t.isAuth&&"subscribed"===n:this.rebuild("error");break;default:this.__base(e)}},_buildContent:function(t){return[this._buildWrapper(t),this._buildFooter(t)]},_buildWrapper:function(n){var r=this.params.subscription||{},s={block:i,elem:"wrapper",content:[{block:i,tag:"input",attrs:{type:"hidden",name:"type",value:"PA_ON_SALE"}},{block:i,tag:"input",attrs:{type:"hidden",name:"modelId",value:this.params.modelId}},{block:i,tag:"input",attrs:{type:"hidden",name:"id",value:r.id}},{block:i,tag:"input",attrs:{type:"hidden",name:"price",value:"0"}}]};switch(n){case"subscribe":case"change-subscribe":t.isAuth||s.content.push({elem:"title",content:"Электронная почта"},{elem:"desc",content:[{block:"input",name:"email",value:r.email,mods:{size:"s",clear:"no",for:"email"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:"Имя"},{elem:"desc",content:[{block:"input",name:"userName",value:r.userName,mods:{size:"s",clear:"no",for:"userName"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:""},{elem:"desc",mix:{block:i,js:!0,elem:"signin"},content:[{block:"link",content:"У меня есть аккаунт на Яндексе",mods:{pseudo:"yes"},mix:{block:"domik-opener",js:{type:"domik",retpathParams:e.stringify({showPopup:this.params.modelId})}}}]},{elem:"error"});break;case"unsubscribe":case"subscribed":case"updated":s.content.push({block:"title",mods:{size:"18"},content:"Вы узнаете о появлении товара"},{elem:"item",content:"Электронная почта"},{elem:"value",content:r.email}),t.isAuth||s.content.push({elem:"item",content:"Как обратиться"},{elem:"value",content:r.userName}),s.content.push({elem:"error"});break;case"error":s.content.push({block:i,elem:"wrapper",mods:{for:"error"},content:[{block:"title",mods:{size:"18"},content:"Ошибка сервера"},{elem:"text",content:"Что-то пошло не так."},{elem:"text",content:"Попробуйте ещё раз сейчас или через некоторое время."}]})}return s},_buildFooter:function(e){var r={block:i,elem:"footer",mix:{block:"clearfix"},content:[]};switch(e){case"subscribe":t.isAuth||r.content.push({elem:"text",content:"Товар будет добавлен в отложенные"},{block:"button",mods:{size:"m",theme:"action",for:"add"},content:"Подписаться",js:{action:"subscribed"}});break;case"change-subscribe":r.content.push({block:"button",mods:{size:"m",place:"left"},content:"Отменить изменения",js:{action:"unsubscribe"}},{block:"button",mods:{size:"m",theme:"action",for:"update"},content:"Сохранить",js:{action:"updated"}});break;case"unsubscribe":r.content.push("Товар в",{block:"link",url:n.buildURL("market:wishlist"),content:"отложенных"}),t.isAuth?r.content.push({block:"button",mods:{size:"m",place:"right",for:"remove"},content:"Отменить подписку",js:{action:"subscribe"}}):r.content.push({block:"button",mods:{size:"m",place:"right"},content:"Изменить условия",js:{action:"change-subscribe"}});break;case"subscribed":case"updated":r.content.push({elem:"text",content:[{block:"image",mods:{name:"heart"},alt:"#"},"Товар добавлен в",{block:"link",url:n.buildURL("market:wishlist"),content:"отложенные"}]}),t.isAuth?r.content.push({block:"button",mods:{size:"m",place:"right",for:"remove"},content:"Отменить подписку",js:{action:"subscribe"}}):r.content.push({block:"button",mods:{size:"m",place:"right"},content:"Изменить условия",js:{action:"change-subscribe"}});break;case"error":r.content.push({block:"button",mods:{size:"m",theme:"action",for:this.params.subscription?"remove":"add"},content:"Попробовать ещё",js:{action:this.params.subscription?"subscribe":"subscribed"}})}return r}},{})}(),function(){var t=require("metrika"),e=t.marketCounterID,n={PRICE_ALERT_CLICK:"PRC_ALRT",PRICE_ALERT_SUBSCRIBED:"PRC_ALRT_ON"};for(var r in n)!function(r){$(document).on(r,function(i,s){var a=s&&s.position,o=n[r][a]?n[r][a]:n[r];t.reachGoal(o,e)})}(r)}(),function(){"use strict";var t=require("templater");BEM.DOM.decl("n-sticker-promocode",{_popup:null,togglePopup:function(){this._popup&&this._popup.isShown()?this._popup.hide():(this._popup=this.__self.getPopup(this.params),this._popup.show(this))}},{live:function(){this.liveBindTo("pointerclick",function(){this.togglePopup()})},popupContent:null,getPopupContent:function(e){return this.popupContent||(this.popupContent=t.render({mode:"n-sticker-promocode-popup",data:e})),this.popupContent},popup:null,getPopup:function(e){if(!this.popup||!this.popup.domElem){var n=t.render({mode:"n-sticker-promocode-popup__popup"});this.popup=$(n).bem("popup2")}return this.popup.setContent(this.getPopupContent(e)),this.popup}})}(),BEM.DOM.decl("tabs-panes",{onElemSetMod:{pane:{active:{yes:function(t,e,n){var r=this.findPane("active","yes");r.attr("aria-expanded",!1),t.attr("aria-expanded",!0),this.delMod(r,"active")}}}},_onControlChange:function(t,e){return e.currentIndex===-1?void this.delMod(this.findPane().eq(e.prevIndex),"active"):void this.setMod(this.findPane().eq(e.currentIndex),"active","yes")},findPane:function(t,e){return this.domElem.children(this.buildSelector("pane",t,e))}},{getSupportedControls:function(){return["tabs"]},live:function(){this.getSupportedControls().forEach(function(t){BEM.blocks[t]&&this.liveInitOnBlockEvent("change",t,function(t,e){this._onControlChange(t,e)})},this)}}),BEM.DOM.decl("tabs",{getCount:function(){return this.elem("tab").length},activate:function(t){return this},deactivate:function(){return this},getActive:function(){return-1},disable:function(t){return this},enable:function(t){return this},isDisabled:function(t){},_onControlChange:function(t,e){}},{getSupportedControls:function(){return["tabs-menu","radio-button"]},live:function(){this.getSupportedControls().forEach(function(t){BEM.blocks[t]&&this.liveInitOnBlockInsideEvent("change",t,function(t,e){this._onControlChange(t,e)})},this)}}),BEM.DOM.decl({block:"tabs",modName:"control",modVal:"menu"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._tabsMenu=this.findBlockOn("control","tabs-menu")}}},activate:function(t){return this._tabsMenu.setMod(this._tabsMenu.getTab(t),"active","yes"),this},deactivate:function(){return this._tabsMenu.delMod(this._tabsMenu.getActive(),"active","yes"),this},disable:function(t){return this._tabsMenu.setMod(this._tabsMenu.getTab(t),"disabled","yes"),this},enable:function(t){return this._tabsMenu.delMod(this._tabsMenu.getTab(t),"disabled"),this},getActive:function(){return this._tabsMenu.indexOfTab(this._tabsMenu.getActive())},isDisabled:function(t){return this._tabsMenu.hasMod(this._tabsMenu.getTab(t),"disabled","yes")},_onControlChange:function(t,e){e.current.attr("aria-selected",!0),e.prev.attr("aria-selected",!1),this.trigger("change",{currentIndex:e.currentIndex,prevIndex:e.prevIndex})}}),BEM.DOM.decl("tabs-menu",{onSetMod:{js:{inited:function(){this._linksCache=[],this._isSwitching=!1}}},onElemSetMod:{tab:{active:{yes:function(t){var e=this.getActive();this._isSwitching=!0,this.delMod(e,"active"),this._isSwitching=!1,this.trigger("change",{current:t,prev:e,currentIndex:this.indexOfTab(t),prevIndex:this.indexOfTab(e)})},"":function(t){this._isSwitching||this.trigger("change",{current:$(),prev:t,currentIndex:-1,prevIndex:this.indexOfTab(t)})}},disabled:function(t,e,n){var r=this._getLink(t).setMod("disabled",n);this.hasMod(t,"interactive","yes")&&(r.domElem.removeAttr("tabindex"),n?t.attr("aria-disabled",!0):t.removeAttr("aria-disabled"))}}},getActive:function(){return this.findElem("tab","active","yes")},getTab:function(t){return this.elem("tab","interactive","yes").eq(t)},indexOfTab:function(t){return $.inArray(t.get(0),this.elem("tab","interactive","yes"))},_getTabByElem:function(t){return t.closest(this.buildSelector("tab"))},_getLink:function(t){var e=$.inArray(t.get(0),this.elem("tab"));return this._linksCache[e]||(this._linksCache[e]=this.findBlockInside(t,"link"))},_activateRelative:function(t){var e=this.elem("tab","interactive","yes").not(this.findElem("tab","disabled","yes")),n=$.inArray(this.getActive().get(0),e)+t;n<0||n>e.length||this.setMod(e.eq(n),"active","yes")},_onTabClick:function(t){this.setMod(this._getTabByElem($(t.target)),"active","yes")},_onTabKeyDown:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=BEM.blocks.keycodes;e.is(t.keyCode,"RIGHT","DOWN")?(t.preventDefault(),this._activateRelative(1)):e.is(t.keyCode,"LEFT","UP")&&(t.preventDefault(),this._activateRelative(-1))}}},{live:function(){this.liveBindTo("tab","pointerclick",function(t){this.hasMod($(t.data.domElem),"disabled")||this._onTabClick(t)}).liveBindTo("tab","keydown",function(t){this._onTabKeyDown(t)})}}),BEM.DOM.decl("tabs-menu",{onElemSetMod:{tab:{active:{yes:function(t){var e=this.getActive();if(this.__base.apply(this,arguments)===!1)return!1;t.attr("tabindex",0);try{t.focus()}catch(t){}e.removeAttr("tabindex")}},disabled:function(t,e,n){this.__base.apply(this,arguments),n&&this.hasMod(t,"active")?t.attr("tabindex",0):t.removeAttr("tabindex")}}},_onTabEnter:function(t,e){this.setMod(t,"hovered","yes")},_onTabLeave:function(t,e){this.delMod(t,"hovered")}},{live:function(){return this.liveBindTo("tab","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onTabEnter(e,t):this._onTabLeave(e,t))}),this.__base()}}),require.define("n-internationalization",function(t,e,n,r,i){var s={};s.get=function(t){return yr.externals["n-i18n"](t)},t.exports=s}),function(){BEM.DOM.decl("n-delivery-popup",{onSetMod:{js:{inited:function(){this._tabs=this.findBlockInside("tabs")}}},activateTab:function(t){if(this._tabs){var e=t?this._getTabIndex(t):0;this._tabs.activate(e)}},_getTabIndex:function(t){if(!this._tabs)return-1;var e=this._tabs.elem("tab","type",t),n=this._tabs.elem("tab"),r=n.index(e);return r!==-1?r:0}})}(),function(){var t=require("metrika");BEM.DOM.decl("n-delivery",{onSetMod:{js:{inited:function(){this._deliveryPopup=this.findBlockInside("n-delivery-popup"),this._pickup=this.elem("info","type","pickup"),this._postomat=this.elem("info","type","postomat"),this.getDescription()&&(this.setMod("link","yes"),this.bindTo("click",this._onDeliveryClick)),this.findBlockInside("link")&&this.setMod("link","yes");var e=this.findElem("icon");e&&e.length&&(this._lastIco=e[e.length-1]),this.hasMod("has-yandex-delivery","yes")&&this._isFirstValidDeliveryBlock()&&this.informationPopupShouldBeShown()&&(this.toggleDescriptionPopup(),this.informationPopupShown(),t.emitGoalPoint({yandexDelivery:"delivery-show"}))}}},_isFirstValidDeliveryBlock:function(){var t=this,e=this.findBlockOutside("b-page"),n=e.findBlocksInside({block:"n-delivery",modName:"has-yandex-delivery",modVal:"yes"}),r=n.filter(function(e){return!e.findBlockOutside("product-card-offer")&&t._checkVisible(e.domElem)});return r.length&&r[0]==this},_onDeliveryClick:function(t){this._deliveryPopup&&(this._pickup&&t.target===this._pickup.get(0)?this._deliveryPopup.activateTab("pickup"):this._postomat&&t.target===this._postomat.get(0)?this._deliveryPopup.activateTab("postomat"):this._deliveryPopup.activateTab()),this.toggleDescriptionPopup()},getDescription:function(){var t=this.elem("popup");return t&&t.text().length&&t.html()},toggleDescriptionPopup:function(){var t=this.getDescription();if(t){var e=this._lastIco?$(this._lastIco):this;this._popup=this.__self.getPopup(),this._popup.setContent(t),this._trackMetrikaEvents(),this._popup.show(e)}},_checkVisible:function(t,e){e=e||0;var n=BEM.DOM.win.height(),r=BEM.DOM.win.scrollTop(),i=t.offset().top,s=t.height();return i<n+r-e&&i>r-s+e},informationPopupShouldBeShown:function(){var t=window.localStorage;return!("undefined"==typeof t||"shown"===t.yaDInformer)},informationPopupShown:function(){var t=window.localStorage;"undefined"!=typeof t&&(t.yaDInformer="shown")},_trackMetrikaEvents:function(){this._trackShow(),this._trackYandexDeliveryShow(),this._bindYandexDeliveryLinkClick(),this._bindOutletsButtonClick()},_trackShow:function(){t.emitGoalPoint({delivery:{place:this.params.place,eventType:"popup-show"}})},_trackYandexDeliveryShow:function(){this.hasMod("has-yandex-delivery","yes")&&t.emitGoalPoint({yandexDelivery:"delivery-popup-show"})},_bindYandexDeliveryLinkClick:function(){if(this.hasMod("has-yandex-delivery","yes")){var e=this._popup.findBlockInside({blockName:"link",modName:"to",modVal:"yandex-delivery"});e&&e.bindTo("click",function(){t.emitGoalPoint({yandexDelivery:"delivery-link-click"})})}},_bindOutletsButtonClick:function(){var e=this._popup.findBlockInside("outlets-button"),n=this;e&&e.bindTo("click",function(){t.emitGoalPoint({delivery:{place:n.params.place,eventType:"outlets-button-click"}})})}},{_popup:null,getPopup:function(){return this._popup||(this._popup=$(BEMHTML.apply({
block:"popup",attrs:{style:"padding: 18px 15px 15px"},mods:{autoclosable:"yes",theme:"info"},content:[{elem:"content",content:""},{elem:"tail"}],js:{directions:[{to:"bottom",axis:"left",offset:{left:-40,top:5},tail:{offset:{left:-3}}}]}})).bem("popup")),this._popup}})}(),function(t){BEM.DOM.decl("stickers",{onSetMod:{js:{inited:function(){this.__base()}}}},{live:function(){return this.liveBindTo({elem:"sticker",modName:"type",modVal:"promo"},"pointerclick",function(e){e.preventDefault(),t("body,html").animate({scrollTop:t("#promo-deal").offset().top},700)}),this.__base()}})}(jQuery),function(t){var e=require("metrika");BEM.DOM.decl("i-metrika-reviews",{onSetMod:{js:{inited:function(){var t=this.params&&this.params.shops,n=this.params&&this.params.models;if(t&&t.length>0)for(var r=0;r<t.length;r++)e.reachGoal(t[r],e.marketCounterID);if(n&&n.length>0)for(var r=0;r<n.length;r++)e.reachGoal(n[r],e.marketCounterID)}}}})}(jQuery),function(){var t=require("metrika");BEM.DOM.decl("n-product-toolbar",{onSetMod:{js:{inited:function(){this._initMetrika()}}},_initMetrika:function(){var e=this.findBlockInside("n-user-lists_type_compare");e&&e.bindTo("pointerclick",function(){this.hasMod("in-list","yes")&&t.emitGoalPoint({productToolbar:"compare"})});var n=this.findBlockInside("share-dropdown");n&&n.bindTo("pointerclick",function(){t.emitGoalPoint({productToolbar:"share"})})}})}(),function(){var t=require("lodash"),e="complainedOffers",n=require("metrika"),r=require("templater");BEM.DOM.decl("n-popup-complain",{onSetMod:{js:{inited:function(){this._isSubmitted()||this._initComplainBlock()}}},_initComplainBlock:function(){this.__self.init(),this._showPopup(),BEM.channel("offer-complain").on("complainSent",t.bind(function(t,e){this.params.offerData.offerId===e.offerId&&this.setMod("submitted","yes")},this)),this.elem("switcher").on("pointerclick",t.bind(this._showPopup,this))},_isSubmitted:function(){return this.hasMod("submitted","yes")},_showPopup:function(){this._isSubmitted()||this.__self.showPopupOnBlock(this)},destruct:function(){return this.__self.destructForm(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("switcher","pointerclick")},complains:$.cookie(e)?$.cookie(e).split(","):[],_popup:null,_form:null,_inited:!1,init:function(){this._inited||(this._inited=!0,BEM.channel("offer-complain").on("complainSent",function(t,e){this.addComplain(e.offerId)},this))},getPopup:function(){return this._popup&&this._popup.domElem||(this._popup=this.createPopup()),this._popup},initMetrika:function(){this.getPopup().on("beforeClose",this.createPointAction("popupClosed")).on("beforeOpen",this.createPointAction("popupShowed")),this.getPopup().findBlockInside("radiobox").on("change",this.createPointAction("reasonChange"))},createPointAction:function(t){return function(){n.emitGoalPoint({complain:{action:t}})}},showPopupOnBlock:function(t){var e=this.getPopup(),n=this.getForm(t.params.offerData);t.setMod("active","yes"),e.hide().show(t).onFirst("beforeClose",function(){t.setMod("active","no")}),n.onFirst("finish",e.hide.bind(e)).on("redraw",e.redraw.bind(e))},getForm:function(t){return this._form&&this._form.params.offerId===t.offerId?this._form:(this._form=this.createForm(t),this.getPopup().setContent(this._form.domElem),this.initMetrika(),this._form)},createPopup:function(){var t=r.render({mode:"n-popup-complain__popup"});return $(t).bem("popup2")},createForm:function(t){var e=r.render({data:t,mode:"offer-complain-form"});return $(e).bem("offer-complain-form")},addComplain:function(t){this.complains.push(t),$.cookie(e,this.complains,{path:"/"})},destructForm:function(){this._form&&(this._form.destruct(),this._form=null)}})}(),$(function(){function t(){var t=$(this).index()+1;$(".n-ts-table_type_sizes .n-ts-table__item:not(.n-ts-table__row:first-child .n-ts-table__item:nth-child(2), .n-ts-table__row .n-ts-table__item:first-child, .n-ts-table__item_type_unite):nth-child("+t+")").addClass("n-ts-table__item_hover_yes")}function e(){$(".n-ts-table_type_sizes .n-ts-table__item").removeClass("n-ts-table__item_hover_yes")}$(".n-ts-table_type_sizes .n-ts-table__item").hover(t,e)}),function(){var t=require("lodash"),e=require("userWishlist"),n=require("tags");BEM.DOM.decl("n-wishlist-tags-control",{onSetMod:{js:{inited:function(){var t=this.params.item.id;this._wish=e.get(t),this._popup=this._createPopup(),this._tagsList=this._popup.findBlockInside("editable-list"),this._addListeners(),this._actualizeBlock()}}},_addListeners:function(){this._tagsList.on("checked",this._addTagToWish,this).on("unchecked",this._removeTagFromWish,this).on("newvalue",this._createNewTag,this),this._wish.on("change:tags",function(){this._actualizeBlock()},this),this._popup.on("show",function(){this._tagsList.update(this._prepareData())},this),n.on("destroy change:displayName",function(){this._updatePopup()},this).on("add destroy",function(){this._actualizeBlock()},this)},_actualizeBlock:function(){var e=t.intersection(n.pluck("id"),this._wish.get("tags")).length;this.toggleMod("full","yes",Boolean(e))},_createPopup:function(){var t=$(BEMHTML.apply(this.__self._buildPopup(this._prepareData())));return BEM.DOM.after(this.domElem,t),t.bem("popup")},_prepareData:function(){var t=this._wish.get("tags");return n.map(function(e){return{value:e.get("id"),label:e.get("displayName"),checked:t.indexOf(e.get("id"))>-1}})},_togglePopup:function(){this._popup.toggle(this)},_addTagToWish:function(t,e){this._wish.addTag(e.value)},_removeTagFromWish:function(t,e){this._wish.removeTag(e.value)},_createNewTag:function(t,e){if(e.length>20)this._showError("Too long");else{var r=n.findWhere({displayName:e});if(r)this._showError("Tag already exists");else{var i=new n.model({displayName:e}),s=this._tagsList.appendItem("",e,!0),a=s.findBlockOutside("n-wishlist-tag");i.once("sync",function(t){s.val(t.id),a.setTag(t),this._wish.addTag(t.id),n.add(t)},this),i.save()}}},destruct:function(){return this._popup&&this._popup.domElem&&this._popup.destruct(),this._wish.off(null,null,this),this.__base.apply(this,arguments)},_showError:function(t){console.error(t)},_updatePopup:function(){this._tagsList.update(this._prepareData())}},{live:function(){var r={pointerover:{name:"hovered",val:"yes"},pointerout:{name:"hovered"}};this.liveBindTo("pointerclick",function(){this._togglePopup()}),this.liveBindTo("pointerover pointerout",function(t){var e=r[t.type];this.setMod(e.name,e.val||"")}),e.on("change:tags",function(t){$(".n-wishlist-tags-control[data-wish-id="+t.get("id")+"]").bem("n-wishlist-tags-control")},this),n.on("add destroy",function(n){var r=e.filter(function(t){return t.hasTag(n.get("id"))});t.forEach(r,function(t){$(".n-wishlist-tags-control[data-wish-id="+t.get("id")+"]").bem("n-wishlist-tags-control")})})},_buildPopup:function(t){return{block:"popup",mods:{theme:"ffffff",autoclosable:"yes",animate:"yes",adaptive:"yes",autosize:"no"},js:{directions:[{to:"bottom",offset:{top:5,left:-18},axis:"left"}]},content:{elem:"content",content:BEM.blocks["editable-list"].build(t)}}}})}(),BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){return this.__base.apply(this,arguments)!==!1&&void(this._hasHint&&this._updateHint())}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),function(){var t=require("lodash");BEM.DOM.decl("editable-list",{onSetMod:{js:{inited:function(){this._tags=require("tags"),this.input=this.findBlockOn(this.elem("add-item-input"),"input"),this.button=this.findBlockOn(this.elem("add-item-button"),"button"),this.inputManotice=this.input.findBlockOn("manotice"),this.items=this.elem("items"),this.input.on("focus",this._showButton,this),this.input.on("blur",this._hideButtonOnEmpty,this),this.input.on("change",this._toggleButtonState,this),this.input.on("change",this._hideInputManotice,this),this.input.bindTo("keyup",this._addedNewItem.bind(this)),this.button.bindTo("pointerclick",this._addedNewItem.bind(this)),BEM.blocks.checkbox.on(this.domElem,"change",this._toggleItemSelect,this)}}},_newEvent:function(t){var e=$.Event(t);return e.preventDefault=function(){this.defaultPrevented=!0},e},_showButton:function(){this.setMod(this.elem("add-item-button"),"show","yes")},_hideButtonOnEmpty:function(){this.input.val()||this.delMod(this.elem("add-item-button"),"show")},_toggleButtonState:function(){$.trim(this.input.val())?this.button.hasMod("disabled","yes")&&this.button.delMod("disabled"):this.button.setMod("disabled","yes")},_toggleItemSelect:function(t,e){e.checked?this.trigger("checked",{value:t.block.val()}):this.trigger("unchecked",{value:t.block.val()})},appendItem:function(t,e,n){var r=this.__self._buildItem({value:t,label:e,checked:n},!0),i=this.findElem("items");i[0]||(i=BEM.DOM.prepend(this.domElem,BEMHTML.apply(this.__self._buildItems())));var s=BEM.DOM.append(i,BEMHTML.apply(r)),a=s.find(".checkbox").bem("checkbox"),o=this._newEvent({block:this});return o.type="newitem",o.target=a,this.trigger(o),a},update:function(t){BEM.DOM.replace(this.findElem("items"),BEMHTML.apply(this.__self._buildItems(t)))},_addedNewItem:function(e){var n=$.trim(this.input.val()),r=new RegExp("^[a-zA-Z0-9А-Яа-яЁё ]+$","");if(n&&(t.isUndefined(e.keyCode)||13===e.keyCode)){if(n.length>20)return void this.inputManotice.show("error","Название метки не может быть длиннее 20 символов");if(!r.test(n))return void this.inputManotice.show("error","Название метки может содержать только цифры и буквы");var i=this._newEvent({block:this});i.type="newvalue",this.trigger(i,n),this.input.clearInput(),e.keyCode||this.input.trigger("blur")}},_hideInputManotice:function(){this.inputManotice.hide()}},{live:function(){},build:function(t){var e=t.length?this._buildItems(t):void 0;return{block:"editable-list",mix:[{block:"filter-list"}],content:[e,this._buildInputSection()],js:!0}},_buildItems:function(e){return{block:"editable-list",elem:"items",tag:"ul",content:t.map(e,this._buildItem)}},_buildItem:function(t){var e=BEM.blocks["i-common__string"].escapeHTML(t.value),n=BEM.blocks["i-common__string"].escapeHTML(t.label);return{block:"editable-list",elem:"item",mix:[{block:"n-wishlist-tag",js:{tag:{id:e}}}],tag:"li",content:[{block:"checkbox",mods:{size:"s",theme:"normal",checked:t.checked?"yes":""},checkboxAttrs:{value:e},text:n},{block:"button",mods:{theme:"clear",size:"xs","only-icon":"yes"},mix:[{block:"n-wishlist-tag",elem:"edit-button"}],content:["&nbsp;",{block:"image",mix:[{block:"button",elem:"icon",elemMods:{16:"edit"}}],alt:""}]},{block:"button",mods:{theme:"clear",size:"xs","only-icon":"yes"},mix:[{block:"n-wishlist-tag",elem:"remove-button"}],content:["&nbsp;",{block:"image",mix:[{block:"button",elem:"icon",elemMods:{16:"trash"}}],alt:""}]}]}},_buildInputSection:function(){return{block:"editable-list",elem:"last-item",content:[{block:"input",mods:{size:"s",theme:"normal"},mix:[{block:"editable-list",elem:"add-item-input"},{block:"manotice",mods:{type:"popup"},js:{manotice:{direction:{to:"bottom"}}}}],content:[{elem:"hint",content:"Новая метка"},{elem:"control"}]},{block:"button",mods:{theme:"action",size:"s","only-icon":"yes",disabled:"yes"},mix:[{block:"editable-list",elem:"add-item-button"}],content:{block:"image",mods:{name:"plus"},mix:{block:"button",elem:"icon"}}}]}}})}(),function(){var t=require("tags"),e=BEM.channel("n-wishlist-tag"),n=new RegExp("^[a-zA-Z0-9А-Яа-яЁё ]+$",""),r="Название метки не может быть длиннее 20 символов",i="Название метки может содержать только цифры и буквы";BEM.DOM.decl("n-wishlist-tag",{onSetMod:{js:{inited:function(){this._tag=t.get(this.params.tag.id),this._editor=null}}},_destroyTag:function(){this._tag.destroy(),this.destruct()},openEditor:function(){this._editor||this.createEditor(),this._confirmNameButton.on("press",this._confirmNewTagName,this),this._resetNameButton.on("press",this._resetInputAndCloseEditor,this),this._nameInput.on("change",this._hideError,this),this.setMod(this._editor,"visibility","visible"),e.trigger("open"),e.on("open",this.closeEditor,this)},closeEditor:function(){this._confirmNameButton.un("press",this._confirmNewTagName,this),this._resetNameButton.un("press",this._resetInputAndCloseEditor,this),this._nameInput.un("change",this._hideError,this),e.un("open",this.closeEditor,this),this.delMod(this._editor,"visibility")},_resetInputAndCloseEditor:function(){this._nameInput.val(this._tag.get("displayName")),this.closeEditor()},_showError:function(t){this._nameInputNotification||(this._nameInputNotification=this._nameInput.findBlockOn("manotice")),this._nameInputNotification.show("error",t)},_hideError:function(){this._nameInputNotification&&this._nameInputNotification.hide()},_confirmNewTagName:function(){var t=this._nameInput.val();t===this._tag.get("displayName")?this.closeEditor():t.length>20?this._showError(r):n.test(t)?this._tag.save({displayName:t}):this._showError(i)},createEditor:function(){this._editor=BEM.DOM.append(this.domElem,BEMHTML.apply(this.__self._buildEditor(this._tag))),this._nameInput=this.findBlockInside("editor","input"),this._confirmNameButton=this.findBlockOn("confirm-name","button"),this._resetNameButton=this.findBlockOn("reset-name","button")},destruct:function(){return this._tag.off(null,null,this),this.__base.apply(this,arguments)},setTag:function(t){this.params.tag.id=t.get("id"),this._tag=t}},{live:function(){this.liveBindTo("edit-button","pointerclick",function(){this.openEditor()}),this.liveBindTo("remove-button","pointerclick",function(){this._destroyTag()})},_buildEditor:function(t){return{block:"n-wishlist-tag",elem:"editor",content:[{block:"input",mix:[{block:"manotice",mods:{type:"popup"},js:{direction:{to:"bottom"}}}],mods:{size:"s"},content:{elem:"control",attrs:{value:t.get("displayName")}}},{block:"button",mods:{size:"s",theme:"action","only-icon":"yes"},mix:[{block:"n-wishlist-tag",elem:"confirm-name"}],content:["&nbsp;",{block:"image",mix:[{block:"button",elem:"icon",elemMods:{16:"tick"}}],alt:""}]},{block:"button",mods:{size:"s","only-icon":"yes"},mix:[{block:"n-wishlist-tag",elem:"reset-name"}],content:["&nbsp;",{block:"image",mix:[{block:"button",elem:"icon",elemMods:{16:"cross"}}],alt:""}]}]}}})}(),BEM.DOM.decl("tablesizes-link",{_showTablesizes:function(){this.hasOwnProperty("_popup")?this._popup.setMod("visible","yes"):this._getTablesizes()},_getTablesizes:function(){var t=this,e="Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время";$.ajax({url:this.params.gate,type:"GET",dataType:"json",timeout:1e3,success:function(n){n.success?(t._popup=t._buildPopup(n.data),t._popup.bindTo("closer","pointerclick",function(){t._popup.delMod("visible")}),t._popup.setMod("visible","yes")):alert(e)},error:function(){alert(e)}})},_buildPopup:function(t){var e=$(BEMHTML.apply({block:"modal",mix:{block:"tablesizes-popup"},mods:{theme:"normal",autoclosable:"yes",closer:"content"},content:t}));return BEM.DOM.append(this.domElem,e),this.findBlockInside("modal")}},{live:function(){this.liveBindTo("pointerclick",function(){this._showTablesizes()})}}),BEM.DOM.decl("n-user-lists",{onSetMod:{js:{inited:function(){this._currentListCount=0}}},_setDefaultParams:function(t){var e=t||{},n={image:{url:BEM.blocks["n-user-lists"].BLANK_GIF},title:""};this.params=$.extend(n,this.params,e)},_buildGateParams:function(){return{sk:require("user").sk,id:this.params.id,hid:this.params.hid,catid:this.params.catid}},_changeListCount:function(t){this._currentListCount=Number(t.data.count)},_sendRequest:function(t,e){var n=t.success||this._onSuccess,r=t.error||this._onError,i={url:t.url,type:"POST",data:e,dataType:"json",timeout:3500,success:n.bind(this),error:r.bind(this)};t.beforeSend&&(i.beforeSend=t.beforeSend.bind(this)),$.ajax(i)},_onSuccess:function(t){t.success?this._responseHandler(this.params.listName,t):alert(BEM.I18N("user-list","error"))},_onError:function(){alert(BEM.I18N("user-list","error"))},_onErrorPopup:function(t){this._showPopup(t,{success:!1})},_responseHandler:function(t,e){this._changeListCount(e),this._showPopup(t,e),this._triggerEvent(t)},_showPopup:function(t,e){var n=this.params.listName,r=BEM.channel("n-user-lists"),i=this._getParamsForInformer(t,e);return this._popupInformer=BEM.blocks["popup-informer"].create(i),this._popupControlButton=this._popupInformer.findBlockInside("button"),this._popupControlButton&&this._popupControlButton.bindTo("pointerclick",function(){r.trigger("button-click",n)}),this},_getParamsForInformer:function(t,e){return 0==e.success?{image:this._getInformerImage(),title:"Ошибка",details:BEM.I18N(this.params.blockName,"error")}:{title:this._buildTitle(t),image:this._getInformerImage(),details:this._buildDetails(),controls:this._buildControls(e)}},_getInformerImage:function(){var t={url:this.params.image.url};return this.params.image.hasOwnProperty("mix")&&(t.mix=this.params.image.mix),t},_buildDetails:function(){var t="";if(this._currentListCount){var e={count:this._currentListCount,categoryName:this.params.catname};t=BEM.I18N(this.params.blockName,"details",e)}else t=BEM.I18N(this.params.blockName,"detailsEmpty");return t},_buildControls:function(){var t=this.params.blockName,e={block:"button",mods:{size:"m",theme:"normal"},content:BEM.I18N(t,"controlText")};return e},_triggerEvent:function(t){BEM.channel("market").trigger("list-"+this.params.listName+"-change",{type:t,modelid:this.params.id})}},{BLANK_GIF:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"}),function(){var t=require("metrika"),e=t.marketCounterID,n={compare:"CMPR_MC_PRSN"},r=BEM.channel("n-user-lists");r.on("button-click",function(r,i){var s=n[i];s&&t.reachGoal(s,e)})}(),function(){var t={blockName:"n-user-lists_type_compare",listName:"compare"},e=require("comparisonLists");BEM.DOM.decl({block:t.blockName,baseBlock:"n-user-lists"},{onSetMod:{js:{inited:function(){this.__base(),this._setDefaultParams(t);var n=this.params.inComparison;if("boolean"==typeof n)n===!0?this._setRemoveTextContent():this._toggleInListStatus(!1);else{var r=this.params.hid,i=this.params.id;e.then(function(t){return t.isInList(r,i)}).then(this._toggleInListStatus.bind(this))}this.params.hasOwnProperty("compareList")&&(this._currentListCount=this.params.compareList.count),BEM.channel("market").on("list-bulk-compare-change",this._highlightIfInlist,this),this.bindTo("pointerclick",this._onClick)}},"in-list":{yes:function(){this._setRemoveTextContent()},no:function(){this._setAddTextContent()}}},_onClick:function(){var t=this.hasMod("in-list","yes")?"remove":"add";this._compareAction(t)},_setAddTextContent:function(){this.domElem.data("title",BEM.I18N(t.blockName,"textAdd"))},_setRemoveTextContent:function(){this.domElem.data("title",BEM.I18N(t.blockName,"textRemove"))},_highlightIfInlist:function(t,e){if(!this.domElem)return void BEM.channel("market").un("list-bulk-compare-change",this._highlightIfInlist,this);var n=e.modelid.split(",");n.indexOf(this.params.id)!==-1&&this.setMod("in-list","yes")},_compareAction:function(t){var n=this,r=this._buildGateParams(),i=r.id.split(","),s=r.hid;r&&e.then(function(e){return $.when(t,$.when(e[t](s,i)).then(function(){return e.getCategoryModels(s,{force:!0})}),n._toggleInListStatus())}).done(this._onActionSuccess.bind(this)).fail(this._onActionError.bind(this,t))},_onActionSuccess:function(t,e){this._responseHandler(t,{data:{count:e.length,ids:e.join()},success:!0})},_onActionError:function(t){this._toggleInListStatus(),this._onErrorPopup(t)},_toggleInListStatus:function(t){var e=arguments.length>0?t:this.hasMod("in-list","no");e?this.setMod("in-list","yes"):this.setMod("in-list","no")},_changeListCount:function(t){this._currentListCount=Number(t.data.count)},_buildPageUrl:function(){return this.params.link},_buildTitle:function(t){return BEM.I18N(this.params.blockName,t+"Title",{name:this.params.name})},_buildControls:function(t){var e=this.__base.apply(this,t);return t&&this._currentListCount?e.url=this._buildPageUrl():e.mods.disabled="yes",e}})}(),function(){var t=require("env"),e=require("user"),n=require("metrika");BEM.DOM.decl("n-product-subscribe-button",{onSetMod:{js:{inited:function(){this._button=this.findBlockInside("button"),this._buttonText=this._button.elem("text"),this._form=this.findBlockInside("n-product-subscribe"),this._popup=this._buildPopup(this._form.domElem),BEM.DOM.append(this.domElem,this._popup),this._form&&this._form.on("subscribed",this._onSubscribe,this).on("subscribe",this._onUnSubscribe,this),this._button.on("click",this._onButtonClick,this),this._showOnReturn()}}},showPopup:function(t){if(this._form)switch(this._form.getMod("type")){case"stock":e.isAuth||n.emitGoalPoint({productSubscribe:"showStockPopup"});break;case"price":n.emitGoalPoint({productSubscribe:"showPricePopup"})}this._popup.show(t||this)},_showOnReturn:function(){t.getParam("showPopup")==this.params.modelId&&this.showPopup({top:300,left:450})},_onSubscribe:function(){this._buttonText.text(this.params.activeSubscriptionText),this.setMod("subscribed","yes")},_onUnSubscribe:function(){this._buttonText.text(this.params.subscribeText),this._popup.hide(),this.setMod("subscribed","")},_onButtonClick:function(){this.showPopup(),this._form&&e.isAuth&&this._form.hasMod("type","stock")&&this.hasMod("subscribed","")&&this._form.subscribe()},_buildPopup:function(t){return $(BEMHTML.apply({block:"popup",mods:{autosize:"no",autoclosable:"yes",animate:"yes",adaptive:"yes","has-close":"yes",for:"n-product-subscribe"},js:{directions:[{to:"bottom",axis:"left"},{to:"bottom",axis:"right"}]},content:[{elem:"content"}]})).bem("popup").setContent(t)}})}(),function(){var t="preloadable";BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){this.preloadable=this.findBlockOn(t),this.preloadableSpin=null,this.preloaderDelayTimeout=null}}},getDefaultParams:function(){return{preloaderDelay:0,size:"s",paranja:!1}},_insertPreloader:function(){if(!this.findBlockInside("spin2")){var t=$(this.__self.buildPreloader(this.params));this.preloadableSpin=this.findBlockInside(t,"spin2"),BEM.DOM.append(this.domElem,t)}},_beginProgress:function(){this.preloadableSpin.setMod("progress","yes"),this.preloadable.setMod(this.preloadable.findElem("preloader"),"visibility","visible")},showPreloader:function(){clearTimeout(this.preloaderDelayTimeout),this._insertPreloader();var t=this.params.preloaderDelay;if(t>0){var e=this;this.preloaderDelayTimeout=setTimeout(function(){e._beginProgress()},t)}else this._beginProgress()},hidePreloader:function(){clearTimeout(this.preloaderDelayTimeout),this.preloadable.domElem&&this.preloadableSpin&&(this.preloadable.setMod(this.preloadable.elem("preloader"),"visibility","hidden"),this.preloadableSpin.delMod("progress"))},destruct:function(){clearTimeout(this.preloaderDelayTimeout),this.__base()}},{buildPreloader:function(e){var n={block:t,elem:"preloader",elemMods:{visibility:"hidden"},content:{block:"spin2",mods:{size:e.size}}};return e.paranja&&(n.mix={block:t,elem:"paranja"}),BEMHTML.apply(n)}})}(),function(){function t(t){t&&t.status?this.resolve(t.data):this.reject("Что-то пошло не так. Попробуйте ещё раз.")}function e(){this.reject("Что-то пошло не так. Попробуйте ещё раз.")}var n=require("Response"),r=require("user"),i=require("querystring"),s=require("router"),a=require("userWishlist"),o="n-product-subscribe",c=require("lodash");BEM.DOM.decl(o,{onSetMod:{js:{inited:function(){this.model=null,this.CONSTRAINTS={},this._preloader=this.findBlockOn("preloadable"),this._initBlock&&this._initBlock(),r.delegate(r,r.STATE_READY,"resolve"),new n.Queue([r,a.asyncRequire],!0).onResolve(this.create,this)}},action:{subscribe:function(){this.trigger("subscribe"),this.model&&(this.model.destroy(),this.model=null)},subscribed:function(){this.trigger("subscribed"),this.model||(this.model=a.create(this._buildModel()))},"*":function(t,e){this.rebuild(e)}},state:{"":function(){this._hideErrors(),this._preloader.hidePreloader()},sending:function(){this._preloader.showPreloader()},error:function(){this._preloader.hidePreloader()}}},create:function(){return this.model=a.find(this._buildModel()),r.unDelegate(r,r.STATE_READY),this.params.currency||(this.params.currency=BEM.I18N("dictionary","currency-"+r.settings.currency)),this.params.email||(this.params.email=r.defaultEmail),this.hasMod("live","true")&&this.rebuild(this.params.id?"unsubscribe":"subscribe"),this.setMod("for",r.isAuth?"authorized":"non-authorized"),BEM.blocks.button.on(this.domElem,"click",this._onButtonClick.bind(this)),this},rebuild:function(t){var e=BEMHTML.apply(this._buildContent(t||this.getMod("action")));return BEM.DOM.update(this.domElem,$(e)),this},subscribe:function(){return this._doAction("subscribed","add"),this},unsubscribe:function(){return this._doAction("subscribe","remove"),this},_buildURL:function(t,e){return s.buildURL("api:subscription-"+t,e)},_buildModel:function(){return{type:"model",itemId:this.params.modelId,hid:this.params.hid}},_onButtonClick:function(t){var e=t.block;return this._doAction(e.params.action,e.getMod("for")),this},_doAction:function(t,e){return this.hasMod("state","sending")||null==t||(e?this._postForm(e).onResolve(function(){this.setMod("action",t)},this).done():this.setMod("action",t)),this},_postForm:function(t){var e=this._buildParams(this._buildQuery());return this.setMod("state","sending"),new n.Queue([this._validateParams.bind(this,e),this._saveParams.bind(this,e),this._buildURL.bind(this,t,e),this._sendRequest.bind(this)]).strict().then(this._updateParams,this._showError,null,this).then(this._clearState,this._setError,null,this).start()},_buildQuery:function(){return this.domElem.serialize()},_buildParams:function(t){return t?i.parse(t):this.params},_validateParams:function(t){var e,r=this.constraints,i=[];if(!r)return n.resolve();for(var s in t)t.hasOwnProperty(s)&&r.hasOwnProperty(s)&&(e=r[s](t[s]),e.onReject(this._showManotice.bind(this,s)),i.push(e));return new n.Queue(i).strict().start()},_sendRequest:function(r){var i=(new n).then(t,e);return $.ajax({type:"post",url:r,dataType:"json",timeout:"3000",cache:!1,context:i,success:i.resolve,error:i.reject}),i},_clearState:function(){return this.setMod("state",""),this},_setError:function(t){return this.setMod("state","error"),this},_saveParams:function(t){return c.assignIn(this.params,t)},_updateParams:function(t,e,n,i){var s=i.getResult();return s&&c.assignIn(this.params,s[0]),this.params.email||(this.params.email=r.defaultEmail),this},_showError:function(t){if(!this.hasMod("state","error"))return this._showInternalError(t.message),this},_showInputError:function(t,e){var n=this.findBlockInside({blockName:"input",modName:"for",modVal:t});if(n){var r=n.findBlockOn("manotice");this.hasMod("state","error")||this._setError(e),r.isShown()&&r.hide(),r.show("error",e)}return this},_showInternalError:function(t){var e=this.findElem("error");return e&&(BEM.DOM.update(e,this._buildError(t)),this.setMod(e,"state","showed")),this},_hideErrors:function(){for(var t=this.findBlocksInside("manotice"),e=t.length;e;)t[--e].hide();return this},_showManotice:function(t,e){return this._showInputError(t,e.message),this},_buildManotice:function(){return{block:"manotice",mods:{type:"popup"},js:{directions:{to:"right"},autoclosable:"visible",messageType:"error",message:"",mix:{block:"popup",mods:{nowrap:"yes"}}}}},_buildError:function(t){return $(BEMHTML.apply({block:o,elem:"text",mods:{for:"error"},content:[{block:"image",mods:{name:"error"},alt:"#"},t]}))},constraints:null},{constraints:{price:function(t){var e=t&&t.replace(/\s/g,"");return e?isNaN(e)||Number(e)<=0?n.reject("Цена должна быть положительным целым числом"):n.resolve():n.reject("Не забудьте указать цену")},email:function(t){return t?t.indexOf("@")===-1?n.reject("Неверный формат.<br />Пример: example@yandex.ru"):n.resolve():n.reject("Не забудьте указать адрес почты")},userName:function(t){return t?n.resolve():n.reject("Пожалуйста, введите имя")}}})}(),function(){var t=require("lodash"),e=BEM.blocks["i-global"],n=require("user");BEM.DOM.decl("domik-opener",{onSetMod:{js:{inited:function(){this._domik=null,this._origRetpath=null,this._domikSubs=!1}}},getDefaultParams:function(){return{retpath:null,retpathParams:null,type:"domik"}},destruct:function(){null!==this._domik&&t.isFunction(this._domik)&&this._domik.apply(this._domik,arguments),this.__base.apply(this,arguments)},_onDomikShow:function(){this._setupRetpath(),this.trigger("show")},_onDomikHide:function(){this._teardownRetpath(),this.trigger("hide")},_getDomik:function(){if(null!==this._domik)return this._domik;switch(this.params.type){case"market":this._domik=$(".js-cart__popup_name_auth").bem("popup"),this._domik.open=function(){document.location.href="/checkout"},this._domik._popup=this._domik;break;case"domik":this._domik=BEM.create("domik_type_popup",{});break;default:throw"Unknown domik type: "+this.params.type}return this._domik},_setupRetpath:function(){var t=this.params;if((null!==t.retpath||null!==t.retpathParams)&&(this._origRetpath=e.param("retpath"),null!==t.retpath&&(e._params.retpath=t.retpath),null!==t.retpathParams)){var n=e._params.retpath.indexOf("?")>0?"&":"?";e._params.retpath+=n+decodeURIComponent("string"!=typeof t.retpathParams?$.param(t.retpathParams,!0):t.retpathParams)}},_teardownRetpath:function(){null!==this._origRetpath&&(e._params.retpath=this._origRetpath,this._origRetpath=null)},showDomik:function(){if(!n.isAuth){var t=this._getDomik();return t.open(),this._onDomikShow(),this._domikSubs||(t._popup.on("hide",this._onDomikHide,this),this._domikSubs=!0),!0}return!1},_onAuthClicked:function(t){if(this.showDomik())return t.preventDefault(),!1}},{live:function(){return this.liveBindTo("pointerclick",function(t){this._onAuthClicked(t)}),!1}})}(),BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this._username=this.findBlockInside("username","input"),this._password=this.findBlockInside("password","input"),this._button=this.findBlockInside("button","button2"),this._register=this.findBlockInside("register","button2"),this._remember=this.findBlockInside("remember","button2"),this._error=null,this._errorOwner=null,this._username.on("change",this._onInputChange,this),this._password.on("change",this._onInputChange,this),this.bindTo("submit",this._onBeforeSubmit),this.redraw()}}},_checkInput:function(t){var e=this,n=this.__self._getValidators(e,e._username.val(),e._password.val(),{checkEmpty:t}),r=n.every(function(t){var n=t();return!Array.isArray(n)||(e.showError(n[0],BEM.I18N("auth",n[1])),n[0].elem("control").attr("aria-invalid",!0),!1)});return r&&(this.hideError(),this._username.elem("control").removeAttr("aria-invalid"),this._password.elem("control").removeAttr("aria-invalid")),r},_onInputChange:function(t){this._checkInput(!1)},enableButton:function(){return this._button.delMod("disabled"),this},disableButton:function(){return this._button.setMod("disabled","yes"),this},_onBeforeSubmit:function(t){return this._username.val(this._username.val().trim()),!!this._checkInput(!0)&&(this._onSubmit(t),void this.trigger("submit",t))},_onSubmit:function(t){this.disableButton(),this.elem("timestamp").val((new Date).getTime())},_getError:function(){if(this._error)return this._error;var t=$(BEMHTML.apply(this.__self._buildError()));return BEM.DOM.append(this.domElem,t),this._error=this.findBlockOn(t,"popup"),this._errorMsg=this.findElem(t,"error"),this._error.on("hide",function(){this._errorOwner=null},this),this._error},showError:function(t,e){var n=this._getError();return this._curErrorMsg!==e&&(this._errorMsg.text(e),this._curErrorMsg=e),this._errorOwner!==t&&(this._errorOwner=t,n.hide().show(t)),this},hideError:function(){return this._error&&this._error.hide(),this},getUsernameBlock:function(){return this._username},getPasswordBlock:function(){return this._password},getHaunterBlock:function(){return this._haunter||(this._haunter=this.findBlockInside("haunter","checkbox")),
this._haunter},submit:function(){return this.domElem.submit(),this},redraw:function(){return this._onInputChange(),this._register&&this._register.setUrl(this.getRegisterURL()),this._remember&&this._remember.setUrl(this.getRememberURL()),this},setRetpath:function(t){return this.elem("retpath").val(t),this},getRetpath:function(){return this.elem("retpath").val()},getRegisterURL:function(){return this._getPassportURL("registration")},getRememberURL:function(){return this._getPassportURL("restoration")},_getPassportURL:function(t){return this.params.passport+"/"+t+"?"+$.param({from:this.elem("from").val(),origin:this.elem("origin").val(),retpath:this.getRetpath()})},destruct:function(){this._error&&this._error.destruct(),this.__base.apply(this,arguments)},getDefaultParams:function(){return{passport:BEM.blocks["i-global"].param("passport-host")}}},{_isUsernameValid:function(t,e){return this._isUsernameEmailValid(t)||this._isUsernameLoginValid(t)||this._isUsernamePhoneValid(t,e)},_isUsernameEmailValid:function(t){return/^\s*[^@\s]+@[^@\s]+\s*$/.test(t)},_isUsernameLoginValid:function(t){return/^\s*[-а-яА-ЯёЁA-Za-z0-9.]+\s*$/.test(t)},_isUsernamePhoneValid:function(t,e){return e?(t=t.trim(),t=t.replace(/-\)/,"+)"),t=t.replace(/(\d)-/g,"$1"),t=t.replace(/\((\d+)\)/,"$1"),t=t.replace(/(^|\d+)\(/,"$1"),t=t.replace(/^\+/,""),/^\d*$/.test(t)):/^\+?[-0-9]*(?:\([-0-9]+\))?[-0-9]+$/.test(t)},_isPasswordValid:function(t){return!/[^\-a-zA-Z0-9`!@#$%^&*()_=+\[\]{};:"\|\\,.<>\/?]/.test(t)},_buildError:function(){return{block:"popup",mods:{autoclosable:"no"},js:{directions:["right","left"]},attrs:{role:"alert","aria-live":"assertive","aria-atomic":!0},content:[{elem:"tail"},{elem:"content",mix:[{block:"auth",elem:"error"}]}]}},_getValidators:function(t,e,n,r){var i=r.checkEmpty,s=this;return[function(){return!i||0!==e.length||[t._username,"fill-input"]},function(){return!i||0!==n.length||[t._password,"fill-input"]},function(){return!/[а-яА-ЯёЁ]/.test(n)||[t._password,"wrong-keyboard-layout"]},function(){return!!s._isUsernameValid(e,!i)||[t._username,"wrong-characters"]},function(){return!!s._isPasswordValid(n)||[t._password,"wrong-characters"]},function(){return!n||n!==e||[t._password,"wrong-password"]}]}}),BEM.DOM.decl("auth",{redraw:function(){var t,e,n,r=(require("router"),require("env"),this.__self._retpathName),i=new RegExp(r+"=([^&]*)");return this.__base(),(e=this.findBlockInside("register","button"))?(n=e.url(),(t=n.match(i))?(e.url(n),this):this):this}}),BEM.DOM.decl("auth",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._socialDropdown=null,this._socialBroker=null,this._initSocialProviders()}}},_initSocialProviders:function(){var t=BEM.blocks["i-global"],e=t.param("social-providers"),n=this;if(e)n._createSocial(e);else{var r=t.param("social-host");if(!r)return;n._getSocialProviders(r,function(t){n._createSocial(t)})}},_getSocialProviders:function(t,e){$.getJSON(this.__self._getProvidersURL(t),function(t){e(t.providers)})},_createSocial:function(t){return t.length?(BEM.DOM.update(this.elem("social"),BEMHTML.apply(this.__self._buildSocial(t,this._uniqId))),void(this._socialDropdown=this.findBlockInside("social","dropdown"))):(this.elem("social").remove(),void this.dropElemCache("social"))},_onSocialClick:function(t){var e=this;t.preventDefault(),this._socialDropdown&&this._socialDropdown.hide(),this._socialBroker&&this._socialBroker.destruct(),this._socialBroker=BEM.create("social-broker"),this._socialBroker.start(function(){var t=e.getRetpath(),n=this.__self._getTopWindow().location;t&&n.href!==t?n.href=t:n.reload()}.bind(this),$.noop,{provider:this.elemParams(t.data.domElem).provider})}},{live:function(){return this.liveBindTo("social-link","pointerclick",function(t){this._onSocialClick(t)}).liveBindTo("social-link","keyup",function(t){var e=t.keyCode===BEM.blocks.keycodes.SPACE;!e||t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||this._onSocialClick(t)}),this.__base(),!1},_getProvidersURL:function(t){return t+"/providers2.jsonp?callback=?"},_buildSocial:function(t,e){var n,r,i,s=[];return t=t.filter(function(t){return t.enabled}),r=this._buildSocialPrimary(t),s=s.concat(r),i=this._buildSocialSecondary(t),n=this._buildSocialMore(r,i,e,t),n&&s.push(n),s},_buildSocialPrimary:function(t){return t.filter(function(t){return t.primary}).map(function(t){return{block:"link",mods:{theme:"normal"},mix:{block:"auth",elem:"social-link",js:{provider:t.code}},title:t.display_name,icon:{block:"auth",elem:"social-icon",elemMods:{code:t.code}}}})},_buildSocialSecondary:function(t){return t.map(function(t){return{block:"link",mods:{theme:"normal"},mix:{block:"auth",elem:"social-link",js:{provider:t.code}},title:t.display_name,icon:{block:"auth",elem:"social-icon",elemMods:{code:t.code}},text:{mix:{block:"auth",elem:"social-text"},content:BEM.blocks["i-common__string"].escapeHTML(t.display_name)}}})},_buildSocialMore:function(t,e,n,r){if(t.length>=r.length)return!1;var i=BEM.I18N("auth","more");return{block:"dropdown",js:!0,content:[{block:"button",mods:{pseudo:"yes",theme:"pseudo",size:"s"},mix:[{block:"dropdown",elem:"switcher"}],attrs:{title:i,"aria-label":i},content:"· · ·"},{elem:"popup",content:{block:"auth",elem:"social-popup",mix:[{block:"auth",js:{uniqId:n}}],content:e}}]}},_getTopWindow:function(){return window.top}}),BEM.DOM.decl({block:"auth",modName:"view",modVal:"market"},{_createSocial:function(t){this.__self._buildSocial=this.__self._buildCustomSocial,this.__base.apply(this,arguments)}},{_buildCustomSocial:function(t,e){function n(t){var e={gg:"gp"};return e[t]||t}var r,i,s=[];if(t=t.filter(function(t){return t.enabled}),r=t.filter(function(t){return t.primary}).map(function(t){return{block:"auth",elem:"social-link",js:{provider:t.code},mix:[{block:"social-icon",mods:{size:"l",color:"gray",type:n(t.code)}},{block:"auth",elem:"social-icon"}],title:t.display_name}}),s=s.concat(r),i=t.map(function(t){return{block:"auth",elem:"social-link",mix:{block:"link",mods:{theme:"normal"}},js:{provider:t.code},title:t.display_name,content:[{block:"auth",elem:"social-icon",mix:[{block:"social-icon",mods:{size:"s",type:n(t.code)}}]},t.display_name]}}),r.length<t.length){var a=BEM.I18N("auth","more");s.push({block:"dropdown2",mods:{switcher:"button",theme:"normal",size:"m"},switcher:{content:"…",mods:{theme:"pseudo"},attrs:{title:a,"aria-label":a}},popup:[{block:"popup2",elem:"tail"},{block:"auth",elem:"social-popup",mix:[{block:"auth",js:{uniqId:e}}],content:i}]})}return s}}),BEM.decl("social-broker",{_windowWidth:500,_windowHeight:280,onSetMod:{js:{inited:function(){this._window=null,this._timer=0,this._salt=0}}},start:function(t,e,n){var r,i,s,a=this;if(this._onSuccess=t,this._onFailure=e,!this._hasLocalStorage())return void this.onFailure({status:"error"});if(this._cleanup(),n=$.extend({},a._getDefaultParams(),n),r=n.startUrl+"?",s=n.popupName,delete n.startUrl,delete n.popupName,i=n.display,i&&"popup"!==i&&(n.retpath=n.retnopopup||n.retpath||window.location.href,delete n.retnopopup),r+=Object.keys(n).reduce(function(t,e){return t.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e])),t},[]).join("&"),i&&"popup"!==i)return void this._navigate(r);this._salt=Math.floor(1e9*Math.random()).toString(16);var o=s+"_"+this._salt;return this._lsLoginStatusKey="login_status_from_"+o,this._window=window.open(r,o,this._getPopupParams(),!1),this._window?(this._window.focus(),clearInterval(this._timer),void(this._timer=setInterval(function(){var t;try{t=window.localStorage.getItem(a._lsLoginStatusKey)}catch(t){}if(a.isClosed()&&(clearInterval(a._timer),!t))return void a.onFailure({status:"error"});if(t){var e=a._deserialize(t);a._handleStatus(e)===!1&&a.onFailure({status:"error"})}},500))):void this.onFailure({status:"error"})},_hasLocalStorage:function(){return Boolean(window.localStorage)},_deserialize:function(t){var e;try{e=JSON.parse(t)}catch(n){e={raw:t}}return e},_handleStatus:function(t){return"ok"===t.status?(this.onSuccess(t),!0):"error"===t.status&&(this.onFailure(t),!0)},isClosed:function(){return!this._window||this._window.closed},_navigate:function(t){window.location.href=t},_getDefaultParams:function(){var t=BEM.blocks["i-global"],e=t.param("id");return{startUrl:t.param("social-startUrl")||t.param("social-host")+"/broker/start",retpath:t.param("social-retpath")||[location.protocol,"//",location.host,t.param("lego-path"),"/common.blocks/social-broker/__closer/social-broker__closer.html"].join(""),retnopopup:t.param("social-retnopopup")||!1,consumer:e||"morda",popupName:"social_"+(e||"morda"),action_if_anonymous:"authorize",result_location:"fragment"}},_getPositionedParams:function(t,e,n,r){return["scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0",", left=",e,", top=",t,", width=",n,", height=",r].join("")},_getPopupParams:function(){var t,e,n=this._windowWidth,r=this._windowHeight;return window.opera?(t=(screen.availWidth-n)/2,e=(screen.availHeight-r)/2):(t=(window.innerWidth-n)/2,e=(window.innerHeight-r)/2),t=Math.round(t),e=Math.round(e),this._getPositionedParams(e,t,n,r)},_cleanup:function(){if(clearInterval(this._timer),this._lsLoginStatusKey)try{window.localStorage.removeItem(this._lsLoginStatusKey)}catch(t){}this.isClosed()||this._window.close(),this._window=null},onSuccess:function(t){this._cleanup(),this._onSuccess&&this._onSuccess(t)},onFailure:function(t){this._cleanup(),this._onFailure&&this._onFailure(t)},destruct:function(){this._cleanup(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({name:"button",modName:"pseudo",modVal:"yes"},{_onClick:function(t){this.__base.apply(this,arguments),this._href&&t.preventDefault()}}),BEM.decl("domik_type_popup",{destruct:function(){this._form&&this._form.destruct(),this._popup&&this._popup.destruct(),this.__base.apply(this,arguments)},create:function(){if(this._created)return this;var t,e=this.__self,n=e._buildTypePopup(this._uniqId,this.params.mods,this.params.js),r=$(BEMHTML.apply(n)),i=this.params.hidden;if(BEM.DOM.append(BEM.DOM.scope,r),this._popup=r.bem("popup"),t=this._form=this._popup.findBlockInside("auth"),i){var s=i.domElem;t.getUsernameBlock().val(s.find("input[name=login]").change().val()),t.getPasswordBlock().val(s.find("input[name=passwd]").change().val()),delete this.params.hidden,i.destruct()}return this._created=!0,this},open:function(){return BEM.blocks["i-global"].param("login")?this:(this._created||this.create(),this.close(),this._popup.show(),this.afterCurrentEvent(function(){this._form&&(BEM.blocks["i-ua"].ios||this._form.getUsernameBlock().setMod("focused","yes"),this._form.redraw())}),this)},close:function(){return this._popup.hide(),this},isOpened:function(){return this._popup&&this._popup.isShown()||!1},getFormBlock:function(){return this._form}},{_buildTypePopup:function(t,e,n){var r=(n||{}).explain,i={block:"popup",mix:[{block:"domik",elem:"popup"}],mods:{type:"modal",position:"fixed","body-scroll":"no",theme:"ffffff"},underMods:{type:"paranja"},content:{elem:"content",content:{block:"domik",js:$.extend({_uniqId:t},n),mods:$.extend({type:"popup"},e),content:[r?{elem:"explain",content:r}:"",{block:"auth",mods:{content:"auto"}}]}}};return parseInt(BEM.blocks["i-ua"].ios,10)>=8?$.extend(i,{js:{left:"50%",top:150},attrs:{style:"position: absolute;"}}):i}}),BEM.decl("domik_type_popup",{create:function(){if(this._created)return this;var t,e=this.__self,n=e._buildTypePopup(this._uniqId,this.params.mods,this.params.js),r=$(BEMHTML.apply(n)),i=this.params.hidden;if(BEM.DOM.append(BEM.DOM.scope,r),this._popup=r.bem("modal"),t=this._form=this._popup.findBlockInside("auth"),i){var s=i.domElem;t.getUsernameBlock().val(s.find("input[name=login]").change().val()),t.getPasswordBlock().val(s.find("input[name=passwd]").change().val()),delete this.params.hidden,i.destruct()}return this._created=!0,this}},{_buildTypePopup:function(t,e,n){var r=(n||{}).explain;return{block:"modal",mods:{theme:"normal",background:"light",closer:"viewport",autoclosable:"yes"},content:[{block:"domik",js:$.extend({_uniqId:t},n),mods:$.extend({type:"modal",view:"market"},e),content:[r?{elem:"explain",content:r}:"",{block:"auth",mods:{content:"auto",view:"market"}}]}]}}}),BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{getDefaultParams:function(){var t=this.__base();return t.top="50%",t.left="50%",t},_isPercentVal:function(t){return"string"==typeof t&&t.indexOf("%")>0},show:function(t){return this._moveToContainer(),this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t||(t={left:this.params.left,top:this.params.top});var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/(-100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/(-100/parseInt(t.top,10))),this._show(t),this}}),BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{show:function(t){return this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t||(t={left:this.params.left,top:this.params.top});var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/-(100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/-(100/parseInt(t.top,10))),this._show(t),this}}),BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{addChild:function(t){this.__base.apply(this,arguments),t.setMod("watch-scroll","no")},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocusable.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._firstFocusable.focus())}}),BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{getOwnerPos:function(){var t=this.__base.apply(this,arguments);if(this._owner){var e=this._viewport;t.top-=e.scrollTop(),t.left-=e.scrollLeft()}return t}}),function(){var t={};BEM.DOM.decl({block:"popup",modName:"body-scroll",modVal:"no"},{onSetMod:{visibility:function(){return this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visibility","visible")?t[this.params.uniqId]=!0:delete t[this.params.uniqId],this._manageScopeOverflow()}),this.__base()}},destruct:function(){var e=this.params.uniqId;t[e]&&(delete t[e],this._manageScopeOverflow()),this.__base.apply(this,arguments)},_enableScroll:function(){return this._scope.css({overflow:""}),this},_disableScroll:function(){return this._scope.css({overflow:"hidden"}),this},_manageScopeOverflow:function(){var e=Object.keys(t).length;0===e?this._enableScroll():1===e&&this._disableScroll()}})}(),BEM.DOM.decl({block:"auth",modName:"view",modVal:"market"},{_getError:function(){if(this._error)return this._error;var t=$(BEMHTML.apply(this.__self._buildPopup2Error()));return BEM.DOM.append(this.domElem,t),this._error=this.findBlockOn(t,"popup2"),this._errorMsg=this.findElem(t,"error"),this._error.on("beforeClose",function(){this._errorOwner=null},this),this._error}},{_buildPopup2Error:function(){return{block:"popup2",directions:["right-center","left-center"],mods:{target:"anchor",theme:"normal"},content:[{elem:"tail"},{elem:"content",mix:[{block:"auth",elem:"error"}]}]}}}),BEM.DOM.decl("dropdown2",{onSetMod:{js:{inited:function(){this._switcher=null,this._popup=null}},opened:{yes:function(){return!this.hasMod("disabled")&&void this.trigger("beforeOpen").getPopup().setAnchor(this.getSwitcher()).setMod("visible","yes").on("beforeClose",this._onPopupBeforeClose,this)},"":function(){this.trigger("beforeClose").getPopup().delMod("visible").un("beforeClose",this._onPopupBeforeClose,this)}},disabled:{"*":function(t,e){this.getSwitcher().setMod(t,e)},yes:function(){this.delMod("opened")}}},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("popup2")),this._popup},getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside(this.getMod("switcher"))),this._switcher},_onPopupBeforeClose:function(){this.delMod("opened")},_onSwitcherClick:function(t){this._switcher||(this._switcher=t.block),this.toggleMod("opened","yes")}},{live:!0}),BEM.DOM.decl({block:"dropdown2",modName:"switcher",modVal:"button"},{onSetMod:{opened:function(t,e){this.__base.apply(this,arguments),this.hasMod("has-tick")&&this.getSwitcher().toggleMod("arrow","up","down",Boolean(e))}}},{live:function(){return this.liveInitOnBlockInsideEvent("click","button",function(t){this._onSwitcherClick(t)}),this.__base()}}),function(){var t=require("user"),e=require("querystring"),n=require("router"),r=require("metrika"),i="n-product-subscribe",s=BEM.DOM.decl({name:i,modName:"type",modVal:"price"},{onSetMod:{action:{subscribed:function(){r.emitGoalPoint({productSubscribe:"subscribePrice"}),this.__base()}}},_initBlock:function(){this.CONSTRAINTS={price:s.constraints.price,email:s.constraints.email,userName:s.constraints.userName}},_buildContent:function(t){return[this._buildWrapper(t),this._buildFooter(t)]},_buildHeader:function(){var t=this.params;return{block:i,elem:"header",content:[{elem:"title",content:"Ожидаемая цена"},{elem:"desc",content:[{block:"input",value:t.price,mods:{size:"s",clear:"no",for:"price"},name:"price",mix:this._buildManotice(),content:[{elem:"hint",content:t.currency},{elem:"control"}]}]},{elem:"title",content:""},{elem:"desc",content:[{block:"checkbox",checkboxAttrs:{name:"onlyHome",value:"true"},mods:{size:"s",checked:t.onlyHome?"yes":"",for:"region"},content:[{elem:"label",content:"Только в моём городе"}]}]}]}},_buildWrapper:function(n){var r=this.params,s={block:i,elem:"wrapper",content:[{block:i,tag:"input",attrs:{type:"hidden",name:"modelId",value:r.modelId}},{block:i,tag:"input",attrs:{type:"hidden",name:"id",value:r.id}}]};switch(n){case"subscribe":case"change-subscribe":if(s.content.push(this._buildHeader()),t.isAuth){for(var a,o,c,l,u=t.emails.length,d=[];a=t.emails[--u];)o={value:a.address},l=a.default?o:l,r.email===a.address&&(o.selected="selected",c=a),d.push({block:"select",elem:"option",attrs:o,content:a.address});c||(l&&(l.selected="selected"),c={address:r.email}),s.content.push({elem:"title",content:"Электронная почта"},{elem:"desc",content:[{block:"select",name:"email",mods:{size:"s",theme:"normal",layout:"content"},js:{footer:{block:"link",mix:[{block:"settings-list",elem:"link"},{block:i,elem:"select-mail-change"}],url:"https://validator.yandex.ru/",content:"Редактирование адресов"}},content:[{block:"button",content:c.address},{elem:"control",content:d}]}]})}else s.content.push({elem:"title",content:"Электронная почта"},{elem:"desc",content:[{block:"input",name:"email",value:r.email,mods:{size:"s",clear:"no",for:"email"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:"Имя"},{elem:"desc",content:[{block:"input",name:"userName",value:r.userName,mods:{size:"s",clear:"no",for:"userName"},content:{elem:"control"},mix:this._buildManotice()}]},{elem:"title",content:""},{elem:"desc",mix:{block:i,js:!0,elem:"signin"},content:[{block:"link",content:"У меня есть аккаунт на Яндексе",mods:{pseudo:"yes"},mix:{block:"domik-opener",js:{type:"domik",retpathParams:e.stringify({showPopup:r.modelId})}}}]});break;case"unsubscribe":case"subscribed":case"updated":s.content.push({block:"title",mods:{size:"18"},content:"Вы узнаете о снижении цены"},{elem:"item",content:"Ожидаемая цена"},{elem:"value",content:r.price+" "+r.currency},{elem:"item",content:"Электронная почта"},{elem:"value",content:r.email}),t.isAuth||s.content.push({elem:"item",content:"Как обратиться"},{elem:"value",content:r.userName})}return s.content.push({elem:"error"}),s},_buildFooter:function(t){var e={block:i,elem:"footer",mix:{block:"clearfix"},content:[]};switch(t){case"subscribe":e.content.push({elem:"text",content:"Товар будет добавлен в отложенные"},{block:"button",mods:{size:"m",theme:"action",for:"add"},content:"Подписаться",js:{action:"subscribed"}});break;case"unsubscribe":e.content.push({block:"button",mods:{size:"m",place:"left",for:"remove"},content:"Отменить подписку",js:{action:"subscribe"}},{block:"button",mods:{size:"m"},content:"Изменить условия",js:{action:"change-subscribe"}});break;case"change-subscribe":e.content.push({block:"button",mods:{size:"m",place:"left"},content:"Отменить изменения",js:{action:"unsubscribe"}},{block:"button",mods:{size:"m",theme:"action",for:"update"},content:"Сохранить",js:{action:"updated"}});break;case"subscribed":case"updated":e.content.push({elem:"text",content:[{block:"image",mods:{name:"heart"},alt:"#"},"Товар добавлен в",{block:"link",url:n.buildURL("market:wishlist"),content:"отложенные"}]},{block:"button",mods:{size:"m"},content:"Изменить условия",js:{action:"change-subscribe"}})}return e}})}(),function(){var t=require("user"),e=require("metrika"),n=require("templater"),r="n-product-subscribe",i=BEM.DOM.decl({name:r,modName:"type",modVal:"stock"},{onSetMod:{action:{subscribe:function(){t.isAuth&&e.emitGoalPoint({productSubscribe:"unsubscribeStock"}),this.__base()},subscribed:function(){e.emitGoalPoint({productSubscribe:"subscribeStock"}),this.__base()}}},rebuild:function(e){return BEM.DOM.update(this.domElem,$(n.render({data:{action:e||this.getMod("action"),params:this.params,user:t,type:"stock"},mode:"n-product-subscribe__content"}))),this},_initBlock:function(){t.isAuth||(this.CONSTRAINTS={email:i.constraints.email,userName:i.constraints.userName})},_showInternalError:function(e){var n=this.getMod("action");switch(this._preloader.hidePreloader(),!0){case""===n:case t.isAuth&&"subscribe"===n:case!t.isAuth&&"subscribed"===n:this.rebuild("error");break;default:this.__base(e)}}},{})}(),function(){var t=require("templater"),e=require("user"),n=require("metrika"),r="n-product-subscribe",i=BEM.DOM.decl({name:r,modName:"type",modVal:"simple-stock"},{onSetMod:{action:{subscribe:function(){e.isAuth&&n.emitGoalPoint({productSubscribe:"unsubscribeStock"}),this.__base()},subscribed:function(){n.emitGoalPoint({productSubscribe:"subscribeStock"}),this.__base()},"*":function(t,e){this.rebuild(e),this._rebuildButton(e)._initButton()}}},create:function(){this.__base(),this._initButton()},rebuild:function(n){return BEM.DOM.update(this.domElem,$(t.render({args:[{state:n||this.getMod("action"),userName:this.params.userName,email:this.params.email,id:this.params.id,productId:this.params.modelId,isNew:"true"===this.params.isNew,isAuth:e.isAuth}],mode:"n-product-summary-subscribe"}))),this},_initBlock:function(){this.CONSTRAINTS=e.isAuth?{email:i.constraints.email}:{email:i.constraints.email,userName:i.constraints.userName}},_rebuildButton:function(e){var n=$(t.render({args:[e],mode:"n-product-summary-subscribe__button"}));return BEM.DOM.replace($(".n-product-summary-subscribe__button"),n),this},_initButton:function(){return BEM.blocks.button2.on($(".n-product-summary-toolbar"),"click",this._onButtonClick.bind(this)),this},_showInternalError:function(t){this._preloader.hidePreloader(),this._setError(),this.__base(t)},_buildError:function(t){return t}},{})}(),function(){var t=require("metrika");BEM.DOM.decl({block:"n-prepayment",modName:"with",modVal:"modal",baseBlock:"modal-opener"},{onSetMod:{js:{inited:function(){this._modal=this.findBlockInside("modal"),this.bindTo("modal-opener","pointerclick",this.showModal)}}},showModal:function(){this._modal.show(),this._reachGoal()},_reachGoal:function(){t.reachGoal("arbitrage_snippet_popup_show",t.marketCounterID)}},{live:function(){return this.liveInitOnEvent("pointerover"),!0}})}(),BEM.DOM.decl("modal-opener",{getModal:function(){return this._modal||(this._modal=BEM.blocks.modal.createModal(this.params.modal)),this._modal},getModalContent:function(){return this.getModal().getContent()},open:function(){this.getModal().show()},close:function(){this.getModal().hide()}},{live:function(){this.liveBindTo("pointerclick",this.prototype.open)}}),function(){var t=require("router");BEM.DOM.decl("n-complain",{onSetMod:{js:{inited:function(){this.elem("mimo").on("click",this.onClickMimo.bind(this))}}},onClickMimo:function(){var e=this;"done"!==this.getMod("offers")&&(this.setMod("offers","process"),this.elem("mimo").text("[отправляем]"),$.ajax({url:t.buildURL("api:complain"),type:"POST",data:JSON.stringify([{about:"product",productId:this.params.productId,cause:"incorrectCategory",session:this.params.catalogerBaseId}]),contentType:"application/json; charset=utf-8",dataType:"json",timeout:3500}).fail(this.onFailMimo.bind(this)).success(function(t){t.status?e.onSuccessMimo():e.onFailMimo()}))},onSuccessMimo:function(){this.setMod("offers","done"),this.elem("mimo").text("[MIMO:success]")},onFailMimo:function(){alert("Что-то пошло не так. Попробуйте позже"),this.setMod("offers","fail"),this.elem("mimo").text("[MIMO:error]")}})}(),BEM.DOM.decl("n-hint-button",{onSetMod:{js:{inited:function(){var t=this;this._owner=this.findBlockInside("link"),this._popup=this.findBlockInside("popup"),"button"===this.params.place?this._owner.bindTo("pointerpress",function(e){t._popup.toggle(t._owner),e.stopPropagation()}):this._owner.bindTo("pointerclick",function(){t._popup.toggle(t._owner)})}}}}),function(){var t=require("router");BEM.DOM.decl({block:"n-hint-button",modName:"place",modVal:"filter"},{onSetMod:{js:{inited:function(){var e=this,n=t.buildURL("api:faq-filter",{filterId:this.params.filterId,hid:this.params.hid});this._dataLoaded=!1,this._owner=this.findElem("handle"),this._owner.on("pointerclick",function(t){e._popup||(e._popup=e._createPopup(),e._popup.on("show",function(){e.domElem.css("display","inline-block"),e.domElem.css("visibility","visible"),e.domElem.css("opacity","1"),BEM.channel("market:popups").trigger("filter-hint",e._popup._uniqId)}),e._popup.on("hide",function(){e.domElem.removeAttr("style")}),BEM.channel("market:popups").on("filter-hint",function(t,n){e._popup._uniqId!=n&&e._popup.hide()})),e._dataLoaded||$.ajax({url:n,success:function(t){if(t&&t.description){e._dataLoaded=!0;var n;n=t.descriptionIsReady?e._createDescription({content:t.description}):e._buildDescription(t.description),e._popup.hide(),e._popup.setContent(n),e._popup.repaint()}},error:function(){e._popup.hide()}}),e._popup.toggle(e._owner),t.stopPropagation()})}}},_createPopup:function(){var t={block:"popup",mix:{block:"n-hint-button__popup"},mods:{theme:"hint"},content:[{elem:"content",content:{block:"spin2",mods:{size:"xs",progress:"yes"}}},{elem:"tail"},{elem:"close"}],js:{directions:[{to:"bottom",axis:"right",offset:{left:10,top:4}},{to:"bottom",axis:"left",offset:{left:-30,top:4}}]}};return $(BEMHTML.apply(t)).bem("popup")},_buildDescription:function(e){var n={content:[]};if(this.params.filterName){var r={content:this.params.filterName,tag:"strong",cls:"n-hint-button__popup-header"};n.content.push(r)}if(e){var i={content:e};n.content.push(i)}if(this.params.isGuru&&this.params.hid){var s={block:"link",attrs:{target:"_blank",rel:"nofollow noopener"},url:t.buildURL("market:faq",{hid:this.params.hid}),content:"Словарь терминов по категории "+this.params.categoryName,cls:"n-hint-button__dictionary-link"};n.content.push(s)}return this._createDescription(n)},_createDescription:function(t){return $(BEMHTML.apply(t))}})}(),require.define("n-cart-offer-adapter",function(t,e,n,r,i){function s(t){var e=t.shop||{};return{id:t.wareId,type:t.entity.toUpperCase(),name:t.titles.raw,shopId:e.id,isGlobalShop:e.isGlobal,vendorId:t.vendorId,shopName:e.name,qualityRating:e.qualityRating,modelId:Math.max(t.model&&t.model.id,0)||void 0,hid:t.categories[0].id,fee:t.feeShow,feeOffer:t.fee,cpa:t.cpa,cpc:t.cpc,onStock:Boolean(t.delivery.inStock),price:t.prices.value,feedId:e.feed?e.feed.id:void 0,currency:t.prices.currency,description:t.description,offerId:e.feed?e.feed.offerId:void 0,manufacturerWarranty:t.manufacturer?t.manufacturer.warranty:void 0,countryOfOrigin:t.manufacturer?t.manufacturer.country:void 0,url:t.urls.encrypted,urlCpa:t.urls.cpa,urlGeo:t.urls.geo,urlOfferCard:t.urls.offercard,urlPickupGeo:t.urls.pickupGeo,urlPostomatGeo:t.urls.postomatGeo,images:t.pictures?t.pictures.map(c):[],delivery:t.delivery?o(t.delivery):{},region:t.region,seller:t.seller,shopOutletsCount:e.outletsCount,shopStoresCount:e.storesCount,shopBookNowStoresCount:e.bookNowStoresCount,shopPickupStoresCount:e.pickupStoresCount,shopPostomatStoresCount:e.postomatStoresCount,filters:l.filter(t.filters,{kind:2}),shopReturnDeliveryAddress:e.returnDeliveryAddress,returnPolicy:t.returnPolicy,isForeign:t.isForeign,prepayEnabled:t.prepayEnabled,outletId:t.outlet&&t.outlet.id,outletRegionId:t.outlet&&t.outlet.region&&t.outlet.region.id,bundleSettings:t.bundleSettings||{},isPromotedByVendor:t.isPromotedByVendor,realShop:t.realShop,sku:t.sku,shopSku:t.shopSku}}function a(t){var e=t.pictures[0]?t.pictures[0].thumbnails[0]:{},n=t.prices;return{id:t.id,name:String(t.$("name/text()")),hid:String(t.$("hyper_categ_id/text()")),price:{min:n.min,max:n.max,currency:n.currency,avg:n.avg},image:{url:e.url,width:e.width,height:e.height}}}function o(t){var e=t.shopPriorityRegion,n=t.shopPriorityCountry;return{regionID:t.regionId,shipping:t.isAvailable,shippingShort:t.shipping?t.shipping.shortText:void 0,shippingLong:t.shipping?t.shipping.fullText:void 0,pickup:t.hasPickup,store:t.hasLocalStore,free:t.isFree,downloadable:t.isDownloadable,price:t.price?t.price.value:void 0,priority:t.isPriority,priorityRegionID:e&&e.id,priorityRegionName:e&&e.name,priorityCountryNameGenitive:n&&n.lingua.name.genitive,deliveryOptions:t.options,currency:t.price&&t.price.currency,isPriorityRegion:t.isPriorityRegion,availableServices:t.availableServices,pickupOptions:t.pickupOptions,isCountrywide:t.isCountrywide,shopPriorityRegion:e,shopPriorityCountry:n,fastestServiceTime:t.fastestServiceTime,hasYandexDelivery:t.hasYandexDelivery}}function c(t){var e,n={map:[],length:0},r=t.thumbnails,i=r.length;for(n.length=i;i;)e=r[--i],n.map[i]=String(e.containerWidth)+String(e.containerHeight),n[i]={url:e.url,width:e.width,height:e.height};return n}var l=n("lodash");t.exports={offer:s,model:a}}),BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(t){this._pressedRadio=t.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(t){var e=this._pressedRadio;delete this._pressedRadio,this.delMod(e,"pressed"),this.afterCurrentEvent(function(){if(this.domElem){var n=this.findElem(e,"control");n.prop("checked")||!e.is(t.target)&&!e.find(t.target).length||n.trigger("change").focus()}}),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",function(t){this._onPointerPress(t)}),this.__base()}}),function(){var t=require("metrika"),e=require("router"),n="api:clickproxy",r="tel:";BEM.DOM.decl("n-phone",{showHiddenContent:function(){return this.showHiddenNumber(),this.setLinkHref(),this},activatePaidAction:function(){return $.ajax({url:this.buildPaidActionUrl(),type:"GET"}),this},onPhoneNumberClick:function(t){this.hasMod("opened")||(this.trigger("phone-click"),t.preventDefault(),this.activatePaidAction().showHiddenContent().removeClickHandler().emitMetrika())},showHiddenNumber:function(){var t=this.params.phone&&this.params.phone.pretty;return t&&BEM.DOM.update(this.elem("number"),t),this},setLinkHref:function(){var t=this.findBlockOn(this.elem("link"),"link");return t&&this.afterCurrentEvent(function(){t.domElem.attr("href",this.buildPhoneLinkHref()),t.delMod("pseudo")},this),this},buildPhoneLinkHref:function(t){var e=this.params.phone&&this.params.phone.clean||t;if(e)return r+e},emitMetrika:function(){return t.emitGoalPoint({phone:this.params}),this},removeClickHandler:function(){return this.setMod("opened","yes"),this},buildPaidActionUrl:function(){return e.buildURL(n,{target:this.params.link
})}},{live:function(){this.liveBindTo("link","pointerclick",this.prototype.onPhoneNumberClick)}})}(),function(){var t=require("templater");BEM.DOM.decl({block:"n-phone",modName:"multiple",modVal:"yes"},{showHiddenContent:function(){return this.showHiddenNumber(),this.setLinkHref(),BEM.DOM.append(this.domElem,this.additionalPhoneTemplate()),this},additionalPhoneTemplate:function(){return t.render({mode:"n-phone_opened_yes",data:{phone:this.params.additionalPhone}})}})}(),function(){var t=require("metrika"),e=require("router"),n=require("templater"),r=require("lodash"),i="Во время загрузки описания произошла ошибка.",s="Продавец не предоставил описание для данного товара.";BEM.DOM.decl({name:"n-offer-info"},{onSetMod:{js:{inited:function(){this._initMetrika(),this._initRecommendations(),this._loadOfferDesc()}}},_initRecommendations:function(){var t=this.findBlockInside({blockName:"n-w-recommendations",modName:"type",modVal:"accessories"}),e=this.findBlockInside({blockName:"n-w-recommendations",modName:"type",modVal:"personal-offers"}),n=[t,e];$.when.apply($,r.invokeMap(n,"result")).done(r.bind(this._onRecommendationsReady,this))},_loadOfferDesc:function(){var t=this.findElem("desc-text");$.ajax({context:this,url:e.buildURL("api:offer-info"),data:{offerId:this.params.offer.wareId},success:function(e){BEM.DOM.update(t,e[0].description||s)},error:function(){BEM.DOM.update(t,i)}})},_onRecommendationsReady:function(){var t=r.find(arguments,function(t){return Boolean(t&&t.widget)});if(t){var e=t.params.type,n=this.findElem("details-tab-text-recommendations"),i=this.findElem("details-tab-recommendations");if(n){var s="accessories"===e?"C этим товаром покупают":"Рекомендации";n.text(s)}i&&this.setMod(i,"visible","yes")}},_initMetrika:function(){var e,n=this.params.entityType,r=this;e="real"===this.params.offer.cpa?this.params.offer.shouldShowCpcInPopup?"cpa_cpc":"cpa":"cpc";var i=this.params.offer.benefit&&this.params.offer.benefit.type,s=this.findBlockInside("n-phone");s&&s.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"phone",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var a=this.findBlockOn("popup");a&&a.on("hide",function(){t.emitGoalPoint({productOfferClick:{element:"popupClose",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var o=this.findBlockInside("wishlist-control");o&&o.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"wishlistButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var c=this.findBlockInside("offer");if(c){var l=c.findElem("pusher");l&&(t.emitGoalPoint({productOfferClick:{element:"addToCartButton",entityType:n,isPopup:!0,benefitType:i,offerType:e,event:"show"}}),l.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"addToCartButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}}),r.trigger("offer-info_to-cart_click")}))}var u=this.findElem("action-to-cart");u&&(t.emitGoalPoint({productOfferClick:{element:"goToCartButton",entityType:n,isPopup:!0,benefitType:i,offerType:e,event:"show"}}),u.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"goToCartButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})}));var d=this.findElem("action-cpc");d&&d.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toShopButton",entityType:n,isPopup:!0,benefitType:i,offerType:e,hasGoToCartButton:Boolean(u)}})});var p=this.findElem("action-checkout");p&&p.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toCheckoutButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var h=this.findBlockInside({blockName:"n-offer-info__actualization",modName:"status",modVal:"fail"}),f=h&&h.findBlockInside("button2");f&&f.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toOffersButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var _=this.findElem("details-tab-promo");_&&_.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"promoTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var m=this.findElem("details-tab-spec");m&&m.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"specTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var v=this.findElem("details-tab-desc");v&&v.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"descTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var y=this.findElem("details-tab-delivery");y&&y.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"deliveryTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var b=this.findElem("details-tab-purchase");b&&b.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"purchaseTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var g=this.findElem("details-tab-recommendations");g&&g.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"recommendationsTab",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var k=this.findBlockInside("outlets-button");k&&k.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toGeoButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})});var w=this.findElem("complain"),E=w&&this.findBlockInside(w,"button2");E&&E.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"complainButton",entityType:n,isPopup:!0,benefitType:i,offerType:e}})})}},{create:function(t){var e=n.render({data:t.offer,mode:"n-offer-info",args:[{filters:t.filters,entityType:t.entityType,context:t.context,productType:t.productType,openTab:t.openTab,userCountryId:t.userCountryId}]});return $(e).bem("n-offer-info",t)}})}(),function(){function t(){return r.addOffer(this.data._cartOffer)}function e(){var t=new s,e=this.data.params.offer.urls.cpa,r=o.buildURL("api:clickproxy",{target:e});return e?(n.get(r).always(function(){t.resolve()}),t):(t.reject(),t)}var n=require("jquery"),r=require("cart"),i=require("Offer"),s=require("Response"),a=require("checkout"),o=require("router"),c=require("n-cart-offer-adapter").offer;BEM.DOM.decl({name:"n-offer-info",modName:"type",modVal:"cpa"},{onSetMod:{js:{inited:function(){this.__base();var t=c(this.params.offer);this._cartOffer=new i(t),this._status=a.getStatus(this._cartOffer),this._bindToEvents(),this._actualize(),this._updateInCartState()}}},_actualize:function(){var t=this,e=a.actualize(this._cartOffer);return this.setMod("actualization","progress"),this.trigger("actualization:progress"),e.onReject(function(){t.setMod("actualization","fail"),t.trigger("actualization:fail")}),e.onResolve(function(){t.setMod("actualization","success"),t.trigger("actualization:success")}),this},_bindToEvents:function(){var t=this.findElem("action-checkout");t.on("pointerclick",this._checkout.bind(this)),r.onceState(r.STATE_READY,this._updateInCartState,this),r.on(r.EVENT_ADD,this._updateInCartState,this),r.on(r.EVENT_REMOVE,this._updateInCartState,this),r.on(r.EVENT_UPDATE,this._updateInCartState,this)},destruct:function(){r.off(r.EVENT_ADD,this._updateInCartState,this),r.off(r.EVENT_REMOVE,this._updateInCartState,this),r.off(r.EVENT_UPDATE,this._updateInCartState,this)},_checkout:function(){var t=this;return r.hasOffer(this._cartOffer)?void t._redirectToCheckout():void this._addToCart().onResolve(function(){t._redirectToCheckout()})},_addToCart:function(){return new s.Queue([e,t]).setData(this).start()},_redirectToCheckout:function(){window.location=o.buildURL("market:checkout")},_updateInCartState:function(){r.hasOffer(this._cartOffer)?this.setMod("in-cart","yes"):this.setMod("in-cart","no")}})}(),function(){BEM.DOM.decl("n-roll-more",{onSetMod:{js:{inited:function(){this._pagerMoreButton=this.findBlockInside("pager-more","button2"),this._pagerMoreButton&&this._pagerMoreButton.bindTo("pointerclick",$.proxy(this._onPagerMoreClick,this))}}},_onPagerMoreClick:function(){this._pages=this.elem("page","hidden","yes"),this.delMod(this._pages.eq(0),"hidden"),this._pages.eq(0).bem("n-roll-more__page").findBlocksInside("snippet-cell"),BEM.DOM.init(this._pages.eq(0)),this._pages.length<=1&&this._pagerMoreButton.domElem.fadeOut()}})}(),function(){function t(t){return e(t).castArray().map(function(t){return t||n}).value()}var e=require("lodash"),n="18446744073709551615";BEM.DOM.decl({block:"n-w-recommendations",modName:"type",modVal:"accessories"},{getCarouselData:function(){var n,r=this.params,i=t(r.hyperid),s=e.has(window.state.expFlags,"dsk_accessoires_with-filters");return n=s?{entity:"widget",id:"AccessoriesGroupedCarousel",anchor:"recommendations",data:{fesh:r.fesh,price:r.price,hyperid:i,hid:r.hid,offerid:e.castArray(r.offerid),pp:r.pp},view:{snippets:{rows:{count:r.rowsCount||1},columns:{count:r.columnsCount||3},cells:{type:"recommendation"},align:"left"},groups:{place:"top"},pager:{place:"popup"!==r.layout?"onSides":null}},metrika:r.metrika}:{entity:"widget",id:"Carousel",anchor:"recommendations",groups:[{resources:{garsons:this.getGarsonsData(),completers:[]}}],view:{snippets:this.getSnippetsData(),pager:{place:"popup"!==r.layout?"onSides":null}},metrika:r.metrika},this.decorateWidgetViewByHeaderData(n.view),n},getGarsonsData:function(){var n=e.has(window.state.expFlags,"dsk_accessoires_with-filters");if(!n){var r=this.params,i=t(r.hyperid);return[{id:"RecommendedByOffer",params:{fesh:r.fesh,price:r.price,hyperid:i,hid:r.hid,offerid:e.castArray(r.offerid),layout:r.layout,pp:r.pp}}]}}})}(),function(){BEM.DOM.decl({block:"n-w-recommendations",modName:"type",modVal:"personal-offers"},{getGarsonsData:function(){var t=this.params;return[{id:"PersonalOffers",count:32,params:{fesh:t.fesh,hid:t.hid,pp:t.pp}}]}})}(),function(){var t=require("lodash"),e=BEM.blocks["n-offer-info"],n=BEM.blocks["uni-modal"],r=require("teleport"),i=require("user"),s=require("metrika");BEM.DOM.decl({name:"n-i-offer-details-button"},{_showPopup:function(){this._createPopup();var e=t.get(this.params,"metrika.onClick");e&&s.emitGoalPoint(e)},_createPopup:function(){var t=r.get("ProductInfo"),s=e.create({offer:this.params.offer,filters:this.params.filters,entityType:this.params.entityType,context:this.params.context,productType:t?t.type:"",openTab:this.params.openTab,userCountryId:i.region.country});n.show(s.domElem)}},{live:function(){this.liveBindTo("click",function(){this._showPopup()})}})}(),function(){var t=require("templater"),e=require("metrika");BEM.DOM.decl("i-shop-rating",{getShopPopup:function(){return this._popup||(this._popup=this._createPopup(this.params)),this._popup.findBlockOn("n-shop-rating-popup")},_togglePopup:function(){this._popup||(this._popup=this._createPopup(this.params)),this._popup.toggle(this.domElem)},_createPopup:function(e){var n=t.render({data:e,mode:"n-shop-rating-popup",args:[location.href]}),r=$(n).bem("popup");return r.domElem.bem("n-shop-rating-popup"),r}},{live:function(){this.liveBindTo("pointerclick",function(){this._togglePopup(),e.emitGoalPoint({shopLink:{action:"click"}})})}})}(),function(t){"use strict";BEM.DOM.decl("n-adult-snippet",{onSetMod:{js:{inited:function(){this._acceptButton=this.findBlockInside({block:"button",modName:"adult",modVal:"accept"}),this._acceptButton&&this._acceptButton.bindTo("pointerclick",this.alwaysShowDildos)}}},alwaysShowDildos:function(){return t.cookie("adult","1",{path:"/"}),document.location.reload(),!1},neverShowDildos:function(){var e=this.domElem,n=300;t.cookie("adult","0",{path:"/"}),this.setMod("state","closing"),setTimeout(function(){BEM.DOM.destruct(e)},n)}},{live:function(){return this.liveBindTo("close","pointerclick",function(){this.neverShowDildos()}),!1}})}(jQuery),function(){var t=require("metrika");BEM.DOM.decl("n-snippet-card2",{onSetMod:{js:{inited:function(){this._initSnippetMetrika()}}},_initSnippetMetrika:function(){var t=this.params.type||"";this._title=this.findElem("title"),this._image=this.findElem("image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._priceLink=this.findElem("main-price"),this._priceStickers=this.findElem("price-stickers"),this._priceStickers&&(this._priceStickersBlock=this.findBlockOn(this._priceStickers,"stickers")),this._priceStickersBlock&&(this._discountSticker=this._priceStickersBlock.findElem("sticker","type","discount")),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this._toPricesLink=this.findBlockInside({block:"link",modName:"type",modVal:"prices"}),this._shopReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"shop-reviews"}),this._modelReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"reviews"}),this._title&&this.bindTo(this._title,"pointerclick",function(){this._metrikaSnippetClick("header",t)}),this._image&&this.bindTo(this._image,"pointerclick",function(){this._metrikaSnippetClick("picture",t)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",t)}),this._priceLink&&this.bindTo(this._priceLink,"pointerclick",function(){this._metrikaSnippetClick("price",t)}),this._discountSticker&&this.bindTo(this._discountSticker,"pointerclick",function(){this._metrikaSnippetClick("discount",t)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",t)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",t)}),this._toPricesLink&&this.bindTo(this._toPricesLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-link",t)}),this._shopReviewsLink&&this.bindTo(this._shopReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-reviews",t)}),this._modelReviewsLink&&this.bindTo(this._modelReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("reviews",t)})},_metrikaSnippetClick:function(e,n){t.emitGoalPoint({snippetClick:{place:e,snippetType:n}})}},{live:function(){this.liveBindTo("pointerover")}})}(),function(){var t=require("metrika");BEM.DOM.decl("n-snippet-cell",{onSetMod:{js:{inited:function(){var e=this.params.type||"",n=this.params.goalPoints;this._header=this.findBlockInside("snippet-cell__header"),this._image=this.findBlockInside("snippet-cell__image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this.__modelReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"reviews"}),this.toPricesLink=this.findBlockInside({block:"link",modName:"type",modVal:"noffers"}),this._header&&this.bindTo(this._header.domElem,"pointerclick",function(){this._metrikaSnippetClick("header",e)}),this._image&&this.bindTo(this._image.domElem,"pointerclick",function(){this._metrikaSnippetClick("picture",e)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",e)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",e)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",e)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-link",e)}),this.__modelReviewsLink&&this.bindTo(this.__modelReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("reviews",e)}),n&&n.click&&this.bindTo($(".link, .button, .stickers__sticker_type_discount",this.domElem),"click",function(e){t.emitGoalPoint(n.click)})}}},_metrikaSnippetClick:function(e,n){t.emitGoalPoint({snippetClick:{place:e,snippetType:n}})}})}(),BEM.DOM.decl("n-countdown",{onSetMod:{js:{inited:function(){var t=new Date(this.params.endTime).getTime();this._countdown(t),this.setMod("show","yes")}}},_countdown:function(t){var e=this,n=setInterval(function(){var r=t-(new Date).getTime(),i=Math.floor(r/864e5),s=Math.floor(r%864e5/36e5),a=Math.floor(r%36e5/6e4),o=Math.floor(r%6e4/1e3);r<0?(clearInterval(n),e._endCount()):e._continueCount(i,s,a,o)},1e3)},_continueCount:function(t,e,n,r){this._timeElem=this.elem("time")[0],this._timeElem.innerHTML=t+" "+this._dayWord(t)+"&nbsp;&nbsp;"+e+"ч&nbsp;&nbsp;"+n+"мин&nbsp;&nbsp;"+r+"с"},_endCount:function(){BEM.channel("market:counter").trigger("endCount",this.params.counterId)},_dayWord:function(t){if(t%=100,t>=11&&t<=19)return"дней";switch(t%=10){case 1:return"день";case 2:case 3:case 4:return"дня";default:return"дней"}}}),BEM.DOM.decl({block:"n-snippet-cell",modName:"cms",modVal:"section"},{onSetMod:{js:{inited:function(){var t=this;BEM.channel("market:counter").on("endCount",function(e,n){n==t.params.counterId&&t.destruct()})}}}}),function(){var t=require("metrika");BEM.DOM.decl("n-snippet-cell2",{onSetMod:{js:{inited:function(){this._initSnippetMetrika()}}},_initSnippetMetrika:function(){var t=this.params.type||"";this._title=this.findElem("title"),this._image=this.findElem("image"),this._shopName=this.findBlockInside({block:"link",modName:"type",modVal:"shop-name"}),this._priceLink=this.findElem("main-price"),this._priceStickers=this.findElem("price-stickers"),this._priceStickers&&(this._priceStickersBlock=this.findBlockOn(this._priceStickers,"stickers")),this._priceStickersBlock&&(this._discountSticker=this._priceStickersBlock.findElem("sticker","type","discount")),this._toShopButton=this.findBlockInside({block:"button",modName:"to",modVal:"shop"}),this._toPricesButton=this.findBlockInside({block:"button",modName:"to",modVal:"prices"}),this._toPricesLink=this.findBlockInside({block:"link",modName:"type",modVal:"prices"}),this._shopReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"shop-reviews"}),this._modelReviewsLink=this.findBlockInside({block:"link",modName:"type",modVal:"reviews"}),this._title&&this.bindTo(this._title,"pointerclick",function(){this._metrikaSnippetClick("header",t)}),this._image&&this.bindTo(this._image,"pointerclick",function(){this._metrikaSnippetClick("picture",t)}),this._shopName&&this.bindTo(this._shopName.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-name",t)}),this._priceLink&&this.bindTo(this._priceLink,"pointerclick",function(){this._metrikaSnippetClick("price",t)}),this._discountSticker&&this.bindTo(this._discountSticker,"pointerclick",function(){this._metrikaSnippetClick("discount",t)}),this._toShopButton&&this.bindTo(this._toShopButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-shop-button",t)}),this._toPricesButton&&this.bindTo(this._toPricesButton.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-button",t)}),this._toPricesLink&&this.bindTo(this._toPricesLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("to-prices-link",t)}),this._shopReviewsLink&&this.bindTo(this._shopReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("shop-reviews",t)}),this._modelReviewsLink&&this.bindTo(this._modelReviewsLink.domElem,"pointerclick",function(){this._metrikaSnippetClick("reviews",t)})},_metrikaSnippetClick:function(e,n){t.emitGoalPoint({snippetClick:{place:e,snippetType:n}})}},{live:function(){this.liveBindTo("pointerover")}})}(),function(){BEM.DOM.decl("n-entrypoint-carousel",{onSetMod:{js:{inited:function(){this._carouselInner=this.elem("inner")[0],!this._carouselInner||this._carouselInner.children.length<=2||(this._carouselArrowLeft=this.elem("arrow","side","left"),this._carouselArrowLeft.on("click",this._slideLeft.bind(this)),this._carouselArrowRight=this.elem("arrow","side","right"),this._carouselArrowRight.on("click",this._slideRight.bind(this)),this._stepNumber=0,this._isAnimated=!1,this._separatorWidth=20,this._carouselMaxSteps=this._carouselInner.children.length-2,this.bindToWin("resize",this._onResize,this),BEM.channel("market:filter").on("contentShowed",this._onFilter,this),this._setParams())}}},_setParams:function(){if(this.domElem){this._bannerWidth=Math.ceil((this.domElem[0].offsetWidth-this._separatorWidth)/2),this._stepWidth=this._bannerWidth+this._separatorWidth;for(var t=0;t<this._carouselInner.children.length;t++)this._carouselInner.children[t].style.width=this._bannerWidth+"px"}},_onFilter:function(){this._stepNumber=0,this._carouselMaxSteps=this._carouselInner.children.length-2,this._setParams()},_onResize:function(){this._setParams();var t=Math.ceil(this._stepWidth*this._stepNumber);$(this._carouselInner).css("marginLeft",-t+"px")},_slideLeft:function(){this._isAnimated||(this._stepNumber=0===this._stepNumber?this._carouselMaxSteps:this._stepNumber-1,this._carouselMargin=Math.ceil(this._stepWidth*this._stepNumber),this._slideMove(this._carouselMargin))},_slideRight:function(){this._isAnimated||(this._stepNumber=this._carouselMaxSteps<=Math.abs(this._stepNumber)?0:this._stepNumber+1,this._carouselMargin=Math.ceil(this._stepWidth*this._stepNumber),this._slideMove(this._carouselMargin))},_slideMove:function(t){this._isAnimated=!0,$(this._carouselInner).animate({marginLeft:-t+"px"},600,this._endAnimation.bind(this))},_endAnimation:function(){this._isAnimated=!1}})}(),function(t){var e=require("metrika"),n=require("lodash");t.DOM.decl("n-carousel",{onSetMod:{js:function(){this._metrika=this.findBlockOn("metrika"),this._metrika&&this._bindSnippetsMetrikaEvents(),this._metrika&&this._bindCarouselItemsMetrikaEvents()}},_onListUpdated:function(){this._metrika.updatePixels()},_bindCarouselItemsMetrikaEvents:function(){var t=this.findBlocksInside("i-slider"),e=this;this._metrika&&(this._metrika.updatePixels(),$.each(t,function(t,n){n.on("slider.updated",e._onListUpdated,e).on("next.slide.start",e._onArrowsClick,e).on("prev.slide.start",e._onArrowsClick,e)}))},_onArrowsClick:function(){var t=n.get(this.params,"metrika.onArrowsClick",!1);t&&e.emitGoalPoint({mbolayoutWidgets:{target:t}})},_bindSnippetsMetrikaEvents:function(){var n=this.params.metrika||{};this._metrika.updatePixels(),t.blocks.button.liveCtxBind(this.domElem,"click",function(){if("cart"===this.getMod("to")){var t=this.findBlockOutside("offer"),r=t.getMods(t.elem("pusher")).state;n.toCartClick&&"processed"===r&&e.emitGoalPoint({mbolayoutWidgets:{target:n.toCartClick}}),n.inCartClick&&"in-cart"===r&&e.emitGoalPoint({mbolayoutWidgets:{target:n.inCartClick}})}})}})}(BEM),function(t,e){"use strict";var n=require("metrika"),r=require("templater");t.DOM.decl({block:"n-carousel",modName:"with",modVal:"filters"},{onSetMod:{js:{inited:function(){this._items=this.elem("items"),this._filters=this.elem("filter-item"),this._firstFilter=this._filters.eq(0),this._activeSlider=this.elem("item").eq(0),this._linksStore={},this._metrikaParams=this.params.metrika||{},this._setLink(this._firstFilter,this._activeSlider),this._attachEvents(),this.setMod(this._firstFilter,"active","yes")}}},onElemSetMod:{item:{visible:{yes:function(t){this.setMod(this._activeSlider,"visible","no"),this._activeSlider=t}}},"filter-item":{active:{yes:function(t){var e=this._linksStore[t.index()];this.delMod(this._filters,"active"),e?this._setActiveCarousel(e):(this.setMod("loaded","yes"),this._insertSlider(t)),this._metrikaParams.groupClick&&n.emitGoalPoint({mbolayoutWidgets:{target:this._metrikaParams.groupClick}})}}}},_attachEvents:function(){this.bindTo(this._filters,"pointerclick",function(t){this.setMod(e(t.target),"active","yes")})},_setLink:function(t,e){this._linksStore[t.index()]=e},_setActiveCarousel:function(t){this.setMod(t,"visible","yes"),this.findBlockOn(t,"i-slider").refresh()},_insertSlider:function(e){var n=r.render({mode:"n-carousel__item",data:this.elemParams(e),args:[this.params.view,this.params.metrika],nodeName:"carousels"}),i=t.DOM.append(this._items,n);this.setMod(i,"initializing","yes"),this._setLink(e,i);var s=this.findBlockOn(i,"i-slider");"yes"===s.getMod("initialized")?this._onSliderInitialized(i):s.on("slider.initialized",this._onSliderInitialized.bind(this,i))},_onSliderInitialized:function(t){this._setActiveCarousel(t),this.delMod(t,"initializing"),this.findBlockOn(t,"i-slider").un("slider.initialized"),this.delMod("loaded"),this._bindCarouselItemsMetrikaEvents()}})}(BEM,jQuery),require.define("awaps-manager",function(t,e,n){"use strict";var r=n("lodash");t.exports={_callbacksStorage:"yandexContextAsyncCallbacks",_defaultParams:{blockId:"R-I-97693-5",renderTo:"yandex_rtb_R-I-97693-5",async:!0,extParams:{},cspNonce:window.state.nonceId},init:function(t,e){this._queue=window[this._callbacksStorage]=window[this._callbacksStorage]||[],e&&(this._onReject=e),this._setParams(t),this._setManager(),this._setContextScript()},_setParams:function(t){this._params=r.assignIn({},this._defaultParams,t),this._params.extParams="&"+encodeURI(r.toPairs(this._params.extParams).map(function(t){return t.join("=")}).join("&"))+"&"},_setContextScript:function(){var t="//an.yandex.ru/system/context.js",e=document,n=!1;if(n===!1){var r=e.createElement("script");r.type="text/javascript",r.src=t,r.async=!0,e.head.insertBefore(r,e.head.firstChild)}},_setManager:function(){this._queue.push(this._advManager.bind(this))},_advManager:function(){Ya.Context.AdvManager.render(this._params,this._onReject)},_onReject:function(){}}}),function(t,e,n,r){"use strict";var i=require("awaps-manager");t.DOM.decl({block:"n-carousel",modName:"with",modVal:"promo"},{onSetMod:{js:{inited:function(){this._promoParams=this.elemParams("promo"),this._navNodeId=this._promoParams.nid||null,this._blockId=this._promoParams.blockId||null,this._renderTo=this._promoParams.placeId||null,this._navNodeId=this._promoParams.nid||null,i.init({blockId:this._blockId,renderTo:this._renderTo,extParams:{nid:this._navNodeId,awaps_section:8953},onRender:this._showPromo.bind(this)})}},size:{"*":function(t,e){this.findBlockOn("item","i-slider").setMod("size",e)}},show:{promo:function(){this.setMod("size",this.params.view.columns-1)}}},_showPromo:function(){this.setMod("show","promo")}})}(BEM,jQuery,window,document),function(t,e,n,r){function i(e,n){this.settings=null,this.options=t.extend({},i.Defaults,n),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,n){this._handlers[n]=t.proxy(this[n],this)},this)),t.each(i.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(i.Workers,t.proxy(function(e,n){this._pipe.push({filter:n.filter,run:t.proxy(n.run,this)})},this)),this.setup(),this.initialize()}i.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab",clonedClass:"cloned",activeClass:"active",dotActiveClass:"active",hiddenClass:"owl-hidden",animatedClass:"animated",animatedInClass:"owl-animated-in",animatedOutClass:"owl-animated-out",disableItemWrapping:!1},i.Width={Default:"default",Inner:"inner",Outer:"outer"},i.Type={Event:"event",State:"state"},i.Plugins={},i.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){var t=this.$stage.children("."+this.settings.clonedClass);this.trigger("removeClones",{$items:t}),t.remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,r=this.settings.rtl,i={width:"auto","margin-left":r?e:"","margin-right":r?"":e};!n&&this.$stage.children().css(i),t.css=i}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,r=this._items.length,i=!this.settings.autoWidth,s=[];for(t.items={merge:!1,width:e};r--;)n=this._mergers[r],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=n>1||t.items.merge,s[r]=i?e*n:this._items[r].width();this._widths=s}},{filter:["items","settings"],run:function(){var e=[],n=this._items,r=this.settings,i=Math.max(2*r.items,4),s=2*Math.ceil(n.length/2),a=r.loop&&n.length?r.rewind?i:Math.max(i,s):0,o="",c="";for(a/=2;a--;)e.push(this.normalize(e.length/2,!0)),o+=n[e[e.length-1]][0].outerHTML,e.push(this.normalize(n.length-1-(e.length-1)/2,!0)),c=n[e[e.length-1]][0].outerHTML+c;this._clones=e;var l=t(o).addClass(r.clonedClass).appendTo(this.$stage),u=t(c).addClass(r.clonedClass).prependTo(this.$stage);this.trigger("cloned",{$items:l.add(u)})}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,r=0,i=0,s=[];++n<e;)r=s[n-1]||0,i=this._widths[this.relative(n)]+this.settings.margin,s.push(r+i*t);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,r=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],r.eq(e).css(t.css);else n&&(t.css.width=t.items.width,r.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,r,i=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,a=this.coordinates(this.current())+s,o=a+this.width()*i,c=[];for(n=0,r=this._coordinates.length;n<r;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+s*i,(this.op(t,"<=",a)&&this.op(t,">",o)||this.op(e,"<",a)&&this.op(e,">",o))&&c.push(n);var l=this.settings.activeClass;this.$stage.children("."+l).removeClass(l),this.$stage.children(":eq("+c.join("), :eq(")+")").addClass(l),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],i.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,n,i;e=this.$element.find("img"),n=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r,i=this.$element.children(n).width(),e.length&&i<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),
this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},i.prototype.setup=function(){var e=this.viewport(),n=this.options.responsive,r=-1,i=null;n?(t.each(n,function(t){t<=e&&t>r&&(r=Number(t))}),i=t.extend({},this.options,n[r]),"function"==typeof i.stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+r))):i=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=r,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},i.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},i.prototype.prepare=function(e){var n=this.trigger("prepare",{content:e});return n.data||(this.options.disableItemWrapping?n.data=t(e).addClass(this.options.itemClass):n.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:n.data}),n.data},i.prototype.update=function(){for(var e=0,n=this._pipe.length,r=t.proxy(function(t){return this[t]},this._invalidated),i={};e<n;)(this._invalidated.all||t.grep(this._pipe[e].filter,r).length>0)&&this._pipe[e].run(i),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},i.prototype.width=function(t){switch(t=t||i.Width.Default){case i.Width.Inner:case i.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},i.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},i.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},i.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},i.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},i.prototype.onDragStart=function(e){var r=null;3!==e.which&&(t.support.transform?(r=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),r={x:r[16===r.length?12:4],y:r[16===r.length?13:5]}):(r=this.$stage.position(),r={x:this.settings.rtl?r.left+this.$stage.width()-this.width()+this.settings.margin:r.left,y:r.top}),this.is("animating")&&(t.support.transform?this.animate(r.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this.pointer(e),t(n).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(n).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var r=this.difference(this._drag.pointer,this.pointer(e));t(n).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(r.x)<Math.abs(r.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},i.prototype.onDragMove=function(t){var e=null,n=null,r=null,i=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,i);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),r=this.settings.pullDrag?-1*i.x/5:0,s.x=Math.max(Math.min(s.x,e+r),n+r)),this._drag.stage.current=s,this.animate(s.x))},i.prototype.onDragEnd=function(e){var r=this.difference(this._drag.pointer,this.pointer(e)),i=this._drag.stage.current,s=r.x>0^this.settings.rtl?"left":"right";t(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==r.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==r.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(r.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},i.prototype.closest=function(e,n){var r=-1,i=30,s=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy(function(t,o){return"left"===n&&e>o-i&&e<o+i?r=t:"right"===n&&e>o-s-i&&e<o-s+i?r=t+1:this.op(e,"<",o)&&this.op(e,">",a[t+1]||o-s)&&(r="left"===n?t+1:t),r===-1},this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?r=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(r=e=this.maximum())),r},i.prototype.animate=function(e){var n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):n?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},i.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},i.prototype.current=function(t){if(t===r)return this._current;if(0===this._items.length)return r;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==r&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},i.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},i.prototype.reset=function(t){t=this.normalize(t),t!==r&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},i.prototype.normalize=function(t,e){var n=this._items.length,i=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=r:(t<0||t>=n+i)&&(t=((t-i/2)%n+n)%n+i/2),t},i.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},i.prototype.maximum=function(t){var e,n,r,i=this.settings,s=this._coordinates.length;if(i.loop)s=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(e=this._items.length,n=this._items[--e].width(),r=this.$element.width();e--&&(n+=this._items[e].width()+this.settings.margin,!(n>r)););s=e+1}else s=i.center?this._items.length-1:this._items.length-i.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},i.prototype.minimum=function(t){return t?0:this._clones.length/2},i.prototype.items=function(t){return t===r?this._items.slice():(t=this.normalize(t,!0),this._items[t])},i.prototype.mergers=function(t){return t===r?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},i.prototype.clones=function(e){var n=this._clones.length/2,i=n+this._items.length,s=function(t){return t%2===0?i+t/2:n-(t+1)/2};return e===r?t.map(this._clones,function(t,e){return s(e)}):t.map(this._clones,function(t,n){return t===e?s(n):null})},i.prototype.speed=function(t){return t!==r&&(this._speed=t),this._speed},i.prototype.coordinates=function(e){var n,i=1,s=e-1;return e===r?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,s=e+1),n=this._coordinates[e],n+=(this.width()-n+(this._coordinates[s]||0))/2*i):n=this._coordinates[s]||0,n=Math.ceil(n))},i.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},i.prototype.to=function(t,e){var n=this.current(),r=null,i=t-this.relative(n),s=(i>0)-(i<0),a=this._items.length,o=this.minimum(),c=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(i)>a/2&&(i+=s*-1*a),t=n+i,r=((t-o)%a+a)%a+o,r!==t&&r-i<=c&&r-i>0&&(n=r-i,t=r,this.reset(n))):this.settings.rewind?(c+=1,t=(t%c+c)%c):t=Math.max(o,Math.min(c,t)),this.speed(this.duration(n,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},i.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},i.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},i.prototype.onTransitionEnd=function(t){return(t===r||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},i.prototype.viewport=function(){var r;if(this.options.responsiveBaseElement!==e)r=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)r=e.innerWidth;else{if(!n.documentElement||!n.documentElement.clientWidth)throw"Can not detect viewport width.";r=n.documentElement.clientWidth}return r},i.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},i.prototype.append=function(e){var n=[];e.each(function(t,e){e=this.prepare(e),n.push(e),this._mergers.push(1)}.bind(this)),this._items=t.merge(this._items,n),this.$stage.append(n),this.invalidate("items"),this.update()},i.prototype.add=function(e,n){var i=this.relative(this._current);n=n===r?this._items.length:this.normalize(n,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:n}),e=this.prepare(e),0===this._items.length||n===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[n-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[n].before(e),this._items.splice(n,0,e),this._mergers.splice(n,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:e,position:n})},i.prototype.remove=function(t){t=this.normalize(t,!0),t!==r&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},i.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,n){this.enter("pre-loading"),n=t(n),t(new Image).one("load",t.proxy(function(t){n.attr("src",t.target.src),n.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",n.attr("src")||n.attr("data-src")||n.attr("data-src-retina"))},this))},i.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(n).off(".owl.core"),this.settings.responsive!==!1&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var r in this._plugins)this._plugins[r].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},i.prototype.op=function(t,e,n){var r=this.settings.rtl;switch(e){case"<":return r?t>n:t<n;case">":return r?t<n:t>n;case">=":return r?t<=n:t>=n;case"<=":return r?t>=n:t<=n}},i.prototype.on=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n)},i.prototype.off=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n)},i.prototype.trigger=function(e,n,r,s,a){var o={item:{count:this._items.length,index:this.current()}},c=t.camelCase(t.grep(["on",e,r],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",r||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,n));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:i.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[c]&&this.settings[c].call(this,l)),l},i.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===r&&(this._states.current[e]=0),this._states.current[e]++},this))},i.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},i.prototype.register=function(e){if(e.type===i.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var n=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!n||!n.apply||t.namespace&&t.namespace.indexOf("owl")!==-1?t.namespace&&t.namespace.indexOf("owl")>-1:n.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===i.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(n,r){return t.inArray(n,this._states.tags[e.name])===r},this)))},i.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},i.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},i.prototype.pointer=function(t){var n={x:null,y:null};return t=t.originalEvent||t||e.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n},i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},i.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t(this),s=r.data("owl.carousel");s||(s=new i(this,"object"==typeof e&&e),r.data("owl.carousel",s),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,n){s.register({type:i.Type.Event,name:n}),s.$element.on(n+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([n]),s[n].apply(this,[].slice.call(arguments,1)),this.release([n]))},s))})),"string"==typeof e&&"_"!==e.charAt(0)&&s[e].apply(s,n)})},t.fn.owlCarousel.Constructor=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass(this._core.settings.hiddenClass,!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,n;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var n=this._core.settings,i=n.center&&Math.ceil(n.items/2)||n.items,s=n.center&&i*-1||0,a=(e.property&&e.property.value!==r?e.property.value:this._core.current())+s,o=this._core.clones().length,c=t.proxy(function(t,e){this.load(e)},this);s++<i;)this.load(o/2+this._core.relative(a)),o&&t.each(this._core.clones(this._core.relative(a)),c),a++},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1},i.prototype.load=function(n){var r=this._core.$stage.children().eq(n),i=r&&r.find(".owl-lazy");!i||t.inArray(r.get(0),this._loaded)>-1||(i.each(t.proxy(function(n,r){var i,s=t(r),a=e.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src");this._core.trigger("load",{element:s,url:a},"lazy"),s.is("img")?s.one("load.owl.lazy",t.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:a},"lazy")},this)).attr("src",a):(i=new Image,i.onload=t.proxy(function(){s.css({"background-image":"url("+a+")",opacity:"1"}),this._core.trigger("loaded",{element:s,url:a},"lazy")},this),i.src=a)},this)),this._loaded.push(r.get(0)))},i.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var e=this._core._current,n=e+this._core.settings.items,r=this._core.$stage.children().toArray().slice(e,n),i=[],s=0;t.each(r,function(e,n){i.push(t(n).height())}),s=Math.max.apply(null,i),this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find(".owl-video");n.length&&(n.css("display","none"),this.fetch(n,t(e.content)))}},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var n=function(){return t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube"}(),r=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),i=t.attr("data-width")||this._core.settings.videoWidth,s=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if(r=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),r[3].indexOf("youtu")>-1)n="youtube";else if(r[3].indexOf("vimeo")>-1)n="vimeo";else{if(!(r[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");n="vzaar"}r=r[6],this._videos[a]={type:n,id:r,width:i,height:s},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},i.prototype.thumbnail=function(e,n){var r,i,s,a=n.width&&n.height?'style="width:'+n.width+"px;height:"+n.height+'px;"':"",o=e.find("img"),c="src",l="",u=this._core.settings,d=function(t){i='<div class="owl-video-play-icon"></div>',r=u.lazyLoad?'<div class="owl-video-tn '+l+'" '+c+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(r),e.after(i)};return e.wrap('<div class="owl-video-wrapper"'+a+"></div>"),this._core.settings.lazyLoad&&(c="data-src",l="owl-lazy"),o.length?(d(o.attr(c)),o.remove(),!1):void("youtube"===n.type?(s="//img.youtube.com/vi/"+n.id+"/hqdefault.jpg",d(s)):"vimeo"===n.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t[0].thumbnail_large,d(s)}}):"vzaar"===n.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+n.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t.framegrab_url,d(s)}}))},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},i.prototype.play=function(e){var n,r=t(e.target),i=r.closest("."+this._core.settings.itemClass),s=this._videos[i.attr("data-video")],a=s.width||"100%",o=s.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),"youtube"===s.type?n='<iframe width="'+a+'" height="'+o+'" src="//www.youtube.com/embed/'+s.id+"?autoplay=1&v="+s.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===s.type?n='<iframe src="//player.vimeo.com/video/'+s.id+'?autoplay=1" width="'+a+'" height="'+o+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===s.type&&(n='<iframe frameborder="0"height="'+o+'"width="'+a+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+s.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+n+"</div>").insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},i.prototype.isInFullScreen=function(){var e=n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},i.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this.core=e,this.core.options=t.extend({},i.Defaults,this.core.options),this.swapping=!0,this.previous=r,this.next=r,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};i.Defaults={animateOut:!1,animateIn:!1},i.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,n=t.proxy(this.clear,this),r=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,a=this.core.settings.animateOut,o=this.core.settings.animatedClass,c=this.core.settings.animatedInClass,l=this.core.settings.animatedOutClass;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),r.one(t.support.animation.end,n).css({left:e+"px"}).addClass(o).addClass(l).addClass(a)),s&&i.one(t.support.animation.end,n).addClass(o).addClass(c).addClass(s))}},i.prototype.clear=function(e){t(e.target).css({left:""}).removeClass(this.core.settings.animatedClass).removeClass(this.core.settings.animatedInClass).removeClass(this.core.settings.animatedOutClass).removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},i.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){var i=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},i.Defaults,this._core.options)};i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},i.prototype._getNextTimeout=function(r,i){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||n.hidden||this._core.next(i||this._core.settings.autoplaySpeed)},this),r||this._core.settings.autoplayTimeout)},i.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},i.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},i.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},i.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){"use strict";var i=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers)};i.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!1,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},i.prototype.initialize=function(){var e,n=this._core.settings;n.nav&&(this._controls.$relative=(n.navContainer?t(n.navContainer):t("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=t("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[t("<div>").addClass(n.dotClass).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?t(n.dotsContainer):t("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){
var r=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(r,n.dotsSpeed)},this)));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},i.prototype.destroy=function(){var t,e,n,r;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(r in this.overides)this._core[r]=this._overrides[r];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},i.prototype.update=function(){var t,e,n,r=this._core.clones().length/2,i=r+this._core.items().length,s=this._core.maximum(!0),a=this._core.settings,o=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],t=r,e=0,n=0;t<i;t++){if(e>=o||0===e){if(this._pages.push({start:Math.min(s,t-r),end:t-r+o-1}),Math.min(s,t-r)===s)break;e=0,++n}e+=this._core.mergers(this._core.relative(t))}},i.prototype.draw=function(){var e,n=this._core.settings,r=this._core.items().length<=n.items,i=this._core.relative(this._core.current()),s=n.loop||n.rewind,a=n.dotActiveClass;n.nav&&(this._controls.$relative.toggleClass("disabled",!n.nav||r),this._controls.$previous.toggleClass("disabled",!s&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&i>=this._core.maximum(!0))),n.dots&&(this._controls.$absolute.toggleClass("disabled",!n.dots||r),e=this._pages.length-this._controls.$absolute.children().length,n.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find("."+a).removeClass(a),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass(a))},i.prototype.onTrigger=function(e){var n=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:n&&(n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items)}},i.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,n){return t.start<=e&&t.end>=e},this)).pop()},i.prototype.getPosition=function(e){var n,r,i=this._core.settings;return"page"==i.slideBy?(n=t.inArray(this.current(),this._pages),r=this._pages.length,e?++n:--n,n=this._pages[(n%r+r)%r].start):(n=this._core.relative(this._core.current()),r=this._core.items().length,e?n+=i.slideBy:n-=i.slideBy),n},i.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},i.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},i.prototype.to=function(e,n,r){var i;!r&&this._pages.length?(i=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%i+i)%i].start,n)):t.proxy(this._overrides.to,this._core)(e,n)},t.fn.owlCarousel.Constructor.Plugins.Navigation=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){"use strict";var i=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(n){n.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var n=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!n)return;this._hashes[n]=e.content}},this),"changed.owl.carousel":t.proxy(function(n){if(n.namespace&&"position"===n.property.name){var r=this._core.items(this._core.relative(this._core.current())),i=t.map(this._hashes,function(t,e){return t===r?e:null}).join();if(!i||e.location.hash.slice(1)===i)return;e.location.hash=i}},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var n=e.location.hash.substring(1),i=this._core.$stage.children(),s=this._hashes[n]&&i.index(this._hashes[n]);s!==r&&s!==this._core.current()&&this._core.to(this._core.relative(s),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var n,r;t(e).off("hashchange.owl.navigation");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))"function"!=typeof this[r]&&(this[r]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){function i(e,n){var i=!1,s=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+o.join(s+" ")+s).split(" "),function(t,e){if(a[e]!==r)return i=!n||e,!1}),i}function s(t){return i(t,!0)}var a=t("<support>").get(0).style,o="Webkit Moz O ms".split(" "),c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!i("transform")},csstransforms3d:function(){return!!i("perspective")},csstransitions:function(){return!!i("transition")},cssanimations:function(){return!!i("animation")}};l.csstransitions()&&(t.support.transition=new String(s("transition")),t.support.transition.end=c.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(s("animation")),t.support.animation.end=c.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(s("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(t,e,n,r){"use strict";var i=function(e){this.owl=e,this._thumbcontent=[],this._identifier=0,this.owl_currentitem=this.owl.options.startPosition,this.$element=this.owl.$element,this._handlers={"prepared.owl.carousel":t.proxy(function(e){if(!e.namespace||!this.owl.settings.thumbs||this.owl.settings.thumbImage||this.owl.settings.thumbsPrerendered||this.owl.settings.thumbImage){if(e.namespace&&this.owl.settings.thumbs&&this.owl.settings.thumbImage){var n=t(e.content).find("img");this._thumbcontent.push(n)}}else t(e.content).find("[data-thumb]").attr("data-thumb")!==r&&this._thumbcontent.push(t(e.content).find("[data-thumb]").attr("data-thumb"))},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this.owl.settings.thumbs&&(this.render(),this.listen(),this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this.owl.settings.thumbs&&(this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this)},this.owl.settings=t.extend(i.Defaults,this.owl.settings),this.owl.$element.on(this._handlers)};i.Defaults={thumbs:!0,thumbImage:!1,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumb-item",thumbItemActiveClass:"active",moveThumbsInside:!1},i.prototype.listen=function(){var e=this.owl.settings;e.thumbsPrerendered&&(this._thumbcontent._thumbcontainer=t("."+e.thumbContainerClass)),t(this._thumbcontent._thumbcontainer).children("."+e.thumbItemClass).on("click pointerclick",t.proxy(function(n){this._identifier=t(n.target).closest("."+e.thumbContainerClass).data("slider-id");var r=t(n.target).parent().is(this._thumbcontent._thumbcontainer)?t(n.target).index():t(n.target).closest("."+e.thumbItemClass).index();e.thumbsPrerendered?t("[data-slider-id="+this._identifier+"]").trigger("to.owl.carousel",[r,e.dotsSpeed,!0]):this.owl.to(r,e.dotsSpeed),n.preventDefault()},this))},i.prototype.render=function(){var e=this.owl.settings;e.thumbsPrerendered?(this._thumbcontent._thumbcontainer=t("."+e.thumbContainerClass),e.moveThumbsInside&&this._thumbcontent._thumbcontainer.appendTo(this.$element)):this._thumbcontent._thumbcontainer=t("<div>").addClass(e.thumbContainerClass).appendTo(this.$element);var n;if(e.thumbImage)for(n=0;n<this._thumbcontent.length;++n)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+'><img src="'+this._thumbcontent[n].attr("src")+'" alt="'+this._thumbcontent[n].attr("alt")+'" /></button>');else for(n=0;n<this._thumbcontent.length;++n)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+">"+this._thumbcontent[n]+"</button>")},i.prototype.setActive=function(){this.owl_currentitem=this.owl._current-this.owl._clones.length/2,this.owl_currentitem===this.owl._items.length&&(this.owl_currentitem=0);var e=this.owl.settings,n=e.thumbsPrerendered?t("."+e.thumbContainerClass+'[data-slider-id="'+this._identifier+'"]'):this._thumbcontent._thumbcontainer;n.children().filter("."+e.thumbItemActiveClass).removeClass(e.thumbItemActiveClass),n.children().eq(this.owl_currentitem).addClass(e.thumbItemActiveClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this.owl.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Thumbs=i}(window.Zepto||window.jQuery,window,document),function(t,e,n){var r="i-slider",i={loop:!0,rewind:!0,nav:!1,dots:!1,autoWidth:!1,margin:14,mouseDrag:!1,mergeFit:!1,disableItemWrapping:!1,refreshClass:r+"_refresh_yes",loadedClass:r+"_loaded_yes",loadingClass:r+"_loading_yes",rtlClass:r+"_rtl_yes",responsiveClass:r+"_responsive_yes",dragClass:r+"_drag_yes",itemClass:r+"__item-wrap",stageClass:r+"__stage",stageOuterClass:r+"__stage-outer",grabClass:r+"_grab_yes",autoHeightClass:r+"_height_yes",navContainerClass:r+"__nav",navPosition:null,navClass:[r+"__arrow "+r+"__arrow_type_prev",r+"__arrow "+r+"__arrow_type_next"],navText:['<svg class="image" xmlns="http://www.w3.org/2000/svg"><path d="M15.369 6.364c.341 0 .631.285.631.636 0 .354-.283.636-.631.636h-13.204l5.285 5.277c.249.249.248.651 0 .9-.249.249-.651.248-.9 0l-6.364-6.364c-.249-.249-.248-.651 0-.9l6.364-6.363c.249-.249.651-.248.9 0 .249.249.248.651 0 .9l-5.285 5.277h13.204z"/></svg>','<svg class="image" xmlns="http://www.w3.org/2000/svg"><path d="M.631 6.364c-.341 0-.631.285-.631.636 0 .354.283.636.631.636h13.204l-5.285 5.277c-.249.249-.248.651 0 .9.249.249.651.248.9 0l6.364-6.364c.249-.249.248-.651 0-.9l-6.364-6.363c-.249-.249-.651-.248-.9 0-.249.249-.248.651 0 .9l5.285 5.277h-13.204z"/></svg>'],dotClass:r+"__dot",dotActiveClass:r+"__dot_active_yes",dotsClass:r+"__dots",clonedClass:r+"__item-wrap_cloned_yes",activeClass:r+"__item-wrap_active_yes",disabledClass:r+"__nav_disabled_yes",hiddenClass:r+"_hidden_yes",animatedClass:r+"__item_animated",animatedInClass:r+"__item_animated_in",animatedOutClass:r+"__item_animated_out",thumbContainerClass:r+"__thumbs",thumbItemClass:r+"__thumbs-item",thumbItemActiveClass:r+"__thumbs-item_state_selected"};t.DOM.decl(r,{onSetMod:{js:function(){this._initialize(),this._initializeSlider(),this._attachEvents(),this._onRefreshed(),this._toggleArrows()},static:{yes:function(){this._onStatic()},"*":function(){this._onEnabled()}},size:{"*":function(t,e){this._owl.options.items=e}}},_initialize:function(){return this._$slider=this.elem("inner"),this._options=e.extend({},i,this.params),this.params.dotsElem&&(this._options.dotsContainer=this.buildSelector(this.params.dotsElem)),this.hasMod("with","nav")&&(this._options.nav=!0),this._onRefreshed=this._onRefreshed.bind(this),this._onChanged=this._onChanged.bind(this),this._onChange=this._onChange.bind(this),this._onTranslated=this._onTranslated.bind(this),this._onInitialized=this._onInitialized.bind(this),this},_initializeSlider:function(){return this._owl=this._$slider.on("initialized.owl.carousel",this._onInitialized).owlCarousel(this._options).data("owl.carousel"),this},_destructSlider:function(){this._owl&&(this._owl.destroy(),this._owl=null)},_attachEvents:function(){return this._$slider.on("refreshed.owl.carousel",this._onRefreshed).on("changed.owl.carousel",this._onChanged).on("change.owl.carousel",this._onChange).on("translated.owl.carousel",this._onTranslated),this},_detachEvents:function(){this._$slider.off("refreshed.owl.carousel",this._onRefreshed).off("changed.owl.carousel",this._onChanged).off("change.owl.carousel",this._onChange).off("translated.owl.carousel",this._onTranslated)},destruct:function(){this._destructSlider(),this._detachEvents(),this.__base.apply(this,arguments)},current:function(){return this._owl.relative(this._owl.current())},to:function(t,e){if(!this.isStatic()){var n=e===!1?1:null;this._owl.to(t,n,!0)}},redraw:function(){this._owl&&this._owl.update()},next:function(){this.isStatic()||this._owl.next()},prev:function(){this.isStatic()||this._owl.prev()},refresh:function(){this._owl.refresh()},getItem:function(t){return this._owl.items(t)},getActiveItems:function(){return this.findElem("item-wrap","active","yes")},isStatic:function(){return"yes"===this.getMod("static")},_onInitialized:function(){this.trigger("initialized",this)},_onRefreshed:function(){var t=this.getActiveItems(),n=this.elem("inner").width(),r=t.length,i=t.get().reduce(function(t,n){return t+e(n).outerWidth()},0);n<i&&r--,this._owl&&this.toggleMod("static","yes","",r>=this._owl.items().length)},_onChanged:function(t){t.property&&"position"===t.property.name&&this._toggleArrows(),this.trigger("changed",t)},_onChange:function(t){this.trigger("change",t)},_onTranslated:function(t){this.trigger("translated",t)},_onStatic:function(){var t=0;if(this._owl){this._owl.items().length&&(t=this._owl.items(0).index()),this._owl.reset(t);var e=this.findElem("stage");this._owl.settings.mouseDrag&&e.off("mousedown.owl.core dragstart.owl.core selectstart.owl.core"),this._owl.settings.touchDrag&&e.off("touchstart.owl.core touchcancel.owl.core")}},_onEnabled:function(){var t=this.findElem("stage");this._owl&&(this._owl.settings.mouseDrag&&t.on("mousedown.owl.core",e.proxy(this._owl.onDragStart,this._owl)).on("dragstart.owl.core selectstart.owl.core",function(){return!1}),this._owl.settings.touchDrag&&t.on("touchstart.owl.core",e.proxy(this._owl.onDragStart,this._owl)).on("touchcancel.owl.core",e.proxy(this._owl.onDragEnd,this._owl)),this.trigger("enabled"),this._toggleArrows())},_toggleArrows:function(){var t=this._owl;if(!t)return this;var e=t.settings;if(!e.loop&&!e.rewind){var n=t.current(),r=t.items().length,i=t.settings.items,s=this.elem("arrow","direction","left"),a=this.elem("arrow","direction","right");this.toggleMod(s,"disabled","yes","",0===n),this.toggleMod(a,"disabled","yes","",n+i>=r)}return this}})}(BEM,jQuery),function(t,e){var n=require("templater");t.DOM.decl({block:"i-slider",modName:"with",modVal:"nav"},{onSetMod:{js:{inited:function(){if(this._stopFetching=!1,this._currentIndex=0,this._rows=this.params.rows||1,this.params.navPosition&&this.setMod(this.elem("nav"),"view",this.params.navPosition),this.on("changed",function(t,e){e.property&&"position"===e.property.name&&this._toggleArrows()}),this.on("change",function(t,e){e.property&&"position"===e.property.name&&this._setCurrentIndex(e.property.value)}),this.on("enabled slider.updated",function(){this._toggleArrows()}),this.hasMod("async","yes")&&this.params.stateKey){var t=require("DataCollector");this._nextElements=[];try{this._dc=new t(this.params.stateKey),this._fetchNextPage(!0),this._attachAsyncEvents()}catch(t){setTimeout(function(){throw new Error(t)})}}this._toggleArrows()}}},_setCurrentIndex:function(t){var e=this._currentIndex;this._currentIndex=t,t>e?(this.trigger("next.slide.start"),this.setMod("animatedTo","next")):(this.trigger("prev.slide.start"),this.setMod("animatedTo","prev"))},_toggleArrows:function(){var t=this._owl,e=t.settings;if(!e.loop&&!e.rewind){var n=t.current(),r=t.items().length,i=t.settings.items,s=this.elem("arrow","type","prev"),a=this.elem("arrow","type","next");this.toggleMod(s,"disabled","yes","",0==n),this.toggleMod(a,"disabled","yes","",n+i>=r)}},_appendNextElements:function(){if(this._nextElements.length){var e=this.params.metrika,r={convertCurrency:this.params.convertCurrency,cellParams:this.params.cellParams},i=this._nextElements.map(function(t){return n.render({data:t,mode:"n-carousel__column",args:[this.params.cellType,e,r],nodeName:"preset"})}.bind(this)).join("");i&&this._owl.append(t.DOM.init(i)),this._nextElements=[]}},_fetchNextPage:function(t){if(!this._dc.busy){var e=this.params.items*this._rows;this._dc.next(e).then(function(e){this._stopFetching=!e.length,this._nextElements=e.map(function(t,n){return n%this._rows===0?{rows:e.slice(n,n+this._rows)}:null}.bind(this)).filter(Boolean),this._appendNextElements(),t&&(this.setMod("initialized","yes"),this.trigger("slider.initialized"),this.refresh()),this._toggleArrows()}.bind(this))}},_attachAsyncEvents:function(){this.on("next.slide.start",function(){this._stopFetching===!1&&this._fetchNextPage()}.bind(this)),this.on("translated",function(){this.refresh(),this.trigger("slider.updated")})}})}(BEM,jQuery),function(){var t=Boolean(window.performance);BEM.DOM.decl("timing",{onSetMod:{js:function(){t&&(this._timing=window.performance.timing,this.data={},this.visibilityState={visible:1,hidden:2,prerender:3}[this.getVisibilityState()],this.fullLoadWaiting())}},fullLoadWaiting:function(){var t=this;this._timing.loadEventEnd?this.send():setTimeout(function(){t.fullLoadWaiting()},10)},send:function(){this.getData().then(this.changeThis(function(t){this._send(this.buildCounterParams(this.normalizeMetrics(this.buildMetrics(t))))}))},_send:function(t){t&&(document.createElement("IMG").src=[this.getClickUrl(),this._serializeParams(t),"*"].join("/"))},getData:function(){if(!t||!this._timing.navigationStart||this._timing.navigationStart<+new Date-18e5)return $.Deferred().reject().promise();var e=this.data;return $.when.apply($,this.getDataList()).pipe(function(){return e})},buildMetrics:function(t){var e=this._timing,n={1036:[e.domainLookupStart,e.navigationStart],1037:[e.domainLookupEnd,e.domainLookupStart],1038:[e.connectEnd,e.connectStart],1039:[e.responseStart,e.connectEnd],1040:[e.responseEnd,e.responseStart],1040.906:[e.responseEnd,e.domainLookupStart],1310.1309:[e.domContentLoadedEventEnd,e.domContentLoadedEventStart],1310.1007:[e.domContentLoadedEventStart,e.responseStart],2046.207:[e.domComplete,e.domLoading],1051:e.loadEventEnd-e.navigationStart},r=this.data.firstPaintTime;r&&r>0&&(n[1041]=[r,e.responseStart],n[1041.906]=[r,e.domainLookupStart]);var i=e.secureConnectionStart;i&&i>0&&(n[1383]=[e.connectEnd,i]);var s=window.performance.navigation;return s&&(s.redirectCount&&(n[1384.1385]=s.redirectCount),1!=s.type&&2!=s.type||(n[770.76]=s.type)),this.visibilityState&&(n[1484]=this.visibilityState),n},normalizeMetrics:function(t){var e=this._timing.navigationStart;return $.each(t,function(n,r){if($.isArray(r)){if(r[0]<r[1]||r[1]<e)return t=!1;t[n]=r=r[0]-r[1]}if(r<0)return t=!1}),t},buildCounterParams:function(t){if(t){var e=this.getCounterParams();return e.vars=$.extend(t,this.params.vars),e.vars[1042]=encodeURIComponent(navigator.userAgent),e}},getDataList:function(){if(2==this.visibilityState||3==this.visibilityState)return[];var t,e;this._timing.msFirstPaint&&(t=this._timing,e="msFirstPaint"),this.withLoadTimes(function(n){t=n,e="firstPaintTime"});var n=this,r=[];return t&&r.push(this.promiseProperty(t,e).then(function(t){"firstPaintTime"===e&&(t*=1e3),n.data.firstPaintTime=Math.floor(t)})),r},promiseProperty:function(t,e,n){var r=this.channel("sys"),i=$.Deferred(),s=function(){var r=$.isFunction(t)?t():t;return r&&r[e]?void((n?n(r[e]):r[e]>0)&&i.resolve(r[e],r)):i.reject("Property does not exist")};return r.on("tick",s),i.always(function(){r.un("tick",s)}),i.promise()},withLoadTimes:function(t){var e=(window.chrome||{}).loadTimes;return $.isFunction(e)&&t&&t.call(this,e),this},getCounterParams:function(){return{dtype:"stred",pid:1,cid:72202,path:"690.1033"}},getVisibilityState:function(){return document.visibilityState||document.webkitVisibilityState||document.msVisibilityState},getClickUrl:function(){var t=this.params.clckHost;if(!t){var e=location.hostname.match(/^(?:[-\w]+\.)*(yandex(?:.[a-z]+)+)$/i);t=(e?e[1]:"yandex.ru")+"/clck"}return"//"+t+"/click"},_flatten:function(t,e){var n=[];return e=e||"=",$.each(t,function(t,r){n.push(t+e+r)}),n},_serializeParams:function(t){var e=this;return $.each(t,function(n,r){$.isPlainObject(r)&&(t[n]=e._flatten(r).join(","))}),this._flatten(t).join("/")}})}(),"undefined"==typeof console&&(window.console={log:function(){}}),$(function(){$(document).on("click",".b-complain_offers_from_search:not(.b-complain_offers_done), .b-complain_offers_from_model:not(.b-complain_offers_done)",function(){$(this).toggleClass("b-complain_offers_process").text("[отправляем]"),$.ajax({type:"GET",url:"/gate/complain-offers.xml?modelid="+$(this).data("model-id")+"&session="+$(this).data("cataloger-base"),dataType:"text",context:$(this),timeout:3500}).done(function(t){t&&"error"!==t?this.addClass("b-complain_offers_done").toggleClass("b-complain_offers_process").text("[MIMO:"+t+"]"):(alert("Что-то пошло не так. Попробуйте позже"),this.addClass("b-complain_offers_fail").toggleClass("b-complain_offers_process"))}).fail(function(){alert("Что-то пошло не так. Попробуйте позже"),this.addClass("b-complain_offers_fail").toggleClass("b-complain_offers_process")})})}),BEM.DOM.decl({block:"b-link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.domElem&&this.trigger("click")})}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}),this.__base()}}),function(){var t=require("metrika");BEM.DOM.decl("personal-menu",{onSetMod:{js:{inited:function(){this._switcher=this.findBlockOn(this.elem("button"),"button"),this._switcher.on("click",this._onButtonClicked,this),this._popup=null}}},getDefaultParams:function(){return{regionName:""}},_getPopup:function(){return null===this._popup&&(this._popup=this._createPopup()),this._popup},_createPopup:function(){var t=this.__self._buildPopup(this.params);return BEM.DOM.append(this.domElem,BEMHTML.apply(t)),this.findBlockOn(this.findElem("popup"),"popup")},_onButtonClicked:function(){t.reachGoal("HDR_MYMRKT","yaCounter160656"),this._togglePopup()},_togglePopup:function(){this._getPopup().toggle(this._switcher)}},{_buildPopup:function(t){return{block:"personal-menu",elem:"popup",params:t}}})}(),function(){BEM.DOM.decl({block:"link",modName:"param",modVal:"retpath"},{_onClick:function(t){t.preventDefault();var e=document.location.href,n=t.target.href,r=BEM.blocks.uri.parse(n);r.replaceParam("retpath",e),window.location.replace(r.toString())}},{live:function(){return this.liveBindTo({modName:"param",modVal:"retpath"},"pointerclick",function(t){this._onClick(t)}),this.__base()}})}(),require.define("cart-helpers",function(t,e,n,r,i){var s=n("cart"),a=n("checkout"),o=n("Money"),c=n("price");t.exports={summarizeOffers:function(t){for(var e,n,r=new o(0),i=0,c=t.length;c>0;)c--,e=t[c],s.validateOffer(e)&&(n=a.getStatus(e),i+=e.count,r.add(n.getPrice()*e.count));return{count:i,price:r}},summarizeOffersWithFormattedPrice:function(t){var e=this.summarizeOffers(t);return{count:e.count,price:this.formatPrice(e.price)}},formatPrice:function(t){return c.format(t)},getOfferImage:function(t,e){var n=t.images&&t.images[0];return n?n.get(e):void 0},getOfferUrl:function(t){return t.clusterId?"/model?modelid="+t.clusterId+"&hid="+t.hid:t.modelId?"/product/"+t.modelId+"?hid="+t.hid:void 0},getAnotherOffersUrl:function(t){var e,n=t.hid||t.categoryId,r="&text="+encodeURIComponent(t.name);return e=t.modelId?"/find-in-other-shop/"+n+"/"+t.modelId+"/?track=fr_othr_shps":"/find-in-other-shop/"+n+"/?track=fr_othr_shps"+r}}}),BEM.DOM.decl("tutorial",{onSetMod:{js:{inited:function(){if(this.__base(),this._name=this.__self.getName(),this._purchaseShownOnce=this._isShown("tutorial-8900-purchase-popup-order"),!this._isShown(this._name)||this.params.always){var t=this._bindToEvent();0==t&&this._render()}this._purchaseShown=!1,this._purchaseShownOnce=!1}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{delay:0,always:!1,event:null,eventType:"bem"})},_isShown:function(t){if(this._canUseLocalStorage()){var e=window.localStorage;return!!e.getItem(t)}return!!$.cookie(t)},_saveShow:function(t){if(this._canUseLocalStorage()){var e=window.localStorage;return e.setItem(t,!0)}return $.cookie(t,!0)},_bindToEvent:function(){var t=this,e=this.params.event;return this._bindToShow(),null!=e&&("dom"===this.params.eventType?(this.bindTo(e,function(){t._render()}),!0):"bem"===this.params.eventType?(BEM.channel("market").on(e,function(){t._render()}),!0):"live"===this.params.eventType?(this.bindToDoc(e,function(){t._render()}),!0):void 0)},_render:function(){this._setTimeoutWithContext(this._renderItem,this.params.delay,this)},_setTimeoutWithContext:function(t,e,n){var r=this;return setTimeout(function(){t.call(n||r)},e)},_renderItem:function(){},_triggerShowEvent:function(t){BEM.channel("market").trigger("tutorial:show",t)},_bindToShow:function(){var t=this;BEM.channel("market").on("tutorial:show",function(e,n){t._saveShow(n)})},_onPurchaseShown:function(){this._cache&&this._cache[this._name]&&this._cache[this._name].hide(),this._purchaseShown=!0,this._purchaseShownOnce=!0},_onPurchaseClosed:function(){this._purchaseShown=!1},_canUseLocalStorage:function(){var t=window.localStorage,e=new Date;try{t.setItem(e,e),t.removeItem(e)}catch(t){return!1}return!0}}),BEM.DOM.decl({block:"tutorial-example",baseBlock:"tutorial"},{onSetMod:{js:function(){this.__base()}},_renderItem:function(){var t=this._buildPopup();BEM.DOM.append(this.domElem,BEMHTML.apply(t)),this.findBlockInside("popup").show(this),this._triggerShowEvent(this._name)},_buildItem:function(){return[{block:this._name,elem:"title",tag:"h3",content:BEM.I18N("tutorial","title")},{block:this._name,elem:"description",content:BEM.I18N("tutorial","item1")}]},_buildPopup:function(){return{block:"popup",content:[{elem:"tail"},{elem:"content",content:this._buildItem()}]}}}),function(){var t=require("cart"),e=require("user"),n=require("checkout"),r=require("cart-helpers"),i=require("metrika"),s=require("router");BEM.DOM.decl("personal-basket",{onSetMod:{js:{inited:function(){var e=this;this._switcher=this._getSwitcher(),this._switcher&&this.bindTo(this._switcher.domElem,"pointerclick",this._onButtonClicked),this._popup=null,this._needRepaint=!1,this._notifyTimeout=null,this._isInteracting=!1,this._locks={},t.onceState(t.STATE_READY,this._onCartInit,this).onceState(t.STATE_ERROR,this._onCartInitError,this).on(t.EVENT_ADD,this._onCartOfferAdd,this).on(t.EVENT_REMOVE,this._onCartOfferRemoved,this).on(t.EVENT_UPDATE,this._onCartChanged,this).on(t.EVENT_CHANGE,this._onCartChanged,this),BEM.DOM.doc.on("pointerclick",this.__self.buildSelector("item-remove"),function(t){t.preventDefault(),setTimeout(function(){e.removeOffer($(t.target).attr("data-id"))},0)})}}},getDefaultParams:function(){return{notify:!1,notifyTimeout:2e3,thumbnailSize:"100100",currency:e.settings.currency,retPath:s.buildURL("market:checkout",{track:"menu"})}},removeOffer:function(e){if(!this._locks[e]){this._locks[e]=!0;var n=this._popup.domElem.find('[data-id="'+e+'"]').closest(this.__self.buildSelector("list-item")),r=this.findBlockOn(n,"preloadable");r.showPreloader(),t.removeOfferById(e).onResolve(function(){this.hide(0)},n).always(function(){r.hidePreloader(),delete this._locks[e]},this)}},_getSwitcher:function(){return this.findBlockOn(this.elem("button"),"button")},_onCartInit:function(){this._updateNotice(this._getBasketData())},_onCartInitError:function(){this._error=!0},_onCartOfferAdd:function(){this._onCartChanged(),this.params.notify&&(this.showPopup(),this._clearNotifyTimeout(),this._isInteracting||(this._notifyTimeout=setTimeout(this.hidePopup.bind(this),this.params.notifyTimeout)))},_onCartOfferRemoved:function(){var t=this._getBasketData();this._getPopup().isShown()?t.length>0?this.repaintHeader():this.afterCurrentEvent(this.repaintContent):this._needRepaint=!0,this._updateNotice(t)},_clearNotifyTimeout:function(){null!==this._notifyTimeout&&(clearTimeout(this._notifyTimeout),this._notifyTimeout=null)},_onCartChanged:function(){var t=this._getPopup();t.isShown()?this.afterCurrentEvent(this.repaintContent):this._needRepaint=!0,this._updateNotice(this._getBasketData())},_onButtonClicked:function(){0===t.getLength()&&i.reachGoal("INFRMTN_C_CART","yaCounter160656"),this.togglePopup()},showPopup:function(){this._needRepaint&&(this.repaintContent(),this._needRepaint=!1),this._getPopup().show(this._switcher)},hidePopup:function(){this._getPopup().hide()},togglePopup:function(){this._getPopup().isShown()?this.hidePopup():this.showPopup(this._switcher)},repaintContent:function(){var t=this._getBasketData(),e=this.__self._buildContent(t,this.params);BEM.DOM.update(this._popup.elem("content"),BEMHTML.apply(e))},repaintHeader:function(){var t=this._getBasketData(),e=this.__self._buildHeader(t,this.params);BEM.DOM.replace(this.findElem(this._popup.domElem,"header"),BEMHTML.apply(e))},_getPopup:function(){return null===this._popup&&(this._popup=this._createPopup(),this._bindPopupListeners()),this._popup},_bindPopupListeners:function(){this._popup.bindTo("pointerenter",this._onPopupMouseenter.bind(this)).bindTo("pointerleave",this._onPopupMouseleave.bind(this))},_onPopupMouseenter:function(){this._isInteracting=!0,this.params.notify&&this._clearNotifyTimeout()},_onPopupMouseleave:function(){this._isInteracting=!1},_createPopup:function(){var t=this._getBasketData(),e=this.__self._buildPopup(t,this.params);return BEM.DOM.append(this.domElem,BEMHTML.apply(e)),this.findBlockOn(this.findElem("popup"),"popup")},_updateNotice:function(t){var e=r.summarizeOffers(t).count;this._switcher.setMod("theme",t.length>0?"action":"normal"),BEM.DOM.replace(this.findElem("notice"),BEMHTML.apply(this.__self._buildNotice(e)))},_getBasketData:function(){return!this._error&&t.getValidOffers()},destruct:function(){BEM.DOM.doc.off("pointerclick",this.__self.buildSelector("item-remove")),t.off(t.EVENT_ADD,this._onCartOfferAdd).off(t.EVENT_REMOVE,this._onCartOfferRemoved).off(t.EVENT_UPDATE,this._onCartChanged).off(t.EVENT_CHANGE,this._onCartChanged),this._popup&&this._popup.destruct.apply(this._popup,arguments),this.__base.apply(this,arguments)}},{_buildPopup:function(t,e){return{block:this.getName(),elem:"popup",content:this._buildContent(t,e)}},_buildContent:function(t,n){var r,i="";return t===!1?i="error":(0===t.length&&(i="empty"),r=[this._buildHeader(t,n),{elem:"list",content:this._buildListItems(t,n)},{elem:"footer",mix:{block:"layout",mods:{display:"table"}},domikOpenerParams:{retpath:n.retPath,type:"market"}}]),{block:this.getName(),elem:"content",elemMods:{state:i},content:r,isAuth:e.isAuth}},_buildListItems:function(t,e){for(var i,s,a,o=[],c=0,l=t.length;c<l;)i=t[c],a=n.getStatus(i),s=r.getOfferImage(i,e.thumbnailSize),o.push({block:"personal-basket",elem:"list-item",id:i.id,url:r.getOfferUrl(i),image:s&&s.url,currency:e.currency,name:i.name,price:r.formatPrice(a.getPrice()),count:i.count}),c++;return o},_buildHeader:function(t,e){var n=this.getName();return{block:n,elem:"header",content:BEM.I18N(n,"header",r.summarizeOffersWithFormattedPrice(t))+" "+BEM.I18N("dictionary","currency-"+e.currency)}},_buildNotice:function(t){return{block:this.getName(),elem:"notice",count:t}}})}(),BEM.DOM.decl("personal-basket",{onSetMod:{js:{inited:function(){this.__base(),this._hasDomikSub=!1}}},showPopup:function(){if(this.__base.apply(this,arguments),!this._hasDomikSub){var t=this._popup.findBlockInside("domik-opener");null!==t&&t.on("show",this._popup.hide,this._popup),this._hasDomikSub=!0}}}),function(){var t=require("metrika"),e={counterId:"yaCounter160656"},n=BEM.DOM.decl("personal-basket",{_onButtonClicked:function(){return t.reachGoal("HDR_CART",e.counterId),this.__base.apply(this,arguments)}});$(function(){var r=n.buildSelector("continue");BEM.DOM.doc.on("pointerclick",r,function(){
t.reachGoal("HDR_CRT_PRSS_SBMT",e.counterId)})})}(),BEM.DOM.decl("suggest-creator",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("suggest-owner"),e=this.findBlockInside("input");BEM.create("suggest",{owner:t,input:e,search:this,url:this.params.provider,needUpdateTop:!0,pageParams:{hid:this.params.hid},suggest:{srv:"market",wiz:"TrWth",part:e.val(),v:1}}).on("select",function(){this.domElem.submit()},this)}}}},{live:function(){return!BEM.blocks.suggest.focusRequired()&&void this.liveInitOnEvent("pointerclick select")}}),BEM.decl("suggest",{onSetMod:{js:{inited:function(){var t,e,n,r=this;r._clear(),r._onChange=$.debounce(r._onChange,r.params.debounceDelay),r._owner=r.params.owner,t=r._input=r.params.input,e=r._control=t.elem("control"),r._label=r.params.label,r._control0=e[0],r._val=t.val(),n=t.hasMod("focused"),n&&t.delMod("focused"),e.attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),n&&t.setMod("focused","yes"),t.on("change",r._onChange,r).on("focus",r._onFocus,r).on("blur",r._onBlur,r),e.keydown(r._onKeyDown.bind(r)).keypress(r._onKeyPress.bind(r)).keyup(r._onKeyUp.bind(r))}}},destruct:function(){this._popup&&this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{cache:!1,updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})},getPopupBlock:function(){return this._popup},updateTop:function(){var t=this._owner.domElem,e=t.offset().top+t.outerHeight();return this._popup.domElem.css("top",e),this},redraw:function(){var t=this,e=t._label;if(e){t._itemStyle&&t._itemStyle.remove();var n,r=$("body"),i=e.outerWidth(!0),s=t._input.elem("control"),a=s.offset().left+parseInt(s.css("padding-left"),10),o=parseInt(t._input.findBlockInside(e,"link").domElem.css("padding-right"),10)-parseInt(t._owner.findBlockInside("arrow").domElem.css("padding-left"),10);n=$('<div class="suggest__title" style="position:absolute;visibility:hidden"/>').appendTo(r),t._itemStyle=$(BEMHTML.apply({block:"suggest",elem:"padding",itemPaddingLeft:a,titleWidth:n.width()+i-o})).appendTo($("head")),n.remove()}return t},_create:function(){var t=this;if(!t._created){t._created=!0;var e=t.__self,n=e._buildPopup(t.params.mods),r=$(BEMHTML.apply(n));BEM.DOM.append(BEM.DOM.scope,r),t._popup=r.bem("popup"),this.params.needUpdateTop&&t.updateTop(),t.redraw(),t.trigger("created")}},_request:function(){var t,e,n=this;return n._created||n._create(),t=n._input.val(),e=n._getPos(),n._val=t,n._pos=e,n.trigger("data-requested")._getProvider().get(t,e,this._onData.bind(this)),n},_onData:function(t){var e,n=this._popup,r=t.items,i=t.meta||{};return this.trigger("data-received",t),r.length?(this._meta=i,this._idx=-1,e=this.__self._buildItems(r,i),n.setContent(BEMHTML.apply(e)),this._show(),this._items=n.findBlocksInside("suggest-item"),void this.trigger("update-items")):(this._items=[],void n.hide())},_getProvider:function(){var t,e,n=this,r=n._provider,i=n.params;return r?r:(t=i.name||n.__self.getName()+"__provider",e=$.extend({},{v:4,yu:BEM.blocks["i-global"].param("yandexuid"),fact:1,wiz:"TrWhr"},i.suggest),r=n._provider=BEM.create(t,{url:i.url,data:e,cache:i.cache,dataType:i.json?"json":"jsonp",callbackCtx:n}))},_onChange:function(t,e){if(!e||!e.noSuggest)return e&&"suggest"!==e.source?(this._hide(),void this._clear()):void this._request()},_onFocus:function(){var t=this;t.params.showListOnFocus&&t._items.length&&t._input.val()&&t._show()},_onBlur:function(){var t=this;t._noHide||t._hide()},_onKeyDown:function(t){var e,n,r,i=this,s=t.which,a=BEM.blocks.keycodes;if(a.is(s,"LEFT","RIGHT")&&i.afterCurrentEvent(i._request,i),!(s!==a.UP&&s!==a.DOWN||t.shiftKey)&&(t.preventDefault(),e=i._items.length)){if(r=i._idx,n=s-39,0===r&&n===-1||r+n>=e)return void i._onLeaveItem(i._items[r],!0);r+=n,r=r<0?e-1:r>=e?0:r,i._onEnterItem(i._items[r],!0)}},_onKeyPress:function(t){if(t.which===BEM.blocks.keycodes.ENTER){var e=this,n=e._idx;n>-1&&e._byKeyboard&&(t.preventDefault(),e._onSelectItem(e._items[n],!0)),e._hide()}},_onKeyUp:function(t){},_onEnterItem:function(t,e){var n=this,r=n._items,i=n._idx;i>-1&&r[i].delMod("selected"),i=n._getIdx(t),i>-1&&r[i].setMod("selected","yes"),n._idx=i,n._byKeyboard=e,n._control.attr("aria-activedescendant",t.domElem.attr("id")),e&&n.params.updateOnEnter&&t.enter()!==!1&&n._input.val(t.val(),{source:"suggest",noSuggest:!0,item:t})},_onLeaveItem:function(t,e){var n=this,r=n._idx;r>-1&&r===n._getIdx(t)&&(n._items[r].delMod("selected"),n._idx=-1,n._control.removeAttr("aria-activedescendant")),e&&n._input.val(n._val,{source:"suggest"})},_onSelectItem:function(t,e){var n=this,r=t.select(e);n._val=t.val(),r&&n._input.val(n._val,{source:"suggest",noSuggest:!0,item:t}),n.trigger("select",{item:t,itemIndex:n._idx,pos:n._pos,meta:n._meta,byKeyboard:e}),r&&n._clear(),n._noHide=!1,n._hide()},_onItemMouseDown:function(){this._noHide=!0},_show:function(){var t=this;t._popup&&!t._popup.isShown()&&t._popup.show(t._owner)},_hide:function(){this._popup&&this._popup.hide()},_clear:function(){this._idx=-1,this._items=[]},_getIdx:function(t){return $.inArray(t,this._items)},_getPos:function(){var t,e=this,n=e._control0,r=e._val.length;return document.selection?(n.focus(),t=document.selection.createRange(),t.moveStart("character",-r),t.text.length):n.selectionStart||0===n.selectionStart?n.selectionStart:r}},{_buildPopup:function(t){return{block:"popup",mods:{autoclosable:"no",adaptive:"no",animate:"no"},js:{position:{left:0}},mix:[{block:"suggest",mods:t}],content:{elem:"content",mix:[{block:"suggest",elem:"content"}]}}}}),BEM.decl("suggest",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._control.on("pointerup",this._request.bind(this))}}},_create:function(){var t=this;t.__base.apply(t,arguments);var e=t._popup.elem("content");BEM.blocks["suggest-item"].on(e,"pointerover",function(e){t._onEnterItem(e.block)}).on(e,"pointerout",function(e,n){var r=e.block.domElem[0];r===n.relatedTarget||$.contains(r,n.relatedTarget)||t._onLeaveItem(e.block)}).on(e,"pointerdown",function(e){t._onItemMouseDown(e.block)}).on(e,"pointerclick",function(e){t._onSelectItem(e.block)})}},{_buildItems:function(t,e){var n,r,i=this,s=[];return t.forEach(function(t){var a,o,c,l=$.isArray(t),u=l?t[0]:"text";l&&(o=t.concat().pop()),$.isPlainObject(o)||(o={}),u||(u="text"),BEM.blocks["suggest-item"].isItem(u)||(u="text"),a=u,o.pers&&(a="nah"),!e.group&&"nav"!==a&&"nah"!==a&&(a="text"),r!==a&&(r=a,n=[],c="text"===a?i._getTextLabel():BEM.I18N("suggest",a),s.push({block:"suggest",elem:"group",content:[{elem:"title",content:c},{elem:"items",content:n}]})),n.push($.extend({block:"suggest-item",mods:{type:u},data:t},o))}),s},_getTextLabel:function(){return BEM.blocks["i-global"].param("suggest-label")||BEM.I18N("suggest","text")}}),function(){var t=require("url"),e=function(t){if(!t)return{};var e=t.split("&"),n={};return e.forEach(function(t){var e=t.split("="),r=e[0];e.splice(0,1),n[r]=e.join("=")}),n},n=Object.prototype.hasOwnProperty,r="cvredirect",i="2",s="0";BEM.decl("suggest",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._search=this.params.search,this._originalAction=this._search.domElem.prop("action"),this._initSuggestPrecisers(),BEM.blocks.suggest.focusRequired()&&this.afterCurrentEvent(function(){this._input.elem("control").focus()}),this._preciserStateStorage={}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{showListOnFocus:!0,precisers:{},pageParams:{}})},_onItemMouseUp:function(){},_onBlur:function(){},_onSelectItem:function(t){this._setSuggestPrecisers(t),this.disableRedirect(),this.__base.apply(this,arguments)},_onData:function(t){var e,n=this._popup,r=t.items,i=t.meta||{};this.trigger("data-received",t),r.length||(this._items=[]),this._meta=i,this._idx=-1;var s={precisers:this.params.precisers,pageParams:this.params.pageParams};return e=this.__self._buildItems(r,i,s),0===e.length?void n.hide():(n.setContent(BEMHTML.apply(e)),this._initPrecisers(),this._show(),this._items=n.findBlocksInside("suggest-item"),void this.trigger("update-items"))},_initSuggestPrecisers:function(){this._input.on("change",function(t,e){this._setSuggestPrecisers(e&&e.item)},this)},_setSuggestPrecisers:function(r){this._suggestPrecisers&&this._suggestPrecisers.remove(),this._suggestPrecisers=$('<div style="display:none"></div>');var i=this._originalAction;if(r){var s=t.parse(r.params.action),a=e(s.query);i=s.pathname,Object.keys(a).forEach(function(t){var e=a[t];n.call(this.paramFilters,t)&&(e=this.paramFilters[t](e));var r=this._createParam(t,e);this._suggestPrecisers.append(r)},this),this._input.elem("control").removeAttr("name")}else this._input.elem("control").attr("name","text");this._search.domElem.prop("action",i),this._suggestPrecisers.appendTo(this._search.domElem)},_initPrecisers:function(){for(var t=this._popup,e=t.domElem.find("."+this.__self.getName()+"__search-preciser"),n=e.length,r=0;r<n;r++)t.findBlockOn($(e[r]),"checkbox").on("change",this._onPreciserChanged,this)},_onPreciserChanged:function(t){var e=t.block,n=e.domElem.attr("data-type"),r=e.hasMod("checked");this.params.precisers[n]=r,this.trigger("preciser-change",{type:n,enabled:r}),this._setPreciser(n,r)},_setPreciser:function(t,e){if(this.onSetPreciser[t]){this._preciserStateStorage[t]||(this._preciserStateStorage[t]={});var n=this._preciserStateStorage[t];e?this.disableRedirect():this.enableRedirect(),this.onSetPreciser[t][e.toString()].call(this,n)}},_createParam:function(t,e){var n=$('<input type="hidden"/>');return n.attr("name",t).val(e),n},_findParam:function(t){return this._search.domElem.find('input[name="'+t+'"]')},disableRedirect:function(){this._findParam(r).val(s)},enableRedirect:function(){this._findParam(r).val(i)},paramFilters:{text:function(t){try{return decodeURIComponent(t)}catch(e){return t}}},onSetPreciser:{"geo-preciser":{true:function(t){t.action=this._search.domElem.attr("action"),this._search.domElem.attr("action","/geo.xml")},false:function(t){t.action&&this._search.domElem.attr("action",t.action)}},"shop-preciser":{true:function(n){var r=t.parse(location.href),i=e(r.query);n.input=this._createParam("fesh",i.fesh),this._search.domElem.append(n.input)},false:function(t){t.input&&(t.input.remove(),t.input=null)}},"category-preciser":{true:function(n){var r=t.parse(location.href),i=e(r.query);n.input=this._createParam("hid",i.hid||this.params.pageParams.hid),this._search.domElem.append(n.input)},false:function(t){t.input&&(t.input.remove(),t.input=null)}}}},{focusRequired:function(){return("/"===location.pathname||"/index.xml"===location.pathname)&&!$("html").hasClass("i-ua_platform_touch")},_getTextLabel:function(){return""},_buildPopup:function(){var t=this.__base.apply(this,arguments);return t.mods.autoclosable="yes",t},_buildItems:function(e,n,r){var i,s,a=this,o=[],c=r.precisers;e.forEach(function(t,e){var r,c,l,u=$.isArray(t),d=u?t[0]:"market";u&&(c=t.concat().pop()),$.isPlainObject(c)||(c={}),r=d,c.pers&&(r="nah"),!n.group&&"nav"!==r&&"nah"!==r&&(r="text"),s!==r&&(s=r,i=[],l="text"===r?a._getTextLabel():BEM.I18N("suggest",r),o.push({block:"suggest",elem:"group",content:[{elem:"title",content:l},{elem:"items",content:i}]})),i.push($.extend({block:"suggest-item",mods:{type:d},data:t,url:n[e],js:{action:n[e]}},c))});var l,u=t.parse(location.href);return u.pathname&&0===u.pathname.indexOf("/geo.xml")?l="geo-preciser":u.query?u.query.indexOf("fesh=")!==-1?l="shop-preciser":u.query.indexOf("hid=")!==-1?l="category-preciser":r.pageParams.hid&&(l="category-preciser"):r.pageParams.hid&&(l="category-preciser"),l&&(checkbox={block:"checkbox",mods:{size:"s",checked:c[l]?"yes":""},mix:{block:"suggest",elem:"search-preciser"},checkboxAttrs:{tabindex:2},attrs:{"data-type":l},content:{elem:"label",content:BEM.I18N("suggest","market-"+l)}},o.push({block:"suggest",elem:"controls",elemMods:{"has-data":o.length>0?"yes":""},content:checkbox})),o}})}(),function(){var t={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,n,r){return $.isFunction(n)||(r=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,r)),this},_get:function(e,n,r,i){var s=this._buildCacheKey(e,i),a=t[i.cacheGroup];i.cache&&a&&s in a.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,a.data[s])},this):this._do(e,n,r,i)},_do:function(t,e,n,r){},_onSuccess:function(t,e,n,r){r.cache&&!this._preventCache&&this.putToCache(r,t,n),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,r){var i=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});i.keys.length>=e.cacheSize&&delete i.data[i.keys.shift()];var s=this._buildCacheKey(n,e);return i.data[s]=r,i.keys.push(s),this},dropCache:function(){return delete t[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),function(t){t.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,n,r){this._number++,this._requestNumber++,this._retryCount=r.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,r){var i=this;if(i._number>i._preventNumber){var s=arguments,a={data:r.data?$.extend({},r.data,t):t},o=i._wrapCallback(function(n,s,a){i._onSuccess(i._buildCacheKey(t,r),t,n[0],r),i._allowCallback(s,a)&&e.apply(r.callbackCtx,n)}),c=i._wrapCallback(function(t,e,a){i._allowCallback(e,a)&&(i._retryCount-- >0?setTimeout(function(){i._do.apply(i,s)},r.retryInterval):n&&n.apply(r.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(r.paramsToSettings||[]),function(t,e){a[e]=r[e]}),$.ajax(a).done(o).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(r){null!==r&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})}(BEM),BEM.decl({name:"suggest__provider",baseBlock:"i-request_type_ajax"},{get:function(t,e,n){return this.__base({part:t,pos:e},function(t){n.call(this,{orig:t[0],items:t[1],meta:t[2]})})}}),BEM.DOM.decl("suggest-item",{val:function(){var t=this.elem("text");return(t.length?t:this.domElem).text()},enter:function(){return!0},select:function(t){return!0},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerover pointerout pointerdown pointerup pointerclick mouseover mouseout mousedown mouseup",function(t){this.trigger(t.type,t)}).liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},_items:{fact:1,nav:1,text:1,traffic:1,weather:1,icon:1},isItem:function(t){return Boolean(this._items[t])}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base(),this._filler="",this._hint=""}}},buildAhead:function(){return this._ahead=$(BEMHTML.apply({block:"input",elem:"ahead"})),BEM.DOM.before(this.elem("control"),this._ahead),this._ahead},_setAhead:function(t,e){return this.elem("ahead-filler").text(!this._preventAhead&&(this._filler=t)||""),this.elem("ahead-hint").text(!this._preventAhead&&(this._hint=e)||""),t+e},showAhead:function(t,e){return"undefined"==typeof t&&this.clearAhead(),this._setAhead(t,e)},clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){var e,n,r;return t>0?(r=this._filler.slice(-t),n=r.concat(this._hint),e=this._filler.slice(0,-t)):(r=this._hint.slice(0,-t),n=this._hint.slice(-t),e=this._filler.concat(r)),this._setAhead(e,n)}}),BEM.decl("suggest",{onSetMod:{js:{inited:function(){var t,e=this;return e.__base.apply(e,arguments),/MSIE [0-8]\./.test(navigator.userAgent)?void(e._completeOff=!0):(e._noAhead=!1,e._noComplete=!1,e._lastBackspace=0,e._continue=!1,e._expect="",e.on("data-received",e._onDataReceived),(t=e._input).setMod("complete","auto"),t.elem("box").prepend(BEMHTML.apply(e.__self._buildAhead())),e._aheadHint=t.elem("ahead-hint"),e._aheadHint0=e._aheadHint[0],e._aheadFiller=t.elem("ahead-filler"),e._aheadValue=t.elem("ahead-value"),e._text=t.val(),BEM.DOM.win.resize($.throttle(e._onAheadResize.bind(e),50)),void e._onAheadResize())}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{backspaceDelay:100})},_create:function(){var t=this;t.__base.apply(t,arguments),t._completeOff||(t._popup.on("hide",function(){t._clearAhead(),t._noAhead=!0}),t.on("select",function(){t._clearAhead()}))},_onChange:function(){this._text=this._input.val(),this.__base.apply(this,arguments)},_onDataReceived:function(t,e){var n,r,i=this;return!i._noAhead&&(n=e.meta||{},r=n.continue,r&&e.orig.toLowerCase()===i._text.toLowerCase()?void i._setAhead(r):(i._clearAhead(),!1))},_onKeyPress:function(t){this.__base.apply(this,arguments),this._completeOff||0===t.charCode||t.which===BEM.blocks.keycodes.ESC||(this._noAhead=!1,this._expect!==String.fromCharCode(t.charCode)&&this._clearAhead())},_onKeyDown:function(t){var e=this,n=BEM.blocks.keycodes;if(e.__base.apply(e,arguments),!e._completeOff&&(e._scrollAhead(),!t.shiftKey))switch(e._trackBackspace&&new Date-e._lastBackspace>e.params.backspaceDelay&&(e._noAhead=!1,e._trackBackspace=!1),t.which){case n.BACKSPACE:e._noAhead=!0,e._trackBackspace=!0,e._lastBackspace=new Date,e._clearAhead();break;case n.TAB:if(!e._popup||!e._popup.isShown())break;t.preventDefault(),e._complete({usage:"tab"});break;case n.RIGHT:e._text.length===e._getPos()&&e._complete({usage:"arrow"});break;case n.UP:case n.DOWN:e._noAhead=!0,e._clearAhead()}},_onAheadMouseDown:function(t){var e,n=this._aheadHint,r=t.originalEvent;if("undefined"!=typeof t.offsetX)e=t.offsetX;else if("undefined"!=typeof r.offsetX)e=r.offsetX;else{var i=t.pageX||r.changedTouches[0].pageX||0;e=i-n.offset().left}var s=e-parseInt(n.css("padding-left"),10),a=this._aheadFiller.width(),o=a+this._aheadValue.width();s>a&&s<o&&this.afterCurrentEvent(function(){this.domElem&&this._complete({usage:"mouse"})})},_showAhead:function(){this._aheadHint.show(),this._noComplete=!1},_hideAhead:function(){this._aheadHint.hide(),this._noComplete=!0},_setAhead:function(t){if(t){var e=this._text;this._aheadHint.val(e+t),this._scrollAhead(),this._aheadFiller.text(e),this._aheadValue.text(t),this._continue=t,this._expect=t.slice(0,1),this._showAhead()}},_clearAhead:function(){this._continue=!1,this._hideAhead()},_scrollAhead:function(){this.afterCurrentEvent(function(){return!!this.domElem&&(this._aheadHint0.scrollLeft=this._control0.scrollLeft,void(this._aheadHint0.scrollTop=this._control0.scrollTop))})},_onAheadResize:function(){var t=this._control;this._aheadHint.css({width:t.outerWidth(),top:t.position().top})},_complete:function(t){var e=this,n=e._continue;if(!e._noComplete&&"string"==typeof n){var r,i,s=e._input,a=e._text+n,o=a.length,c=e._control0;$.extend(t,{chars:n.length});try{r=document.createEvent("TextEvent"),r.initTextEvent("textInput",!0,!0,null,e._aheadValue.text(),9),c.selectionEnd=c.selectionStart=o,c.dispatchEvent(r)}catch(e){s.val(a,$.extend({source:"suggest",from:"complete"},t)),c.createTextRange&&(i=c.createTextRange(),i.moveEnd("character",a.length),i.collapse(!1),i.select())}e._clearAhead(),e._text=a,e.trigger("complete",t)}}},{_buildAhead:function(){return{block:"input",elem:"ahead"}}}),BEM.decl("suggest",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._completeOff||this._input.domElem.mousedown(this._onAheadMouseDown.bind(this))}}}}),BEM.DOM.decl("b-form-checkbox",{onSetMod:{js:{inited:function(){var t=this,e=t.elem("checkbox");try{var n=t.__self.doc[0].activeElement}catch(t){}t.setMod("checked",e.attr("checked")?"yes":""),n===e[0]&&t.setMod("focused","yes")}},focused:{yes:function(){return!this.hasMod("disabled")&&void this.elem("checkbox").focus()},"":function(){this.elem("checkbox").blur()}},checked:function(t,e){this.elem("checkbox").prop("checked",e),this.elem("tick").attr("alt",e?" v":""),this.afterCurrentEvent(function(){this.domElem&&this.trigger("change")})},disabled:function(t,e){this.elem("checkbox").prop("disabled",e)}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return this.hasMod("checked","yes")},toggle:function(){this.toggleMod("checked","yes","")},val:function(t){var e=this.elem("checkbox");return void 0===t?e.val():e.val(t)},_onClick:function(t){t.button||this.isDisabled()||this.setMod("focused","yes")},_onChange:function(t){t.target.checked?this.setMod("checked","yes"):this.delMod("checked")}},{live:function(){return this.liveBindTo("checkbox","click",function(t){this._onClick(t)}).liveBindTo("checkbox","change",function(t){this._onChange(t)}).liveBindTo("checkbox","focusin focusout",function(t){this.setMod("focused","focusin"===t.type?"yes":"")}),!1}}),BEM.HTML.decl("b-form-checkbox",{onBlock:function(t){var e=t.param("checkboxAttrs")||{};t.js(!0).mix(t.mod("size")?"":[{block:"b-form-checkbox",mods:{size:"m"}}]).tag("span").tParam("checkboxAttrs",$.extend(e||{},{id:t.param("id")||e.id||$.identify(),checked:t.mod("checked")?"checked":void 0,disabled:t.mod("disabled")?"disabled":void 0})).beforeContent({elem:"inner",content:[{elem:"checkbox",attrs:t.tParam("checkboxAttrs")},{elem:"bg"}]})},onElem:{label:function(t){t.tag("label").attr("for",t.tParam("checkboxAttrs").id)},checkbox:function(t){t.tag("input").attrs($.extend(t.attrs(),{type:"checkbox"}))},bg:function(t){t.tag("i").content({elem:"tick"})},tick:function(t){t.tag("i")},inner:function(t){t.tag("span")}}}),function(){function t(){var t=document.body.getAttribute(e)||"";$.cookie(n,t,{path:"/",domain:location.hostname})}var e="data-reqid-chain",n="parent_reqid_seq";if($(window).bind("beforeunload",t),$.ajaxPrefilter(t),$("html").hasClass("i-ua_platform_touch")){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;setInterval(function(){r(t)},1e3)}$(document).ajaxSuccess(function(t,n){try{var r=JSON.parse(n.responseText).reqIdChain}catch(t){}r&&document.body.setAttribute(e,r)})}(),function(){var t=require("templater"),e=require("lodash"),n="undefined";BEM.DOM.decl("history-latest",{onSetMod:{js:{inited:function(){var t=this,n=require("history");this.flexGrid=this.findBlockInside("flex-grid"),this.flexGridAPI=this.flexGrid.domElem.data("flexGrid.obj"),this.elemList=this.findBlockInside("history-latest__list"),this.spinnerArea=this.findBlockInside("history-latest__spinner-area"),this.spinner=this.spinnerArea.findBlockInside("spin2"),this._checkHistoryPosition=e.debounce(this._checkHistoryPosition,100),n.onState(n.STATE_READY,function(e){e&&(t._show(),t.bindToWin("scroll",t._checkHistoryPosition),t._checkHistoryPosition())})}}},_show:function(){return this.delMod("visible"),this},_removeSpinner:function(){return this.spinnerArea.destruct(),this},_render:function(e,n){return BEM.DOM.append(e,t.render({data:n,nodeName:"history-latest-root"})),this},_getItems:function(){var t=this,e=require("history");e.getViewData().onResolve(function(e){t._removeSpinner()._renderItems(e),t.elemList.delMod("state")})},_renderItems:function(t){var e=this._prepareRenderData(t);return this._render(this.elemList.domElem,e)._initFlexGrid(),this},_prepareRenderData:function(t){var e={"history-latest":{list:{}}};return t&&(e["history-latest"].list.items=this._sanitizeHistoryItems(t)),e},_sanitizeHistoryItems:function(t){return e.map(t,this._replaceUndefinedImage)},_replaceUndefinedImage:function(t){var e=t.image;return t.image=e===n?void 0:e,t},_initFlexGrid:function(){return this.flexGrid.lazy(),this},_checkHistoryPosition:function(){var t=BEM.DOM.win.scrollTop()+BEM.DOM.win.height(),e=this.domElem.offset().top,n=400;t+n>=e&&(this.unbindFromWin("scroll"),this._getItems())}},{live:function(){this.liveInitOnBlockInsideEvent("init","flex-grid")}})}(),function(){var t=require("metrika");BEM.DOM.decl("pager-arrows",{},{live:function(){this.liveBindTo("item","pointerclick",function(e){var n=this.params?this.params.goalPoints:{};if(n&&n.click){var r=$(e.data.domElem);r.bem("pager-arrows__item_type_prev").hasMod("disabled","yes")||r.bem("pager-arrows__item_type_next").hasMod("disabled","yes")||t.emitGoalPoint(n.click)}})}})}(),BEM.DOM.decl("flex-grid",{onSetMod:{js:{inited:function(){this.__base();var t="",e="";t=this.params.previous?this.findBlockInside(this.params.previous):this.findBlockInside({block:"button",modName:"side",modVal:"left"}),e=this.params.next?this.findBlockInside(this.params.next):this.findBlockInside({block:"button",modName:"side",modVal:"right"}),this.domElem.on("previousButton.flexGrid",function(e,n){1===n?t.delMod("disabled"):0===n&&t.setMod("disabled","yes").delMod("focused")}).on("nextButton.flexGrid",function(t,n){1===n?e.delMod("disabled"):0===n&&e.setMod("disabled","yes").delMod("focused")}),this.hasMod("lazy","yes")||this.domElem.flexGrid(this.params),this.params.pagination&&this.setMod("pagination","yes")}}},lazy:function(){this.domElem.flexGrid(this.params)}}),BEM.DOM.decl("search-input-overlay",{onSetMod:{js:function(){var t=this.findBlockOn("input"),e=t.findElem("control"),n=t.findElem("clear");e.change(this._deactivateOverlay.bind(this)),n.click(this._deactivateOverlay.bind(this))}},_deactivateOverlay:function(){this.delMod("active")}}),function(){function t(){$.post(n.buildURL("api:client-actions",{action:"addedToCart"}))}var e=require("cart"),n=require("router");e.on(e.EVENT_ADD,t)}(),require.define("cia",function(t,e,n){!function(n){if("object"==typeof e&&"undefined"!=typeof t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.cia=n()}}(function(){return function t(e,r,i){function s(o,c){if(!r[o]){if(!e[o]){var l="function"==typeof n&&n;if(!c&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return s(n?n:t)},d,d.exports,t,e,r,i)}return r[o].exports}for(var a="function"==typeof n&&n,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){"use strict";function r(t,e){function n(){return r?(i=arguments,void(s=this)):(t.apply(this,arguments),r=!0,void setTimeout(function(){r=!1,i&&(n.apply(s,i),i=null,s=null)},e))}var r=!1,i=null,s=null;return n}Object.defineProperty(n,"__esModule",{value:!0}),n.throttle=r},{}],2:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.spies=n.localizers=void 0;var i=t("./localizers"),s=r(i),a=t("./spies"),o=r(a);n.localizers=s,n.spies=o},{"./localizers":5,"./spies":7}],3:[function(t,e,n){"use strict";function r(t){var e=t.params,n=e.name,r=e.data||null;return{name:n,data:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=t.findBlocksOutside("b-zone");return e.map(r)}},{}],4:[function(t,e,n){"use strict";function r(t){if(!t)return null;try{return JSON.parse(t)}catch(t){return null}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=[];do{if("zone"in t.dataset){var n=t.dataset.zone,i=r(t.dataset.zoneData);e.unshift({name:n,data:i})}t=t.parentNode}while(t);return e}},{}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.bem=n.dom=void 0;var i=t("./dom"),s=r(i),a=t("./bem"),o=r(a);n.dom=s.default,n.bem=o.default},{"./bem":3,"./dom":4}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=["click","keypress","focus","blur"].join(" ");n.default=BEM.DOM.decl("b-spy-events",{_onEvent:function(t){var e=this.params.events;return e?void(e.indexOf(t.type)>=0&&this.trigger(t.type)):void("click"===t.type&&this.trigger("click"))}},{live:function(){this.liveBindTo(r,function(t){this._onEvent(t)})}})},{}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.visible=n.init=n.events=void 0;var i=t("./events"),s=r(i),a=t("./init"),o=r(a),c=t("./visible"),l=r(c);n.events=s.default,n.init=o.default,n.visible=l.default},{"./events":6,"./init":8,"./visible":9}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=BEM.DOM.decl("b-spy-init")},{}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=new a.default({interval:o});return t.on("visible",function(t){$(t).bem("b-spy-visible").trigger("visible")}),t}Object.defineProperty(n,"__esModule",{value:!0});var s=t("../watcher"),a=r(s),o=500,c=null;n.default=BEM.DOM.decl("b-spy-visible",{onSetMod:{js:{inited:function(){c||(c=i());var t=this.params.mode;c.observe(this.domElem.get(0),t)},"":function(){c.unobserve(this.domElem.get(0)),c=null}}}})},{"../watcher":10}],10:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t&&"string"!=typeof t?t:h[t]||h.center}function o(t,e){if(!(t.offsetWidth>0&&t.offsetHeight>0))return!1;var n=t.getBoundingClientRect(),r=n.left+(n.right-n.left)*e.x,i=n.top+(n.bottom-n.top)*e.y;return c(r,i)&&l(t,r,i)}function c(t,e){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return t<n&&e<r}function l(t,e,n){return t.contains(document.elementFromPoint(e,n))}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=t("events"),p=t("./helpers"),h={center:{x:.5,y:.5},topLeft:{x:0,y:0},topRight:{x:1,y:0},bottomLeft:{x:0,y:1},bottomRight:{x:1,y:1}},f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.attached=!1,n.interval=t.interval||500,n._observed=[],n._intervalId=null,n._throttledCheck=(0,p.throttle)(function(){return n._check()},100),n._focusListener=function(){return n._attach()},n._blurListener=function(){return n._detach()},window.addEventListener("focus",n._focusListener),window.addEventListener("blur",n._blurListener),n}return s(e,t),u(e,[{key:"observe",value:function(t,e){this._observed.push({element:t,mode:a(e)}),this._attach()}},{key:"unobserve",value:function(t){var e=this._observed,n=e.findIndex(function(e){return e.element===t});n!==-1&&(e.splice(n,1),0===e.length&&this._detach())}},{key:"destroy",value:function(){this._observed=[],this._detach(),window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener)}},{
key:"_attach",value:function(){this.attached||(this._intervalId=setInterval(this._throttledCheck,this.interval),window.addEventListener("scroll",this._throttledCheck),window.addEventListener("resize",this._throttledCheck),this.attached=!0)}},{key:"_detach",value:function(){this.attached&&(window.removeEventListener("scroll",this._throttledCheck),window.removeEventListener("resize",this._throttledCheck),clearInterval(this._intervalId),this._intervalId=null,this.attached=!1)}},{key:"_check",value:function(){for(var t=this._observed,e=0;e<t.length;++e){var n=t[e],r=n.element,i=n.mode;o(r,i)&&(this.emit("visible",r,i),t.splice(e,1),--e)}0===t.length&&this._detach()}}]),e}(d.EventEmitter);n.default=f},{"./helpers":1,events:11}],11:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n=this._events[t],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,c=0;c<r;c++)l[c].apply(this,s);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,s,o;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(o=s;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}]},{},[2])(2)})}),function(){"use strict";function t(t,n){return t instanceof BEM.DOM&&("string"==typeof n&&(!!e(t,n)||!(n in u)))}function e(t,e){var n=t.constructor._name;if("b-spy-init"===n&&"init"===e)return!0;if("b-spy-events"!==n)return!1;var r=t.params.events||["click"];return s.includes(r,e)}function n(t,e,n){var i=Date.now();r(t,e,n);var s=Date.now()-i;n&&s>l&&setTimeout(function(){throw new Error('Unacceptable overhead for "'+e+'": '+s+"ms.")},0)}function r(t,e,n){var r=a(t);r.push({name:e,data:n});var o=s(r).map("name").map(s.toLower).join("_"),c=s.fromPairs(s.map(s.filter(r,"data"),function(t){return[t.name,t.data]}));i(o,c)}function i(t,e){try{o.reachGoal(t,c,e)}catch(t){console.error(t)}}var s=require("lodash"),a=require("cia").localizers.bem,o=require("metrika"),c=o.marketCounterID,l=64,u={init:!0,draw:!0,setup:!0,focus:!0,blur:!0,press:!0,release:!0,click:!0,change:!0,clear:!0,select:!0,tap:!0,inputBlur:!0,tpah:!0,"link-click":!0,ready:!0,"button-click":!0,submit:!0,hide:!0,open:!0,close:!0,leave:!0,"slider.initialized":!0,show:!0,ratinghovered:!0,changed:!0,initialized:!0,translated:!0,beforeOpen:!0,afterOpen:!0,beforeClose:!0,afterClose:!0,enabled:!0,"filter-change":!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,pointerclick:!0,unhighlight:!0,highlight:!0,inited:!0,started:!0,stopped:!0,ended:!0,paused:!0,update:!0,destruct:!0,enter:!0,"change-cursor-pos":!0,preshow:!0,"address.data":!0,out:!0},d=BEM.prototype.trigger;BEM.prototype.trigger=function(e,r){return t(this,e)&&n(this,e,r),d.call(this,e,r)}}(),function(){var t=require("lodash"),e=1e4;BEM.DOM.decl("n-widget-loader",{responseDataType:"html",MESSAGES:{TIMEOUT_ERROR:"Произошла ошибка. Попробуйте позже",EMPTY_URL_ERROR:"Для работы виджета необходимо установить обязательный парамерт `url`"},onSetMod:{js:{inited:function(){this.initializeConstants().initializeElements().initializeListeners().setupUpdateCondition()}}},isLoaded:function(){return this._isLoaded},setupContentEndPoint:function(){return this.params.url?(this.url=this.params.url,this):this},initializeConstants:function(){return this.requestTimeout=this.params.requestTimeout||e,this.setupContentEndPoint(),this},initializeElements:function(){return this.placeholder=this.elem("placeholder"),this.holder=this.elem("holder"),this._isLoaded=!1,this},initializeListeners:function(){return this},setupUpdateCondition:function(){return this.fetchContent(),this},prepareResultData:t.identity,onFetchSuccess:function(t){var e=this.prepareResultData(t);BEM.DOM.update(this.holder,e),this.holder.css({position:"static",left:"auto"}),BEM.DOM.replace(this.placeholder,this.holder),this.setMod("loaded","success")},onFetchError:function(){this.placeholder.slideUp(function(){BEM.DOM.win.scroll()}),BEM.DOM.update(this.holder,this.MESSAGES.TIMEOUT_ERROR),this.holder.addClass("animator_placeholder_yes animator_placeholder_flash").css({position:"static",left:"auto"}),setTimeout(t.bind(function(){this.holder.slideUp()},this),1e3),this.setMod("loaded","error")},onFetchComplete:function(){this._isLoaded=!0,BEM.DOM.win.scroll()},fetchContent:function(){return $.ajax({url:this.url,type:"GET",dataType:this.responseDataType,timeout:this.requestTimeout,context:this,success:this.onFetchSuccess,error:this.onFetchError,complete:this.onFetchComplete}),this}})}(),function(){var t=require("lodash"),t=require("lodash"),e=150;BEM.DOM.decl({block:"n-widget-loader",modName:"initialize-event",modVal:"scroll"},{onSetMod:{js:{inited:function(){this._onScroll=$.throttle(this._onScroll,50,this),this.__base.apply(this,arguments)}}},setupUpdateCondition:function(){this.lastTimestamp=0,this.lastOffset=0,this.bindToWin("scroll",this._onScroll)._onScroll()},_onScroll:function(){var n=BEM.DOM.win,r=n.scrollTop(),i=r+n.height(),s=this.domElem.offset().top,a=s+this.domElem.height(),o=t.now(),c=o-this.lastTimestamp,l=r-this.lastOffset,u=l/c,d=e*u;this.lastTimestamp=o,this.lastOffset=r,i+Math.max(d,0)>=s&&r+Math.min(d,0)<=a&&(this.unbindFromWin("scroll"),this.fetchContent())}})}(),function(){var t=require("cms");BEM.DOM.decl({name:"n-widget-loader",modName:"context",modVal:"cms"},{fetchContent:function(){return t.render(this.params.widget).then(this.onFetchSuccess.bind(this),this.onFetchError.bind(this)),this}})}(),require.define("mooa",function(t,e,n,r,i){!function(n,r){"object"==typeof e&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e?e.mooa=r():n.mooa=r()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(3),c=i(o),l=n(2),u=r(l),d="https://bug.yandex.ru",p=5242880,h=["ru"],f=function(t,e){var n=function(t,e){return'\n        <div class="mooa__control" style="'+t.controlStyle+'"></div>\n        <form method="POST" class="mooa__form">\n            <div class="mooa__row">\n                <div class="mooa__form-select">\n                    <select name="component" tabindex="1">\n                        <option value="init">'+e.get("form","component-placeholder")+"</option>\n                        "+t.components+'\n                    </select>\n                </div>\n            </div>\n            <div class="mooa__row">\n                <textarea name="message" tabindex="2"\n                    placeholder="'+e.get("form","message-placeholder")+'"></textarea>\n            </div>\n            <div class="mooa__row">\n                <label class="mooa__attachment">\n                    <span tabindex="3">'+e.get("form","select-file-button")+'</span>\n                    <input name="attachment" type="file">\n                </label>\n                <span class="mooa__attachment-remove">×</span>\n                <span class="mooa__attachment-name"></span>\n            </div>\n            <div class="mooa__row">\n                <button type="submit" class="mooa__submit" disabled tabindex="4">\n                '+e.get("form","submit-button")+'\n                </button>\n                <div class="mooa__message"></div>\n            </div>\n            <div class="mooa__close">'+e.get("form","close-button")+"</div>\n        </form>"},r=function(){var e=[];if(void 0!==t.navigator.plugins)for(var n=0;n<t.navigator.plugins.length;n++){var r=t.navigator.plugins.item(n);e.push(r.name+": "+r.filename+" - "+r.description)}return e.join("; ")},i=function(){function i(t){s(this,i),this._standId=t.standId,this._components=t.components,this._position=t.position||{},this._apiUrl=t.apiUrl||d,this._lang=t.lang||"ru",this._i18n=new u.default(this._lang),this._emptyBug=!0,this._emptyMessage=!0;var n=this._buildHtml();this._mooaContainer=e.createElement("div"),this._mooaContainer.classList.add("mooa"),this._mooaContainer.innerHTML=n;var r=t.container||e.body;r.appendChild(this._mooaContainer),this._addEventListeners(),c.isSupportedFormData||this._findElement(".mooa__attachment").parentNode.remove()}return a(i,[{key:"_toggle",value:function(){this._isOpened()?this._close():this._open()}},{key:"_isOpened",value:function(){return this._mooaContainer.classList.contains("_visible")}},{key:"_open",value:function(){this._isOpened()||this._mooaContainer.classList.add("_visible")}},{key:"_close",value:function(){this._isOpened()&&(this._mooaContainer.classList.remove("_visible"),this._clearMessage())}},{key:"_buildHtml",value:function(){var t=this,e={};return e.controlStyle=Object.keys(this._position).map(function(e){return"zIndex"===e?"z-index: "+t._position[e]:e+": "+t._position[e]+"px;"}).join(""),e.components=this._components.map(function(e){var n=h.indexOf(t._lang)>=0?e.name:e.name_en;return'<option value="'+e.id+'">'+n+"</option>"}).join(""),n(e,this._i18n)}},{key:"_addEventListeners",value:function(){this._findElement(".mooa__form").addEventListener("submit",this._submitForm.bind(this)),this._findElement(".mooa__control").addEventListener("click",this._toggle.bind(this)),this._findElement(".mooa__close").addEventListener("click",this._toggle.bind(this)),this._findElement(".mooa__submit").addEventListener("click",this._submitForm.bind(this)),this._findElement("select[name=component]").addEventListener("change",this._changeBug.bind(this)),this._findElement("textarea[name=message]").addEventListener("input",this._changeMessage.bind(this)),this._findElement("input[name=attachment]").addEventListener("change",this._changeAttachment.bind(this)),this._findElement(".mooa__attachment-remove").addEventListener("click",this._removeAttachment.bind(this))}},{key:"_findElement",value:function(t){return this._mooaContainer.querySelector(t)}},{key:"_changeBug",value:function(t){var e=t.target.options[t.target.selectedIndex];this._emptyBug="init"===e.value,this._checkFields()}},{key:"_changeMessage",value:function(t){var e=t.target.value.trim();this._emptyMessage=""===e,this._checkFields()}},{key:"_checkFields",value:function(){this._clearMessage();var t=this._findElement(".mooa__submit");t&&(t.disabled=this._emptyBug||this._emptyMessage)}},{key:"_changeAttachment",value:function(t){var e=t.target.files[0];if(e){this._clearMessage();var n=this._findElement(".mooa__attachment");if(e.size>=p)n.classList.contains("_selected")||(t.target.value=""),this._printMessage(this._i18n.get("error-messages","file-size"),"error");else{n.classList.add("_selected");var r=n.parentNode.querySelector(".mooa__attachment-name");r.innerHTML=e.name}}}},{key:"_removeAttachment",value:function(){var t=this._findElement(".mooa__attachment"),e=t.querySelector("input[type=file]");e.value="";var n=t.parentNode.querySelector(".mooa__attachment-name");n.innerHTML="",t.classList.remove("_selected")}},{key:"_submitForm",value:function(n){n.preventDefault(),this._clearMessage();var i={stand:this._standId,page_url:t.location.href,monitor_size:t.screen.width+"x"+t.screen.height,window_size:t.innerWidth+"x"+t.innerHeight,cookies:e.cookie,plugins:r()},s=this._findElement(".mooa__form"),a=s.querySelector("[name=component]"),o=a.options[a.selectedIndex];if(!o||"init"===o.value)return void this._printMessage(this._i18n.get("error-messages","empty-component"),"error");i.component=o.value;var l=s.querySelector("[name=message]").value.trim();if(!l)return void this._printMessage(this._i18n.get("error-messages","empty-message"),"error");i.message=l;var u={url:this._apiUrl+"/api/v2/reports/",method:"POST",params:i,form:this._findElement(".mooa__form")};c.load(u,this._responseHandler,this)}},{key:"_responseHandler",value:function(e,n){var r=this;if(null!==e)return this._printMessage(this._i18n.get("error-messages","common"),"error"),void t.console.error(e);var i=!1,s=this._i18n.get("messages","success")+" ";n.content.hasOwnProperty("backends")&&n.content.backends.forEach(function(e){if(i="ok"===e.status||i,"error"===e.status)t.console.warn(new Error(e.params.message));else if("brak"===e.type){var n=e.params.is_new?"brak-created":"brak-updated",a='<a target="_blank" href="'+e.params.url+'">'+e.params.url+"</a>";s+=r._i18n.get("messages",n).replace("{{link}}",a)+" "}else"email"===e.type&&(s+=r._i18n.get("messages","email-delivered").replace("{{email}}",e.params.to.join(", "))+" ")}),i?(this._printMessage(s),this._clearForm()):(this._printMessage(this._i18n.get("error-messages","common"),"error"),t.console.error(new Error("Data has not been saved"),n))}},{key:"_printMessage",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"success":arguments[1],n=this._findElement(".mooa__message");n.innerHTML=t,n.classList.remove("_success"),n.classList.remove("_error"),n.classList.add("_"+e)}},{key:"_clearMessage",value:function(){this._printMessage("")}},{key:"_clearForm",value:function(){var t=this._findElement(".mooa__form");t.querySelector("[name=message]").value="",this._emptyMessage=!0,t.querySelector("[name=component]").options[0].selected=!0,this._emptyBug=!0,this._removeAttachment(),this._findElement(".mooa__submit").disabled=!0}}]),i}();return i},_=f(window,window.document);t.exports=function(t){t.apiUrl=t.apiUrl||d;var e=t.apiUrl+"/api/v2/stands/"+t.standId+"/components/";c.load({url:e},function(e,n){if(null!==e)return void window.console.error(e);if(!n.content.hasOwnProperty("components")){var r=new Error("Data returned with error");return void window.console.error(r,n)}return t.components=n.content.components,new _(t)})}},function(t,e){"use strict";t.exports={"error-messages":{common:"Не удалось отправить сообщение. Попробуйте ещё раз.","empty-component":"Выберите тип ошибки","empty-message":"Пожалуйста, опишите проблему","file-size":"Файл должен быть не больше 5 МБ"},form:{"close-button":"Закрыть","component-placeholder":"Выберите тип ошибки","message-placeholder":"Опишите проблему","select-file-button":"Выберите файл","submit-button":"Отправить",task:"Другое"},messages:{"brak-created":"Тикет создан: {{link}}.","brak-updated":"Тикет обновлён: {{link}}.","email-delivered":"Письмо отправлено по адресу: {{email}}.",success:"Спасибо за ваше сообщение. Разработчики скоро займутся этой проблемой."}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=["ru"],a={};s.forEach(function(t){return a[t]=n(4)("./"+t)});var o=function(){function t(e){r(this,t),this._translation=a[e]}return i(t,[{key:"get",value:function(t,e){return this._translation[t]&&this._translation[t][e]||""}}]),t}();e.default=o,t.exports=e.default},function(t,e){"use strict";function n(t,e,n){t.method=(t.method||"GET").toUpperCase(),t.params=t.params||{},t.timeout=t.timeout||5e3;var i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=!0,i.timeout=t.timeout,i.ontimeout=function(){var t=new Error("Sorry, the query has exceeded the maximum time");e.call(n,t,null)},i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var t={};try{t=JSON.parse(i.response)}catch(t){var r=new Error("Cannot parse response");e.call(n,r,null)}e.call(n,null,t)}else{var r=new Error("Bad response status: "+i.status);e.call(n,r,null)}};var s=void 0;return r?(s=t.form?new FormData(t.form):new FormData,Object.keys(t.params).forEach(function(e){return s.append(e,t.params[e])})):s=Object.keys(t.params).map(function(e){return encodeURIComponent(t.params[e])+"="+encodeURIComponent(t.params[e])}).join("&"),i.send(s),i}Object.defineProperty(e,"__esModule",{value:!0}),e.load=n;var r=Boolean(window.FormData);e.isSupportedFormData=r},function(t,e,n){function r(t){return n(i(t))}function i(t){return s[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var s={"./ru":1,"./ru.js":1};r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id=4}])})}),function(t){"use strict";var e=require("mooa"),n=require("lodash");t.DOM.decl("mooa-starter",{onSetMod:{js:{inited:function(){this.initializeProperties().start()}}},start:n.once(function(){return this.apiUrl&&this.standId&&e({apiUrl:this.apiUrl,standId:this.standId}),this}),initializeProperties:function(){var t=this.params;return this.apiUrl=t.apiUrl,this.standId=t.standId,this}})}(BEM),BEM.DOM.decl("n-layout",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._scrollWidth=null,BEM.blocks.modal.on({beforeOpen:function(){this.setMod("hide-scroll","yes")},afterClose:function(){this.delMod("hide-scroll")}},this)}},"hide-scroll":{"":function(){this._setStruts(0)},yes:function(){this._setStruts(this._getCurrentScrollWidth())}}},_setStruts:function(t){this.domElem.css("margin-right",t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:-9999,top:-9999,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}}),require.define("fontfaceobserver",function(t,e,n,r,i){!function(){"use strict";function t(t){d.push(t),1==d.length&&u()}function e(){for(;d.length;)d[0](),d.shift()}function n(t){this.a=p,this.b=void 0,this.f=[];var e=this;try{t(function(t){s(e,t)},function(t){a(e,t)})}catch(t){a(e,t)}}function r(t){return new n(function(e,n){n(t)})}function i(t){return new n(function(e){e(t)})}function s(t,e){if(t.a==p){if(e==t)throw new TypeError;var n=!1;try{var r=e&&e.then;if(null!=e&&"object"==typeof e&&"function"==typeof r)return void r.call(e,function(e){n||s(t,e),n=!0},function(e){n||a(t,e),n=!0})}catch(e){return void(n||a(t,e))}t.a=0,t.b=e,o(t)}}function a(t,e){if(t.a==p){if(e==t)throw new TypeError;t.a=1,t.b=e,o(t)}}function o(e){t(function(){if(e.a!=p)for(;e.f.length;){var t=e.f.shift(),n=t[0],r=t[1],i=t[2],t=t[3];try{0==e.a?i("function"==typeof n?n.call(void 0,e.b):e.b):1==e.a&&("function"==typeof r?i(r.call(void 0,e.b)):t(e.b))}catch(e){t(e)}}})}function c(t){return new n(function(e,n){function r(n){return function(r){a[n]=r,s+=1,s==t.length&&e(a)}}var s=0,a=[];0==t.length&&e(a);for(var o=0;o<t.length;o+=1)i(t[o]).c(r(o),n)})}function l(t){return new n(function(e,n){for(var r=0;r<t.length;r+=1)i(t[r]).c(e,n)})}var u,d=[];u=function(){setTimeout(e)};var p=2;n.prototype.g=function(t){return this.c(void 0,t)},n.prototype.c=function(t,e){var r=this;return new n(function(n,i){r.f.push([t,e,n,i]),o(r)})},window.Promise||(window.Promise=n,window.Promise.resolve=i,window.Promise.reject=r,window.Promise.race=l,window.Promise.all=c,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function r(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function s(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(t,n){function r(){var t=i;s(t)&&t.a.parentNode&&n(t.g)}var i=t;e(t.b,r),e(t.c,r),s(t)}function o(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function c(){if(null===h)if(l()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);h=!!t&&603>parseInt(t[1],10)}else h=!1;return h}function l(){return null===_&&(_=!!document.fonts),_}function u(){if(null===f){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}f=""!==t.style.font}return f}function d(t,e){return[t.style,t.weight,u()?t.stretch:"","100px",e].join(" ")}var p=null,h=null,f=null,_=null;o.prototype.load=function(t,e){var s=this,o=t||"BESbswy",u=0,h=e||3e3,f=(new Date).getTime();return new Promise(function(t,e){if(l()&&!c()){var _=new Promise(function(t,e){function n(){(new Date).getTime()-f>=h?e():document.fonts.load(d(s,'"'+s.family+'"'),o).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}n()}),m=new Promise(function(t,e){u=setTimeout(e,h)});Promise.race([m,_]).then(function(){clearTimeout(u),t(s)},function(){e(s)})}else n(function(){function n(){var e;(e=-1!=v&&-1!=y||-1!=v&&-1!=b||-1!=y&&-1!=b)&&((e=v!=y&&v!=b&&y!=b)||(null===p&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),p=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=p&&(v==g&&y==g&&b==g||v==k&&y==k&&b==k||v==w&&y==w&&b==w)),e=!e),e&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(u),t(s))}function c(){if((new Date).getTime()-f>=h)E.parentNode&&E.parentNode.removeChild(E),e(s);else{var t=document.hidden;!0!==t&&void 0!==t||(v=l.a.offsetWidth,y=_.a.offsetWidth,b=m.a.offsetWidth,n()),u=setTimeout(c,50)}}var l=new r(o),_=new r(o),m=new r(o),v=-1,y=-1,b=-1,g=-1,k=-1,w=-1,E=document.createElement("div");E.dir="ltr",i(l,d(s,"sans-serif")),i(_,d(s,"serif")),i(m,d(s,"monospace")),E.appendChild(l.a),E.appendChild(_.a),E.appendChild(m.a),document.body.appendChild(E),g=l.a.offsetWidth,k=_.a.offsetWidth,w=m.a.offsetWidth,c(),a(l,function(t){v=t,n()}),i(l,d(s,'"'+s.family+'",sans-serif')),a(_,function(t){y=t,n()}),i(_,d(s,'"'+s.family+'",serif')),a(m,function(t){b=t,n()}),i(m,d(s,'"'+s.family+'",monospace'))})})},"object"==typeof t?t.exports=o:(window.FontFaceObserver=o,window.FontFaceObserver.prototype.load=o.prototype.load)}()}),function(){var t=require("fontfaceobserver");BEM.DOM.decl("i-font-loader",{onSetMod:{js:{inited:function(){var e=new t("YS Text");e.load().then(function(){window.document.body.classList.add("fonts-loaded"),$.cookie("fonts-loaded","1",{path:"/"})})}}}})}(),function(t){var e=400,n=0,r=400;BEM.DOM.decl("topmenu",{onSetMod:{js:function(){var e=this.domElem,n=t(this.elem("item").get(0)),r=t(this.elem("item").last()),i=this.elem("item").filter(":gt(5)").not(":last");this._e={topmenu:e,topmenuFirstItem:n,topmenuLastItem:r,collapseItems:i},this._onResize=t.throttle(this._onResize,500,this),this.resizeMenu().bindToWin("resize",this._onResize)._bindClosingEvents()}},onElemSetMod:{item:{opened:{yes:function(e){var n=t(e).bem("topmenu__item");if(n===this._openedItem)return this._clearTimeout();if(this._openedItem){var r=this._openedItem;this._openedItem=n,this.delMod(r.domElem,"opened"),this._openedItem.submenuFadeOpen()}else this._openedItem=n.submenuSlideOpen()},"":function(e){if(this._openedItem){var n=t(e).bem("topmenu__item");n===this._openedItem?(this._openedItem.submenuSlideClose(),this._openedItem=null):n.submenuFadeClose()}}},hovered:{yes:function(r){var i=this,s=t(r).bem("topmenu__item");this._setTimeout(function(){i.setMod(s.domElem,"opened","yes")},i._openedItem?n:e)},"":function(e){var n=this,i=t(e).bem("topmenu__item");this._setTimeout(function(){n.delMod(i.domElem,"opened")},r)}}}},getOuterItemsWidth:function(){return this._e.topmenuLastItem.offset().left+this._e.topmenuLastItem.outerWidth()-this._e.topmenuFirstItem.offset().left+150},getLeftBorder:function(){return this._e.topmenuFirstItem.offset().left+parseFloat(this.findElem(this._e.topmenuFirstItem,"link").css("padding-left"))},getRightBorder:function(){return this._e.topmenuLastItem.offset().left+this._e.topmenuLastItem.outerWidth()-parseFloat(this.findElem(this._e.topmenuLastItem,"link").css("padding-right"))},_onResize:function(){this.resizeMenu()},resizeMenu:function(){var e=this,n=this._e,r=BEM.DOM.getWindowSize().width-parseFloat(n.topmenu.css("padding-left"))-parseFloat(n.topmenu.css("padding-right"));return t(n.collapseItems.filter(":not(.topmenu__item_state_hidden)").get().reverse()).each(function(i,s){return!(e.getOuterItemsWidth()<r)&&(n.topmenuLastItem.find('[data-department="'+t(s).data("department")+'"]').bem("topmenu__subitem").delMod("state"),void t(s).bem("topmenu__item").setMod("state","hidden"))}),n.collapseItems.filter(".topmenu__item_state_hidden").each(function(i,s){return!(r-e.getOuterItemsWidth()<t(s).width())&&(n.topmenuLastItem.find('[data-department="'+t(s).data("department")+'"]').bem("topmenu__subitem").setMod("state","hidden"),void t(s).bem("topmenu__item").delMod("state"))}),this.elem("item").each(function(e,n){t(n).bem("topmenu__item").resizeSubmenu()}),this},_clearTimeout:function(){clearTimeout(this._timeout),this._timeout=null},_setTimeout:function(t,e){this._clearTimeout();var n=this;this._timeout=setTimeout(function(){t.call(n),n._clearTimeout()},e)},_bindClosingEvents:function(){var e=this,n=t("body"),r="pointerdown pointerclick";return this.domElem.on(r,function(t){t.stopPropagation()}),n.on(r,function(t){e._openedItem&&(t.preventDefault(),e.delMod(e._openedItem.domElem,"opened"))}),this}})}(jQuery),function(t){var e=400,n=150,r=150;BEM.DOM.decl("topmenu__item",{onSetMod:{js:function(){var t=this,e=this.findBlockOutside("topmenu"),n="pointerdown pointerclick";this._e={topmenu:e,tail:e.findElem(this.domElem,"tail"),arrow:e.findElem(this.domElem,"arrow"),submenu:e.findElem("submenu"),sublist:e.findElem(this.domElem,"sublist"),subwrap:e.findElem(this.domElem,"subwrap"),subitems:e.findElem(this.domElem,"subitem")},this.resizeSubmenu().bindTo(n,function(n){e.hasMod(t.domElem,"opened")||(n.preventDefault(),n.stopPropagation(),e.setMod(t.domElem,"opened","yes"))}).bindTo("mouseenter",function(){e.setMod(t.domElem,"hovered","yes")}).bindTo("mouseleave",function(){e.delMod(t.domElem,"hovered")})}},resizeSubmenu:function(){function e(){var t=Math.min(o.maxAvailable,c.length),e=Math.ceil(t/2)-1;return e<=o.leftAvailable&&t-e-1<=o.rightAvailable?e:e>o.leftAvailable?o.leftAvailable:t-e-1>o.rightAvailable?t-o.rightAvailable-1:-1}function n(t){return o.triangleLeft-t*o.subitemWidth-o.subitemHalfWidth}function r(e,n){return n?t(e).stop(!0,!0).css("visibility","visible").animate({opacity:"1"}):t(e).css({opacity:"1",visibility:"visible"}),e}function i(e,n){return n?t(e).stop(!0,!0).animate({opacity:"0"},function(){t(this).css("visibility","hidden")}):t(e).css({opacity:"0",visibility:"hidden"}),e}var s,a=this._e,o=this._calcDimensions(),c=a.subitems.filter(':not(".topmenu__subitem_state_hidden")');if(o.maxAvailable<c.length){s=n(o.leftAvailable),r(c.filter(":lt("+o.maxAvailable+")")),i(c.filter(":gt("+(o.maxAvailable-1)+")"));var l=c.length-o.maxAvailable;a.arrow.show(),a.arrow.bem("topmenu__arrow").unbindFrom("pointerclick").bindTo("pointerclick",function(){this.hasMod("side","right")?(i(c.filter(":lt("+l+")"),!0),
a.sublist.stop().animate({left:s-l*o.subitemWidth}),r(c.filter(":gt("+(o.maxAvailable-1)+")"),!0)):(i(c.filter(":gt("+(o.maxAvailable-1)+")"),!0),a.sublist.stop().animate({left:s}),r(c.filter(":lt("+l+")"),!0)),this.toggleMod("side","left","right",this.hasMod("side","right"))})}else s=n(e()),r(c),a.arrow.hide();return a.arrow.bem("topmenu__arrow").setMod("side","right"),a.subwrap.css("padding-left",o.leftSubmenuBorder),a.sublist.css("left",s),this},_calcDimensions:function(){var e=this._e,n=function(t){return Math.floor(t/2)},r=e.subwrap.css("opacity"),i=e.subwrap.css("display");e.subwrap.css({opacity:0,display:"block"});var s,a,o,c,l,u=e.subitems.filter(':not(".topmenu__subitem_state_hidden")'),d=t(u.get(0)),p=d.find(".image"),h=d.outerWidth(),f=n(h),_=p.outerWidth(),m=n(h-_),v=e.topmenu.getLeftBorder()-m,y=e.topmenu.getRightBorder()+m;return v=v<0?0:v,y=y>BEM.DOM.getWindowSize().width?BEM.DOM.getWindowSize().width:y,s=this.domElem.offset().left+n(this.domElem.outerWidth())-v,a=y-s-v,o=Math.floor((s-f)/h),c=Math.floor((a-f)/h),o=o<0?0:o,c=c<0?0:c,l=o+c+1,e.subwrap.css({opacity:r,display:i}),{subitemWidth:h,subitemHalfWidth:f,leftSubmenuBorder:v,rightSubmenuBorder:y,triangleLeft:s,triangleRight:a,leftAvailable:o,rightAvailable:c,maxAvailable:l}},submenuSlideOpen:function(){var t=this._e;return t.tail.css("display","block"),t.submenu.stop(!0,!0).slideDown(n),t.subwrap.stop(!0,!0).slideDown({duration:n,queue:!1}).css("top",t.topmenu.domElem.height()-40+"px").animate({top:t.topmenu.domElem.height()+"px"},{duration:n,queue:!1}),this},submenuSlideClose:function(){var t=this._e;return t.tail.css("display","none"),t.submenu.stop(!0,!0).slideUp(r),t.subwrap.stop(!0,!0).animate({top:t.topmenu.domElem.height()-40+"px"},{duration:r,queue:!1,complete:function(){t.subwrap.css("top",t.topmenu.domElem.height()+"px")}}).slideUp({duration:r,queue:!1}),this},submenuFadeOpen:function(){var t=this._e;return t.tail.css("display","block"),t.submenu.stop(!0,!0),t.subwrap.stop(!0,!0).fadeIn(e),this},submenuFadeClose:function(){var t=this._e;return t.tail.css("display","none"),t.submenu.stop(!0,!0),t.subwrap.stop(!0,!0).hide(),this}})}(jQuery),function(){var t="navigation-tooltip";BEM.DOM.decl("n-topmenu-new-vertical",{onSetMod:{js:{inited:function(){var e=this,n=$.cookie(t);if(e._tooltip=e.findBlockInside("tooltip"),e._tooltipContent=e._tooltip.findElem("content"),e._button=e.findElem("popup-show"),e._popup=e.findBlockOn(this.findElem("popup"),"popup2"),e._paranja=e.findBlockOutside("n-topmenu-new-vertical-wrapper").findBlockInside("paranja"),e._dropdown2=e.findBlockInside("dropdown2"),"appeared"!==n){var r="Более 1500 категорий товаров";e._showTooltip(e._dropdown2,r),$.cookie(t,"appeared",{expires:365,path:"/"})}else e._destroyTooltip();e._popup.on("beforeOpen",function(){e._paranja.setMod("state","open")}).on("beforeClose",function(){e._paranja.setMod("state","close")}),e._button.on("pointerclick",function(){e._button.toggleClass("n-topmenu-new-vertical__popup-show"),e._hideTooltip()}),e._tooltipContent.on("pointerclick",function(){e._button.toggleClass("n-topmenu-new-vertical__popup-show"),e._dropdown2.setMod("opened","yes"),e._hideTooltip()})}}},_showTooltip:function(t,e){this._tooltip.setOwner(t).setContent(e).setMod("shown","yes")},_hideTooltip:function(){this._tooltip.delMod("shown")},_destroyTooltip:function(){this._tooltip.domElem.remove()}})}(),function(){BEM.DOM.decl("n-navigation-vertical",{onSetMod:{js:{inited:function(){function t(t){var e=$(t),n=e.find(".n-navigation-vertical-category__menu");n.css("display","block"),e.addClass("active")}function e(t){var e=$(t),n=e.find(".n-navigation-vertical-category__menu");n.css("display",""),e.removeClass("active")}var n=this.domElem;n.menuAim({activate:t,deactivate:e,rowSelector:".n-navigation-vertical-category",tolerance:750})}}}})}(),BEM.DOM.decl("paranja",{onSetMod:{js:{inited:function(){[].concat(this.params.rel||[]).forEach(function(t){$(t.elem||this.domElem).on(t.event,this[t.method].bind(this))},this),this.bindTo("pointerclick",function(){this.trigger("click")})}},state:{open:function(){this.trigger("open")},close:function(){this.trigger("close")}}},open:function(t){this.setMod("state","open")},close:function(t){this.setMod("state","close")}},{live:!1}),BEM.DOM.decl({block:"paranja",modName:"autoclosable",modVal:"yes"},{onSetMod:{state:{open:function(){var t=this.params.autoclosable.preventOn;t&&t.length&&this.afterCurrentEvent(function(){this.domElem&&this.bindToDoc("pointerclick",this._onClick,this)}),this.__base.apply(this,arguments)},close:function(){this.unbindFromDoc("pointerclick",this._onClick,this),this.__base.apply(this,arguments)}}},getDefaultParams:function(){return $.extend(this.__base(),{autoclosable:{}})},_onClick:function(t){var e,n,r,i,s=this.params.autoclosable.preventOn,a=$(t.target),o=s.length,c=!1;t:for(r=0;r<o;r++)for(n=this.findBlocksInside(this.domElem.parent(),s[r]),e=n.length,i=0;i<e;i++)if((!s[r].modName||n[i].hasMod(s[r].modName,s[r].modVal))&&(c=n[i].containsDomElem(a)||n[i][0]===t.target))break t;c||this.close()}}),function(t){function e(e){var n=t(this),r=null,i=[],s=null,a=null,o=t.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:t.noop,exit:t.noop,activate:t.noop,deactivate:t.noop,exitMenu:t.noop},e),c=3,l=300,u=function(t){i.push({x:t.pageX,y:t.pageY}),i.length>c&&i.shift()},d=function(){a&&clearTimeout(a),o.exitMenu(this)&&(r&&o.deactivate(r),r=null)},p=function(){a&&clearTimeout(a),o.enter(this),m(this)},h=function(){o.exit(this)},f=function(){_(this)},_=function(t){t!=r&&(r&&o.deactivate(r),o.activate(t),r=t)},m=function(t){var e=v();e?a=setTimeout(function(){m(t)},e):_(t)},v=function(){function e(t,e){return(e.y-t.y)/(e.x-t.x)}if(!r||!t(r).is(o.submenuSelector))return 0;var a=n.offset(),c={x:a.left,y:a.top-o.tolerance},u={x:a.left+n.outerWidth(),y:c.y},d={x:a.left,y:a.top+n.outerHeight()+o.tolerance},p={x:a.left+n.outerWidth(),y:d.y},h=i[i.length-1],f=i[0];if(!h)return 0;if(f||(f=h),f.x<a.left||f.x>p.x||f.y<a.top||f.y>p.y)return 0;if(s&&h.x==s.x&&h.y==s.y)return 0;var _=u,m=p;"left"==o.submenuDirection?(_=d,m=c):"below"==o.submenuDirection?(_=p,m=d):"above"==o.submenuDirection&&(_=c,m=u);var v=e(h,_),y=e(h,m),b=e(f,_),g=e(f,m);return v<b&&y>g?(s=h,l):(s=null,0)};n.mouseleave(d).find(o.rowSelector).mouseenter(p).mouseleave(h).click(f),t(document).mousemove(u)}t.fn.menuAim=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery),function(){var t=require("metrika");BEM.DOM.decl("n-navigation-horizontal",{onSetMod:{js:{inited:function(){var t=this;t._header=t.findBlockOutside("b-page").findBlockInside("n-header-horizontal"),t._categories=t.findBlocksInside("n-navigation-horizontal-category"),t._categories.forEach(function(e){e.domElem.hover(function(){t._handlerIn(e)},function(){t._handlerOut(e)})})}}},_handlerIn:function(e){this.setMod("state","open"),this._header.setMod(this._header.elem("paranja"),"state","open"),e.setMod(e.elem("menu"),"active"),t.reachGoal("TOP_CTLG_SHOW",t.marketCounterID)},_handlerOut:function(t){this.setMod("state","close"),this._header.setMod(this._header.elem("paranja"),"state","close"),t.delMod(t.elem("menu"),"active")}})}();BEM.DOM.decl({block:"i-flashcookie"},{onSetMod:{js:{inited:function(){this.domElem.replaceWith('<iframe src="'+this.params.host+'" class="'+this.__self.getName()+'"/>')}}}});require.define("route-converter",function(t,e,n,r,i){function s(t){var e=new m;return t.forEach(e.addRoute.bind(e)),e}function a(t,e,n,r,i,s){var a,c,l;if(s=s||{},c=o(t,e,n,r,i),null===c)return null;if(l=h[e].getRouteByName(c.routeName))_.assignIn(c.match,s.addParams),a=l.build(c.match);else{if(!n)return null;a=y}return a=k[e]+s.dnsZone+a}function o(t,e,n,r,i){var s,a,o,p,f=h[t].getRouteByName(r),m=v(e);return null!==f&&l(i)?(a=f.match(i.url.path),o=d[e][r],null===a||"undefined"==typeof o?n?m:null:(s=o[t+"To"+c(e)],"function"==typeof s?(p=s(a,r),p.match=_.assignIn(p.match,u(a))):p={routeName:o[e],match:a},p.match=_.omit(p.match,b[e]),_.assignIn(p.match,m.match),p)):n?m:null}function c(t){return t.charAt(0).toUpperCase()+t.substring(1)}function l(t){return Boolean(t&&t.url&&_.isString(t.url.path))}function u(t){return _.pick(t,g)}var d,p,h,f,_=n("lodash"),m=n("susanin"),v=function(t){return"desktop"===t?{routeName:"market:index",match:{"no-pda-redir":"1"}}:"touch"===t?{routeName:"touch:index",match:{}}:void 0},y="/",b={desktop:[],touch:["no-pda-redir"]},g=["utm_source","utm_medium","utm_term","utm_campaign","clid","distr_type","lr"],k={desktop:"//market.yandex.",touch:"//m.market.yandex."};"undefined"!=typeof window&&"function"==typeof n.define?(d=n("route-converter.analogous-pages"),p=n("route-converter.routes.desktop"),f=n("route-converter.routes.touch")):"undefined"==typeof n.file?(d=n("./analogous-pages"),p=n("./routes/desktop"),f=n("./routes/touch")):(d=n(r+"analogous-pages.js"),p=n(r+"routes/desktop.js"),f=n(r+"routes/touch.js")),h={touch:s(f),desktop:s(p)},t.exports={desktop:{toTouch:_.partial(a,"desktop","touch",!0),toTouchOrNull:_.partial(a,"desktop","touch",!1)},touch:{toDesktop:_.partial(a,"touch","desktop",!0),toDesktopOrNull:_.partial(a,"touch","desktop",!1)}}}),require.define("route-converter.analogous-pages",function(t,e,n,r,i){function s(t,e,n,r){var i=r[t];return i instanceof Array||(i=[i]),i.forEach(function(t){n[t]=r}),n}var a=n("lodash"),o=[{desktop:"market:all-filters",touch:"touch:choose-search",desktopToTouch:function(t){return{match:a.omit(t,"canonical"),routeName:"touch:choose-search"}}},{desktop:"market:articles",touch:"touch:articles"},{desktop:"market:collections",touch:"touch:collections"},{desktop:"market:brands",touch:"touch:brands"},{desktop:"market:list",touch:"touch:list"},{desktop:["market:catalog","market:catalogmodels"],touch:["market-touch:category","touch:catalog"],desktopToTouch:function(t){return{match:t,routeName:"touch:catalog"}},touchToDesktop:function(t){return t.nid||(t.nid=t.hid,delete t.hid),"ddiscount"===t.how&&(t.how="discount_p"),{match:t,routeName:"market:catalog"}}},{desktop:"market:index",touch:"touch:index"},{desktop:["market:product","market:product-articles","market:product-forum","market:product-mods","market:product-offers","market:product-price-trend"],touch:"touch:product",desktopToTouch:function(t,e){return{match:{productId:t.productId},routeName:"touch:product"}},touchToDesktop:function(t){return{match:{productId:t.productId},routeName:"market:product"}}},{desktop:"market:product-geo",touch:"touch:product-mapp"},{desktop:"market:product-reviews",touch:["touch:product-review-photos","touch:product-reviews","touch:product-reviews-sort"],desktopToTouch:function(t){return{match:t,routeName:"touch:product-reviews"}},touchToDesktop:function(t){return{match:a.omit(t,"reviewId"),routeName:"market:product-reviews"}}},{desktop:"market:product-reviews-add",touch:"touch:product-reviews-new"},{desktop:"market:product-spec",touch:"touch:product-spec"},{desktop:"market:search",touch:"touch:search"},{desktop:["market:shop-reviews","market:shop-reviews-add"],touch:"touch:shop",desktopToTouch:function(t){return{match:{"shop-id":t["shop-id"]},routeName:"touch:shop"}},touchToDesktop:function(t){return{match:t,routeName:"market:shop-reviews"}}},{desktop:"market:wishlist",touch:"touch:wishlist"},{desktop:"visual:orders",touch:"touch:orders"},{desktop:"market:offer",touch:"touch:offer"},{desktop:"visual:order",touch:"touch:my-order"}];t.exports={analogousPagesList:o,desktop:o.reduce(a.partial(s,"touch","desktop"),{}),touch:o.reduce(a.partial(s,"desktop","touch"),{})}}),require.define("route-converter.routes.touch",function(t,e,n,r,i){var s=[{name:"touch:index",pattern:"/"},{name:"touch:choose-search",pattern:"/search/choose(/)"},{name:"touch:search",pattern:"/search(--(<canonical>))(/)"},{name:"market-touch:category",pattern:"/category(/)"},{name:"touch:catalog",pattern:"/catalog(--(<canonical>))/<nid>(/)"},{name:"touch:list",pattern:"/catalog(--(<canonical>))/(<nid>)/list(/)"},{name:"touch:brands",pattern:"/brands(--(<canonical>))/<brand>(/)"},{name:"touch:wishlist",pattern:"/wishlist"},{name:"touch:shop",pattern:"/shop/<shop-id>(/reviews(/))"},{name:"touch:articles",pattern:"/articles/<semanticId>(/)"},{name:"touch:collections",pattern:"/collections/<semanticId>(/)"},{name:"touch:orders",pattern:"/my/orders(/)"},{name:"touch:my-order",pattern:"/my/orders/<orderId>"},{name:"touch:offer",pattern:"/offer/<offerId>(/)"},{name:"touch:product",pattern:"/product(--(<canonical>))/<productId>(/)"},{name:"touch:product-mapp",pattern:"/product(--(<canonical>))/<productId>/mapp(/)"},{name:"touch:product-spec",pattern:"/product(--(<canonical>))/<productId>/spec(/)"},{name:"touch:product-reviews",pattern:"/product(--(<canonical>))/<productId>/reviews(/)"},{name:"touch:product-reviews-sort",pattern:"/product(--(<canonical>))/<productId>/reviews/sort(/)"},{name:"touch:product-reviews-new",pattern:"/product(--(<canonical>))/<productId>/reviews/new(/)"},{name:"touch:product-review-photos",pattern:"/product(--(<canonical>))/<productId>/review/<reviewId>/photos(/)"}];t.exports=s}),require.define("route-converter.routes.desktop",function(t,e,n,r,i){var s=[{name:"market:index",pattern:"/"},{name:"market:all-filters",pattern:"/catalog(--<canonical>)/<nid>/filters(/)"},{name:"market:articles",pattern:"/articles/<semanticId>(/)"},{name:"market:collections",pattern:"/collections/<semanticId>(/)"},{name:"market:catalog",pattern:"/catalog(--<canonical>)/<nid>(/)"},{name:"market:catalogmodels",pattern:"/catalogmodels.xml"},{name:"market:list",pattern:"/catalog(--<canonical>)/<nid>/list(/)"},{name:"market:brands",pattern:"/brands(--(<canonical>))/<brand>(/)"},{name:"market:wishlist",pattern:"/my/wishlist"},{name:"market:product",pattern:"/product(--<canonical>)/<productId>(/)"},{name:"market:product-articles",pattern:"/product(--<canonical>)/<productId>/articles(/)"},{name:"market:product-forum",pattern:"/product(--<canonical>)/<productId>/forum(/)"},{name:"market:product-geo",pattern:"/product(--<canonical>)/<productId>/geo(/)"},{name:"market:product-mods",pattern:"/product(--<canonical>)/<productId>/mods(/)"},{name:"market:product-offers",pattern:"/product(--<canonical>)/<productId>/offers(/)"},{name:"market:product-price-trend",pattern:"/product(--<canonical>)/<productId>/prices(/)"},{name:"market:product-reviews",pattern:"/product(--<canonical>)/<productId>/reviews(/)"},{name:"market:product-reviews-add",pattern:"/product(--<canonical>)/<productId>/reviews/add(/)"},{name:"market:product-spec",pattern:"/product(--<canonical>)/<productId>/spec(/)"},{name:"market:search",pattern:"/search(--<canonical>)(/)"},{name:"market:shop-reviews",pattern:"/shop/<shop-id>/reviews(/)"},{name:"market:shop-reviews-add",pattern:"/shop/<shop-id>/reviews/add(/)"},{name:"visual:orders",pattern:"/my/orders(/)"},{name:"visual:order",pattern:"/my/orders/<orderId>"},{name:"market:offer",pattern:"/offer/<offerId>(/)"}];t.exports=s}),function(){var t=require("metrika");BEM.DOM.decl("footer-market",{onSetMod:{js:{inited:function(){this.isCheckoutOpened=!1;var t=this.elem("toggle"),e=this.elem("social-media");t&&this.bindTo(t,"pointerclick",this.onToggleClick),e&&this.bindTo(e,"pointerclick",this.onSocialMediaClick)}}},toggleCheckout:function(){return this.isCheckoutOpened=!this.isCheckoutOpened,this.toggleMod(this.elem("toggle"),"mode","show","hide",!this.isCheckoutOpened),this.elem("toggle").text(this.isCheckoutOpened?"Свернуть":"Как это работает?"),this.elem("info").slideToggle(),this.elem("checkout").slideToggle(),this.toggleMod(this.elem("shop"),"mode","show"),$("html, body").animate({scrollTop:this.elem("common").offset().top}),this},onSocialMediaClick:function(e){t.emitGoalPoint({socialMedia:{resource:this.getMod($(e.target),"resource")}})},onToggleClick:function(){t.reachGoal("BUY_CLR","yaCounter160656"),this.toggleCheckout()}})}(),function(){function t(t){var e=new n;return $.ajax({url:a,dataType:"json",data:{type:t},success:function(t){t.status?this.resolve(t.data):this.reject(t.error)},errors:e.reject,context:e}),e}function e(t){var e=t.getResult();return e&&e.needSubscribe?(e.user=i.pick(s,["name","isAuth"]),this.resolve(e)):this.reject()}var n=require("Response"),r=require("router"),i=require("lodash"),s=require("user"),a=r.buildURL("api:footer-subscriptions");BEM.DOM.decl("footer-subscription-wrap",{onSetMod:{js:{inited:function(){this.bindToWin("scroll",i.debounce(this.processVisibility,100)).processVisibility()}},visible:{yes:function(){new n.Queue([t(this.params.type),s.asyncRequire],!0).strict().onResolve(e).onResolve(this.createContent,this).onReject(this.destruct,this)}}},processVisibility:function(){var t=BEM.DOM.win.scrollTop()+BEM.DOM.win.height(),e=this.domElem.offset().top;return t>e&&(this.unbindFromWin("scroll"),this.setMod("visible","yes")),this},createContent:function(t){return this.elem("spinner").remove(),this.elem("content").bem("footer-subscription",t),this}},{live:function(){return this.liveInitOnBlockInsideEvent("sync-error","footer-subscription",function(t){this.destruct()}),!1}})}(),require.define("subscription",function(t,e,n,r,i){function s(t,e){var n=new c;return $.ajax({dataType:d,type:e.method||p,data:e.data,url:u[t],success:a,error:o,context:n}),n}function a(t){var e;return t&&0!==t.status?void this.resolve(t.data):(e=new Error,e.data=t,this.reject(e))}function o(t,e,n){this.reject(n)}var c=n("Response"),l=n("router"),u={get:l.buildURL("api:subscription-get"),add:l.buildURL("api:subscription-add"),remove:l.buildURL("api:subscription-remove"),update:l.buildURL("api:subscription-update")},d="json",p="GET",h="POST",f=t.exports={};f.get=function(t,e){var n={data:{type:t,id:e}};return s("get",n)},f.add=function(t){var e={method:h,data:t};return s("add",e)},f.remove=function(t){var e={method:h,data:{id:t.id}};return s("remove",e)},f.update=function(t){var e={method:h,data:t};return s("update",e)}}),require.define("SubscriptionModel",function(t,e,n,r,i){function s(t){o.State.call(this),this.type=t.type,this._filter=t.filter,this._initialAttributes=t.attributes,l.onceState(l.STATE_READY,this._initialDeterminate,this)}var a=n("subscription"),o=n("Response"),c=n("lodash"),l=n("user"),u=/^[^\s@]+@[^\s@]+$/i,d="INVALID_EMAIL",p=400;s.prototype=o.State.create(s),s.prototype.STATE_NOT_SUBSCRIBED="not-subscribed",s.prototype.STATE_SUBSCRIBED="subscribed",s.prototype.STATE_UPDATING="updating",s.prototype.STATE_SYNC_ERROR="sync-error",s.prototype.EVENT_INVALID="invalid",s.prototype.EVENT_SYNC="sync",s.prototype._initialDeterminate=function(){return this.determinate([this._initialAttributes]),this._initialAttributes=null,this},s.prototype.constraints={email:function(t){return t&&0!==t.length?!u.test($.trim(t))&&"INVALID_EMAIL":"EMPTY_EMAIL"},userName:function(t){if(!l.isAuth)return t&&0!==t.length?void 0:"EMPTY_USER_NAME"}},s.prototype.set=function(t,e){var n=this.toJSON();return n[t]=e,this.determinate([n])},s.prototype.setFilter=function(t){return thus._filter=t,this},s.prototype.toJSON=function(){return c.assignIn({type:this.type},this.stateData[0])},s.prototype.validate=function(t,e){var n,r,i=e||this.constraints,s=[];for(n in i)i.hasOwnProperty(n)&&(r=i[n](t[n]),r&&s.push({code:r,attribute:n}));return s},s.prototype.fetch=function(){return this._sync("get",this.type,this.toJSON().id)},s.prototype.update=function(t,e){var n=c.assignIn(this.toJSON(),t),r=e||{},i=this.validate(n,r.constraints);return i.length?this.emit(this.EVENT_INVALID,i):this._sync(n.id?"update":"add",n)},s.prototype.remove=function(){var t=this.toJSON();return t.id?this._sync("remove",t):this.determinate(null)},s.prototype._sync=function(t,e){var n=[].slice.call(arguments,1);return this.setState(this.STATE_UPDATING,e),a[t].apply(a,n).onResolve(this.determinate,this).onReject(this.processSyncError,this).always(this.onSync,this),this},s.prototype.determinate=function(t){var e;return e=this._filter&&"function"==typeof this._filter?this._filter(t):t&&t.length&&t[0],e&&e.id?this.setState(this.STATE_SUBSCRIBED,e):this.setState(this.STATE_NOT_SUBSCRIBED,e)},s.prototype.processSyncError=function(t){var e=t.data;return e&&e.data.statusCode===p&&e.data.code===d?this.setState(this.STATE_NOT_SUBSCRIBED).emit(this.EVENT_INVALID,[{code:d,attribute:"email"}]):this.setState(this.STATE_SYNC_ERROR,[this.toJSON(),t])},s.prototype.onSync=function(t){return this.emit(this.EVENT_SYNC,t)},t.exports=s}),function(){var t=require("lodash"),e=require("SubscriptionModel"),n=require("templater");BEM.DOM.decl("subscription-controller",{ERROR_MAPPING:{INVALID_EMAIL:"Введите адрес правильно. Пример: example@yandex.ru",EMPTY_EMAIL:"Укажите почту",EMPTY_USER_NAME:"Пожалуйста, введите имя"},onSetMod:{js:{inited:function(){this.model=new e({type:this.params.type,attributes:this.params.subscriptionAttributes}),this.proxyModelState(),this.model.onChangeState(this.proxyModelState,this).on(this.model.EVENT_INVALID,this.showErrors,this)}},state:{subscribed:function(){return this.render()},"not-subscribed":function(){return this.render()},updating:function(){return this.showSpinner()},"sync-error":function(){return this.trigger("sync-error")}}},render:function(){var t={subscription:this.model.toJSON(),emails:this.params.emails,emailEditLink:this.params.emailEditLink,user:this.params.user};return BEM.DOM.update(this.domElem,this.template(t)),this},template:function(t){return n.render({data:t,mode:this.__self.getName(),nodeName:this.__self.getName()})},destruct:function(){this.model.destroy(),this.model=null,this.__base()},proxyModelState:function(){return this.setMod("state",this.model.state),this},onFormSubmit:function(t){return this.model.update(),this},getControl:function(t,e){return controlElem=this.findElem("control","name",t),this.findBlockInside(controlElem,e||"input")},getControlName:function(t){return this.getMod(t.domElem,"name")},onControlChange:function(t){var e=t.target,n=this.getControlName(e);return e.hasMod("error","yes")&&this.hideError(e),this.model.set(n,$.trim(e.val())),this},showErrors:function(e){return t.forEach(e,t.bind(this.showError,this)),this},showError:function(t){var e,n=this.getControl(t.attribute);return n?(e=n.findBlockInside("manotice"),n.setMod("error","yes"),e&&e.show("error",this.ERROR_MAPPING[t.code]),this):this},hideError:function(t){var e=t.findBlockOn("manotice");return t.delMod("error"),e&&e.hide(),this},setControlFocus:function(t){return control=this.getControl(t),control&&control.setMod("focused","yes"),this},showSpinner:function(){var t=this.findBlockInside("spin2");return t&&t.setMod("progress","yes"),this}},{live:function(){return this.liveBindTo("form","submit",function(t){t.preventDefault(),this.onFormSubmit(t)}),this.liveInitOnBlockInsideEvent("change","input",function(t){this.onControlChange(t)}),this.liveInitOnBlockInsideEvent("change","select",function(t){this.onControlChange(t)}),!1}})}(),function(){function t(){BEM.channel("market-metrika").trigger("emit",{footerSubscribe:"subscribe"})}var e=require("router"),n=e.buildURL("market:my-settings")+"#notifications";BEM.DOM.decl({name:"footer-subscription",baseBlock:"subscription-controller"},{onSetMod:{js:{inited:function(){this.__base(),this.model.onceState(this.model.STATE_SUBSCRIBED,t)}},state:{subscribed:function(){return this.__base().setControlFocus("userName")}}},template:function(t){return t.settingsLink=n,this.__base(t)},onFormSubmit:function(t){var e=this.getMod(t.data.domElem,"action");switch(e){case"addUserName":this.model.update(null,{constraints:{userName:this.model.constraints.userName}});break;case"addEmail":this.model.update(null,{constraints:{email:this.model.constraints.email}});break;default:this.__base(t)}return this}})}(),BEM.DOM.decl({block:"search2",modName:"type",modVal:"market"},{onSetMod:{js:{inited:function(){this.__base();var t=this.findBlockInside("input"),e=this.findBlockInside("button2");t.on("focus",function(){e.setMod("theme","action")}),t.on("blur",function(){e.setMod("theme","gray")}),t.hasMod("focused")&&t.elem("control").focus()}}}}),BEM.DOM.decl("shop-preciser",{onSetMod:{js:{inited:function(){this.findBlockOutside("header2").findBlockInside("suggest2"),this.checkbox=this.findBlockInside("checkbox"),this.preciserInput=this.findElem("presizer-input"),this.shopsSelected=[],""!==this.params.value&&(this.shopsSelected=this.params.value.split(","),this._setPreciserValue(this.shopsSelected)),this._updateCheckbox(),BEM.channel("market:filter").on("filters-changed",this._onFilterChange,this),this.checkbox.on("change",this._onCheckboxChange.bind(this))}},checked:{yes:function(){this.preciserInput.removeAttr("disabled")},"":function(){this.preciserInput.attr("disabled","disabled")}}},_onCheckboxChange:function(){this.checkbox.isChecked()?this.setMod("checked","yes"):this.delMod("checked"),BEM.channel("market:preciser").trigger("change",this._getPreciserValue())},_updateCheckbox:function(){0!==this.shopsSelected.length?this.checkbox.delMod("disabled"):this.checkbox.delMod("checked").setMod("disabled","yes"),BEM.channel("market:preciser").trigger("change",this._getPreciserValue())},_getPreciserValue:function(){return this.checkbox.isChecked()?this.preciserInput.val():""},_setPreciserValue:function(t){this.preciserInput.val(t.join(","))},_onFilterChange:function(t,e){return this.shopsSelected=e.fesh||[],this._setPreciserValue(this.shopsSelected),this._updateCheckbox(),this}}),function(){var t=require("templater"),e=require("metrika"),n=250;BEM.DOM.decl("header2-nav",{onSetMod:{js:{inited:function(){this.params.user.isAuth&&(this.bindTo("user","pointerclick",this._onclickUser),this.bindTo("user-menu","pointerclick",function(t){t.stopPropagation()}),this._hide())}},visible:{yes:function(){this.elem("user").stop().css({left:this.elem("user-menu").width()-this.elem("user").width()}).animate({left:0},n),this.elem("user-menu").stop().show().animate({opacity:1},n),this._bindEvents()},"":function(){this.elem("user").stop().css({right:this.elem("user-menu").width()-this.elem("user-placeholder").width(),left:"auto"}).animate({right:0},n),this.elem("user-menu").stop().animate({opacity:0},n,function(){$(this).hide()}),this._unbindEvents()}}},_bindEvents:function(){this._onDocKeyPress=this._onDocKeyPress.bind(this),BEM.DOM.doc.on("keydown",this._onDocKeyPress),this.bindToWin("scroll.header2",this._hide),this.afterCurrentEvent(function(){this.bindToWin("pointerclick.header2",this._hide)})},_unbindEvents:function(){BEM.DOM.doc.off("keydown",this._onDocKeyPress),this.unbindFromWin("scroll.header2"),this.unbindFromWin("pointerclick.header2")},_hide:function(){this.delMod("visible")},_show:function(){this.setMod("visible","yes")},_onclickUser:function(t){t.preventDefault(),this._renderUserMenu(),this._toggleUserMenu()},_toggleUserMenu:function(){this.toggleMod("visible","yes",""),"yes"==this.getMod("visible")&&e.emitGoalPoint({headGoalsPoints:{action:"showUserMenu"}})},_renderUserMenu:function(){if(this._userMenu)return this._userMenu;var e=t.render({data:{user:this.params.user,domain:this.params.domain},mode:"header2-user-menu"});return this.elem("user-menu").append(e),this._userMenu=this.findBlockInside("header2-user-menu"),this._userMenu},_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._hide()},destruct:function(){this.unbindFrom("user","pointerclick",this._buildMenu)}})}(),function(t){var e=1,n=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){var r="only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)";n=t.matchMedia(r).matches}else n=e>=1.3;BEM.DOM.decl("i-ua",{},{dpr:e,hiDpi:n})}(window),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isRetina=BEM.blocks["i-ua"].hiDpi,this.updateIcon(),this.setMod(this.elem("icon"),"loaded","yes")}}},_getIconPath:function(t){var e=this.params.avatarHost,n=this._getIconSize(),r=(this._isRetina?"/islands-retina-":"/islands-")+n;return[e,"/get-yapic/",t,r].join("")},_setIconBackground:function(t){var e=this.elem("icon");e&&e.css("background-image","url("+t+")")},updateIcon:function(){this.elem("icon").length&&this._setIconBackground(this._getIconPath(this.elemParams("icon").avatarId))},getDefaultParams:function(){return $.extend(this.__base(),{avatarHost:"//avatars.mds.yandex.net"})}}),BEM.DOM.decl("user",{_getIconSize:function(){return"middle"}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),this.elem("name").length){var t=this,e=t.elemParams("name");e.isUglyUserName&&BEM.blocks["i-user-services"].get(function(n){var r=BEM.blocks["i-common__string"].cleverSubstring,i=BEM.blocks["i-common__string"].escapeHTML,s=Object(n.displayName).name||n.login,a=r(s,e.maxLength,e.maxLengthRelative);a='<span class="user__first-letter">'+i(a.charAt(0))+"</span>"+i(a.slice(1)),t.elem("name").html(a),t.trigger("update-name")})}}}},toggleCollapsed:function(t){return this.toggleMod("hide-name","yes","",t)}}),BEM.decl("i-user-services",{},{get:function(t){this._data?t(this._data):this._get(t)},getApiUrl:function(){return BEM.blocks["i-global"].param("pass-host")+"/services?callback=?"},_callbacks:[],_get:function(t){var e=this;e._callbacks.push(t),1===e._callbacks.length&&$.getJSON(e.getApiUrl(),{locale:BEM.blocks["i-global"].param("lang"),login:"yes","current-login":BEM.blocks["i-global"].param("login"),yu:$.cookie("yandexuid")},function(t){e._data=t,$.each(e._callbacks,function(){this(t)}),e._callbacks.length=0})}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.findBlockOn("enter","button");if(null!==t){var e=this.domElem.prop("tabindex");this.domElem.attr({tabindex:-1,role:"group"}).removeAttr("aria-haspopup aria-expanded"),t.domElem.attr("tabindex",e),this._domik=BEM.create("domik_type_popup",{mods:this.params.domikMods,js:this.params.domikJs,hidden:this.findBlockInside({block:"domik",modName:"type",modVal:"hidden"})}),t.bindTo("pointerclick",function(t){t.preventDefault(),this._domik.open()}.bind(this))}}}},destruct:function(){this._domik&&this._domik.destruct(),this.__base.apply(this,arguments)}}),function(){var t=require("lodash");BEM.DOM.decl({block:"user",modName:"login",modVal:"passport"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("login");null!==t&&(this._createBroker(),this.bindTo(t,"click",this._onLoginClick))}}},_createBroker:function(){this.broker=BEM.create({block:"social-broker",mods:{type:"login"}}),this.broker.setType(this.params.loginType)},login:function(e,n){this.broker||this._createBroker(),this.broker.start(e||t.bind(this._onConnectionSuccess,this),n||null,this._buildConnectionParams())},_onLoginClick:function(t){t.preventDefault(),this.login()},_onConnectionSuccess:function(){location.reload()},_buildConnectionParams:function(){return{provider:"ya",consumer:"market",sid:25,display:"popup",action_if_anonymous:"ignore",startUrl:"https://"+this.params.passportHost+"/auth",origin:this.params.origin,retpath:[location.protocol,"//",location.host,"/node_modules/islands","/common.blocks/social-broker/__closer/social-broker__closer.html?#status=ok"].join("")}},destruct:function(){this.broker.destruct(),this.__base.apply(this,arguments)}})}(),BEM.decl({block:"social-broker",modName:"type",modVal:"login"},{_type:null,_windowWidth:640,_windowHeight:780,setType:function(t){this._type=t},_getPopupParams:function(){return"tab"===this._type?null:["scrollbars=1, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0","left=0","top=0","width="+this._windowWidth,"height="+this._windowHeight].join(", ")}}),function(){BEM.DOM.decl("header2-user-menu",{onSetMod:{js:{inited:function(){this._user=this.findBlockInside("user"),this._user.domElem.attr("href",BEM.blocks.user.getLogoutUrl()),BEM.DOM.init(this.domElem)}}}})}(),BEM.DOM.decl("user-menu-update",{
onSetMod:{js:{inited:function(){this.updateInformer(this.onUpdateSuccess,this.onUpdateError)}}},updateInformer:function(t,e){this._getExporter().get({},function(n){n&&n.counters&&void 0!==n.counters.unread?t.call(this,n.counters):e&&e.call(this)},e)},onUpdateSuccess:function(t){var e=t.unread,n=this.params.unreadMax;e&&n&&e>n&&(e=n+"+");var r=e?e+" ":"";BEM.DOM.update(this.domElem,r+BEM.I18N("user","letter",{count:e}))},onUpdateError:function(){},_getExporter:function(){return this._exporter||(this._exporter=BEM.create("i-request_type_ajax",{url:this.__self.getExportApiUrl(this.params.caller),cache:!1,xhrFields:{withCredentials:!0},dataType:"json",callbackCtx:this}))},getDefaultParams:function(){return{unreadMax:99}}},{getExportApiUrl:function(t){return"https://mail.yandex."+BEM.blocks["i-global"].param("tld")+"/api/v2/"+(t?t+"/":"")+"counters?silent"}}),BEM.DOM.decl("personal-counter",{onSetMod:{js:{inited:function(){if(!this.hasMod("provider"))throw new Error("provider not found");var t=this._deferred=$.Deferred(),e=this.params.timeout||1e3;this._count=this.params.count||0,this._showDot=this.params.showDot,window.setTimeout(function(){t.reject("timeout")},e)}}},updateCount:function(t,e){if(t=e?this._count+t:t,t!==this._count){this._count=t;var n=this._showDot&&this._count>9?"•":Number(this._count);this.draw(n||"")}this._deferred.resolve()},draw:function(t){this.toggleMod("empty","no","",Boolean(t)),this.domElem.text(t),this.trigger("draw")},loader:function(){return this._deferred.promise()}},{getTextJson:function(t){var e={block:"personal-counter",tag:"span",elem:"text"};return t&&(e.elemMods=t),e}}),function(){var t=require("cart"),e=require("cart-helpers");BEM.DOM.decl({block:"personal-counter",modName:"provider",modVal:"cart"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),t.onceState(t.STATE_READY,this._onCartInit,this).onceState(t.STATE_ERROR,this._onCartInitError,this).on(t.EVENT_ADD,this._onCartChanged,this).on(t.EVENT_REMOVE,this._onCartChanged,this).on(t.EVENT_UPDATE,this._onCartChanged,this).on(t.EVENT_CHANGE,this._onCartChanged,this)}}},_onCartInit:function(){this._updateNotice()},_onCartInitError:function(){this.destruct()},_onCartChanged:function(){this._updateNotice()},_updateNotice:function(){var t=this._getCartData(),n=e.summarizeOffers(t).count;this.updateCount(n)},_getCartData:function(){return t.toArray().filter(t.validateOffer,t)},destruct:function(){t.off(t.STATE_READY,this._onCartInit).off(t.STATE_ERROR,this._onCartInitError).off(t.EVENT_ADD,this._onCartChanged).off(t.EVENT_REMOVE,this._onCartChanged).off(t.EVENT_UPDATE,this._onCartChanged).off(t.EVENT_CHANGE,this._onCartChanged),this.__base.apply(this,arguments)}})}(),function(){var t=require("comparisonLists");BEM.DOM.decl({block:"personal-counter",modName:"provider",modVal:"comparison"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var e=this,n=this.params.comparisonCount;"number"==typeof n?this.updateCount(n):t.done(function(t){$.when(t.getCount()).then(e.updateCount.bind(e))}),t.done(function(t){t.on(t.EVENT_UPDATE,e._updateNotice,e)})}}},_updateNotice:function(t){this.updateCount(t.length)},destruct:function(){var e=this;t.done(function(t){t.off(t.EVENT_UPDATE,e._updateNotice)}),this.__base.apply(this,arguments)}})}(),function(){var t=require("userWishlist");BEM.DOM.decl({block:"personal-counter",modName:"provider",modVal:"wishlist"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),t.asyncRequire.onResolve(this._oninitUserWishlist,this)}}},_oninitUserWishlist:function(){t.on("add remove reset",this._onchangeUserWishlist,this),this.updateCount(t.length||t.count)},_onchangeUserWishlist:function(){this.updateCount(t.length)},destruct:function(){t.off("add remove reset",this._onchangeUserWishlist,this),this.__base.apply(this,arguments)}})}(),function(){var t=require("lodash");BEM.DOM.decl("header2-menu",{onSetMod:{js:{inited:function(){var e=this._counters=this.findBlocksInside("personal-counter"),n=t.invokeMap(e,"loader");$.when.apply($,n).always(this._onCountersLoad.bind(this))}}},_onCountersLoad:function(){this._isLoaded=!0,t.forEach(this._counters,t.bind(this._updateCounter,this))},_updateCounter:function(t){if(t.domElem){var e=this.findElem(t.domElem,"count");this.toggleMod(e,"draw","yes","",t.hasMod("empty","no"))}},_onUpdateCounter:function(t){this._isLoaded&&this._updateCounter(t.block)}},{live:function(){return this.liveInitOnBlockInsideEvent("draw","personal-counter",this.prototype._onUpdateCounter),!1}})}(),function(){var t=require("templater"),e=require("metrika");BEM.DOM.decl("region-form-opener",{onSetMod:{}},{live:function(){this.liveBindTo("pointerclick",function(t){t.preventDefault(),e.reachGoal("VIEW_REGION",e.marketCounterID),this.__self.getModal(this.params).setMod("visible","yes")})},modal:null,getModal:function(t){return this.modal?this.modal:(this.modal=this.createModal(t),this.modal)},createModal:function(e){var n=t.render({data:e,mode:"region-form-opener__modal"}),r=$(n);return BEM.DOM.append(BEM.DOM.scope,r),r.bem("modal")}})}(),function(){var t=require("router"),e=require("metrika"),n=t.buildURL("market-node:api-settings-region")||t.buildURL("api:settings-region"),r="regionChangeMethod";BEM.DOM.decl("region-select-form",{onSetMod:{js:{inited:function(){this.suggest=this.findBlockInside("region-suggest"),this.manotice=this.findBlockInside(this.findElem("suggest"),"manotice"),this.regSetCheckbox=this.findBlockInside(this.findElem("reg-set"),"checkbox"),this.modal=this.findBlockOutside("modal"),this.modal&&this.modal.on("beforeClose",this.hideError,this).on("afterOpen",this.onModalOpen,this)}}},onModalOpen:function(){this.suggest.focus()},hideError:function(){this.manotice&&this.manotice.hide()},onSuggestFocus:function(){this.hideError()},close:function(){this.modal&&this.modal.hide()},onSettingsSaved:function(){var t=document.domain.match(/^(?:[^.]+\.)*([^.]+\.yandex\.(?:ua|ru|by|kz|com(?:\.tr)?))(?::\d+)?$/),n=BEM.blocks.uri.parse(window.location.href);n.deleteParam("page"),n.deleteParam("lr"),n.deleteParam("pcr"),n.addParam("pcr",this.params.regionId),n.hasOwnProperty("text")&&n.deleteParam("fesh"),n=n.path()+n.query(),$.removeCookie("lr",{domain:t?"."+t[1]:""}),e.emitGoalPoint({headGoalsPoints:{action:"changeRegion"}}),window.location.assign(n)},onAutoDefinitionClick:function(){this.trigger("autoDetectRegionSelected"),$.cookie(r,"auto",{path:"/",expires:30}),this._sendRequest({region:"",regset:this.regSetCheckbox?this.regSetCheckbox.isChecked():void 0})},onSubmit:function(t){t.preventDefault();var e=this.suggest.val();return""===e?this.manotice.show("error",BEM.I18N(this.__self.getName(),"error-region-empty")):(this.trigger("newRegionSelected"),$.cookie(r,"manual",{path:"/",expires:30}),void this._sendRequest({region:e,regset:this.regSetCheckbox?this.regSetCheckbox.isChecked():void 0}))},_sendRequest:function(t){$.ajax({url:n,type:"POST",data:{options:JSON.stringify(t)},complete:this.onSettingsSaved,context:this})}},{live:function(){this.liveInitOnBlockInsideEvent("focus","region-suggest",this.prototype.onSuggestFocus),this.liveBindTo("auto-definition","click",this.prototype.onAutoDefinitionClick),this.liveBindTo("submit",this.prototype.onSubmit)}})}(),require.define("SuggestickState",function(t,e,n,r,i){function s(t,e){a.call(this),this.provider=e,this.attributes=this.getInitialAttributes()}var a=n("EventEmitter"),o=n("util"),c=$.extend;o.inherits(s,a),s.prototype.getInitialAttributes=function(){return{input:"",value:"",focused:!1,focusedIndex:null,inputText:"",shown:!1,items:[]}},s.prototype.get=function(t){return this.attributes[t]},s.prototype.action=function(t,e){var n={};switch(e=e||{},t){case"input":if(!e.input.length&&this.get("shown")){n={shown:!1,input:e.input,inputText:e.input,value:"",items:[],focusedIndex:null,focused:!0};break}n={input:e.input,inputText:e.input,value:"",focusedIndex:null},this.provider(n).then(function(t){this.action("data",t)}.bind(this));break;case"data":if(e.input!==this.get("input"))return;if(!e.items.length&&this.get("shown")){n={shown:!1,items:[],focusedIndex:null,input:"",focused:!0};break}n={items:e.items,shown:!0};break;case"dummySelect":if(null!==this.get("focusedIndex"))return this.action("select");var r=this.get("items")[0],i=this.get("input");if(!r||i.toLowerCase()!==r.text.toLowerCase())return;n={value:r.value,inputText:r.text,shown:!1,items:[],focusedIndex:null,input:"",focused:!0};break;case"select":var s=this.get("focusedIndex"),a=this.get("items")[s];if(!a)break;n={value:a.value,inputText:a.text,shown:!1,items:[],focusedIndex:null,input:"",focused:!0};break;case"focus":this.get("items").length&&(n={shown:!0}),n.focused=!0;break;case"blur":n={shown:!1,input:"",focused:!1};break;case"cancel":n={inputText:this.get("input"),shown:!1,items:[],focusedIndex:null,input:"",focused:!0};break;case"focusPrev":var o,s=this.get("focusedIndex"),c=this.get("items").length;return o=0===s?null:null===s?c-1:s-1,this.action("focusIndex",{index:o});case"focusNext":var o,s=this.get("focusedIndex");return o=null===s?0:s+1,this.action("focusIndex",{index:o});case"focusIndex":var l=this.get("items"),o=e.index;if(o>=l.length||o<0||null===o){n={focusedIndex:null,inputText:this.get("input")};break}n={focusedIndex:o,inputText:l[o].text};break;case"focusoutList":n={focusedIndex:null,inputText:this.get("input")}}this.update(n)},s.prototype.update=function(t){this.attributes=c(this.attributes,t),this.emit("change",{},c({},this.attributes))},t.exports=s}),BEM.DOM.decl("suggestick",{getDefaultParams:function(){return{provider:null,state:null,valueInputSelector:".suggestick-value",listBlockName:"suggestick-list",inputBlockName:"input"}},onSetMod:{js:{inited:function(){this.initialize(this.params)}}},initialize:function(t){var e=t.provider,n=t.state,r=this.state=new n(t.state,e);this.list=this.domElem.find("."+t.listBlockName).bem(t.listBlockName,{renderer:t.listRenderer}),this.input=this.findBlockInside(t.inputBlockName),this.valueInput=this.domElem.find(t.valueInputSelector),r.on("change",this.onStateChange,this),this.input.on("focus blur change",this.proxyInputEvents,this),this.bindListEvents(r),this.bindInputEvents(r)},proxyInputEvents:function(t,e){e&&e.silent||this.trigger(t.type)},onStateChange:function(t,e){e.shown&&e.items.length&&this.list.show(e,e.focusedIndex),e.inputText&&this.input.val(e.inputText,{silent:!0}),e.inputText||this.input.val(e.input,{silent:!0}),e.focused&&this.input.setMod("focused","yes"),String(e.value)!==this.valueInput.val()&&(this.valueInput.val(e.value),this.valueInput.trigger("change"),this.trigger("select",{value:this.valueInput.val(),input:this.input.val()})),e.shown!==!1&&e.items.length||this.list.hide()},bindListEvents:function(t){this.list.on("itemover",function(e,n){t.action("focusIndex",n)}),this.list.on("out",function(e){t.action("focusoutList")}),this.list.on("itemselect",function(e,n){t.action("select")})},bindInputEvents:function(t){this.input.on("change",function(e,n){n&&n.silent||t.action("input",{input:e.target.val()})}),this.input.on("blur",function(e){null===t.get("focusedIndex")&&t.action("blur")}),this.input.on("focus",function(){t.action("focus")}),this.input.domElem.on("keydown",function(e){if(t.get("shown")&&!([40,39,38,27,13,9].indexOf(e.which)<0)){var n=t.get("focusedIndex");if(9===e.which&&null===n)return t.action("blur");if(39!==e.which||null!==n)switch(e.preventDefault(),e.which){case 40:t.action("focusNext");break;case 39:t.action("input",{input:e.target.value});break;case 38:t.action("focusPrev");break;case 27:t.action("cancel");break;case 13:t.action("dummySelect");break;case 9:null!==t.get("focusedIndex")&&t.action("select")}}})},val:function(t,e){return 0===arguments.length?this.valueInput.val():(this.input.val(t,{silent:!0}),this.valueInput.val(e),this)},focus:function(){return this.input.trigger("focus"),this}}),BEM.DOM.decl("suggestick-list",{onSetMod:{js:{inited:function(){var t=this,e="."+BEM.INTERNAL.buildClass(this.__self.getName(),"item");this.render=this.params.renderer,this.hidden=!0,this.domElem.delegate(e,"mouseenter",function(e){t.trigger("itemover",{index:$(e.target).index()})}),this.domElem.delegate(e,"pointerclick",function(e){t.trigger("itemselect",{index:$(e.target).index()})}),this.domElem.on("mouseleave",function(e){t.trigger("out")})}}},show:function(t,e){return this.shownData===t.items?(this.delMod(this.findElem("item"),"highlited"),void(null!==e&&this.setMod(this.findElem("item").eq(e),"highlited","true"))):(this.shownData=t.items,this.hidden=!1,void BEM.DOM.update(this.domElem,this.render(t)))},hide:function(){this.hidden||(this.shownData=null,this.hidden=!0,BEM.DOM.update(this.domElem,""))},render:function(){}}),function(){function t(t){var e=t.input||t.inputText||"";return $.ajax({dataType:"jsonp",url:"https://tune.yandex.ru/api/search/3/search.xml",timeout:2e3,data:{lang:"ru",count:10,parents:"225,187,159,149",part:e}}).then(function(t){var n=t[1]||[];return{input:e,items:n.map(function(t){return{text:t[0],value:t[1],subText:t[2]&&t[2][0],needSubHint:t[2]&&t[2][1],splittedText:new RegExp("(.*?)("+e+")(.*)","i").exec(t[0])}})}},function(t){return $.Deferred().resolve({input:e,items:[]})})}function e(t){return r.render({data:t,mode:"region-suggest__list"})}var n=require("SuggestickState"),r=require("templater"),i=$.extend;BEM.DOM.decl({name:"region-suggest",baseBlock:"suggestick"},{getDefaultParams:function(){return i(this.__base(),{provider:t,state:n,listRenderer:e})}})}(),function(){var t="previousRegionId",e="regionChangeMethod";BEM.DOM.decl("n-region-notification",{onSetMod:{js:{inited:function(){this.previousRegionId=$.cookie(t)}}},_onAcceptRegion:function(){this.trigger("acceptedNewRegion")},_onChangeRegion:function(){this.trigger("changeNewRegion")},_onBackToClick:function(t){t.preventDefault(),$.cookie(e,"back-to",{path:"/",expires:30}),this.trigger("returnedPreviousRegion"),this._cleanCookie(),this._redirectToPreviousRegion()},_preparesUrl:function(t,e){var t=BEM.blocks.uri.parse(t);return t.deleteParam("page"),t.deleteParam("lr"),t.deleteParam("pcr"),t.addParam("lr",e),t.hasOwnProperty("text")&&t.deleteParam("fesh"),t.path()+t.query()},_redirectToPreviousRegion:function(){var t=this._preparesUrl(window.location.href,this.previousRegionId);window.location.assign(t)},_cleanCookie:function(){var t=/^(?:[^.]+\.)*([^.]+\.yandex\.(?:ua|ru|by|kz|com(?:\.tr)?))(?::\d+)?$/,e=document.domain.match(t);$.removeCookie("lr",{domain:e?"."+e[1]:""})}},{live:function(){return this.liveBindTo("ok","click",this.prototype._onAcceptRegion),this.liveBindTo("change","click",this.prototype._onChangeRegion),this.liveBindTo("back-to","click",this.prototype._onBackToClick),!1}})}(),BEM.DOM.decl({block:"popup2",modName:"region",modVal:"notification"},{onSetMod:{}},{live:function(){return this.liveInitOnBlockInsideEvent("acceptedNewRegion","n-region-notification",function(){this.hide()}),this.liveInitOnBlockInsideEvent("changeNewRegion","n-region-notification",function(){this.hide()}),this.__base()}}),function(){var t=require("jquery"),e=require("templater"),n="currentRegionId",r="currentRegionName",i="previousRegionId",s="regionChangeMethod";BEM.DOM.decl("n-region-notification-opener",{onSetMod:{js:{inited:function(){this.regionParams=this.params.region,this.regionId=this.regionParams.id,this._checkRegion()}}},_renderPopup:function(t,n){var i=e.render({data:{region:this.params.region},args:[{layout:t,previousRegionName:n}],mode:"n-region-notification",nodeName:"region"});BEM.DOM.append(this.domElem,BEMHTML.apply(i)),this.popup=this.findBlockInside({block:"popup2",modName:"region",modVal:"notification"}),this.popup.show(this.domElem),this.setCookie(r,this.regionParams.linguistics.accusative)},setCookie:function(e,n){t.cookie(e,n,{path:"/",expires:30})},_checkRegion:function(){var e=Number(t.cookie(n)),r=Boolean(e),i=t.cookie(s),a="manual"===i,o="back-to"===i,c=e!==this.regionId,l=!a&&!o;r?r&&c&&a?this.manualMethodPopup():r&&c&&l&&this.autoMethodPopup():this.initPopup()},initPopup:function(){this.setCookie(n,this.regionId),this._renderPopup("init")},manualMethodPopup:function(){var e=t.cookie(n);this.setCookie(n,this.regionId),this.setCookie(i,e),this._renderPopup("manual",t.cookie(r))},autoMethodPopup:function(){var e=t.cookie(n);this.setCookie(n,this.regionId),this.setCookie(i,e),this._renderPopup("auto",t.cookie(r))}})}(),function(){var t=require("cart"),e=require("metrika");BEM.DOM.decl({block:"personal-basket",modName:"type",modVal:"header"},{_getSwitcher:function(){return this},_onButtonClicked:function(n){0===t.getLength()&&(n.preventDefault(),e.reachGoal("INFRMTN_C_CART","yaCounter160656"),this.togglePopup())},_updateNotice:function(){}})}(),function(t){t.DOM.decl("head-banner",{_getCookie:function(){try{var t=$.cookie(this.params.cookie.name);if(null===t)throw new TypeError("Expected cookie doesn't exist");return t=JSON.parse(t)}catch(t){return this.destruct(),console.error("Head-banner cookie is not valid"),null}},_setCookie:function(t){var e=this.params.cookie.options;return e.expires=new Date(e.expires),$.cookie(this.params.cookie.name,JSON.stringify(t),e)},_onBannerClicked:function(){var t=this._getCookie();t&&(t.isClicked=!0,this._setCookie(t))},_onCloseClicked:function(){var t=this._getCookie();t&&(t.closingCounter++,this._setCookie(t),this.destruct())}},{live:function(){this.liveBindTo("close","click",this.prototype._onCloseClicked),this.liveBindTo("link","click",this.prototype._onBannerClicked)}})}(BEM),require.define("history",function(t,e,n,r,i){function s(t,e){return e.map(function(e){return a.find(t,function(t){return t.resourceId==e.resourceId})})}var a=n("lodash"),o=n("Response"),c=o.State,l=(o.Queue,n("HistoryItem")),u=new c,d=n("page"),p=n("user"),h=n("price"),f=n("dictionary").currency,_=null,m=null,v=1,y="market-history",b=15,g=[],k="post",w="json",E="/gate/route/history/set",x="/gate/route/history/merge",M="/gate/route/history/decorate",A=1e4,T="HISTORY_UNAUTH_SESSION",C="HISTORY_AUTH_SESSION",S="HISTORY_MERGE_FAILED",I="."+document.domain.match(/^(?:[^.]+\.)*([^.]+\.yandex\.(?:ua|ru|by|kz|com(?:\.tr)?))(?::\d+)?$/)[1],O="/",j=348;u.STATE_READY="STATE_READY",u.init=function(t){var e=d.getData(),n=new o;return _=p.isAuth,_?this._authCase(t).always(function(){n.resolve()}):this._guestCase().always(function(){n.resolve()}),n.always(function(){g=u._getCloneData(),u.setState(u.STATE_READY,Boolean(u.get().length)),e.historyTrack&&u.add(e).save()}),this},u.add=function(t){var e=t.model.id,n=u._get(),r=n.data.list,i=this._getItemByResourceId(e),s=new l({type:t.type,resourceId:e,name:t.model.name});return i&&r.splice(i.index,1),r.length==b&&r.pop(),u._add(s),this},u.get=function(){return u._getList()},u.getDecoratedData=function(){var t=u._getCloneData();return u._decorate(t)},u.getViewData=function(){return u._decorate(g).onResolve(function(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],e.currencyText=f[e.currency],e.name=String(e.name),e.nameFormatted=e.name.length>40?e.name.substring(0,40)+"...":e.name,e.priceFormatted=e.price>0?h.format(e.price):e.price,e.name.length>40&&(e.nameTrimmed=!0);this.resolve(t)})},u.merge=function(){var t=new o,e=u.get();return $.ajax({url:x,dataType:w,type:k,timeout:A,data:{historyList:JSON.stringify(e)}}).done(function(e){e.status&&"SUCCESS"==e.data.status?t.resolve(e.data):t.reject(e.data)}).fail(function(e){(new Image).src="/history-debug/merge/?err="+JSON.stringify(e),t.reject(e)}),t},u.save=function(){var t=u.get(),e=t[0];return u._saveToClientStorage(),_&&$.ajax({url:E,dataType:w,type:k,timeout:A,data:{historyItem:JSON.stringify(e)}}),this},u._add=function(t){if(!(t instanceof l))throw new Error('history#_add: "historyItem" required and must be instanceof HistoryItem');return u._get().data.list.unshift(t),this},u._saveToClientStorage=function(){try{localStorage.setItem(y,JSON.stringify(u._get()))}catch(t){}return this},u._replaceItemsInClientStorage=function(t){for(u._dropHistoryItems();t.length;)u._add(new l(t.pop()));return u._saveToClientStorage(),this},u._getCloneData=function(){for(var t=u._getList(),e=[],n=0,r=t.length;n<r;n++)e.push(new l(t[n]));return e},u._decorate=function(t){var e=new o;return $.ajax({url:M,dataType:w,type:k,timeout:A,data:{historyList:JSON.stringify(t)}}).done(function(n){n.status&&n.data&&n.data.data?e.resolve(s(n.data.data,t)):e.resolve(t)}).fail(function(n){e.resolve(t),(new Image).src="/history-debug/decorate/?err="+JSON.stringify(n)}),e},u._get=function(){var t;return m?m:(t=u._getFromClientStorage(),t||(t={},t.version=v,t.data={},t.data.list=[]),m=t,t)},u._getList=function(){return u._get().data.list},u._getItemByResourceId=function(t){for(var e=u._getList(),n=null,r=0,i=e.length;r<i;r++)if(e[r].resourceId==t){n={item:e[r],index:r};break}return n},u._getFromClientStorage=function(){var t=localStorage.getItem(y);if(!t)return!1;try{t=JSON.parse(t)}catch(e){t=!1}for(var e=0,n=t.data.list,r=[],i=n.length;e<i;e++)r.push(new l(n[e]));return t.data.list=r,t},u._dropClientStorage=function(){return localStorage.removeItem(y),this},u._dropHistoryItems=function(){return u._get().data.list=[],this},u._guestCase=function(){var t=new o;return!$.cookie(T)||this._hasMergeFailedSessionCookie()?u._startGuestSession().always(function(){t.resolve()}):t.resolve(),t},u._startGuestSession=function(){var t=new o;return u._dropClientStorage(),$.removeCookie(C,{domain:I,path:O}),$.cookie(T,"true",{domain:I,path:O}),u._removeMergeFailedSessionCookie(),t.resolve(),t},u._authCase=function(t){var e=new o;if($.cookie(T))return this._startAuthSession(t).always(function(){e.resolve()}),e;switch(t.status){case"SUCCESS":u._replaceItemsInClientStorage(t.data),u._setAuthSessionCookie(t.session),e.resolve();break;case"ERROR":e.reject(t);break;case"NOT_MODIFIED":e.resolve()}return e},u._setAuthSessionCookie=function(t){return $.cookie(C,t,{domain:I,path:O,expires:j}),this},u._removeUnauthSessionCookie=function(){return $.removeCookie(T,{domain:I,path:O}),this},u._setMergeFailedSessionCookie=function(){return $.cookie(S,"true",{domain:I,path:O,expires:j}),this},u._removeMergeFailedSessionCookie=function(){return $.removeCookie(S,{domain:I,path:O}),this},u._hasMergeFailedSessionCookie=function(){return $.cookie(S)},u._startAuthSession=function(t){var e=new o;return u._needMerge()?(this.merge().onResolve(function(t){u._replaceItemsInClientStorage(t.data)._setAuthSessionCookie(t.session)._removeUnauthSessionCookie()._removeMergeFailedSessionCookie()}).onReject(function(){u._hasMergeFailedSessionCookie()||u._setMergeFailedSessionCookie()}).notify(e),e):(u._replaceItemsInClientStorage(t.data)._setAuthSessionCookie(t.session)._removeUnauthSessionCookie(),e.resolve())},u._needMerge=function(){return Boolean(u.get().length)},t.exports=u}),require.define("EcommerceCartEventSource",function(t,e,n,r,i){function s(){l.call(this),this._onChangeHandler=this._change(),this._setListeners()}function a(t){var e=h(t.feeOffer);return{id:h(t.modelId||t.clusterId||t.id),name:h(t.id),brand:h(t.vendorId),category:h(t.hid),price:c.toNumber(t.price),quantity:c.toNumber(t.count),fee:e,coupon:e}}var o=n("lodash"),c=n("util"),l=n("EventEmitter"),u=n("cart"),d=n("page"),p=n("ecommerceHelpers").getCurrency,h=n("ecommerceHelpers").numberToString,f=n("ecommercePayloadCreator").cart;c.inherits(s,l),s.EVENT_PUSH="event",s.prototype._setListeners=function(){u.on(u.EVENT_ADD,this._onCartAdd,this).on(u.EVENT_REMOVE,this._onCartRemove,this).on(u.EVENT_UPDATE,this._setOffersListener,this).onceState(u.STATE_READY,this._setOffersListener,this)},s.prototype._onCartRemove=function(t,e,n){n=n||{},o.forEach(t,function(t){t.off(t.EVENT_CHANGE,this._onChangeHandler)}.bind(this));var r=d.getData()||{},i="market:checkout"===r.id;i&&n.multiple===!0||this._remove(t)},s.prototype._onCartAdd=function(t){t.on(t.EVENT_CHANGE,this._onChangeHandler),this._add(t)},s.prototype._setOffersListener=function(){o.forEach(u.getValidOffers(),function(t){t.on(t.EVENT_CHANGE,this._onChangeHandler)}.bind(this))},s.prototype._change=function(){var t=this;return function(e,n,r){var i=o.clone(this);"count"===e&&(i.count=Math.abs(r-n),n<r?t._add(i):t._remove(i))}},s.prototype._remove=function(t){var e=o.castArray(t),n=p(o.head(e)),r=o.map(e,a),i=f("remove",n,r);this.emit(s.EVENT_PUSH,"remove",i)},s.prototype._add=function(t){var e=[a(t)],n=p(t),r=f("add",n,e);this.emit(s.EVENT_PUSH,"add",r)},t.exports=s}),require.define("EcommerceCheckoutEventSource",function(t,e,n,r,i){function s(t){d.call(this),t.on("app:order:resolved",l.debounce(this._onOrderResolved),this)}function a(t){var e=p(t.feeOffer);return{id:p(t.modelId||t.clusterId||t.originalId),name:p(t.originalId),brand:p(t.vendorId),category:p(t.hid),price:u.toNumber(t.buyerPrice),quantity:u.toNumber(t.count),fee:e,coupon:e}}function o(t,e){var n=c(e),r=t.toJSON().order;return{id:p(r.orderId),goal_id:"3270983",revenue:u.toNumber(r.buyerItemsTotal),coupon:n,feeSum:n}}function c(t){var e=l.reduce(t,function(t,e){return t+Number(e.feeSum)*e.count},0);return p(e)}var l=n("lodash"),u=n("util"),d=n("EventEmitter"),p=n("ecommerceHelpers").numberToString,h=n("ecommerceHelpers").getCurrency,f=n("ecommercePayloadCreator").checkout,_="purchase";u.inherits(s,d),s.EVENT_PUSH="event",s.prototype._onOrderResolved=function(t){this._purchase(t)},s.prototype._purchase=function(t){var e=t.offers.toJSON(),n=h(l.head(e)),r=l.map(e,a),i=o(t,e),c=f(_,n,r,i);this.emit(s.EVENT_PUSH,_,c)},t.exports=s}),require.define("EcommerceProductEventSource",function(t,e,n,r,i){function s(t){o.call(this),setTimeout(function(){this._emitEvent(t)}.bind(this),1e3)}var a=n("util"),o=n("EventEmitter"),c=n("ecommercePayloadCreator").product,l="detail";a.inherits(s,o),s.EVENT_PUSH="event",s.prototype._emitEvent=function(t){var e=c(l,t);this.emit(s.EVENT_PUSH,l,e)},t.exports=s}),require.define("EcommerceCatalogEventSource",function(t,e,n,r,i){function s(t){l.call(this),t=t||{},this.hid=t.hid,this.vendorFilterId=t.vendorFilterId,this.initialVendorIds=t.vendorIds&&o.castArray(t.vendorIds),setTimeout(function(){var t=u(d,this.hid,this.initialVendorIds);this.emit(s.EVENT_PUSH,d,t),this._subcribeToFilterChannel()}.bind(this),1e3)}function a(t){var e=t.split(":");if(2===e.length)return{id:e[0],values:e[1].split(",")}}var o=n("lodash"),c=n("util"),l=n("EventEmitter"),u=n("ecommercePayloadCreator").catalog,d="detail";c.inherits(s,l),s.EVENT_PUSH="event",s.prototype._subcribeToFilterChannel=function(){BEM.channel("market:filter").on("filters-changed-info",o.debounce(this._onFiltersChanged),this)},s.prototype._onFiltersChanged=function(t,e){var n=e.filters,r=e.changed,i=r&&r.info||{};if(i.id===this.vendorFilterId){var c,l=n&&n.glfilter,h=o.find(l,p(this.vendorFilterId));if(h){var f=a(h);c=u(d,this.hid,f.values)}else c=u(d,this.hid,[]);this.emit(s.EVENT_PUSH,d,c)}},t.exports=s;var p=o.curry(function(t,e){var n=a(e);return!!n&&n.id===String(t)})}),require.define("EcommerceMetrikaPusher",function(t,e,n,r,i){var s=n("metrika");n("EcommerceError");t.exports=function(t,e){try{s.addEcommerce(s.marketCounterID,e)}catch(t){setTimeout(function(){console.log("METRIKA_CALL_FAILED",t)},1)}}}),require.define("ecommerceHelpers",function(t,e,n,r,i){e.numberToString=function(t){if("number"==typeof t||"string"==typeof t)return String(t)},e.getCurrency=function(t){var e={RUR:"RUB",RUB:"RUB",BYN:"BYN",UAH:"UAH",KZT:"KZT",TL:"TRY"};return e[t.currency]}}),require.define("ecommercePayloadCreator",function(t,e,n,r,i){function s(t,e,n){var r={};return r[t]={products:e},n&&(r[t].actionField=n),r}var a=n("ecommerceHelpers").numberToString,o=n("lodash");e.common=function(t,e,n,r){var i=s(t,n,r);return i.currencyCode=e,i},e.cart=e.common,e.checkout=e.common,e.catalog=function(t,e,n){var r=o.map(n,function(t){return{id:String(e)+"_"+String(t)}});return 0===o.size(r)&&(r=[{id:String(e)}]),s(t,r)},e.product=function(t,e){return e=e||{},s(t,[{id:a(e.id),brand:a(e.brand),category:a(e.category)}])}}),require.define("EcommerceError",function(t,e,n,r,i){function s(t,e){Error.call(this),this.name="EcommerceError",this.message=t,this.stack=e.stack}s.prototype=_.create(Error.prototype),s.prototype.constructor=s,t.exports=s}),require.define("EcommerceModule",function(t,e,n,r,i){function s(t,e){this.eventSources=t||[],this.loggers=e||[],a.forEach(this.eventSources,this.addEventSource.bind(this))}var a=n("lodash");s.EVENT_PUSH="event",s.prototype.addEventSource=function(t){return this.eventSources.push(t),t.on(s.EVENT_PUSH,this._pushEvent,this),this},s.prototype._pushEvent=function(t,e){a.forEach(this.loggers,function(n){n(t,e)})},t.exports=s}),require.define("Ecommerce",function(t,e,n,r,i){function s(t){this.ecommerceInstance=new o([],[p]),this.ecommerceInstance.addEventSource(new c),setTimeout(function(){var e=a.getData(),n=e.id||t&&t.pageId;this.addEventSourceForPage(n,t)}.bind(this),50)}var a=n("page"),o=n("EcommerceModule"),c=n("EcommerceCartEventSource"),l=n("EcommerceCheckoutEventSource"),u=n("EcommerceProductEventSource"),d=n("EcommerceCatalogEventSource"),p=n("EcommerceMetrikaPusher"),h={"market:checkout":l,"market:product":u,"market:product-spec":u,"market:product-offers":u,"market:product-geo":u,"market:product-articles":u,"market:product-reviews":u,"market:product-forum":u,"market:product-mods":u,"market:product-price-trend":u,"market:list":d,"market:catalog":d};s.prototype.addEventSourceForPage=function(t,e){var n=h[t];return n&&this.ecommerceInstance.addEventSource(new n(e)),this};var f=function(){throw new Error("Модуль инициализируется через `Ecommerce.getInstance`")};f._instance=null,f.getInstance=function(t){return s._instance||(s._instance=new s(t)),s._instance},t.exports=f}),function(){"use strict";function t(t){if(this.host===r&&e(this.pathname)===i){var s=n(this.hash);s=s.length>0?s:n("[name="+this.hash.slice(1)+"]"),0!==s.length&&(n("html, body").animate({scrollTop:s.offset().top},a),t.preventDefault())}}function e(t){return t.replace(/^\//,"")}var n=require("jquery"),r=location.host,i=e(location.pathname),s='a[href*="#"]:not([href="#"])',a=800;BEM.DOM.decl("i-anchor-scroller",{onSetMod:{js:{inited:function(){this.domElem.delegate(s,"click",t)}}}})}(),function(){var t=require("templater");BEM.DOM.decl({name:"n-widget-loader",modName:"context",modVal:"compat"},{responseDataType:"json",prepareResultData:function(e){var n=t.render({data:e.data,mode:"widgets"});return n}})}(),$(function(t){var e=1e4,n=150,r="Произошла ошибка. Попробуйте позже";BEM.DOM.decl("widget-loader",{onSetMod:{js:{inited:function(){this._url=this.params.url,this._loadEvent=this.params.loadEvent,this._onScroll=t.throttle(this._onScroll,50,this),this._url&&("init"===this._loadEvent&&this._update(),"scroll"===this._loadEvent&&(this._lastTimestamp=0,this._lastOffset=0,this.bindToWin("scroll",this._onScroll)._onScroll()))}}},_onScroll:function(t){var e=BEM.DOM.win,r=e.scrollTop(),s=r+e.height(),a=this.domElem.offset().top,o=a+this.domElem.height(),c=i(),l=c-this._lastTimestamp,u=r-this._lastOffset,d=u/l,p=n*d;this._lastTimestamp=c,this._lastOffset=r,s+Math.max(p,0)>=a&&r+Math.min(p,0)<=o&&(this.unbindFromWin("scroll"),this._update())},_update:function(){var n=this.elem("placeholder"),i=this.elem("holder"),s=this.domElem.closest(".box_type_promo");t.ajax({url:this._url,type:"GET",dataType:"html",timeout:e,success:function(t){return s.length&&""===t?BEM.DOM.destruct(s,!1):(BEM.DOM.update(i,t),i.css("position","static"),i.css("left","auto"),void BEM.DOM.replace(n,i))},error:function(){n.slideUp(function(){BEM.DOM.win.scroll()}),BEM.DOM.update(i,r),i.addClass("animator_placeholder_yes animator_placeholder_flash"),i.css("position","static"),i.css("left","auto"),setTimeout(function(){i.slideUp()},1e3)},complete:function(){BEM.DOM.win.scroll()}})}});var i=function(){return(i=Date.now||function(){return Number(new Date)})()}}(jQuery)),function(){var t=require("router"),e=require("metrika");BEM.DOM.decl("n-brand-headline",{onSetMod:{js:{inited:function(){var t=this.params;(t.hasDescription||t.hasArticle)&&(this._popup=this.findBlockOn("about-popup","modal"),
this._popup&&(this.bindTo("about","click",this._onAboutClick),this._popup.bindTo("close","click",this._onCloseModal))),t.hasArticle===!0||"true"===t.hasArticle?this._initArticle():t.hasDescription&&this._showAbout()}}},_showAbout:function(){this.elem("about").removeClass("g-hidden")},_initArticle:function(){var e=t.buildURL("api:brands-get-article",{brand:this.params.id});$.get(e).done(function(t){t&&t.data&&t.data.html&&(BEM.DOM.append(this._popup.elem("content"),t.data.html),this._showAbout())}.bind(this))},_onAboutClick:function(){return this._popup.setMod("visible","yes"),this.params.metrika&&e.emitGoalPoint({mbolayoutWidgets:{target:this.params.metrika.aboutClick}}),!1},_onCloseModal:function(){this._popup.delMod("visible")}})}();var metrika=require("metrika");BEM.DOM.decl("n-brand-navnodes",{onSetMod:{js:{inited:function(){this.bindTo("switcher","pointerclick",this._onNavnodesToggle)}}},_onNavnodesToggle:function(){return this._setSwitcherText(),this.elem("hidden-nodes").slideToggle(),!1},_setSwitcherText:function(){var t=this.hasMod(this.elem("switcher"),"open","yes"),e=t?"open":"closed",n=this.params.switcherStates[e],r=this.findBlockInside(this.elem("switcher"),"link");this.setMod(this.elem("switcher"),"open",t?"no":"yes"),!t&&this.params.metrika&&metrika.emitGoalPoint({mbolayoutWidgets:{target:this.params.metrika.allCategoriesClick}}),r.domElem.text(n)}}),BEM.DOM.decl("n-background-headline",{onSetMod:{js:{inited:function(){var t=this.elem("countdown");t&&this._showCounter();var e=this.elem("image");e&&(this.bindTo(e,"load",function(){this._showImage()}),e[0].complete&&this._showImage())}}},_showImage:function(){this.setMod(this.elem("wrapper"),"loaded","image")},_showCounter:function(){var t=this,e=t.findBlockInside("n-countdown"),n=t.findBlockOutside("main"),r=n.findBlockInside("collection-rain"),i=n.findBlockInside("n-collection-list");BEM.channel("market:counter").on("endCount",function(n,s){s==t.params.counterId&&(r&&r.destruct(),i&&i.destruct(),e.destruct())})}}),function(){var t="product-tabs",e=BEM.channel(t);BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){this.page_id=this.params["page-id"]}}}},{live:function(){return this.liveBindTo("item","click",function(t){var n=this.findBlockOutside("headline-menu"),r=n.hasMod("state","fixed")?"stick":"usual",i=$(t.data.domElem).data("name");e.trigger("click",{state:r,elem:i,page_id:this.page_id})}),!1}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("product-tabs"),r={states:{stick:"MC_TABS_STICKER",usual:"MC_TABS_USUAL"},elems:{mods:"MDFCT",offers:"GR_TO_OFFERS"},pages:{"market:product-mods":{offers:"GHTLKJ"}}};n.on("click",function(n,i){var s=i.elem,a=i.state,o=i.page_id,c=r.elems[s];c&&t.reachGoal(c,e);var c=r.states[a];c&&t.reachGoal(c,e);var c=r.pages[o]&&r.pages[o][s];c&&t.reachGoal(c,e)})}(),BEM.DOM.decl("product-spec-hint",{onSetMod:{js:{inited:function(){var t=this;this._owner=this.findBlockInside("link"),this._popup=this.findBlockInside("popup"),"button"===this.params.place?this._owner.bindTo("pointerpress",function(e){t._popup.toggle(t._owner),e.stopPropagation()}):this._owner.bindTo("pointerclick",function(){t._popup.toggle(t._owner)})}}}}),BEM.DOM.decl({block:"product-spec-hint",modName:"place",modVal:"filter"},{onSetMod:{js:{inited:function(){var t=this;this._dataLoaded=!1,this._owner=this.findElem("handle"),this._owner.on("pointerclick",function(e){var n=document.location.protocol+"//"+document.location.host+t.params.url;t._popup||(t._popup=$(BEMHTML.apply({block:"popup",mix:{block:"product-spec-hint__popup"},mods:{theme:"hint"},content:[{elem:"content",content:{block:"spin2",mods:{size:"xs",progress:"yes"}}},{elem:"tail"},{elem:"close"}],js:{directions:[{to:"bottom",axis:"right",offset:{left:10,top:4}},{to:"bottom",axis:"left",offset:{left:-30,top:4}}]}})).bem("popup"),t._popup.on("show",function(){t.domElem.css("display","block"),BEM.channel("market:popups").trigger("filter-hint",t._popup._uniqId)}),t._popup.on("hide",function(){t.domElem.removeAttr("style")}),BEM.channel("market:popups").on("filter-hint",function(e,n){t._popup._uniqId!=n&&t._popup.hide()})),t._dataLoaded||$.ajax({url:n,success:function(e){e&&(t._dataLoaded=!0,t._popup.setContent(e),t._popup.repaint())},error:function(){t._popup.hide()}}),t._popup.toggle(t._owner),e.stopPropagation()})}}}}),function(){var t=require("metrika");BEM.DOM.decl("product-card-offer",{onSetMod:{js:{inited:function(){this._initMetrika()}}},_initMetrika:function(){var e="defaultOffer",n=this.findBlockInside(this.findElem("shop"),"link");n&&n.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"shopName",entityType:e}})});var r=this.findBlockInside({blockName:"button",modName:"to",modVal:"cart"});r&&r.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toCartButton",entityType:e}})});var i=this.findBlockInside({blockName:"button",modName:"to",modVal:"shop"});i&&i.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toShopButton",entityType:e}})})}})}(),BEM.DOM.decl("product-card-offer-holder",{onSetMod:{js:{inited:function(){var t=this;BEM.channel("market:filter").on("dataLoaded",function(e,n){BEM.DOM.update(t.domElem,n.defaultOffer||"")})}}}}),BEM.DOM.decl("form-subscribe-model-card",{onSetMod:{js:{inited:function(){var t=this,e=this.findElem("button-on"),n=this.findElem("button-off");this.emailError=this.findBlockInside({block:"input",modName:"for",modVal:"mail"}).findBlockOn("manotice"),this.nameError=this.findBlockInside({block:"input",modName:"for",modVal:"name"}).findBlockOn("manotice"),this.blockSubscribe=this.findElem("block-subscribe"),this.blockUnsubscribe=this.findElem("block-unsubscribe"),this.inputEmail=this.findElem("input-email"),this.labelEmail=this.findElem("email-label"),this.inputName=this.findElem("input-name"),this.subcribedId=this.params.subscribeId,this.defaultEmail=this.currentEmail=this.params.defaultEmail||"",this._loggedUser=!!this.params.logged,!this._loggedUser&&$(this.inputEmail).is(":visible")&&this.emitMetrika("anonShow"),this.defaultEmail&&(this.emailSelect=this.findBlockInside("select"),this.emailSelect.on("change",function(){t.currentEmail=this.val(),t.labelEmail.html(t.currentEmail)})),e.on("click",function(){t.currentEmail!=t.defaultEmail&&t.changeEmail(),t.validateEmail()&&t.validateName()&&t.requestJSON(t.buildQueryOn,t.parseSubscribe)()}),n.on("click",this.requestJSON(this.buildQueryOff,this.parseUnsubscribe)),this.inputEmail.on("keydown",this.hideErrors.bind(this)),this.inputName.on("keydown",this.hideErrors.bind(this))}}},requestJSON:function(t,e){var n=this;return function(){$.ajax(t.call(n),{complete:function(t){if(t.responseText){var r=JSON.parse(t.responseText);e.call(n,r)}}})}},parseUnsubscribe:function(t){1==t.status&&(this.subcribedId=void 0,this.toggleView(),this._loggedUser&&this.emitMetrika("loggedUnsubscribe"))},parseSubscribe:function(t){1==t.status&&(this.subcribedId=t.data[0].id,this.toggleView(),this.emitMetrika("subscribe"),$(".product-card__toolbar .wishlist-control:not(.pseudo-checkbox_checked_yes)").trigger("click"))},changeEmail:function(){$.ajax("/gate/settings/email",{type:"POST",data:{sk:this.params.sk,selected:this.currentEmail},dataType:"json",complete:function(t){if(t.responseText){JSON.parse(t.responseText)}}})},buildQueryOn:function(){var t="/gate/route/subscription/add/?type=PA_ON_SALE&id=&price=0&sk="+this.params.sk+"&email="+encodeURIComponent(this.inputEmail.val())+"&userName="+encodeURIComponent(this.inputName.val())+"&modelId="+this.params.modelId;return t},buildQueryOff:function(){var t="/gate/route/subscription/remove/?type=PA_ON_SALE&price=0&id="+(this.subcribedId||"")+"&sk="+this.params.sk+"&modelId="+this.params.modelId;return t},toggleView:function(){this.labelEmail.html(this.inputEmail.val()),this.blockSubscribe.toggle(),this.blockUnsubscribe.toggle()},validateEmail:function(){var t=this.inputEmail.val()||this.defaultEmail;return 0==t.length?(this.emailError.show("error","Укажите почту"),!1):!!/[^\s@]+@[^\s@]+\.[^\s@]+/.test(t)||(this.emailError.show("error","Укажите корректный email"),!1)},validateName:function(){var t=this.inputName.val();return!!t.length||(this.nameError.show("error","Укажите ваше имя"),!1)},hideErrors:function(){this.emailError.hide(),this.nameError.hide()},emitMetrika:function(t){BEM.channel("market-metrika").trigger("emit",{modelSubscribeForm:t})}}),function(){var t=require("templater"),e=require("metrika");BEM.DOM.decl({name:"n-product-default-offer"},{onSetMod:{js:{inited:function(){this._bindToEvents(),this._initMetrika()}}},_toggleTitlePopup:function(){this._titlePopup=this._titlePopup||this._createDescTitlePopup(),this._titlePopup.toggle(this.findElem("title"))},_createDescTitlePopup:function(){var e=t.render({data:this.params.offer,mode:"n-product-default-offer__title-popup"});return $(e).bem("popup")},_bindToEvents:function(){this.findElem("title").on("pointerclick",this._toggleTitlePopup.bind(this))},_initMetrika:function(){function t(t){if(t){var e=t.findBlockOn("offer__pusher");if(e)return e.hasMod("state","in-cart")}return!1}var n="defaultOffer",r=this.params.offer.benefit&&this.params.offer.benefit.type,i=this.findElem("title");i&&i.on("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"title",entityType:n,benefitType:r}})});var s=this.findBlockInside("n-shop-name");s&&s.bindTo("name","pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"shopName",entityType:n,benefitType:r}})});var a=this.findBlockInside("i-shop-rating");a&&a.on("reviews-click",function(){e.emitGoalPoint({productOfferClick:{element:"reviewsInPopup",entityType:n,benefitType:r}})});var o=this.findBlockInside("n-delivery");o&&o.bindTo("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"delivery",entityType:n,benefitType:r}})});var c=this.findBlockInside("n-phone");c&&c.bindTo("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"phone",entityType:n,benefitType:r}})});var l;l=this.hasMod("viewType","mini")?this:this.findBlockOutside("n-product-summary");var u,d=l&&l.findBlockInside({blockName:"button2",modName:"to",modVal:"cart"}),p=l&&l.findBlockInside({blockName:"button2",modName:"to",modVal:"shop"});if(u="real"===this.params.offer.cpa?this.params.offer.shouldShowCpcInPopup?"cpa_cpc":"cpa":"cpc",p){var h=t(d);e.emitGoalPoint({productOfferInit:{element:"toShopButton",entityType:n,benefitType:r,offerType:u,hasGoToCartButton:h}}),p.bindTo("pointerclick",function(){var i=t(d);e.emitGoalPoint({productOfferClick:{element:"toShopButton",entityType:n,benefitType:r,offerType:u,hasGoToCartButton:i}})})}var f=l&&l.findBlockInside("n-i-offer-details-button");f&&f.bindTo("pointerclick",function(){e.emitGoalPoint({productOfferClick:{element:"detailsButton",entityType:n,benefitType:r}})})}})}(),function(){var t=require("metrika"),e=BEM.channel("n-filter-panel-aside"),n=BEM.channel("market:filter");BEM.DOM.decl({block:"button",modName:"action",modVal:"n-filter-reset"},{onSetMod:{js:{inited:function(){this._filterBlocks=$(".n-filter-block"),this.on("click",this._onClick)}}},_onClick:function(){t.emitGoalPoint({resetFilters:{}}),e.trigger("reset"),n.trigger("suspend"),this._filterBlocks.each(function(t,e){$(e).bem("n-filter-block").findBlocksInside({blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")}),$(e).bem("n-filter-block").findBlocksInside("radiobox").forEach(function(t){t.val("-1")}),$(e).bem("n-filter-block").findBlocksInside("input").forEach(function(t){t.val("")})})}})}(),BEM.DOM.decl("mbo-social-line",{onSetMod:{js:{inited:function(){Ya.share2("mbo-share",{theme:{services:"vkontakte,facebook,odnoklassniki,twitter",counter:!0,bare:!0},content:{url:this.params.url,title:this.params.title,description:this.params.description},contentByService:{vkontakte:{image:"http:"+this.params.images.vkontakte},odnoklassniki:{image:"http:"+this.params.images.odnoklassniki},twitter:{image:"http:"+this.params.images.twitter},facebook:{image:"http:"+this.params.images.facebook}},hooks:{onready:function(){setTimeout(function(){for(var t=document.querySelectorAll(".ya-share2__counter"),e=0,n=0;n<t.length;n++)e+=+("undefined"!=typeof t[n].textContent?t[n].textContent:t[n].innerText);document.querySelector(".mbo-social-line__item_type_share .mbo-social-line__item-text").innerHTML=e,e>0&&(document.querySelector(".mbo-social-line__item_type_share").style.display="block")},1500)}}})}}}}),BEM.DOM.decl("n-search-preciser",{onSetMod:{js:{inited:function(){var t=this;this._lastChild=this.findElem("results-count").last(),BEM.channel("market:filter").on("dataLoaded",function(e,n){if(n.hasOwnProperty("total")){var r=n.total;"itemscope"!==t._lastChild.attr("itemscope")&&t._changeCount(r)}})}}},_changeCount:function(t){this._lastChild.text(BEM.I18N("n-search-preciser","find",{count:t})+" "+t+" "+BEM.I18N("n-search-preciser","results",{count:t}))}}),function(){"use strict";var t=require("jquery"),e=require("lodash"),n=require("templater"),r=require("DataCollector"),i=250,s=500;BEM.DOM.decl("n-rain",{onSetMod:{js:{inited:function(){this._nextPage=null,this._dc=new r(this.params.stateKey),this._metrika=this.findBlockOn("metrika"),this._onScroll=e.throttle(this._onScroll,300),this.bindToWin("scroll",this._onScroll)}}},_onScroll:function(t){var e=BEM.DOM.win,n=e.scrollTop(),r=n+e.height(),i=this.domElem.offset().top,a=i+this.domElem.height();r+s>=a&&this._fetchNextPage()},_flushNextPage:function(){var r=this,s=this.params,a=this._nextPage.length<s.itemsPerPage,o=e.zip.apply(null,e.chunk(this._nextPage,s.columns.count));return o.forEach(function(a,o){var c="";a.forEach(function(t,r){e.set(t,"expFlags",e.get(window,"state.expFlags")),c+=n.render({data:t,mode:"n-snippet-cell_cms",args:[s.cellType,{metrika:s.metrika,convertCurrency:s.convertCurrency}]})});var l=t(c).hide();l=BEM.DOM.append(r.elem("list")[o],l),l.slideDown(i,function(){l.css("display",""),l.css("overflow","")}.bind(r))}),this._metrika.updatePixels&&this._metrika.updatePixels(),a},_fetchNextPage:function(){if(!this._dc.busy){var t=this,e=this.params;this._dc.next(e.itemsPerPage).then(function(e){if(t._nextPage=e,0===e.length||t._flushNextPage())return void t._disablePaging()})}},_disablePaging:function(){this.unbindFromWin("scroll",this._onScroll)}})}(),function(){BEM.DOM.decl("n-breadcrumbs",{onSetMod:{js:{inited:function(){BEM.channel("market:filter").on("titleChange",$.proxy(this._toggleCurrentCategoryBreadcrumb,this))}}},_toggleCurrentCategoryBreadcrumb:function(t,e){this._currentCategory=$(".n-breadcrumbs__item_seo_yes"),e!==this.params.currentCategory?this._currentCategory.length?this._setCurrentCategoryBreadcrumb(e):this._addCurrentCategoryBreadcrumb(e):this._currentCategory&&(e===this.params.lastCrumb?this._deleteCurrentCategoryBreadcrumb():this._setCurrentCategoryBreadcrumb(e))},_setCurrentCategoryBreadcrumb:function(t){this._currentCategory.text(t)},_addCurrentCategoryBreadcrumb:function(t){var e=this.findElem("item","type","text");e.length?BEM.DOM.before(e[0],BEMHTML.apply({block:"n-breadcrumbs",tag:"li",elem:"item",elemMods:{seo:"yes"},attrs:{title:t},content:t})):BEM.DOM.append(this.domElem,BEMHTML.apply({block:"n-breadcrumbs",tag:"li",elem:"item",elemMods:{seo:"yes"},attrs:{title:t},content:t}))},_deleteCurrentCategoryBreadcrumb:function(){this._currentCategory.remove()}})}(),function(t){var e=200,n=200,r="Ещё",i="Свернуть";BEM.DOM.decl("catalog-menu",{onSetMod:{js:{inited:function(){this.bindTo(this.elem("title","type","more"),"click",this.toggleMore),this.bindTo(this.elem("list-item","type","more"),"click",this.toggleMore)}}},toggleMore:function(s){var a=t(s.currentTarget),o=t(a.closest(".catalog-menu__item")),c=this.findElem(o,"list","type","more"),l=this.findElem(o,"list-item","type","more");if(l=l.length>0?l:this.findElem(o,"list-item","type","less"),l=l.bem("catalog-menu__list-item"),l.hasMod("type","more")){var u=l.domElem.offset().top;c.slideDown(e,function(){var e=l.domElem.offset().top,n=e-u,r=BEM.DOM.win.scrollTop()+BEM.DOM.win.height();r<e&&t("html, body").animate({scrollTop:"+="+String(n)},400)}),l.domElem.text(i),l.setMod("type","less")}else c.slideUp(n),l.domElem.text(r),l.setMod("type","more")}})}(jQuery),BEM.DOM.decl("recipes-list",{onSetMod:{js:{inited:function(){var t=this,e=this.findElem("show"),n=this.findElem("list");e.length>0&&e.on("click",function(){t.toggleMod(n,"show","yes"),t.hasMod(n,"show","yes")?e.text(e.data("hide")):e.text(e.data("show"))})}}}}),function(){BEM.DOM.decl("catalog-simple",{onSetMod:{js:{inited:function(){var t=this;this._channel=BEM.channel("catalog-simple"),this._head=this.elem("title"),this._mid=this.elem("list-item"),this._sub=this.elem("more-item"),this._all=this.findBlockInside("button"),this.bindTo(this._head,"click",function(){t._channel.trigger("head-goal")}),this.bindTo(this._mid,"click",function(){t._channel.trigger("mid-goal")}),this.bindTo(this._sub,"click",function(){t._channel.trigger("sub-goal")})}}}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("catalog-simple"),r={"head-goal":"CATALOG_HEAD","mid-goal":"CATALOG_MID","sub-goal":"CATALOG_SUB","all-goal":"MORE_CATS"};for(var i in r)!function(i){n.on(i,function(){var n=r[i];console.log(n),t.reachGoal(n,e)})}(i)}(),function(t,e){t.DOM.decl("i-ajax-updater",{onSetMod:{js:{inited:function(){this._setPreloader(),this._bindToEvents()}}},_setPreloader:function(){this._preloader=this.findBlockOn("preloadable")},_bindToEvents:function(){t.channel("market:filter").on("dataLoading",e.proxy(this._onDataLoading,this)),t.channel("market:filter").on("dataLoaded",e.proxy(this._onDataLoaded,this)),t.channel("market:filter").on("contentShowed",e.proxy(this._contentShowed,this))},_onDataLoading:function(){this._showPreloader()},_onDataLoaded:function(t,e){},_contentShowed:function(t){this._hidePreloader()},_render:function(t){},_updateView:function(e){t.DOM.update(this.elem("body"),e)},_showPreloader:function(){this._preloader&&this._preloader.showPreloader()},_hidePreloader:function(){this._preloader&&this._preloader.hidePreloader()}})}(BEM,jQuery),function(t){"use strict";var e=150,n=50,r=0,i=30,s=400;BEM.DOM.decl({block:"n-product-sticker",baseBlock:"i-ajax-updater"},{onSetMod:{js:{inited:function(){this.__base(),this._animateTabs=!0,this._offsetTop=n,this._marginBottom=i,this._checkOffersList(),this._tabsOffset=this.domElem.offset().top,this.bindToWin("resize",this._onViewportChange,this),this.bindToWin("scroll",this._onViewportChange,this),this._onViewportChange()}}},_checkOffersList:function(){var t=this.findBlockInside("n-product-top-offers-list");if(t){var n=t.elem("body").html();n?(this._offsetTop=e,this._marginBottom=r,this.setMod("with","offers")):this.setMod("with","empty-offers")}},_onViewportChange:function(){var e=t(BEM.DOM.win[0]),n=e.scrollTop();this._tabsOffset<=n?(this.setMod("fixed","top"),this._animateTabs&&this._fadeInTabs()):this.delMod("fixed"),this._animateTabs=!1},_fadeInTabs:function(){this.elem("list").css({opacity:0}),this.elem("list").animate({opacity:1},s,"linear")},_onDataLoaded:function(t,e){if(this.getMod("with")){var n=e&&e.topOffers,r=n&&n.search&&n.search.top6;this.setMod("with",r&&r.length?"offers":"empty-offers")}}})}(jQuery),require.define("exp-flags",function(t,e,n,r,i){var s=n("lodash");t.exports={getFlagValue:function(t){return s.get(window,["state","expFlags",t])},hasFlag:function(t){return s.has(window,["state","expFlags",t])},getExpFlagsCollection:function(){return s.get(window,["state","expFlags"],{})}}}),function(t,e){var n=require("templater"),r=require("exp-flags").hasFlag;t.DOM.decl("n-product-summary",{onSetMod:{js:{inited:function(){this._preloader=this.findBlockInside("preloadable"),this._bindToEvents()}}},_bindToEvents:function(){t.channel("market:filter").on("dataLoading",e.proxy(this._showPreloader,this)),t.channel("market:filter").on("dataLoaded",e.proxy(this._onDataLoaded,this)),r("dsk_page-product_new-do")&&t.channel("market:offer").on("not-available",e.proxy(this._hideInStock,this))},_hideInStock:function(){e(".n-product-in-stock").hide()},_onDataLoaded:function(t,e){this._updateView(this._render(e))},_render:function(t){var e=r("dsk_page-product_new-do")?"n-product-default-offer-cpa2":"n-product-default-offer",i=n.render({data:t.defaultOffer||{},mode:e,args:[{filters:t.productFilters.filters}]}),s="";return t.defaultOffer&&"n-product-default-offer"===e&&(s=n.render({data:t.defaultOffer,mode:"n-offer-action",args:[{filters:t.productFilters.filters,hasDetailsButton:!0,place:"card",entityType:"defaultOffer"}]})),{offerInfo:i,offerButton:s}},_updateView:function(e){t.DOM.update(this.elem("default-offer"),e.offerInfo),t.DOM.update(this.elem("default-offer-buttons"),e.offerButton),this._hidePreloader()},_showPreloader:function(){this._preloader&&this._preloader.showPreloader()},_hidePreloader:function(){this._preloader&&this._preloader.hidePreloader()}})}(BEM,jQuery),BEM.DOM.decl("n-adult-warning",{onSetMod:{js:{inited:function(){this._acceptButton=this.findBlockInside({block:"button",modName:"adult",modVal:"accept"}),this._declineButton=this.findBlockInside({block:"button",modName:"adult",modVal:"decline"}),this._acceptButton&&this._acceptButton.bindTo("pointerclick",function(){return document.cookie="adult=1;path=/;domain="+location.hostname+";",document.location.reload(),!1}),this._declineButton&&this._declineButton.bindTo("pointerclick",function(){return document.cookie="adult=0;path=/;domain="+location.hostname+";",document.location.reload(),!1})}}}}),function(t,e){var n=require("metrika"),r=require("templater"),i=require("lodash");t.DOM.decl({block:"n-gallery",baseBlock:"i-slider"},{onSetMod:{js:{inited:function(){this.__base(),this.params.data&&(this.bindTo("image","pointerclick",this._showGalleryPopup),this.bindTo("thumbs-more","pointerclick",this._showGalleryPopup),t.channel("gallery").on("changed",e.proxy(this._changeImage,this))),this._initMetrika(),this.bindTo("image","mouseenter mouseleave",e.proxy(this._toggleHoverMod,this))}}},getDefaultParams:function(){return{loop:!0,rewind:!0,nav:!1,dots:!1,autoWidth:!1,mouseDrag:!1,mergeFit:!1,items:1,refreshClass:"n-gallery_refresh_yes",loadedClass:"n-gallery_loaded_yes",loadingClass:"n-gallery_loading_yes",rtlClass:"n-gallery_rtl_yes",responsiveClass:"n-gallery_responsive_yes",dragClass:"n-gallery_drag_yes",itemClass:"n-gallery__item-wrap",clonedClass:"n-gallery__item-wrap_cloned_yes",activeClass:"n-gallery__item-wrap_active_yes",stageClass:"n-gallery__stage",stageOuterClass:"n-gallery__stage-outer",grabClass:"n-gallery_grab_yes",autoHeightClass:"n-gallery_height_yes",navContainerClass:"n-gallery__nav",navClass:["n-gallery__prev","n-gallery__next"],dotClass:"n-gallery__dot",dotsClass:"n-gallery__dots",disabledClass:"n-gallery__nav_disabled_yes",hiddenClass:"n-gallery_hidden_yes",animatedClass:"n-gallery__animated",animatedInClass:"n-gallery__animated_in",animatedOutClass:"n-gallery__animated_out",thumbContainerClass:"n-gallery__thumbs",thumbItemClass:"n-gallery__thumbs-item",thumbItemActiveClass:"n-gallery__thumbs-item_state_selected"}},_showGalleryPopup:function(){var n={};n.galleryData=this.params.data,n.currentSlide=this.current();var s=i.get(window,"state.expFlags.dsk_page-product_branding"),a=Boolean(n.galleryData.branded);s&&a&&0===n.currentSlide&&(n.currentSlide=1);var o=r.render({data:n,nodeName:"data",mode:"n-gallery-popup-product"});t.DOM.append(e(".gallery-popup-container"),o)},_initMetrika:function(){this.findElem("thumbs-item").on("pointerclick",function(){n.emitGoalPoint({photoGallery:"useThumbs"})})},_changeImage:function(t,e){this.to(e)},_toggleHoverMod:function(t){this.toggleMod("image-hover","yes","mouseenter"===t.type)}})}(BEM,jQuery),function(t,e){var n=require("metrika"),r=require("router"),i=require("lodash");t.DOM.decl("n-gallery-popup-product",{onSetMod:{js:{inited:function(){this._popup=this.findBlockInside("n-gallery-popup"),this._prevOnpopstateHandler=window.onpopstate,window.onpopstate=null,this._initMetrika(),this._loadOffersDescription(),this._bindHandlers(),this.trigger("open")}}},_bindHandlers:function(){this._popup.bindTo("close-button","pointerclick",e.proxy(this._close,this)),this._popup.on("changed",e.proxy(this._sendMessageToBro,this)),this._popup.on("close",e.proxy(this._close,this))},_close:function(){this._popup.destruct(!1),this.trigger("close"),this.destruct(!1),window.onpopstate=this._prevOnpopstateHandler},_sendMessageToBro:function(){t.channel("gallery").trigger("changed",this._popup.getCurrentSlide())},_initMetrika:function(){this.on("open",function(){n.emitGoalPoint({photoGallery:"open"})}),this.on("close",function(){n.emitGoalPoint({photoGallery:"close"})}),this._popup.findElem("thumbs-item").on("pointerclick",function(){n.emitGoalPoint({photoGallery:"preview"})}),this._popup.findElem("nav-item").on("pointerclick",function(){n.emitGoalPoint({photoGallery:"scroll"})}),this._popup.on("keydown.down keydown.up",function(){n.emitGoalPoint({photoGallery:"keysScroll"})})},_loadOffersDescription:function(){var t=this._popup.getItems(),n={};i.isArray(t)&&t.forEach(function(t){var e=t.dataset;e&&e.offerid&&(n[e.offerid]||(n[e.offerid]=[]),n[e.offerid].push(t))});var s=Object.keys(n);0!==s.length&&e.ajax({url:r.buildURL("api:offer-info"),data:{offerId:s},success:this._setShopLabelsText,traditional:!0})},_setShopLabelsText:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(i.has(r,"shop.name")&&r.wareId&&t[r.wareId])for(var s=t[r.wareId].length,a=0;a<s;a++){var o=t[r.wareId][a].getElementsByClassName("n-gallery-popup__item-shop-label")[0];o.textContent="ФОТО ПРЕДОСТАВЛЕНО МАГАЗИНОМ "+r.shop.name.toUpperCase()}}}})}(BEM,jQuery),function(t){t.DOM.decl({block:"n-gallery-popup",baseBlock:"i-slider"},{onSetMod:{js:{inited:function(){this.__base(),this._history=t.blocks.history.getInstance(),this._prepareGallery(),this._bindHandlers()}}},getDefaultParams:function(){return{loop:!0,rewind:!0,nav:!0,dots:!1,autoWidth:!1,mouseDrag:!1,mergeFit:!1,items:1,refreshClass:"n-gallery-popup_refresh_yes",loadedClass:"n-gallery-popup_loaded_yes",loadingClass:"n-gallery-popup_loading_yes",rtlClass:"n-gallery-popup_rtl_yes",responsiveClass:"n-gallery-popup_responsive_yes",dragClass:"n-gallery-popup_drag_yes",itemClass:"n-gallery-popup__item-wrap",clonedClass:"n-gallery-popup__item-wrap_cloned_yes",activeClass:"n-gallery-popup__item-wrap_active_yes",stageClass:"n-gallery-popup__stage",stageOuterClass:"n-gallery-popup__stage-outer",grabClass:"n-gallery-popup_grab_yes",autoHeightClass:"n-gallery-popup_height_yes",navContainerClass:"n-gallery-popup__nav",navClass:["n-gallery-popup__nav-item n-gallery-popup__nav-item_action_prev","n-gallery-popup__nav-item n-gallery-popup__nav-item_action_next"],dotClass:"n-gallery-popup__dot",dotsClass:"n-gallery-popup__dots",disabledClass:"n-gallery-popup__nav_disabled_yes",hiddenClass:"n-gallery-popup_hidden_yes",animatedClass:"n-gallery-popup__animated",animatedInClass:"n-gallery-popup__animated_in",animatedOutClass:"n-gallery-popup__animated_out",thumbContainerClass:"n-gallery-popup__thumbs",thumbItemClass:"n-gallery-popup__thumbs-item",thumbItemActiveClass:"n-gallery-popup__thumbs-item_state_selected"}},_initialize:function(){this.findBlockOutside("n-layout").setMod("hide-scroll","yes"),this.__base()},destruct:function(){this.setMod("visible","no"),this._unbindHandlers(),this._updateLocation(!1),this.findBlockOutside("n-layout").delMod("hide-scroll")},getCurrentSlide:function(){return this.current()},getItems:function(){return this.findElem("item")},_prepareGallery:function(){this.setMod("visible","yes"),this._updateLocation(!0)},_bindHandlers:function(){this.bindTo(this.findElem("nav-item","action","next"),"click",function(){this.next()}),this.bindTo(this.findElem("nav-item","action","prev"),"click",function(){this.prev()}),t.DOM.win.on("popstate",$.proxy(this._onUserBack,this)),t.DOM.doc.on("keydown",$.proxy(this._onDocKeyPress,this))},_unbindHandlers:function(){t.DOM.win.off("popstate",$.proxy(this._onUserBack,this)),t.DOM.doc.off("keydown",$.proxy(this._onDocKeyPress,this))},_onDocKeyPress:function(e){t.blocks.keycodes.is(e.keyCode,"ESC")&&(this.trigger("close"),this.trigger("keydown.esc"),this._updateLocation(!1)),t.blocks.keycodes.is(e.keyCode,"LEFT","UP")&&(this.prev(),this.trigger("keydown.up")),t.blocks.keycodes.is(e.keyCode,"RIGHT","DOWN")&&(this.next(),this.trigger("keydown.down"))},_onUserBack:function(){this.trigger("close")},_updateLocation:function(t){var e=window.location.href.split("#")[0];t?this._history.pushState({changedBy:"gallery-popup",action:"replace"},this._history.state.title,e+"#gallery"):this._history.pushState({changedBy:"gallery-popup",action:"replace"},this._history.state.title,e)}})}(BEM,jQuery),require.define("filters-matching",function(t,e,n,r,i){function s(t){return o.reduce(t,function(t,e,n){return o.forEach(e,function(e,r){var i=o.get(t,r,{});return t[r]||(t[r]=i),o.forEach(e,function(t){i[t]||(i[t]=[]),i[t].push(n)}),i}),t},{})}function a(t){var e={};return e[c]=[String(t)],e}var o=n("lodash"),c="7925349";t.exports={collectMatchingFiltersIndexes:s,getFiltersMatchingByColor:a}}),function(t,e){var n=require("lodash"),r=require("filters-matching"),i=require("teleport");t.DOM.decl({block:"n-gallery-product"},{onSetMod:{js:{inited:function(){this._filtersOrder=i.get("filtersOrder"),this._gallery=this.findBlockOn(this.domElem,"n-gallery"),this._onFilterChanged=this._onFilterChanged.bind(this),this._matchImagesToFilters(),t.channel("market:filter").on("filters-changed-info",this._onFilterChanged)}}},_matchImagesToFilters:function(){var t=this._gallery.elem("item");t=t.slice(2,t.length-2);var i=n.map(t,function(t){return e(t).data("filtersmatching")});this._filtersMatchingCollection=r.collectMatchingFiltersIndexes(i)},_onFilterChanged:function(t,e){var n=e.changed.info;this._filtersMatchingCollection[n.id]&&this._selectProperSlide(n)},_selectProperSlide:function(e){var r,i=this,s=t.blocks["i-filters"].getInstance().getFilters(),a=n.filter(this._filtersOrder,function(t){return i._filtersMatchingCollection[t]&&s[t]}),o=n.head(a);if(e.id===o?r=e.value:s[o]&&(r=n.head(n.castArray(s[o].val))),r){for(var c=this._filtersMatchingCollection[o][r],l=1;l<a.length&&c.length>1;++l){var u=a[l],d=n.head(n.castArray(s[u].val)),p=this._filtersMatchingCollection[u][d],h=n.intersection(c,p);h.length>0&&(c=h)}n.isEmpty(c)||this._gallery.to(n.head(c))}}})}(BEM,jQuery),function(t,e){t.DOM.decl("n-product-top-filters",{onSetMod:{js:{inited:function(){t.blocks["i-filters"].getInstance(this.params.gateUrl,this.params.additionalQueryParams)}}}})}(BEM,jQuery),BEM.DOM.decl("n-filter-cookie",{onSetMod:{js:{inited:function(){}}}},{saveFilterValueInCookie:function(t,e){$.cookie(t,e,{path:"/",domain:document.domain.match(/^.*?((?:[^.]+\.){1,2}(?:[^.]+))$/)[1],expires:1024})}}),function(){var t=require("metrika"),e=300;BEM.DOM.decl("n-filter-block",{onSetMod:{js:{inited:function(){this._filtersActivated=this.params.activatedCount,this._page=this.findBlockOutside("b-page"),this._counter=this._page.findBlockInside("n-filter-panel-counter"),this._body=this.findElem("body"),this._filterOptions=this.domElem.data("panel-counter"),this.hasMod("tooltip","showed")&&this._counter&&this._counter.showCounter(this.domElem[0],this._filterOptions.offersFound,5e3),this._inputChanged=$.debounce(this._inputChanged,e),this._attachEvents(),this.afterCurrentEvent(this._collectData),BEM.channel("market:filter").on("change-view",$.proxy(this._onFilterViewChanged,this))}}},_attachEvents:function(){if(this.on("filter-change",this._onFilterChanged),BEM.channel("market:filter").on("dataLoaded",$.proxy(this._onDataLoaded,this)),"deliveryincluded"===this.params.filterId){var t=this.findBlockInside("checkbox"),e=this._deliveryincludedDisabledPopup();this.bindTo("pointerclick",function(n){t.hasMod("disabled","yes")&&e.show(this)})}},_onDataLoaded:function(t,e){if(e.hasOwnProperty("filters")&&e.filters.length){
var n=JSON.parse(e.filters);if(n.hasOwnProperty(this.params.filterId))for(var r=n[this.params.filterId].length,i=0;i<r;i++){var s=n[this.params.filterId][i];s.length&&(this.hasMod("closed","yes")?this._delayedUpdateFilterState(s,250):this._delayedUpdateFilterState(s))}}},_onFilterChanged:function(t,e){this._updateSizeFilterView(t.block)},_updateSizeFilterView:function(t){void 0===this._filterHasTabs&&(this._sizesTabPanes=t.findBlockInside("tabs-panes"),this._filterHasTabs=this._sizesTabPanes),this._filterHasTabs&&this._sizesTabPanes.elem("pane").each($.proxy(this._unCheckHiddenSizeValues,this))},_unCheckHiddenSizeValues:function(t,e){this._sizesTabPanes.hasMod($(e),"active","yes")||this._sizesTabPanes.findBlocksInside($(e),{blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")})},_collectData:function(){var t=["[data-filter='glf,onstock,select']","[data-filter='glf,in-stock,select']","[data-filter='glf,deliveryincluded,1']","[data-filter='glf,local-offers-first,select']"];this.domElem.find(t.join(",")).each(function(t,e){var n=$(e),r=n.bem("checkbox"),i=r.hasMod("checked","yes"),s=n.data("filter").split(",");BEM.channel("market:filter").trigger("load",[s,i,"checkbox"])}),this.findBlocksInside({blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){var e=t.domElem.data("filter").split(",");BEM.channel("market:filter").trigger("load",[e,!0,"checkbox"])}),this.findBlocksInside("radiobox").forEach(function(t){if(t.val()&&"-1"!=t.val()){var e=t.findElem("radio","checked","yes").find(".radiobox__box").data("filter").split(",");BEM.channel("market:filter").trigger("load",[e,!0,"radio"])}}),this.findBlocksInside("radio-button").forEach(function(t){if(t.val()&&"-1"!=t.val()){var e=t.findElem("radio","checked","yes").find(".radio-button__text").data("filter").split(",");BEM.channel("market:filter").trigger("load",[e,!0,"radio"])}}),this.findBlocksInside("input").forEach(function(t){t.val()&&"no"!=t.domElem.data("filter")&&BEM.channel("market:filter").trigger("load",[t.domElem.data("filter").split(","),t.val(),"number"])})},getDefaultParams:function(){return{activatedCount:0}},_delayedUpdateFilterState:function(t,e){var n=this,r=0;e&&(r=e),setTimeout(function(){n._updateFilterState(t)},r)},_onFilterViewChanged:function(t,e){this._updateFilterView(e),this._updateFilterState(e)},_updateFilterView:function(t){var e=this.dataToObject(t);if(this.domElem){var n=this.domElem.find('[data-filter="'+t[0].join(",")+'"]');if(n[0])switch(e.type){case"radio":e.value?this.findBlockInside("radiobox").val(e.info.value):this.findBlockInside("radiobox").val("-1");break;case"checkbox":t[1]?$(n[0]).bem("checkbox").setMod("checked","yes"):$(n[0]).bem("checkbox").delMod("checked");break;case"number":$(n[0]).bem("input").val(t[1])}}},_updateFilterState:function(t){var e,n=this.dataToObject(t),r=n.info,i=t[0].slice(0,-1).join(",");if(this.domElem){var s=this.domElem.find('[data-filter="'+i+'"]');if(s[0])switch(n.type){case"radio":s.closest(".n-filter-block__item").each(function(t,n){e=r.isEnabled?"no":"yes",$(n).bem("n-filter-block__item").setMod("disabled",e)});break;case"checkbox":s.closest(".n-filter-block__item").each(function(t,n){e=r.isEnabled?"no":"yes",$(n).bem("n-filter-block__item").setMod("disabled",e)});break;case"range":s.find(".input__hint").text(r.isEnabled)}}},dataToObject:function(t){return{info:{type:t[0][0],id:t[0][1],value:t[0][2],isEnabled:t[0][3]},value:t[1],type:t[2]}},_toggleOpenState:function(){if(this.hasMod("closed","yes"))this.setMod("closed","no"),this._body.stop().fadeIn({duration:300,queue:!1}),t.emitGoalPoint({filterState:"unroll"});else{var e=this;this._body.stop().fadeOut({duration:300,queue:!1,complete:function(){e.setMod("closed","yes")}}),t.emitGoalPoint({filterState:"roll"})}},incrementFiltersActivated:function(){this._filtersActivated++,this._updateState()},decrementFiltersActivated:function(){this._filtersActivated--,this._updateState()},setFiltersActivated:function(t){this._filtersActivated=t,this._updateState()},_updateState:function(){this._filtersActivated>0?(this.hasMod("closed","yes")&&this.delMod("closed"),this.setMod("active","yes")):this.delMod("active")},_inputChanged:function(t){var e=t.domElem.data("filter").split(","),n=t.val().replace(/[^\d\.,\-]/g,"");BEM.channel("market:filter").trigger("change",[e,n,"number"])},_toggleDeliveryincludedDisableState:function(t){var e=["glf","deliveryincluded","1"],n=this._page.domElem.find('[data-filter="'+e.join(",")+'"]').eq(0).bem("checkbox"),r=n.getMod("disabled-state");""==r?t&&(r=n.hasMod("checked","yes")?"1":"0",n.setMod("disabled-state",r),n.delMod("checked"),n.setMod("disabled","yes"),n.domElem.prop("disabled",!0)):t||("1"==r&&n.setMod("checked","yes"),n.delMod("disabled"),n.delMod("disabled-state"),n.domElem.prop("disabled",!1))},_deliveryincludedDisabledPopup:function(){return $(BEMHTML.apply({block:"popup",attrs:{style:"padding: 20px 16px 16px 16px"},mods:{autoclosable:"yes",theme:"hint"},content:[{elem:"content",content:"Цены с учётом самовывоза недоступны"},{elem:"tail"}],js:{directions:[{to:"top",axis:"left",tail:{axis:"left"}}]}})).bem("popup")}},{live:function(){return this.liveInitOnBlockInsideEvent("change","checkbox",function(t){var e=t.block,n=e.domElem.data("filter").split(","),r=this.dataToObject([n]).info,i=e.isChecked();i?this.incrementFiltersActivated():this.decrementFiltersActivated(),BEM.channel("market:filter").trigger("change",[n,i,"checkbox"]),this.trigger("filter-change",{type:"enum",isAdd:i,name:e.domElem.text()}),"deliveryincluded"==r.id&&e.domElem.data("was-checked",!0),"local-offers-first"==r.id&&(e.domElem.data("was-checked",!0),BEM.blocks["n-filter-cookie"].saveFilterValueInCookie("local-offers-first",i?"1":"-1")),"onstock"!=r.id&&"in-stock"!=r.id||BEM.blocks["n-filter-cookie"].saveFilterValueInCookie("onstock",i?"1":"0"),"fesh"==r.id&&0===this._filtersActivated&&BEM.channel("market:filter").trigger("change",[["glf","grhow","shop"],!0,"radio"])}),this.liveInitOnBlockInsideEvent("change","radiobox",function(t,e){var n=t.block,r="no"!==n.domElem.data("filter");if(r&&e.prevVal){t.block.val()==-1?this.setFiltersActivated(0):this.setFiltersActivated(1);var i=e.current.text();0===i.length&&e.current.bem("n-filter-block__item").params.name&&(i=e.current.bem("n-filter-block__item").params.name),this.trigger("filter-change",{type:"enum",isAdd:!0,name:i,id:t.block.val()}),e.prev&&this.trigger("filter-change",{type:"enum",isAdd:!1,name:e.prev.text(),id:null});var s=$(e.current).find(".radiobox__box").data("filter").split(","),a=this.dataToObject([s]).info;if(BEM.channel("market:filter").trigger("change",[s,!0,"radio"]),"fesh"===a.id&&"-1"===a.value&&BEM.channel("market:filter").trigger("change",[["glf","grhow","shop"],!0,"radio"]),"offer-shipping"===a.id){var o="postomat"===a.value||"pickup"===a.value;this._toggleDeliveryincludedDisableState(o)}}}),this.liveInitOnBlockInsideEvent("change","input",function(t,e){var n=t.block,r="no"!=n.domElem.data("filter");if(r){var i=n.domElem.data("filter").split(",")[2],s=this.findBlocksInside("input").filter(function(t){return""!=t.val()}).length;this.setFiltersActivated(s),this._inputChanged(n),this.trigger("filter-change",{type:"number",direction:i,name:t.block.val()})}}),this.liveInitOnBlockInsideEvent("change","radio-button",function(t,e){var n=$(e.current).find(".radio-button__text").data("filter").split(",");BEM.channel("market:filter").trigger("change",[n,!0,"radio"])}),this.liveInitOnBlockInsideEvent("change","select",function(t,e){if(e.prev!=-1){var n=$(t.block.domElem).data("filter").split(",");n[2]=t.block.val(),BEM.channel("market:filter").trigger("change",[n,!0,"radio"])}}),this.liveBindTo("header","pointerclick",function(t){this.hasMod("type","compact")||this._toggleOpenState()}),!1}})}(),function(){var t=require("metrika"),e=t.marketCounterID;BEM.DOM.decl({name:"n-filter-block__body",modName:"list",modVal:"limited"},{onSetMod:{js:function(){var n=this;this._moreButton=this.findBlockInside({blockName:"button",modName:"type",modVal:"more"}),this._moreButton&&this.bindTo(this._moreButton.domElem,"click",function(){t.reachGoal("FLTR_MORE_VLS",e,{filterId:n.params.filterId,categoryId:n.params.hid}),n._moreButton.domElem.hide(),n._moreButton.domElem.next().removeClass("g-hidden")})}}})}(),function(){var t=require("metrika"),e=t.marketCounterID;BEM.DOM.decl({name:"n-filter-block__body",modName:"type",modVal:"color"},{onSetMod:{js:function(){this._itemWidth=39,this._parentBlock=this.findBlockOutside("n-filter-block"),this._showButton=this.findBlockInside({blockName:"button",modName:"type",modVal:"more"}),this._extraColorsBlock=this.findBlockInside("n-filter-block__body_list_limited-color"),this._buttonTextNormal=this._showButton.elem("text").text(),this._showButton&&this._extraColorsBlock&&this.bindTo(this._showButton.domElem,"click",this._onButtonShowClick,this),this.bindToWin("resize",$.throttle(this._onResizeWindow,500,this)),this._onResizeWindow()}},_onButtonShowClick:function(){var n=null;this._extraColorsBlock.hasMod("collapsed","yes")?(n="FLTR_MORE_VLS",this._showButton.elem("text").text("Скрыть"),this._extraColorsBlock.delMod("collapsed")):(n="FLTR_LESS_VLS",this._showButton.elem("text").text(this._buttonTextNormal),this._extraColorsBlock.setMod("collapsed","yes")),t.reachGoal(n,e,{filterId:this.params.filterId,categoryId:this.params.hid})},_onResizeWindow:function(){if(this._showButton&&this._parentBlock.domElem[0].clientWidth){var t=Math.floor(this._parentBlock.domElem[0].clientWidth/this._itemWidth),e=Math.ceil(this.params.total/t);e<5?(this._showButton.setMod("hidden","yes"),this._extraColorsBlock.delMod("collapsed")):this._showButton.hasMod("hidden")&&(this._showButton.delMod("hidden"),this._showButton.elem("text").text("Скрыть"))}}})}(),function(){var t=require("templater"),e=require("metrika"),n=e.marketCounterID;BEM.DOM.decl({block:"n-filter-enum-sorted"},{onSetMod:{js:{inited:function(){BEM.channel("market:filter").on("dataLoaded",$.proxy(this._onFiltersChanged,this)),this.filter=this.params.filter,this._page=this.findBlockOutside("b-page"),this._counter=this._page.findBlockInside("n-filter-panel-counter"),this._subscribe(),this.counterTargetId=null,this.state=this.params.state}}},_syncUserMap:function(){var t=this;if("top-abc_pos-right"===this.params.expFlag){var e=this.filter.maps.abc;this.filter.maps.user=e.slice(0,5).concat(e.filter(function(e,n){return!(n<5)&&t.filter.values.some(function(t){return t.id===e&&t.checked})}))}else{var e=this.filter.maps.top,n=this.filter.maps.all;this.filter.maps.user=e.concat(n.filter(function(n,r){return t.filter.values.some(function(t){return t.id===n&&t.checked&&!~e.indexOf(n)})}))}},_onFiltersChanged:function(t,e){var n=JSON.parse(e.filters),r=n[this.filter.id];r&&this._updateState(r),this.counterTargetId&&this._counter.showCounter(this.counterTargetId,e.total,5e3),this.counterTargetId=null},_updateState:function(t){var e=this.filter;t.forEach(function(t){var n=t[0][2],r="yes"===t[1],i=!t[0][3];e.values.some(function(t,e,s){return t.id===n&&(r?s[e].checked=!0:delete s[e].checked,i?s[e].disabled=i:delete s[e].disabled,!0)})});var n=this._render();this._updateView(n)},_updateView:function(t){"function"==typeof this._unsibscribe&&this._unsibscribe(),BEM.DOM.replace(this.findBlockInside("n-filter-enum-sorted__wrapper").domElem,t),this._subscribe()},_changeHandler:function(t,e){var n=this;return function(r){var i=r.target.id,s=r.target.checked;n.filter.values.some(function(t,e){return t.id===i&&(n.filter.values[e].checked=s,!0)}),n._counter.hideCounter(),n.counterTargetId=i,BEM.channel("market:filter").trigger("change",[[t,e,i],s,"checkbox"])}},_clickHandler:function(t){var e=t.data.domElem.find("input");e.is(":checked")&&e.is(":disabled")&&e.removeAttr("checked").trigger("change")},_subscribe:function(){var t=this._changeHandler(this.filter.internalType,this.filter.id),e=this.findBlocksInside("n-filter-enum-sorted__checkbox"),n=this._clickHandler,r=this.findBlocksInside("n-filter-enum-sorted__label"),i=this._toggleListState.bind(this),s=this.findBlockInside("n-filter-enum-sorted__button");e.forEach(function(e){e.bindTo("change",t)}),r.forEach(function(t){t.bindTo("pointerclick",n)}),s&&s.bindTo("pointerclick",i),this._unsubscribe=function(){e.forEach(function(e){e.un("change",t)}),r.forEach(function(t){t.un("pointerclick",n)}),s&&s.un("pointerclick",i)}},_render:function(){return t.render({data:this.filter,mode:"n-filter-enum-sorted",args:{state:this.state,expFlag:this.params.expFlag,filter:this.filter}})},_logListStateChange:function(t){var r="normal"===this.state?"FLTR_LESS_VLS":"FLTR_MORE_VLS";e.reachGoal(r,n,{filterId:this.params.filter.id,categoryId:this.params.hid})},_toggleListState:function(){this.state="normal"===this.state?"expanded":"normal",this._counter.hideCounter(),"normal"===this.state&&this._syncUserMap(),this._logListStateChange();var t=this._render();this._updateView(t)}})}(),BEM.DOM.decl("n-filter-block__item",{onSetMod:{js:{inited:function(){this.bindTo("pointerclick",this._checkAction)}}},_checkAction:function(t){var e=this.findBlockInside("checkbox"),n=this.findBlockOn("radiobox__radio"),r=this.hasMod("disabled","yes"),i=e&&!e.hasMod("checked","yes")||n;r&&i&&(t.stopPropagation(),t.preventDefault())}}),function(t){var e=require("metrika");t.DOM.decl({block:"n-filter-block__item",modName:"boolean",modVal:"cpa"},{onSetMod:{js:{inited:function(){var t=this.findBlockInside("checkbox");t.bindTo("change",function(){this.afterCurrentEvent(function(){e.emitGoalPoint({cpaFilterChange:t.isChecked()})})},this)}}}})}(BEM),BEM.DOM.decl({block:"filter-block-hint",baseBlock:"product-spec-hint"},{onSetMod:{js:{inited:function(){this.__base()}}}}),function(){function t(t,e){return n.filter(t,function(t){return t&&t.value?t.value.toLowerCase().match(new RegExp("^"+e.toLowerCase())):null})}var e=require("templater"),n=require("lodash"),r=150;BEM.DOM.decl("n-filter-block__body_suggest",{onSetMod:{js:{inited:function(){this._suggestInput=this.findBlockInside("input"),this.params.doNotFocus||this._suggestInput.setMod("focused","yes"),this._suggestInput&&(this.bindTo(this._suggestInput.findElem("clear"),"pointerclick",function(){this._suggestInput.val(""),this._onInputChange()},this),this.bindTo(this._suggestInput.domElem,"keyup",this._debounce.bind(this,this._onInputChange,r))),this._items=this.findBlockOutside("n-filter-block").findElem("list-items"),BEM.channel("market:filter").on("dataLoaded",this._onFiltersChanged,this),this._filtersList=this.findBlockOutside("n-filter-block__list")}}},_onInputChange:function(){var r=this,i=this._suggestInput.val(),s=n.assign({},this.params.filtersData);i&&(s.values=t(s.values,i),s.groups=[]),BEM.DOM.update(this._items,e.render({data:s,mode:"n-filter-block__list-items",args:{filter:this.params.filtersData}}),function(){r._filtersList&&r._filtersList.params.updateOnFilterChange&&r._filtersList.hideInactiveSeries()})},_debounce:function(t,e){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(t.bind(this),e)},_onFiltersChanged:function(t,e){var r=this.params.filtersData;if(e.hasOwnProperty("filters")&&e.filters.length){var i=JSON.parse(e.filters),s=i[r.id]||[];this._updatedFilter=n.map(s,this._dataToObject),r.values=n.map(r.values,this._mapFound.bind(this)),n.forEach(r.groups,function(t){t.values=n.map(t.values,this._mapFound.bind(this))}.bind(this))}},_dataToObject:function(t){return{id:t[0][2],isEnabled:t[0][3]}},_mapFound:function(t){var e=n.find(this._updatedFilter,{id:t.id});return t.found=e&&e.isEnabled?1:0,t}})}(),BEM.DOM.decl("n-tablesizes-link",{_showTablesizes:function(){this.hasOwnProperty("_popup")?this._popup.setMod("visible","yes"):this._getTablesizes()},_getTablesizes:function(){var t=this;$.ajax({url:this.params.gate,type:"GET",dataType:"json",timeout:1e3,success:function(e){e.success&&e.data?(t._popup=t._buildPopup(e.data),t._popup.bindTo("closer","pointerclick",function(){t._popup.delMod("visible")}),t._popup.setMod("visible","yes")):t._showCap()},error:function(){t._showCap()}})},_buildPopup:function(t){var e=$(BEMHTML.apply({block:"modal",mix:{block:"tablesizes-popup"},mods:{theme:"normal",autoclosable:"yes",closer:"content"},content:t}));return BEM.DOM.append(this.domElem,e),this.findBlockInside("modal")},_showCap:function(){var t="Таблица размеров не доступна";BEM.DOM.after(this.domElem,$(BEMHTML.apply({block:"n-tablesizes-text",content:t}))),this.destruct()}},{live:function(){this.liveBindTo("pointerclick",function(){this._showTablesizes()})}}),function(){var t=require("lodash");BEM.DOM.decl("n-filter-block-reset",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("n-filter-block"),e=BEM.blocks["i-filters"].getInstance();this._currentFiltersState=e.getFilters(),t&&(this._filterVewType=t.getMod(t.elem("body"),"viewType")),this._currentFiltersState.hasOwnProperty(this.params.filterId)&&this.setMod("visible","yes"),this._setVisibilityByFilterChange=this._setVisibilityByFilterChange.bind(this),this._emitFilterReset=this._emitFilterReset.bind(this),BEM.channel("market:filter").on("change",this._setVisibilityByFilterChange)}}},_setVisibilityByFilterChange:function(t,e){var n,r=e[0][1];r===this.params.filterId&&(n=this._getVisibilityByFilterType(e),this.setMod("visible",n))},_resetFilter:function(e){var n,r=this;if(!this.params.filterId)return!1;switch(this._filterVewType){case"boolean":n=[["glf",this.params.filterId,"-1"],!1,"radio"],this._emitFilterReset(n);break;case"list":t.forEach(this._currentFiltersState[r.params.filterId].val,function(t){n=[["glf",r.params.filterId,t],!1,"checkbox"],r._emitFilterReset(n)});break;default:n=[["glf",this.params.filterId,"-1"],!1,"radio"],this._emitFilterReset(n)}BEM.channel("market:filter").trigger("change",n),e.stopPropagation()},_emitFilterReset:function(t){BEM.channel("market:filter").trigger("change",t)},_getVisibilityByFilterType:function(t){var e=t[2],n=!1;switch(e){case"number":n=""!==t[1];break;case"checkbox":n=t[1];break;case"radio":n="-1"!==t[0][2]}return n?"yes":"no"}},{live:function(){return this.liveBindTo("pointerclick",this.prototype._resetFilter),!1}})}(),function(){var t=require("templater"),e=require("lodash"),n=require("metrika"),r=n.marketCounterID;BEM.DOM.decl({block:"n-filter-block__list",modName:"type",modVal:"more"},{onSetMod:{js:{inited:function(){this._filterBlock=this.findBlockOutside("n-filter-block"),this._button=this._filterBlock.findBlockInside("button"),this._button&&this.bindTo(this._button.domElem,"pointerclick",this._getItems),this.params.updateOnFilterChange&&(this._activeVendors=this.params.activeVendors?this.params.activeVendors.split(","):[],this.hideInactiveSeries(),BEM.channel("market:filter").on("dataLoaded",$.proxy(this._onFiltersChanged,this)),BEM.channel("market:filter").on("change",$.proxy(this._onFilterChange,this)))}}},_getItems:function(){var t="all"===this._button.params.type?"FLTR_MORE_VLS":"FLTR_LESS_VLS";n.reachGoal(t,r,{filterId:this._filterBlock.params.filterId,categoryId:this.params.hid});var i=BEM.blocks.uri.parse(this.params.moreGateUrl),s=BEM.blocks.uri.parse(document.location.href);i.queryParams=e.assignIn(i.queryParams,s.queryParams),i.addParam("showFilters",this._button.params.type),$.ajax({url:i,success:this._onSuccessRequest,context:this})},_updateContent:function(t){BEM.DOM.replace(this.domElem,t)},_onSuccessRequest:function(e){if(e.status){var n="n-filter-block__body_list_more",r=e.data;r&&r.values&&"all"===this._button.params.type&&(n+="_suggest"),this._updateContent(t.render({data:r,mode:n,args:{moreGateUrl:this.params.moreGateUrl,filtersData:r,hid:this.params.hid,isNewDesignEnabled:this.params.isNewDesignEnabled}}))}},_onFiltersChanged:function(t,n){if(n&&n.filters){var r=JSON.parse(n.filters),i=r[7893318],s=e.filter(i,{1:"yes"});if(s.length){s=e.map(s,"[0][2]");var a=this._activeVendors.sort().toString()!==s.sort().toString();this._activeVendors=s,this.hideInactiveSeries(a)}else this._showAllSeries()}},_onFilterChange:function(t,e){var r="12782797";e&&e[0][1]===r&&e[1]&&n.reachGoal("catalog_filters_vendor_lineup_used",n.marketCounterID)},hideInactiveSeries:function(t){if(!this._activeVendors.length)return void this._showAllSeries();var e=this,r=0;$("[data-vendor-id].first").removeClass("first"),$("[data-vendor-id]").each(function(t,n){var i=$(n).data("vendor-id").toString();e._activeVendors.indexOf(i)===-1?($(n).bem("n-filter-block__item").setMod("hidden","yes"),r++):($(n).bem("n-filter-block__item").delMod("hidden"),$(n).removeClass("first"))}),r===$("[data-vendor-id]").length?(this._showNotFound(),t&&n.reachGoal("catalog_filters_vendor_lineup_unavailable",n.marketCounterID)):(this._hideNotFound(),this._filterBlock.hasMod("closed","yes")&&this._filterBlock._toggleOpenState(),$("[data-vendor-id]:visible").eq(0).addClass("first"),r>0&&t&&n.reachGoal("catalog_filters_vendor_lineup_available",n.marketCounterID))},_showAllSeries:function(){var t=this;$("[data-vendor-id].first").removeClass("first"),$("[data-vendor-id]").each(function(e,n){$(n).bem("n-filter-block__item").delMod("hidden"),t._hideNotFound()})},_showNotFound:function(){$(this.domElem).find(".n-filter-block__list_not-found").removeClass("g-hidden")},_hideNotFound:function(){$(this.domElem).find(".n-filter-block__list_not-found").addClass("g-hidden")}})}(),function(){var t=require("lodash"),e=require("metrika");BEM.channel("market:filter").on("filter-used",function(n,r){r=r||{};var i=t.get(r,"info.type");"sort"!==i&&"view"!==i&&e.emitGoalPoint({filterUsed:r}),e.emitGoalPoint({filterChanged:r})})}(),BEM.DOM.decl("filter-panel-popup",{onSetMod:{js:{inited:function(){var t=this.findBlockInside("button"),e=this.findBlockInside("popup");t.bindTo("pointerclick",function(){e.toggle(t),t.toggleMod("opened","yes")})}}}}),function(){BEM.DOM.decl("n-filter-panel-dropdown",{onSetMod:{js:{inited:function(){this.params.gateUrl&&(this._data=BEM.blocks["i-filters"].getInstance(this.params.gateUrl,this.params.additionalQueryParams))}}}})}(),BEM.DOM.decl({block:"check-button",baseBlock:"checkbox"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},checked:function(t,e){return this.__base.apply(this,arguments)!==!1&&void this.elem("control").attr("aria-pressed",Boolean(e))}}}),function(){var t="view-switcher",e=BEM.channel(t);BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){var t=this,n=this.findBlockInside("radio-button");n.on("change",function(n,r){var i=this.val();"grid"===i?(e.trigger("switch_grid",{place:t.params.place}),t.trigger("change",{viewType:"grid"}),t._rewriteQueryParam(i)):(e.trigger("switch_snip",{place:t.params.place}),t.trigger("change",{viewType:"list"}),t._rewriteQueryParam(i))})}}},_rewriteQueryParam:function(t){if(BEM.blocks.history.hasNativeAPI())BEM.channel("market:filter").trigger("change",[["view","viewtype",t],!0,"radio"]);else{var e=BEM.blocks.uri.parse(document.location.href);e.replaceParam("viewtype",t),document.location=decodeURIComponent(e.toString())}}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("view-switcher"),r={switch_grid:{offers:"GRID_OFFERS",search:"GRID_SEARCH"},switch_snip:{offers:"SNIP_OFEERS",search:"SNIP_SEARCH"}};for(var i in r)!function(i){n.on(i,function(n,s){var a=r[i][s.place];a&&t.reachGoal(a,e)})}(i)}(),BEM.DOM.decl("filter-sorter",{onSetMod:{js:{inited:function(){var t=this;this._values=this.params.values,this._currentSortValue=this.params.currentSort,this._currentSortIndex=this._values.indexOf(this._currentSortValue);var e=this.findBlockInside("link");this.bindTo(e.domElem,"click",function(){this._switchValue()}),BEM.channel("market:filter").on("change",function(e,n){"sort"==n[0][0]&&t._values.indexOf(n[0][2])==-1&&(t.setMod(t.params.name,"unselect"),t.delMod("state"),t._currentSortIndex=-1)})}}},getDefaultParams:function(){return $.extend(this.__base(),{values:[]})},_switchValue:function(){var t=(this._currentSortIndex+1)%this._values.length;if(t!=this._currentSortIndex){if(this._currentSortIndex=(this._currentSortIndex+1)%this._values.length,this._currentSortValue=this._values[this._currentSortIndex],this.setMod(this.params.name,this._currentSortValue),this.setMod("state","select"),BEM.blocks.history.hasNativeAPI())BEM.channel("market:filter").trigger("change",[["sort","how",this._currentSortValue],!0,"radio"]);else{var e=BEM.blocks.uri.parse(document.location.href);e.replaceParam("how",this._currentSortValue),document.location=e.toString()}"aprice"!=this._currentSortValue&&"dprice"!=this._currentSortValue||BEM.channel("filter-sorter").trigger("SORTED",{position:this.params.place})}}}),function(){var t=require("metrika"),e=t.marketCounterID,n={SORTED:{search:"SEARCH_SORTED",offers:"OFFERS_SORTED"}},r=BEM.channel("filter-sorter");for(var i in n)!function(i){r.on(i,function(r,s){var a=s.position,o=n[i][a];o&&t.reachGoal(o,e)})}(i)}(),BEM.DOM.decl({block:"filter-sorter",modName:"discount"},{onSetMod:{js:{inited:function(){this.__base(),BEM.channel("market:filter").on("dataLoaded",function(t,e){this.toggleMod("visible","yes","no",Boolean(e["has-discount-global"]))},this)}}}}),BEM.DOM.decl({name:"n-filter-block__tabs-item"},{onSetMod:{js:function(){this.tabsBlock=this.findBlockOutside("n-filter-block__tabs"),this.target=this.findBlockOutside("b-page").findBlockInside(this.params.target),this.bindTo("click",this._onClick)}},_onClick:function(){this.tabsBlock.changeActiveTab(this)}}),BEM.DOM.decl({name:"n-filter-block__tabs-content"},{onSetMod:{js:function(){}}}),BEM.DOM.decl("n-filter-sorter",{onSetMod:{js:{inited:function(){var t=this;if(this._history=BEM.blocks.history.getInstance(),this.params.options instanceof Array?this._options=this.params.options:this.params.options instanceof Object?this._options=[this.params.options]:this._options=[""],this._currentSortIndex=-1,this.params.isActive)if(""!==this._options[0]){for(var e=0;e<this._options.length;e++)if(this._options[e].isActive){this._currentSortIndex=e,this._currentSortId=this._options[e].id,this._currentSortType=this._options[e].type;break}}else this._currentSortIndex=0;var n=this.findBlockInside("link");this.bindTo(n.domElem,"click",function(){this._switchValue()}),BEM.channel("market:filter").on("change",function(e,n){"sort"==n[0][0]&&n[0][2]!=t._currentSortId&&(t.delMod("sort"),t.delMod("state"),t._currentSortIndex=-1,t._currentSortId=null,t._currentSortType=null)})}}},getDefaultParams:function(){return $.extend(this.__base(),{options:[]})},_switchValue:function(){var t=(this._currentSortIndex+1)%this._options.length;if(t!=this._currentSortIndex){if(this._currentSortIndex=t,""!==this._options[t]){if(this._currentSortId=this._options[t]&&this._options[t].id,this._currentSortType=this._options[t]&&this._options[t].type,this._currentSortType&&this.setMod("sort",this._currentSortType),BEM.blocks.history.hasNativeAPI())BEM.channel("market:filter").trigger("change",[["sort","how",this._currentSortId],!0,"radio"]);else{var e=BEM.blocks.uri.parse(document.location.href);e.replaceParam("how",this._currentSortId),document.location=e.toString()}"aprice"!=this._currentSortId&&"dprice"!=this._currentSortId||BEM.channel("filter-sorter").trigger("SORTED",{position:this.params.place})}else{var e=BEM.blocks.uri.parse(document.location.href);e.deleteParam("how"),BEM.blocks.history.hasNativeAPI()?(BEM.channel("market:filter").trigger("change",[["sort","how",""],!0,"radio"]),this._history.replaceState({changedBy:"sorter",action:"replace"},this._history.state.title,e.toString())):document.location=e.toString()}this.setMod("state","select")}}}),BEM.DOM.decl({block:"n-filter-sorter",modName:"discount"},{onSetMod:{js:{inited:function(){this.__base(),BEM.channel("market:filter").on("dataLoaded",function(t,e){this.toggleMod("visible","yes","no",Boolean(e.hasDiscountGlobal))},this)}}}}),BEM.DOM.decl("n-filter-picker",{onSetMod:{js:{inited:function(){this._currentTitle=this.params.name,this._currentId=this.params.id,this._hoveredFilterId="",this._timerId=null,this._linkedFilterBlock=this.findBlockOn("n-filter-block"),this._linkedFilterBlock&&this._linkedFilterBlock.on("filter-change",$.proxy(this._onFiltersChanged,this))}}},_onFiltersChanged:function(t,e){e.isAdd&&this.trigger("pickerTitleChanged",{name:e.name,id:e.id})},_onPickerHover:function(t){this._timerId&&(clearTimeout(this._timerId),this._timerId=null);var e=t.currentTarget.getAttribute("data-id"),n=null===this._hoveredFilterId&&this._currentId===e;n||this._hoveredFilterId===e||this.trigger("pickerTitleChanged",{name:t.currentTarget.getAttribute("data-name"),id:e})},_onPickerOut:function(){var t=this;this._timerId=setTimeout(function(){t._hoveredFilterId="",t.trigger("pickerTitleChanged",{name:t._currentTitle,id:t._currentId})},200)}}),function(t,e){var n="n-filter-panel-inline";t.DOM.decl({block:n},{onSetMod:{js:{inited:function(){this._popup=null,this._control=this.findBlockOn(this.elem("control"),"button"),this._isControlInFocus=!1,this._isPopupInFocus=!1,this._linkedFilterBlock=this.findBlockInside("n-filter-block"),this._linkedFilterBlock&&(this._tabs=this._linkedFilterBlock.findBlockInside("tabs"),this._tabs&&(this._tabsPanes=this._tabs.findBlockInside("tabs-panes"),this._tabsMenu=this._tabs.findBlockInside("tabs-menu")),this._linkedFilterBlock.on("filter-change",e.proxy(this._onFilterBlockChanged,this))),this._currentValue=this.elem("current-value").text()}}},_onFilterBlockChanged:function(t,e){this._prepareUnitFilters(),this._updateCurrentValue(e)},_toggleContent:function(){null===this._popup&&(this._popup=this._createPopup()),this._popup.toggle(this)},_createPopup:function(){var e,r=this.elem("content"),i=this.findBlockInside("icon");return t.DOM.append(this.domElem,BEMHTML.apply({block:"popup",mods:{animate:"yes"},mix:{block:n,elem:"popup"},js:{directions:[{to:"bottom",axis:"left",offset:{bottom:-8}}]},content:[{elem:"content"}]})),e=this.findBlockInside("popup"),e.setContent(r),i&&e.on("show",function(){i.setMod("direction","top")}).on("hide",function(){i.setMod("direction","bottom")}),e},_updateCurrentValue:function(t){var n=[];switch(t.type){case"enum":var r=", ";if(this._currentValue!=this.params.placeholder&&(n=this._currentValue.split(r)),t.isAdd)n.push(t.name);else{var i=e.inArray(t.name,n);i!=-1&&n.splice(i,1)}n.length>1?this._currentValue=n.join(r):1==n.length?this._currentValue=n[0]:this._currentValue=this.params.placeholder;break;case"number":var s=this._currentValue.indexOf("до"),a=s>-1?this._currentValue.substring(s).trim():"",o=this._currentValue.indexOf("от"),c=a?s-1:void 0,l=o>-1?this._currentValue.substring(o,c).trim():"";"from"==t.direction&&(l=t.name?"от "+t.name:""),"to"==t.direction&&(a=t.name?"до "+t.name:""),l?this._currentValue=a?l+" "+a:l:this._currentValue=a?a:this.params.placeholder}this.elem("current-value").text(this._currentValue)},_prepareUnitFilters:function(){var t=this;this._tabsPanes&&this._tabsPanes.elem("pane").each(function(){t._tabsPanes.hasMod(e(this),"active","yes")?t.elem("title-unit").text(" ("+t._tabsMenu.getActive().text()+")"):t.findBlocksInside(e(this),{blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")})})}},{live:function(){return this.__base(),this.liveBindTo("pointerclick",function(t){this._toggleContent()}),!1}})}(BEM,jQuery),function(t,e){function n(t){var n=e(t),r=n.data("id"),s=e(p+"[data-id="+r+"]"),a=s.children(h);s.css({height:o,top:-n.position().top}),a.css({top:i(n,r,a)}),n.addClass(f)}function r(t){var n=e(t);n.removeClass(f)}function i(t,e,n){return _.hasOwnProperty(e)||(_[e]=s(t,n)),_[e]}function s(t,e){var n,r=e.outerHeight(),i=t.position().top,s=t.outerHeight(),a=t.position().top+r;return n=o-a<0?i+s-r:i+s/2-r/2,n<0&&(n=0),n}var a,o,c=require("lodash"),l=require("templater"),u="n-filter-panel-inline-3000",d=".n-filter-panel-inline-3000__filter",p=".n-filter-panel-inline-3000__filter-value-wrap",h=".n-filter-panel-inline-3000__filter-value",f="n-filter-panel-inline-3000__filter_hovered_yes",_={};t.DOM.decl({block:u},{onSetMod:{
js:{inited:function(){var t=this;this._popup=null,this._filterState=this.params.filters,this._control=this.findBlockOn(this.findElem("control"),"button2"),a=this.elem("content"),a&&(a.menuAim({activate:n,deactivate:r,rowSelector:d,tolerance:250}),o=a.height()),this._linkedFilterBlocks=this.findBlocksInside("n-filter-block"),this._linkedFilterBlocks&&this._linkedFilterBlocks.forEach(function(e){e.on("filter-change",function(e,n){t._onFiltersBlockChanged(e,n)})})}}},_onFiltersBlockChanged:function(t,e){this._updateFiltersState(t,e),this._updateView(t,e)},_toggleContent:function(){null===this._popup&&(this._popup=this._createPopup()),this._popup.toggle(this)},_createPopup:function(){var e,n=this.elem("content"),r=this.findBlockInside("icon");return t.DOM.append(this.domElem,BEMHTML.apply({block:"popup",mods:{animate:"yes"},mix:{block:u,elem:"popup"},js:{directions:[{to:"bottom",axis:"left",offset:{bottom:-8}}]},content:[{elem:"content"}]})),e=this.findBlockInside("popup"),e.setContent(n),r&&e.on("show",function(){r.setMod("direction","top")}).on("hide",function(){r.setMod("direction","bottom")}),e},_prepareUnitFilters:function(){var t=this;this._tabsPanes&&this._tabsPanes.elem("pane").each(function(){t._tabsPanes.hasMod(e(this),"active","yes")?t.elem("filter-name-unit").text(" ("+t._tabsMenu.getActive().text()+")"):t.findBlocksInside(e(this),{blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")})})},_updateView:function(n,r){t.DOM.update(this.elem("title"),l.render({data:{filters:this._filterState},mode:"n-filter-panel-inline-3000__title"})),t.DOM.update(this.elem("current-value"),l.render({data:{filters:this._filterState},mode:"n-filter-panel-inline-3000__current-value"})),e("."+u+"__"+n.target.params.filterId).html(l.render({data:this._getFilterByEvent(n),mode:"n-filter-panel-inline-3000__filter-name"}))},_getFilterByEvent:function(t){var e=t.target.params.filterId;return c.find(this._filterState,{id:e})},_getCurrentUnit:function(t){return t.userUnits?t.userUnits:t.defaultUnit},_updateFiltersState:function(t,n){var r,i=this._getFilterByEvent(t);switch(i.type){case"enum":if(i.hasOwnProperty("units")){var s=this._getCurrentUnit(i),a=c.find(i.units,{unitId:s}),o=e(".tabs-panes_id_"+i.id).bem("tabs-panes"),l=o.findPane("active","yes").data("unitid"),u=o.findPane("unit-id",a.unitId).data("unitid");n.isAdd?(l!==a.unitId&&(c.forEach(a.values,function(t){delete t.checked}),this.findBlocksInside(u,{blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")}),i.userUnits=l,a=c.find(i.units,{unitId:l})),r=c.find(a.values,{value:n.name}),r.checked="true"):(r=c.find(a.values,{value:n.name}),r&&r.checked&&delete r.checked)}else r=c.find(i.values,{value:n.name}),r?n.isAdd?r.checked="true":delete r.checked:this._updateBooleanFilterState(n,i);break;case"number":var d=c.find(i.values,{id:"found"});if(r=c.find(i.values,{id:"chosen"})||{id:"chosen"},"set"==i.extraType){n.isAdd&&("-1"!=n.id?(r.min=n.name,r.max=n.name):(delete r.min,delete r.max,delete r.checked),i.values=[d,r]);break}"from"===n.direction?""!==n.name?r.min=n.name:delete r.min:""!==n.name?r.max=n.name:delete r.max,r.min||r.max||delete r.checked,i.values=[d,r];break;case"boolean":this._updateBooleanFilterState(n,i)}},_updateBooleanFilterState:function(t,e){var n;switch(t.name){case"Да":n=c.find(e.values,function(t){if("select"===t.value||"1"===t.value)return t});break;case"Нет":n=c.find(e.values,function(t){if("exclude"===t.value||"0"===t.value)return t});break;case"Неважно":break;default:n=c.find(e.values,{value:"1"})}t.isAdd?n?n.checked=!0:c.forEach(e.values,function(t){delete t.checked}):n&&delete n.checked}},{live:function(){return this.__base(),this.liveBindTo("pointerclick",function(t){this._toggleContent()}),!1}})}(BEM,jQuery),function(t,e){var n=require("lodash"),r=require("templater"),i="n-filter-picker-toolbar";t.DOM.decl({block:i},{onSetMod:{js:{inited:function(){var t=this;this._popup=null,this._filterState=this.params.filters,this._control=this.findBlockOn(this.findElem("control"),"button2"),this._linkedFilterBlocks=this.findBlocksInside("n-filter-block"),this._linkedFilterBlocks&&this._linkedFilterBlocks.forEach(function(e){e.on("filter-change",function(e,n){t._onFiltersBlockChanged(e,n)})})}}},_onFiltersBlockChanged:function(t,e){this._updateFiltersState(t,e),this._updateView(t,e)},_toggleContent:function(){null===this._popup&&(this._popup=this._createPopup()),this._popup.domElem.width(this.domElem.width()-2),this._popup.toggle(this)},_createPopup:function(){var e,n=this.elem("content"),r=this.findBlockInside("icon");return t.DOM.append(this.domElem,BEMHTML.apply({block:"popup",mods:{animate:"yes"},mix:{block:i,elem:"popup"},js:{directions:[{to:"bottom",axis:"left",offset:{bottom:-8}}]},content:[{elem:"content"}]})),e=this.findBlockInside("popup"),e.setContent(n),r&&e.on("show",function(){r.setMod("direction","top")}).on("hide",function(){r.setMod("direction","bottom")}),e},_prepareUnitFilters:function(){var t=this;this._tabsPanes&&this._tabsPanes.elem("pane").each(function(){t._tabsPanes.hasMod(e(this),"active","yes")?t.elem("filter-name-unit").text(" ("+t._tabsMenu.getActive().text()+")"):t.findBlocksInside(e(this),{blockName:"checkbox",modName:"checked",modVal:"yes"}).forEach(function(t){t.delMod("checked")})})},_updateView:function(n,s){t.DOM.update(this.elem("title"),r.render({data:{filters:this._filterState},mode:"n-filter-picker-toolbar__title"})),t.DOM.update(this.elem("current-value"),r.render({data:{filters:this._filterState},mode:"n-filter-picker-toolbar__current-value"})),e("."+i+"__"+n.target.params.filterId).html(r.render({data:this._getFilterByEvent(n),mode:"n-filter-picker-toolbar__filter-name"}))},_getFilterByEvent:function(t){var e=t.target.params.filterId;return n.find(this._filterState,{id:e})},_getCurrentUnit:function(t){return t.userUnits?t.userUnits:t.defaultUnit},_updateFiltersState:function(t,e){var r=this._getFilterByEvent(t);e.isAdd&&n.forEach(r.values,function(t){t.value===e.name?t.checked=!0:t.checked&&delete t.checked})}},{live:function(){return this.__base(),this.liveBindTo("pointerclick",function(t){this._toggleContent()}),!1}})}(BEM,jQuery),BEM.DOM.decl("n-filter-picker-inline",{onSetMod:{js:{inited:function(){this._totalCount=this.params.total;var t=this.findBlockInside("n-filter-picker");this._moreButton=this.findBlockInside("n-filter-picker-inline__more-button"),t&&(this._itemWidth=t.elem("item").outerWidth(!0),t.on("pickerTitleChanged",function(t,e){this.elem("title-value").text(e.name)},this)),this.bindToWin("resize",$.throttle(this._onResizeWindow,500,this)),this._onResizeWindow()}}},_showCollapsedValues:function(){this.setMod("collapsed","no"),this._moreButton.delMod("visible")},_onResizeWindow:function(){if(!this.hasMod("collapsed","no")&&this._itemWidth&&this._moreButton){var t=Math.floor(this.domElem.width()/this._itemWidth);if(t<this._totalCount){var e=this._itemWidth*(t-1),n=this._totalCount-t+1;this._moreButton.domElem.css({left:e}).text("+ "+n),this._moreButton.setMod("visible","yes")}else this._moreButton.delMod("visible")}}},{live:function(){return this.liveBindTo("more-button","pointerclick",function(){this._showCollapsedValues()}),!1}}),function(t){var e=require("metrika");BEM.DOM.decl("n-product-tabs",{onSetMod:{js:{inited:function(){this._wrapper=this.findBlockOutside("n-product-sticker"),this._initMetrika()}}},_getCurrentTabsState:function(){return"top"===this._wrapper.getMod("fixed")?"fixed":"normal"},_initMetrika:function(){this.bindTo("item","pointerclick",function(t){e.emitGoalPoint({productTabs:{tabName:this.getMod(t.data.domElem,"name"),event:"click",state:this._getCurrentTabsState()}})}),this.findElem("item").each(t.proxy(function(t,n){e.emitGoalPoint({productTabs:{tabName:this.getMod(n,"name"),event:"init",state:this._getCurrentTabsState()}})},this))}},{live:function(){return this.liveBindTo({elem:"item",modName:"state",modVal:"selected"},"pointerclick",function(e){e.preventDefault(),t("body,html").animate({scrollTop:0},300)}),!1}})}(jQuery),function(t){"use strict";t.DOM.decl({block:"n-product-human-description",baseBlock:"i-ajax-updater"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=!this._getValidDescription(this.params.defaultOffer);this.setMod("default",t)}}},_setPreloader:function(){this._preloader=this.findBlockInside("preloadable")},_onDataLoaded:function(t,e){var n=this._getValidDescription(e.defaultOffer);n?("text-bullets"===this.params.flag?this._updateView(n.short):this._updateView(n.long),this.setMod("default",!1)):this.setMod("default",!0),this._hidePreloader()},_updateView:function(e){t.DOM.update(this.elem("text"),e)},_getValidDescription:function(t){return t&&t.validDescription?t.validDescription:null}})}(BEM),function(){var t=require("metrika");BEM.DOM.decl("n-expandable-description",{onSetMod:{js:{inited:function(){var e,n=this.params.descriptionLength;n>2e3?e="longShow":n<=2e3&&n>512?e="mediumShow":n>0&&(e="shortShow"),t.emitGoalPoint({offerFullDescription:{action:e}}),this.bindTo("show-more","pointerclick",function(){this.setMod("show-more-hide","yes"),t.emitGoalPoint({offerFullDescription:{action:"showMoreClick"}})}),this.bindTo("show-less","pointerclick",function(){this.delMod("show-more-hide")})}}}})}(),function(t,e){t.DOM.decl({name:"n-product-summary",modName:"branded",modVal:!0},{onSetMod:{js:{inited:function(){var t=this;this.__base.apply(this,arguments),this._gallery=this.findBlockInside("n-gallery"),this._gallery.on("changed",function(e,n){n.item.index>2?t.setMod("hide-bg",!0):t.delMod("hide-bg")})}}}})}(BEM,jQuery),function(t,e){var n=require("templater");t.DOM.decl({block:"n-product-headline",baseBlock:"i-ajax-updater"},{onSetMod:{js:{inited:function(){this.__base()}}},_setPreloader:function(){this._preloader=this.findBlockInside("preloadable")},_onDataLoaded:function(t,e){if(e.defaultOffer){var n=this._render(e);this._updateView(n),this.elem("default-offer").show(0)}else this.elem("default-offer").hide(0);this._hidePreloader()},_render:function(t){return n.render({data:t.defaultOffer,mode:"n-product-default-offer_viewType_mini",args:[{filters:t.productFilters.filters}]})},_updateView:function(e){t.DOM.update(this.elem("default-offer"),e)}})}(BEM,jQuery),function(t,e){var n=require("templater");t.DOM.decl({block:"n-product-headline-cpa2",baseBlock:"i-ajax-updater"},{onSetMod:{js:{inited:function(){this.__base(),this.elemOffset=this.domElem.offset().top,this.win=e(t.DOM.win[0]),this._onViewportChange=e.throttle(this._onViewportChange,100,this),this.bindToWin("resize",this._onViewportChange,this),this.bindToWin("scroll",this._onViewportChange,this),this._onViewportChange()}}},_onViewportChange:function(){var t=this.win.scrollTop();this.elemOffset<=t?this.setMod("fixed","yes"):this.delMod("fixed")},_setPreloader:function(){this._preloader=this.findBlockInside("preloadable")},_onDataLoaded:function(t,e){if(e.defaultOffer){var n=this._render(e);this._updateView(n),this.elem("default-offer").show(0)}else this.elem("default-offer").hide(0);this._hidePreloader()},_render:function(t){return n.render({data:t.defaultOffer,mode:"n-product-default-offer_viewType_mini",args:[{filters:t.productFilters.filters}]})},_updateView:function(e){t.DOM.update(this.elem("default-offer"),e)},destruct:function(){this.unbindFromWin("resize",this._onViewportChange),this.unbindFromWin("scroll",this._onViewportChange)}})}(BEM,jQuery),function(t,e){var n=require("templater");t.DOM.decl({block:"n-product-top-offers-list",baseBlock:"i-ajax-updater"},{onSetMod:{js:{inited:function(){this.__base()}}},_onDataLoaded:function(t,e){var n=e.topOffers?this._render(e):"";this._updateView(n),this._hidePreloader()},_render:function(t){return n.render({data:t.topOffers.search,mode:"n-product-top-offers-list__body",args:[{filters:t.productFilters.filters,isFullMode:this.params.isFullMode,userRegionId:t.userRegionId}]})}})}(BEM,jQuery),function(){var t=require("metrika");BEM.DOM.decl({name:"n-product-top-offer"},{onSetMod:{js:{inited:function(){this._initMetrika()}}},_initMetrika:function(){var e="topOffer",n=this.findBlockInside({blockName:"button2",modName:"to",modVal:"shop"});n&&n.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toShopButton",entityType:e}})});var r=this.findBlockInside("n-i-offer-details-button.n-offer-action__details");r&&r.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"detailsButton",entityType:e}})});var i=this.findElem("shop-name");i&&i.on("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"shopName",entityType:e}})});var s=this.findBlockInside("n-delivery");s&&s.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"delivery",entityType:e}})});var a=this.findBlockInside("n-phone");a&&a.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"phone",entityType:e}})});var o=this.findBlockInside("product-spec_type_color");o&&o.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"color",entityType:e}})})}})}(),function(){var t=require("metrika");BEM.DOM.decl("product-top-offer",{onSetMod:{js:{inited:function(){this._initMetrika()}}},_initMetrika:function(){var e="topOffer",n=this.findBlockInside({blockName:"product-top-offer__item",modName:"type",modVal:"shop"}),r=n&&this.findBlockInside(n.domElem,"link");r&&r.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"shopName",entityType:e}})});var i=this.findBlockInside({blockName:"button",modName:"to",modVal:"cart"});i&&i.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toCartButton",entityType:e}})});var s=this.findBlockInside({blockName:"button",modName:"to",modVal:"shop"});s&&s.bindTo("pointerclick",function(){t.emitGoalPoint({productOfferClick:{element:"toShopButton",entityType:e}})})},_onRowHover:function(t){var e=t.data.domElem,n=this.findBlockInside(e,"offer");if(n){var r,i=n.findBlockOn("button","button"),s=i&&"cart"===i.getMod("to");s&&(r=n.hasMod("state","in-cart"),r||i.setMod("theme","action"))}}},{live:function(){this.liveBindTo("pointerover pointerout",function(t){this._onRowHover(t)})}})}(),BEM.DOM.decl("product-top-offer-spec",{_showFullSpecs:function(){this.hasOwnProperty("_fullSpecPopup")||this._buildPopup(),this._fullSpecPopup.show(this)},_buildPopup:function(){var t=BEMHTML.apply({block:"popup",mix:{block:this.__self.getName(),elem:"full-spec"},mods:{adaptive:"yes"},js:{directions:{to:"bottom",offset:{top:-90,left:350},axis:"top"}},content:[{elem:"content"}]});BEM.DOM.append(this.domElem,t),this._fullSpecPopup=this.findBlockOn(this.findElem("full-spec"),"popup"),this._fullSpecPopup.setContent(this.findElem("full").removeClass("g-hidden"))}},{live:function(){this.liveBindTo("pointerclick",function(){this._showFullSpecs()})}}),function(){var t=require("lodash"),e="product-accessories",n=BEM.channel(e);BEM.DOM.decl(e,{onSetMod:{js:{inited:function(){this._bindToEvents()}}},_bindToEvents:function(){var e=this.findBlockInside("pager-arrows"),r=this.findBlocksInside({block:"button",modName:"for",modVal:"price"});e.bindTo("pointerclick",function(){n.trigger("pager_click")}),t.forEach(r,function(t){t.bindTo("pointerclick",function(){n.trigger("price_click")})})}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("product-accessories"),r={pager_click:"ACCSS_SCRL",price_click:"POP_UP_ACCSS"};for(var i in r)!function(i){n.on(i,function(){var n=r[i];t.reachGoal(n,e)})}(i)}(),function(){var t=require("metrika"),e=t.marketCounterID,n={PAGER_CLICK:"ALTS_SCRL"};for(var r in n)!function(r){$(document).on(r,function(i,s){var a=s&&s.position,o=n[r][a]?n[r][a]:n[r];t.reachGoal(o,e)})}(r)}(),function(){BEM.DOM.decl("product-alternatives",{onSetMod:{js:{inited:function(){var t=this.findBlockInside("pager-arrows");t.domElem.on("click",function(){$(document).trigger("PAGER_CLICK")})}}}})}(),function(){"use strict";BEM.DOM.decl("n-reviews-toolbar",{onSetMod:{js:{inited:function(){this._attachEvents()}}},_attachEvents:function(){var t=this.findElem("filter","type","photo"),e=this.findElem("filter","type","cpa");0!==t.length&&this.findBlockInside(t,"checkbox").on("change",this._onFilterChanged),0!==e.length&&this.findBlockInside(e,"checkbox").on("change",this._onFilterChanged)},_onFilterChanged:function(t,e){var n=this.domElem.data("filter"),r=BEM.blocks.uri.parse(document.location.href).replaceParam(n,Number(e.checked)).toString(),i=100;setTimeout(function(){document.location=r},i)}})}(),BEM.DOM.decl("review-toolbar",{onSetMod:{js:{inited:function(){var t=this.findBlockInside("select");t&&(t._setButtonText("Показывать: "+t._getSelectedText()),t.on("focus",function(){var e=t._popup.findBlocksInside("select__item");e.length>0&&e[e.length-1].domElem.toggle("default"!==t.val())}),t.on("change",function(e){var n=t.elem("option");t._setButtonText("Показывать: "+t._getSelectedText()),document.location=n[t._selectedIndex()].getAttribute("data-link")}))}}}}),BEM.DOM.decl("product-review-user",{},{live:function(){var t="socnet";this.liveBindTo(t,"pointerclick",function(e){var n=this;BEM.channel("market-metrika").trigger("emit",{reviewAuthorSocialClick:n.elem(t).data("social-provider-code")})})}}),BEM.DOM.decl("product-review-delete",{onSetMod:{js:{inited:function(){var t=this.findElem("form").bem("product-review-delete__form"),e=this.findBlockInside("owner"),n=this.findBlockInside("popup"),r=this.findBlockInside("button-no");e.bindTo("pointerclick",function(){n.toggle(e)}),t.bindTo("submit",function(t){t.preventDefault(),n.hide();var e=this.domElem.attr("action"),r=this.domElem.serialize(),i=this.domElem;$.post(e,r,function(t){1==t.status||"ok"==t.status?($('.product-review-item[data-review-id="'+i.data("review-id")+'"]').remove(),"localStorage"in window&&localStorage.removeItem("wizard-data-"+i.data("uid")+"-"+i.data("storage-id")),0===$(".js-review").length&&$(".js-static-text").removeClass("g-hidden")):alert("Ошибка. Попробуйте позднее.")})}),r.bindTo("pointerclick",function(){n.hide()})}}}}),$(function(){$(".js-reviews").on("click",".js-reply-form-show",function(){var t=$(this),e=$("#"+t.data("comment-id"));1!==t.data("has-form")&&(e.append($("#reply-form").html()),e.find('input[name="grade_id"]').val(t.data("root-id")),e.find('input[name="parent_id"]').val(t.data("comment-id")),t.data("has-form",1))}).on("click",".js-reply-form-remove",function(t){t.preventDefault();var e=null;""==$(".js-reply-form-text").val()?(e=$(this).parents(".js-reply-form"),e.prevAll(".js-reply-form-show").data("has-form",0),e.remove()):confirm("Несохраненный отзыв будет удален")&&(e=$(this).parents(".js-reply-form"),e.prevAll(".js-reply-form-show").data("has-form",0),e.remove())}).on("submit",".js-reply-form-submit",function(t){if(""==$(".js-reply-form-text").val())return alert("Напишите пожалуйста комментарий"),!1;t.preventDefault();var e=$(this).closest(".js-reply-form-submit"),n=e.find(".review-form-answer__buttons"),r=e.find(".spin"),i=e.find('input[name="grade_id"]').val();n.hide(),r.bem("spin").setMod("progress","yes"),$request=$.ajax({url:e.attr("action"),data:e.serialize(),type:"POST",dataType:"json"}).done(function(t){if(t&&t.success){var e=$("#"+t.parent),s=$("<div/>").html('<div class="product-review-item__answer__text">'+t.comment+"</div>").addClass("product-review-item__answer").attr("data-level",e.data("level")).prepend('<div class="product-review-item__answer__title">Мой ответ</div>');s.find(".js-delete-form-show").data("root-id",i),e.find(".js-reply-form").remove(),e.find(".js-reply-form-show").data("has-form",0),$("#"+t.parent).after(s)}else alert("Сохранить комментарий не удалось, попробуйте еще раз"),r.bem("spin").delMod("progress"),n.show()})}).on("click",".js-delete-form-show",function(t){if(confirm("Вы действительно хотите удалить комментарий?")){var e=$(this),n=($("#"+e.data("comment-id")),{root_id:e.data("root-id"),comment_id:e.data("comment-id"),action:"delete"});e.hide(),$request=$.ajax({url:e.data("url"),data:n,type:"POST",dataType:"json"}).done(function(t){t&&t.success?$("#"+t.id).remove():(alert("Удалить комментарий не удалось, попробуйте еще раз"),e.show())})}}).on("click",".js-review__change",function(){if($(this).data("hasanswer")>0)return!!confirm("Внимание! После изменения отзыва комментарии к нему будут удалены")}).on("click",".js-review .js-review-answer-expand",function(){var t=$(this).parents(".js-review");t.toggleClass("product-review-item_collapsed_yes"),$(this).children(".link__inner").toggleClass("g-hidden")})}),$(function(){$(".js-problem-resolved").click(function(){if(!confirm("Отзыв получит отметку «Проблема решена»\nи перестанет учитываться в рейтинге магазина"))return!1;var t=$(this);$.getJSON(t.data("url"),function(e){if("ok"===e.status||e.status===!0){var n=t.closest(".product-review-item");n.addClass("product-review-item_state_resolved"),n.children(".product-review-user").after('<div class="product-review-item__resolved"><img alt="" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"class="image image_name_voting-plus-green">Проблема решена</div>'),n.find(".js-problem-resolved").remove()}else alert("Ошибка. Попробуйте позднее.")})})}),BEM.DOM.decl("review-voting",{onSetMod:{js:{inited:function(){this.hasMod("active","yes")&&(this._channel=BEM.channel("review-voting"),this.bindTo(this.findElem("plus"),"pointerclick",this.like),this.bindTo(this.findElem("minus"),"pointerclick",this.dislike))}}},like:function(){this._sendRequest(1)},dislike:function(){this._sendRequest(0)},_sendRequest:function(t){this.hasMod("active","yes")&&$.ajax({type:"post",url:this._getReviewURL(),data:{grade_id:this.findBlockOutside("product-review-item").domElem.data("review-id"),vote:t,a:"c",action:"vote"},dataType:"json",timeout:"5000",beforeSend:this._onBeforeSend,success:this._onSuccessVoting,error:this._onErrorVoting,complete:this._onCompleteVoting,context:this})},_getReviewURL:function(){return"/gate/grades"},_onSuccessVoting:function(t){var e,n;if(t&&!isNaN(t.vote)){n=Number(t.vote),1===n?(this.findBlockInside({block:"image",modName:"name",modVal:"voting-plus"}).setMod("name","voting-plus-green"),e=this.findElem("plus").children(".review-voting__num")):(this.findBlockInside({block:"image",modName:"name",modVal:"voting-minus"}).setMod("name","voting-minus-red"),e=this.findElem("minus").children(".review-voting__num"));var r=e.html();isNaN(r)||e.html(++r),this.delMod("active"),this._channel.trigger("vote",{vote:n})}else this._onErrorVoting()},_onErrorVoting:function(){this.findBlockOn("manotice").show("error","Извините, произошла ошибка,\nпопробуйте оценить отзыв еще раз через некоторое время")},_onBeforeSend:function(){this.findBlockInside("spin").setMod("progress","yes")},_onCompleteVoting:function(){this.findBlockInside("spin").delMod("progress")}}),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("review-voting"),r={vote:"REV_MARKED"};for(var i in r)!function(i){n.on(i,function(){var n=r[i];t.reachGoal(n,e)})}(i)}(),function(){"use strict";var t=require("jquery"),e=BEM.channel("b-aura-review-status-resolver"),n="status-change-success";BEM.DOM.decl("n-product-review-item",{onSetMod:{js:{inited:function(){e.on(n,this._onProblemStatusChange.bind(this)),this._bind()}}},_bind:function(){this.bindTo(this.elem("reply"),"click",function(){this.findBlockInside("n-comment-form").delMod("hidden")}.bind(this)),this.bindTo(this.elem("resolve-problem"),"click",function(t){this._onProblemResolveClick(t)}.bind(this)),this.bindTo(this.elem("footer-link"),"click",function(e){var n=t(e.currentTarget).data("hasanswer");n&&(confirm("Внимание! После изменения отзыва комментарии к нему будут удалены.")||e.preventDefault())})},_onProblemStatusChange:function(t,e){this.params.gradeId===e.gradeId&&e.isResolved===!1&&this.delMod("state")},_onProblemResolveClick:function(e){if(!confirm("Отзыв получит отметку «Проблема решена»\nи перестанет учитываться в рейтинге магазина"))return!1;var n=t(e.target).data("url");t.ajax({url:n,type:"GET",dataType:"json",context:this,success:function(t){t.status===!0?this.setMod("state","resolved"):this._onStatusChangeError()},error:this._onStatusChangeError})},_onStatusChangeError:function(){alert("Ошибка. Попробуйте позднее.")}})}(),function(){"use strict";var t=require("templater");BEM.DOM.decl("n-product-review-item__resolved",{onSetMod:{js:{inited:function(){this._initProblemHint()}}},_initProblemHint:function(){var e=this.findBlockOn(this.domElem,"hint"),n=t.render({data:{gradeId:this.params.gradeId},mode:"n-product-review-item-resolved-status-hint"});e.setContent(n)}})}(),function(){"use strict";BEM.DOM.decl("n-product-review-item-resolved-status-hint",{onSetMod:{js:{inited:function(){this.setListeners()}}},setListeners:function(){return this.cancelButton=this.findBlockInside(this.elem("control"),"button"),this.cancelButton&&this.cancelButton.on("click",this.onCancelButtonClick,this),this},onCancelButtonClick:function(){var t=this.findBlockInside(this.elem("control"),"b-aura-review-status-resolver");return t&&t.removeResolvedStatus(),this}})}(),function(){var t=require("router"),e=require("lodash"),n=BEM.channel("b-aura-review-status-resolver"),r="status-change-success",i="status-change-error",s="before-status-change",a="api:grades-resolve-review";BEM.decl("b-aura-review-status-resolver",{removeResolvedStatus:function(){return this.sendStatus(!1),this},setResolvedStatus:function(){return this.sendStatus(!0),this},sendStatus:function(t){return n.trigger(s),$.ajax({url:this._buildResolvedStatusUrl(t),type:"GET",dataType:"json",context:this,success:e.partial(this._onStatusChanged,t),error:e.partial(this._onStatusChangedError,t)})},_onStatusChanged:function(t){n.trigger(r,this._buildEventContent(t))},_onStatusChangedError:function(t){n.trigger(i,this._buildEventContent(t))},_buildResolvedStatusUrl:function(e){return t.buildURL(a,{gradeId:this.params.gradeID,resolved:e})},_buildEventContent:function(t){return{isResolved:t,gradeId:this.params.gradeID}}})}(),function(){var t=require("lodash"),e=450,n="pointerover",r="pointerleave",i="normal",s="32000";BEM.DOM.decl("n-hint",{onSetMod:{js:{inited:function(){this.content=this.domElem.data("title")||this.params.content,this.content&&(this._cache={},this._timeoutObject={},this._renderTooltip(),this.bindTo(this.params.openEvent||n,function(){this._openTooltip()}),this.params.withoutCloseEvent||this.bindTo(this.params.closeEvent||r,function(){this._closeTooltip()}))}}},_openTooltip:function(){var n=t.isNumber(this.params.delay)?this.params.delay:e;this._timeoutObject&&clearTimeout(this._timeoutObject),this._timeoutObject=setTimeout(function(){this._cache.tooltip.setContent(this.domElem.data("title")||this.content),this._cache.tooltip.setMod("shown","yes");var t=this.params.zIndexAuto;t||(this._cache.tooltip.domElem[0].style["z-index"]=s)}.bind(this),n)},_closeTooltip:function(){this._timeoutObject&&clearTimeout(this._timeoutObject),this._cache.tooltip.delMod("shown")},_renderTooltip:function(){BEM.DOM.append(this.domElem,BEMHTML.apply(this._buildTooltip())),this._cache.tooltip=this.findBlockInside("tooltip"),this._cache.tooltip.setOwner(this)},_buildTooltip:function(){return{block:"tooltip",mods:{size:"xs",theme:this.params.theme||i,autoclosable:"yes"},js:{offset:this.params.offset||10,to:this.params.to||["right","left"]},mix:{block:"hint",elem:"tooltip"},content:this.content}},setContent:function(t){this.content=t}})}(),BEM.DOM.decl({name:"n-hint",modName:"clickhide",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base(),this.bindTo("click",this._closeTooltip.bind(this))}}}}),BEM.DOM.decl("n-product-review-user",{},{live:function(){var t="socnet";this.liveBindTo(t,"pointerclick",function(e){var n=this;BEM.channel("market-metrika").trigger("emit",{reviewAuthorSocialClick:n.elem(t).data("social-provider-code")})})}}),function(){var t=require("metrika"),e=require("router");BEM.DOM.decl("n-review-voting",{like:function(){this.hasMod("active","yes")&&this._sendRequest(1)},dislike:function(){this.hasMod("active","yes")&&this._sendRequest(0)},_sendRequest:function(t){this.hasMod("active","yes")&&$.ajax({type:"post",url:this._getReviewURL(),data:{grade_id:this.findBlockOutside("n-product-review-item").domElem.data("review-id"),vote:t,a:"c",action:"vote"},dataType:"json",beforeSend:this._onBeforeSend,success:this._onSuccessVoting,error:this._onErrorVoting,complete:this._onCompleteVoting,context:this})},_getReviewURL:function(){return e.buildURL("api:grades-set-vote")},_onSuccessVoting:function(e){var n,r=e&&e.data&&Number(e.data.vote);if(isFinite(r)){if(1===r){var i=this.elem("plus");this.setMod(i,"pressed","yes"),n=i.children(".n-review-voting__num")}else{var s=this.elem("minus");this.setMod(s,"pressed","yes"),n=s.children(".n-review-voting__num")}var a=n.html();isFinite(a)&&n.html(++a),this.delMod("active"),t.emitGoalPoint({voteProductReview:{vote:r}})}else this._onErrorVoting()},_onErrorVoting:function(){this.findBlockOn("manotice").show("error","Извините, произошла ошибка,<br>попробуйте оценить отзыв еще раз через некоторое время")},_onBeforeSend:function(){this.findBlockInside("spin2").setMod("progress","yes")},_onCompleteVoting:function(){this.findBlockInside("spin2").delMod("progress")}},{live:function(){this.liveBindTo("plus","pointerclick",function(){this.like()}),this.liveBindTo("minus","pointerclick",function(){this.dislike()})}})}(),function(){var t=require("metrika"),e=t.marketCounterID,n=BEM.channel("n-review-voting"),r={vote:"REV_MARKED"};for(var i in r)!function(i){n.on(i,function(){var n=r[i];t.reachGoal(n,e)})}(i)}(),function(t,e){var n=require("templater");t.DOM.decl("n-review-photos",{onSetMod:{js:{inited:function(){}}},_createGallery:function(){var r={};r.galleryData=this.params.data,r.currentSlide=this._currentPhotoIndex;var i=n.render({data:r,nodeName:"data",mode:"n-gallery-popup-review"});t.DOM.append(e(".gallery-popup-container"),i)},_setCurrentPhotoIndex:function(t){this._currentPhotoIndex=t}},{live:function(){this.liveBindTo("pointerclick",function(t){var n=e(t.target).closest("[data-image-index]").data("image-index");this._setCurrentPhotoIndex(n),this._createGallery()})}})}(BEM,jQuery),function(t,e){var n=require("metrika");t.DOM.decl("n-gallery-popup-review",{onSetMod:{js:{inited:function(){this._popup=this.findBlockInside("n-gallery-popup"),this._prevOnpopstateHandler=window.onpopstate,window.onpopstate=null,this._initMetrika(),this._bindHandlers(),this.trigger("open")}}},_bindHandlers:function(){this._popup.bindTo("close-button","pointerclick",e.proxy(this._close,this)),this._popup.on("close",e.proxy(this._close,this))},_close:function(){this._popup.destruct(!1),this.trigger("close"),this.destruct(!1),window.onpopstate=this._prevOnpopstateHandler},_initMetrika:function(){this.on("open",function(){n.emitGoalPoint({reviewPhotoGallery:"opening"})}),this.on("close",function(){n.emitGoalPoint({reviewPhotoGallery:"closing"})}),this._popup.findElem("thumbs-item").on("pointerclick",function(){n.emitGoalPoint({reviewPhotoGallery:"usingThumbs"})}),this._popup.findElem("nav-item").on("pointerclick",function(){n.emitGoalPoint({reviewPhotoGallery:"usingNavigation"})}),this._popup.on("keydown.down keydown.up",function(){n.emitGoalPoint({reviewPhotoGallery:"usingKeys"})})}})}(BEM,jQuery),function(t){var e=require("templater");t.DOM.decl("n-comments-list",{onExposerShowClick:function(){this.findBlocksInside("n-comment").forEach(function(t){t.delMod("hidden")}),this.setMod(this.findElem("exposer-show"),"hidden","yes"),this.delMod(this.findElem("exposer-hide"),"hidden")},onExposerHideClick:function(){this.findBlocksInside("n-comment").forEach(function(t){t.hasMod("last-threads")||t.setMod("hidden","yes")}),this.setMod(this.findElem("exposer-hide"),"hidden","yes"),this.delMod(this.findElem("exposer-show"),"hidden")},renderExposerShow:function(){var n=this.findElem("exposer-show"),r=!this.hasMod(n,"hidden","yes"),i=e.render({
data:{entity:"opinion",commentsAmount:this.findBlocksInside("n-comment").length,commentsExposable:r},mode:"n-comments-list__exposer-show"});n.remove(),t.DOM.prepend(this.domElem,i)}},{live:function(){return this.liveBindTo("exposer-show","pointerclick",function(t){this.onExposerShowClick(t)}).liveBindTo("exposer-hide","pointerclick",function(t){this.onExposerHideClick(t)}),this.__base()}})}(BEM),function(t){var e=require("router");t.DOM.decl("n-comment",{onSetMod:{js:{inited:function(){this._editCommentForm=this.findBlockInside({block:"n-comment-form",modName:"mode",modVal:"edit"}),this._bind()}}},_bind:function(){this._editCommentForm.on("opened",function(){this.setMod(this.elem("content"),"hidden","yes")}.bind(this)),this._editCommentForm.on("closed",function(){this.delMod(this.elem("content"),"hidden")}.bind(this)),this._editCommentForm.on("commentSent",function(t,e){this.elem("body").text(e.body),this.delMod(this.elem("content"),"hidden")}.bind(this))},_disableActionLinks:function(){this.findBlocksInside("link").forEach(function(t){t.setMod("disabled","yes")})},_enableActionLinks:function(){this.findBlocksInside("link").forEach(function(t){t.delMod("disabled")})},_onReply:function(){this.findBlockInside({block:"n-comment-form",modName:"mode",modVal:"create"}).delMod("hidden")},_onEdit:function(){this.findBlockInside({block:"n-comment-form",modName:"mode",modVal:"edit"}).delMod("hidden")},_onRemove:function(){var t=this.findBlockOutside("n-comments-list");this._disableActionLinks(),$.ajax({url:e.buildURL("api:grades-comments-remove",{rootId:this.params.rootId,commentId:this.params.commentId,productId:this.params.productId}),type:"DELETE"}).done(function(e){e.status===!0?(this.setMod("hidden","yes"),this.destruct(),t.renderExposerShow()):this._enableActionLinks()}.bind(this)).fail(this._enableActionLinks.bind(this))},_onComplain:function(){this.setMod(this.elem("content"),"hidden","yes"),this.delMod(this.elem("complain-blind"),"hidden");var t=this.findBlockInside("n-comment-complaint");t&&t.delMod("hidden")},_onExpand:function(){this.delMod(this.elem("content"),"hidden"),this.setMod(this.elem("complain-blind"),"hidden","yes");var t=this.findBlockInside("n-comment-complaint");t&&t.setMod("hidden","yes")}},{live:function(){this.liveBindTo("reply","click",function(t){this._onReply(t)}),this.liveBindTo("edit","click",function(t){this._onEdit(t)}),this.liveBindTo("remove","click",function(t){this._onRemove(t)}),this.liveBindTo("complain-control","click",function(t){this._onComplain(t)}),this.liveBindTo("expand","click",function(t){this._onExpand(t)})}})}(BEM),function(t){"use strict";var e=require("lodash"),n=require("templater"),r=require("user"),i=require("router"),s=1e3;t.DOM.decl("n-comment-form",{onSetMod:{js:{inited:function(){this._tooltip=this.findBlockInside("tooltip"),this._termsCheckbox=this.findBlockInside("checkbox"),this._textarea=this.findBlockInside("textarea"),this._initialReplyText="",this._spin=this.findBlockInside("spin2"),this._submitButton=this.findBlockInside("button2"),this._bind()}},hidden:{"":function(){if(!r.isAuth)return setTimeout(this._showLoginHint,0),this._showLoginForm(),!1;var e=this.params.replyName,n=this._textarea.elem("control");this.hasMod("mode","create")&&(""!==e?n.val(e+", "):n.val(""),this._initialReplyText=n.val()),this.trigger("opened"),setTimeout(function(){this._focusTextarea(),n.trigger("autosizeUpdate")}.bind(this),0),t.channel("n-comment-form").trigger("opened",{block:this})}}},_bind:function(){this.bindTo("submit",this._onFormSubmit.bind(this)),this.bindTo("close","click",function(){this.trigger("closed"),this.setMod("hidden","yes")}.bind(this)),this.findBlockInside("checkbox").bindTo("change",this._hideTooltip.bind(this)),this._textarea.bindTo("control","input",this._hideTooltip.bind(this)),t.channel("n-comment-form").on("opened",function(t,e){e.block._uniqId!==this._uniqId&&this.setMod("hidden","yes")}.bind(this))},_focusTextarea:function(){var t=this._textarea.elem("control");this._textarea.setMod("focused","yes"),t.get(0).setSelectionRange(t.val().length,t.val().length)},_onFormSubmit:function(t){t.preventDefault();var n=this.domElem.serializeArray().reduce(function(t,n){return e.set(t,n.name,n.value),t},{});this._validateData(n)&&this._submitData(n)},_validateData:function(t){var n;return 0===e.trim(t.body).length||e.trim(t.body)===e.trim(this._initialReplyText)?(this._focusTextarea(),!1):t.body.length>=s?(n="Комментарий слишком длинный — можно отправить текст до "+s+" символов",this._showTooltip(this.elem("text"),n),!1):!!this._termsCheckbox.isChecked()||(n="Примите условия использования сервиса, чтобы он смог обработать и сохранить ваш комментарий",this._showTooltip(this.elem("terms"),n),!1)},_submitData:function(t){this._spin.setMod("progress","yes"),this._submitButton.setMod("disabled","yes"),this._textarea.setMod("disabled","yes");var e="";this.hasMod("mode","edit")?e=i.buildURL("api:grades-comments-change",{rootId:this.params.rootId,commentId:this.params.commentId}):(e=i.buildURL("api:grades-comments-create"),t.rootComment={id:this.params.rootId},t.parentComment={id:this.params.commentId}),$.ajax({url:e,type:"POST",contentType:"application/json",cache:!1,dataType:"json",data:JSON.stringify(t),context:this}).done(function(t){if(t.status===!0&&t.data.comment)this.setMod("hidden","yes"),this.trigger("commentSent",t.data.comment),this.hasMod("mode","create")&&(this._renderComment(t.data.comment),this._renderExposerShow());else{var e="Что-то пошло не так — попробуйте отправить комментарий чуть позже";this._showTooltip(this.elem("text"),e)}}.bind(this)).fail(function(t){var e=JSON.parse(t.responseText);this._showTooltip(this.domElem,e.error)}.bind(this)).always(function(){this._spin.delMod("progress"),this._submitButton.delMod("disabled"),this._textarea.delMod("disabled")}.bind(this))},_showTooltip:function(t,e){this._tooltip.setOwner(t).setContent(e).setMod("shown","yes"),this._scrollToTooltip(),setTimeout(this._hideTooltip.bind(this),5e3)},_scrollToTooltip:function(){var t=$("html, body"),e=this._tooltip.domElem.offset().top-110;$(window).scrollTop()>e&&t.animate({scrollTop:e},300)},_hideTooltip:function(){this._tooltip.delMod("shown")},_showLoginHint:function(){t.DOM.append($("body"),BEMHTML.apply(t.blocks["popup-informer"].build({mods:{color:"green","text-align":"center"},offset:0,title:"Чтобы добавить комментарий, вам необходимо авторизоваться."})))},_showLoginForm:function(){var t=$(".user").bem("user")._domik;t.open(),t._popup.on("beforeClose",function(){t._popup.un("beforeClose")},this)},_renderComment:function(r){var i,s,a=r.rootComment.id,o=r.parentComment.id,c=this.findBlockOutside("n-product-review-item"),l=c.findBlockInside("n-comments-list");if(o===a)i=l.elem("items"),s=!0;else{var u=this.findBlockOutside("n-comment");i=u.domElem.next(".n-comment__nested-comments"),s=u.hasMod("last-threads"),u.elem("edit").remove(),u.elem("remove").remove()}var d=n.render({data:e.assign({},r,{lastThreads:s,allowedToDelete:!0,productId:this.params.productId}),mode:"n-comment"});t.DOM.append(i,d)},_renderExposerShow:function(){var t=this.findBlockOutside("n-product-review-item"),e=t.findBlockInside("n-comments-list");e.renderExposerShow()}})}(BEM),BEM.DOM.decl({block:"textarea",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._control=this.elem("control"),this._text=this._control.text()}}},getText:function(){return this._text},setText:function(t){return t===this._text?this:(this._control.val(t||""),this._textChange(),this)},_textChange:function(){var t=this._control.val(),e=this._text,n=t!==e;if(!n)return!1;this._text=t;var r={text:t,oldText:e};this.trigger("change",r)}},{live:function(){return this.liveBindTo("control","input",function(){this._textChange()}),this.__base()}}),BEM.DOM.decl("textarea",{_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._textChange()})}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._textChange)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")})),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._textChange),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}}),BEM.DOM.decl({block:"textarea",modName:"autosize",modVal:"yes"},{onSetMod:{js:{inited:function(){this.domElem.autosize()}}}}),function(t){var e,n,r={className:"autosizejs",append:"",callback:!1},i="hidden",s="border-box",a="lineHeight",o='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',c=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],l="oninput",u="onpropertychange",d=t(o).data("autosize",!0)[0];d.style.lineHeight="99px","99px"===t(d).css(a)&&c.push(a),d.style.lineHeight="",t.fn.autosize=function(a){return a=t.extend({},r,a||{}),d.parentNode!==document.body&&(t(document.body).append(d),d.value="\n\n\n",d.scrollTop=9e4,e=d.scrollHeight===d.scrollTop+d.clientHeight),this.each(function(){function r(){n=_,d.className=a.className,t.each(c,function(t,e){d.style[e]=m.css(e)})}function o(){var t,s,o;if(n!==_&&r(),!h){h=!0,d.value=_.value+a.append,d.style.overflowY=_.style.overflowY,o=parseInt(_.style.height,10),d.style.width=Math.max(m.width(),0)+"px",e?t=d.scrollHeight:(d.scrollTop=0,d.scrollTop=9e4,t=d.scrollTop);var c=parseInt(m.css("maxHeight"),10);c=c&&c>0?c:9e4,t>c?(t=c,s="scroll"):p>t&&(t=p),t+=v,_.style.overflowY=s||i,o!==t&&(_.style.height=t+"px",y&&a.callback.call(_)),setTimeout(function(){h=!1},1)}}var p,h,f,_=this,m=t(_),v=0,y=t.isFunction(a.callback);m.data("autosize")||((m.css("box-sizing")===s||m.css("-moz-box-sizing")===s||m.css("-webkit-box-sizing")===s)&&(v=m.outerHeight()-m.height()),p=Math.max(parseInt(m.css("minHeight"),10)-v,m.height()),f="none"===m.css("resize")||"vertical"===m.css("resize")?"none":"horizontal",m.css({overflow:i,overflowY:i,wordWrap:"break-word",resize:f}).data("autosize",!0),u in _?l in _?_[l]=_.onkeyup=o:_[u]=o:_[l]=o,t(window).on("resize",function(){h=!1,o()}),m.on("autosize",function(){h=!1,o()}),o())})}}(window.jQuery||window.Zepto),BEM.DOM.decl({block:"textarea",modName:"size",modVal:"height-auto"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.params.initialHeight;this.elem("control").each(function(){var e=this.scrollHeight?this.scrollHeight:t;this.setAttribute("style","height:"+e+"px;min-height:"+e+"px;overflow-y:hidden;")}).on("input autosizeUpdate",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"})}}}}),function(t){t.DOM.decl({block:"textarea",modName:"type",modVal:"limited"},{},{live:function(){return this.__base.apply(this,arguments),this.liveInitOnBlockInsideEvent("change","textarea",function(t,e){this.limitCounter=this.findBlockInside("n-limit-counter"),this.limitCounter&&this.limitCounter.update(e.text)}),!1}})}(BEM),function(t){t.DOM.decl("n-limit-counter",{onSetMod:{js:{inited:function(){if(this._counter=this.elem("counter"),0===this._counter.length)throw new Error("Missed counter element inside the block");var t="number"==typeof this.params.warningLimit||"number"==typeof this.params.errorLimit||this.params.warningLimit<this.params.errorLimit;if(!t)throw new Error("Wrong limit arguments");this._warningLimit=this.params.warningLimit,this._errorLimit=this.params.errorLimit}}},update:function(t){var e=this._counter,n=t?t.length:0,r=n<this._warningLimit,i=n>=this._warningLimit&&n<=this._errorLimit;if(r)return this.delMod(e,"state");var s=this._errorLimit-n;return i?(e.html(s),this.setMod(e,"state","warning")):(e.html(s),void this.setMod(e,"state","error"))}})}(BEM),function(t){"use strict";var e=require("router");t.DOM.decl("n-comment-complaint",{onSetMod:{js:{inited:function(){this._spin=this.findBlockInside("spin2"),this._submitButton=this.findBlockInside("button2"),this._radiobox=this.findBlockInside("radiobox"),this._tooltip=this.findBlockInside("tooltip")}}},_onCancel:function(){this._onClose();var t=this.findBlockOutside("n-comment");t.delMod(t.elem("content"),"hidden"),t.setMod(t.elem("complain-blind"),"hidden","yes")},_onClose:function(){this.setMod("hidden","yes"),this._hideTooltip()},_onSubmit:function(t){t.preventDefault();var n=this.findBlockOn("i-form-serializer"),r=n.serializeToObject(this.elem("form"));this._spin.setMod("progress","yes"),this._submitButton.setMod("disabled","yes"),this._radiobox.setMod("disabled","yes"),$.ajax({url:e.buildURL("api:grades-comments-complain"),type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(r)}).done(function(t){if(t.status===!0){this.setMod(this.elem("form"),"hidden","yes"),this.delMod(this.elem("accepted"),"hidden");var e=this.findBlockOutside("n-comment");e.elem("complain").remove()}else{var n="Повторите попытку через несколько минут";this._showTooltip(this.domElem,n)}}.bind(this)).fail(function(){var t="Повторите попытку через несколько минут";this._showTooltip(this.domElem,t)}.bind(this)).always(function(){this._spin.delMod("progress"),this._submitButton.delMod("disabled"),this._radiobox.delMod("disabled")}.bind(this))},_showTooltip:function(t,e){this._tooltip.setOwner(t).setContent(e).setMod("shown","yes"),setTimeout(this._hideTooltip.bind(this),5e3)},_hideTooltip:function(){this._tooltip.delMod("shown")}},{live:function(){this.liveBindTo("close","click",function(t){this._onCancel(t)}),this.liveBindTo("accepted-close","click",function(t){this._onClose(t)}),this.liveBindTo("submit","click",function(t){this._onSubmit(t)})}})}(BEM),function(t,e){"use strict";var n=require("lodash");t.decl("i-form-serializer",{serializeToObject:function(t){var r=t instanceof jQuery?t:e(t);return r.serializeArray().reduce(function(t,e){return"string"==typeof e.value&&(e.value=e.value.replace(/\r/g,"")),n.set(t,e.name,e.value)},{})}})}(BEM,jQuery),function(){"use strict";BEM.DOM.decl("n-shop-review-comments",{onSetMod:{js:{inited:function(){var t=this.findElem("controls"),e=this.findElem("items");this.findElem("hide-switch").on("click",function(n){e.addClass("g-hidden"),t.removeClass("g-hidden")}),this.findElem("show-switch").on("click",function(n){e.removeClass("g-hidden"),t.addClass("g-hidden")}),this.initReplyFormEvents()}}},initReplyFormEvents:function(){var t=this.findElem("reply-btn"),e=this.findBlockInside("n-shop-review-reply-form");t.on("click",function(){e.domElem.removeClass("g-hidden")})}})}(),function(){var t=null;BEM.DOM.decl("reply-form",{onSetMod:{js:{inited:function(){t=this,this._form=this.elem("form"),this._parentId=this.elem("parent-id"),this._text=this.elem("text"),this._subscribe=this.elem("subscribe"),this._subscribed=this.elem("subscribed"),this._agree=this.elem("agree-checkbox"),this._nowAppendedTo="",this.bindTo("close","pointerclick",this._hideForm),this.bindTo(this._form,"submit",this._onSubmit)}}},_hideForm:function(){this.setMod("visibility","hidden")},_getForm:function(t){t.id&&this._parentId.val(t.id),this._nowAppendedTo!=t.id&&(this._text.val(""),this._nowAppendedTo=t.id,t.isSubscribed?(this._subscribed.show(),this._subscribe.hide()):(this._subscribe.show(),this._subscribed.hide()),BEM.DOM.after("#"+t.id+" .reply-form__placeholder",this.domElem)),this.delMod("visibility"),this._text.focus()},_validate:function(t){var e=this._text.val(),n=!1;if(this._agree.length)this._agree.prop("checked")&&(n=!0);else{var r=this.elem("agree-hidden");r.val()&&(n=!0)}return""==e?(alert("Введите текст комментария"),!1):n?(this.findElem("submit").prop("disabled","disabled"),!0):(alert("Вы должны согласиться с правилами"),!1)},_onSubmit:function(t){t.preventDefault();var e=this._validate();e&&$.ajax({url:this._form.prop("action"),data:this._getFormData(),type:"POST",dataType:"json",context:this}).done(this._onSuccess).fail(this._onError)},_getFormData:function(){return this._form.serialize()},_onSuccess:function(e){t._hideForm(),t._text.val(""),BEM.DOM.append("#"+e.data.parent,e.data.comment)},_onError:function(t,e,n){alert("Добавить комментарий не удалось, попробуйте еще раз")}},{getForm:function(e){null===t&&$("#reply-form").bem("reply-form"),t._getForm(e)}})}(),function(){"use strict";var t=require("templater");BEM.DOM.decl({block:"n-shop-review-reply-form",baseBlock:"reply-form"},{_validate:function(t){var e=this._text.val();return""!=e||(alert("Введите текст комментария"),!1)},_getForm:function(){this.delMod("visibility"),this._text.focus()},_onSuccess:function(t){var e=t.data;e.isShop=!1,e.entity="comment",this._renderComment(e),this._hideForm(),this._hideReplyBtn()},_getFormData:function(){for(var t=this._form.serializeArray(),e={},n=0;n<t.length;n++)e[t[n].name]=t[n].value;return e},_hideForm:function(){this.domElem.addClass("g-hidden")},_renderComment:function(e){var n=t.render({data:e,mode:"n-shop-review-comment"}),r=this.domElem.closest(".n-shop-review-comments__items").find(".n-shop-review-comment:last");BEM.DOM.after(r,n)},_hideReplyBtn:function(){this.domElem.closest(".n-shop-review-comment__reply").addClass("g-hidden")}})}(),function(){BEM.DOM.decl({name:"hint",modName:"type",modVal:"clickable"},{setListeners:function(){return this.bindTo("click",this.toggleShow.bind(this)),this}})}(),BEM.DOM.decl("product-review-delete",{onSetMod:{js:{inited:function(){var t=this.findElem("form").bem("product-review-delete__form"),e=this.findBlockInside("owner"),n=this.findBlockInside("popup"),r=this.findBlockInside("button-no");e.bindTo("pointerclick",function(){n.toggle(e)}),t.bindTo("submit",function(t){t.preventDefault(),n.hide();var e=this.domElem.attr("action"),r=this.domElem.serialize(),i=this.domElem;$.post(e,r,function(t){t.status===!0?($('.n-product-review-item[data-review-id="'+i.data("review-id")+'"]').remove(),sessionStorage.removeItem("wizard-data-"+i.data("uid")+"-"+i.data("storage-id")),0===$(".n-product-review-item").length&&$(".n-w-my-reviews__no-reviews").removeClass("g-hidden")):alert("Ошибка. Попробуйте позднее.")})}),r.bindTo("pointerclick",function(){n.hide()})}}}}),function(t){t.DOM.decl({block:"n-rating-chevrons",baseBlock:"n-rating-variable"},{onSetMod:{js:{inited:function(){this.__base()}},variable:{yes:function(){this.__base()},"":function(){this.__base()}}}})}(BEM),function(){var t=require("lodash");BEM.DOM.decl("n-rating-analog-line",{onSetMod:{js:{inited:function(){var t=Number(this.params.rating),e=this._getRatingDescription(t);this.domElem.attr("data-rating-desc",e);var n=0===t?100:t;this.elem("item").css({width:n+"%"})}}},_getRatingDescription:function(e){if(t.isFinite(e)){var n=t.find(this.ratingThresholds,function(t){return e<=t.rating});return n.desc}},ratingThresholds:[{rating:20,desc:"awful"},{rating:40,desc:"bad"},{rating:60,desc:"normal"},{rating:80,desc:"good"},{rating:100,desc:"excellent"}]})}(),function(){var t=require("env"),e=require("metrika"),n=e.marketCounterID,r=/^(?:[^.]+\.)*([^.]+\.yandex\.(?:ua|ru|by|kz|com(?:\.tr)?))(?::\d+)?$/,i="yandexmarket",s="."+document.domain.match(r)[1],a="/",o=0,c=",";BEM.DOM.decl("n-pager",{onSetMod:{js:{inited:function(){var t=this;if(this._history=BEM.blocks.history.getInstance(),this._firstView=this.params.firstView,this._buttonPrev=this.findBlockInside("button-prev","button"),this._buttonNext=this.findBlockInside("button-next","button"),this._buttonsNumber=this.findBlocksInside("button-number","button"),this._maxPage=this.params.pagesCount,this._pageParam="page",this.params.changeLimitSelect&&(this._select=this.findBlockInside("select")),this._select){this._select.on("change",this._onChangeSelect.bind(this));var r=this._getSettings()[o];r||this._saveSelectSettings(this._select.val())}this._buttonNext&&this._buttonNext.bindTo("click",function(r){if(e.reachGoal("NEXT_PAGE_BUT",n),t.params.changePageWithoutReload){r.preventDefault();var i=t._getPageFromHref(r.target.href);t._sendRequest(i,!0)}}),this._buttonPrev&&t.params.changePageWithoutReload&&this._buttonPrev.bindTo("click",function(e){e.preventDefault();var n=t._getPageFromHref(e.target.href);t._sendRequest(n,!0)}),this._buttonsNumber.length&&this._buttonsNumber.forEach(function(r){r.bindTo("click",function(r){if(e.reachGoal("NEXT_PAGE_NUM",n),t.params.changePageWithoutReload){r.preventDefault();var i=t._getPageFromHref(r.target.href);t._sendRequest(i,!0)}})}),BEM.channel("market:pager").on("change",function(e,n){n.page&&t.domElem&&(t._changeCurrentPage(n.page),t._select&&t._updateSelect(n))})}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{firstView:!0,mustChangeHistory:!0})},_getSettings:function(){return($.cookie(i)||"").split(c)},_saveSelectSettings:function(t){var e=this._getSettings();e[o]=t,$.cookie(i,e.join(c),{domain:s,path:a})},_changeCurrentPage:function(t){var e=this;this._currentPage=t,this._buttonsNumber.forEach(function(n,r){var i=t-2+r;n.delMod("side"),1==e._currentPage&&1==i?n.setMod("side","left"):i==e._maxPage&&e._currentPage==i?n.setMod("side","right"):(n.setMod("side","right"),n.domElem.addClass("button_side_left")),e._currentPage===i?(n.domElem.removeAttr("href"),n.setMod("action","yes")):(n.domElem.attr("href",e._buildLinkUrl(i)),n.delMod("action")),n.elem("text").text(i),i>0&&i<=e._maxPage&&1!==e._maxPage?n.domElem.removeClass("g-hidden"):n.domElem.addClass("g-hidden")}),this._buttonPrev&&(t>1?(this._buttonPrev.domElem.removeClass("g-hidden"),this._buttonPrev.domElem.attr("href",this._buildLinkUrl(t-1))):this._buttonPrev.domElem.addClass("g-hidden")),this._buttonNext&&(t===this._maxPage?this._buttonNext.domElem.addClass("g-hidden"):this._buttonNext.domElem.attr("href",this._buildLinkUrl(t+1)))},_buildLinkUrl:function(t){var e=BEM.blocks.uri.parse(document.location.href).deleteParam("cvredirect");return t>1?e.replaceParam(this._pageParam,t):e.deleteParam(this._pageParam),e.toString()},_getPageFromHref:function(t){var e=BEM.blocks.uri.parse(t),n=e.getParam(this._pageParam);return n&&n[0]||1},_onChangeSelect:function(r){var i=r.target.findBlockInside("select"),s=i.val(),a=this._getSettings();return a[o]===s?this:(this._saveSelectSettings(s),e.reachGoal("change_results_per_page_"+s,n),this.params.changePageWithoutReload?this._sendRequest(null,!0):t.reload(t.href),this)},_updateSelect:function(t){var e=this._select.findElem("option"),n=this._select.params.textAll,r=t.total,i=t.page;e.each(function(t,e){r-i*e.value<0&&!e.selected?e.remove():r<i*e.value&&(e.text=n)}),this._select.redraw()},_buildGateUrl:function(t){var e=BEM.blocks.uri.parse(document.location.href).deleteParam("cvredirect"),n=BEM.blocks.uri.parse(this.params.url);return $.each(Object.keys(e.queryParams),function(t,r){n.queryParams[r]||n.addParam(r,e.queryParams[r])}),t&&n.replaceParam(this._pageParam,t),n.toString()},_sendRequest:function(t,e){var n=this,r="Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время";$.ajax({url:this._buildGateUrl(t),type:"GET",dataType:"json",timeout:1e4,beforeSend:function(){BEM.channel("market:pager").trigger("dataLoading",e)},success:function(e){e.success?(BEM.DOM.doc.trigger("scroll"),BEM.channel("market:pager").trigger("dataLoaded",e),BEM.channel("market:pager").trigger("change",e),BEM.blocks.history.hasNativeAPI()&&n.params.mustChangeHistory&&t&&n._changeHistory(t,!0)):alert(r)},error:function(){alert(r)}})},_changeHistory:function(t,e){var n=this._buildLinkUrl(t);if(e){var r=require("metrika"),i=r.marketCounterID;i&&window[i]&&n!=document.location.href&&window[i].hit(n,document.title,document.location.href)}n!=this._history.state.url&&(this._firstView?(this._history.pushState({changedBy:"pager-more",action:"push"},this._history.state.title,n),this._firstView=!1):this._history.replaceState({changedBy:"pager-more",action:"replace"},this._history.state.title,n))}})}(),function(){var t="n-pager-more";BEM.DOM.decl(t,{onSetMod:{js:{inited:function(){var t=this;this._history=BEM.blocks.history.getInstance(),this._firstView=this.params.firstView,this._spin=this.findBlockInside("spin"),this._btnMore=this.findBlockInside("button"),this._currentPage=this.params["current-page"],this._maxPage=this.params.max,this._perPage=this.params["per-page"],this._insertNode=$(t.params["insert-selector"]),this._btnMore.bindTo("click",function(){t._sendRequest()}),BEM.blocks.history.hasNativeAPI()&&BEM.channel("market:filter").on("dataLoading",function(){t.domElem&&t.domElem.stop(!0).hide()}),BEM.channel("market:filter").on("dataLoaded",function(e,n){t._firstView=!0,n.total&&t.domElem&&(t._setMaxPage(n.total),n.page=t._currentPage,BEM.channel("market:pager").trigger("change",n),t._maxPage>1?t.domElem.fadeIn():t.domElem.hide(),t._isMaxReached(),BEM.blocks.history.hasNativeAPI()&&t.params.mustChangeHistory&&t._changeHistory(!1))}),BEM.channel("market:pager").on("dataLoaded",function(e,n){t._firstView=!0,n.page&&n.total&&t.domElem&&(t._setMaxPage(n.total),t._currentPage=n.page,t._isMaxReached())})}}},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{firstView:!0,mustChangeHistory:!0})},_buildGateUrl:function(){var t=BEM.blocks.uri.parse(document.location.href).deleteParam("cvredirect"),e=BEM.blocks.uri.parse(this.params.url);return $.each(Object.keys(t.queryParams),function(n,r){e.queryParams[r]||e.addParam(r,t.queryParams[r])}),e.replaceParam(this.params["page-param"],this._currentPage+1),e.addParam("onlySnippets",!0),e.toString()},_setMaxPage:function(t){var e=Math.ceil(t/this._perPage);this.params.forceMaxPage?e<this.params.forceMaxPage?this._maxPage=e:this._maxPage=this.params.forceMaxPage:this._maxPage=e},_buildLinkUrl:function(){var t=BEM.blocks.uri.parse(document.location.href);return this._currentPage>1?t.replaceParam(this.params["page-param"],this._currentPage):t.deleteParam(this.params["page-param"]),t.toString()},_sendRequest:function(){var t=this,e="Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время";$.ajax({url:this._buildGateUrl(),type:"GET",dataType:"json",timeout:1e4,beforeSend:function(){t._spin.setMod("progress","yes"),t._btnMore.domElem.hide()},success:function(n){n.success?(t._insertNode.length?BEM.DOM.append(t._insertNode,n.data):BEM.DOM.before(t.domElem,n.data),t._setMaxPage(n.total),BEM.DOM.doc.trigger("scroll"),t._currentPage=n.page,BEM.channel("market:pager").trigger("change",n),t.delMod("active"),t._isMaxReached(),BEM.blocks.history.hasNativeAPI()&&t.params.mustChangeHistory&&t._changeHistory(!0)):alert(e)},error:function(){alert(e)},complete:function(){t._spin.delMod("progress"),t._btnMore.domElem.show()}})},_isMaxReached:function(){this._currentPage>=this._maxPage?(this._btnMore.setMod("disabled","yes").delMod("focused"),this.setMod("state","hidden")):(this._btnMore.delMod("disabled"),this.delMod("state"))},_changeHistory:function(t){var e=this._buildLinkUrl();if(t){var n=require("metrika"),r=n.marketCounterID;r&&window[r]&&e!=document.location.href&&window[r].hit(e,document.title,document.location.href)}e!=this._history.state.url&&(this._firstView?(this._history.pushState({changedBy:"pager-more",action:"push"},this._history.state.title,e),this._firstView=!1):this._history.replaceState({changedBy:"pager-more",action:"replace"},this._history.state.title,e))}})}(),function(){var t="player2";BEM.DOM.decl("n-product-video",{onSetMod:{js:{inited:function(){this.player=this.findBlockInside(t),this.items=this.findElem("item"),this.currentTitle=this.findElem("title-video"),this.videoInfo=this.params["video-info"],this.currentVideo=this.videoInfo[0],this.currentVideoPosition=0,this.popupTarget="full"===this.params.type?this.findElem("popup-target"):{top:"45%",left:"50%"},this.complainPopup=BEM.blocks["n-product-video-complain"].getInstance(),this.complainPopup.on("submit",this._onPopupSubmit,this)}}},_complain:function(t){var e={modelId:this.params.modelid,reason:t,video:this.currentVideo.url};$.ajax(this.params.complainUrl,{data:e}),this._emit({action:"doComplain",value:this.currentVideoPosition+1,params:{c:t,m:this.params.modelid,i:this.currentVideo.url,r:this.currentVideo.relevance,hid:this.params.hid}})},_onPopupSubmit:function(t,e){this._complain(e.reason)},_chooseVideo:function(t){this.currentVideo=this.videoInfo[t-1],this.player.update({hosting:this.currentVideo.host,html:this.currentVideo.player_auto})},_onSwitcherClick:function(t){t.stopPropagation(),this.complainPopup.show(this.popupTarget)},_onPreviewClick:function(t){var e=$(t.target).closest(this.items);e.length&&(this.delMod(this.elem("item","selected","yes"),"selected"),this.setMod(e,"selected","yes"),this.complainPopup.hide(),this._chooseVideo(1*e.data("position")),this.currentTitle.html(e[0].outerText))},_emitMetrikaCanPlay:function(){this._emit({action:"canPlay",value:this.videoInfo.length,params:{}})},_emitMetrikaStartPlay:function(){this._emit({action:"startPlay",value:this.currentVideoPosition+1,params:{}})},_emitVideoLinkClick:function(){this._emit({action:"linkout"})},_emitShowMoreLinkClick:function(){this._emit({action:"showMoreLink"})},_emit:function(t){BEM.channel("market-metrika").trigger("emit",{productvideo:t})},_playerEventHandler:function(t,e){switch(this.currentVideoPosition=e.time,t.type){case"inited":this._emitMetrikaCanPlay();break;case"started":this._emitMetrikaStartPlay()}}},{live:function(){this.liveBindTo("complain","pointerclick",function(t){this._onSwitcherClick(t)}),this.liveBindTo("item","pointerclick",function(t){this._onPreviewClick(t)}),this.liveBindTo("yandex","pointerclick",function(){this._emitVideoLinkClick()}),this.liveBindTo("link-show-all","pointerclick",function(){this._emitShowMoreLinkClick()});var e="inited started paused ended resumed autoplay rewound pointerclick";this.liveInitOnBlockInsideEvent(e,t,function(t,e){this._playerEventHandler(t,e)})}})}(),function(){BEM.DOM.decl("product-video-promo",{onSetMod:{js:{inited:function(){var t=$("#video-reviews").offset().top-30;this.domElem.on("click",function(e){e.preventDefault(),$("body, html").animate({scrollTop:t+"px"},300),BEM.channel("market-metrika").trigger("emit",{productvideo:{goal:"ANCH_TO_VIDEO",params:{}}})})}}}},{})}(),function(){var t=require("templater"),e="undefined"!=typeof yr?yr:require("yate/lib/runtime.js");BEM.DOM.decl("n-product-video-complain",{onSetMod:{js:{inited:function(){this.__self._instance||(this.__self._instance=this),this._popup=this.findBlockOn("popup"),this._radiobox=this.findBlockInside("radiobox")}}},show:function(t){this._popup.isShown()||this._popup.show(t)},hide:function(){this._popup.hide()},_submit:function(t){t.stopPropagation();var e=this._radiobox.val();e?(this.trigger("submit",{reason:e}),this._disable(),this.setMod(this.elem("success-message"),"visible","yes")):alert("Выберите причину")},_disable:function(){this._radiobox.setMod("disabled","yes"),this.setMod(this.elem("submit-button"),"visible","no")},_setupForNextUsage:function(){this._radiobox.delMod("disabled"),this._radiobox.uncheckAll(),this.setMod(this.elem("submit-button"),"visible","yes"),this.setMod(this.elem("success-message"),"visible","no")}},{getInstance:function(){return this._instance||(this._instance=this._create()),this._instance},_instance:null,_create:function(){var n=$(".n-product-video-complain");return n.length?BEM.DOM.init(n).bem("n-product-video-complain"):(n=t.render({mode:"n-product-video__complain-popup",
args:{type:e.object2nodeset("full")}}),BEM.DOM.append($("body"),n).bem("n-product-video-complain"))},live:function(){this.liveBindTo("submit-button","pointerclick",function(t){this._submit(t)}),this.liveInitOnBlockEvent("hide","popup",function(){this._setupForNextUsage()})}})}(),BEM.DOM.decl({block:"popup",modName:"wrapped",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.__base(),this._wrap()},"":function(){this.__base(),this._unwrap()}},wrapped:{"":function(){this._unwrap()}}},_wrap:function(){this._wrapper||(this._wrapper=this.elem("wrapper").detach()),this._wrapper&&this.domElem.wrap(this._wrapper)},_unwrap:function(){this._wrapper&&this.domElem.unwrap()},_captureZIndex:function(){var t=this._zIndex,e=this.__base.apply(this,arguments);return this._zIndex!==t&&this.elem("wrapper").css("z-index",this._zIndex),e},destruct:function(){this._unwrap(),this.__base()}}),BEM.DOM.decl({block:"popup",modName:"behaviour",modVal:"scrollable"},{getDefaultParams:function(){var t=this.__base();return t.top=20,t}}),$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})}),require.define("yate-externals.player",function(t,e,n,r,i){function s(t){var e={youtube:"youtube",dailymotion:"dailymotion",izlesene:"izlesene",mailru:"mailru","video.mail.ru":"mailru",rutube:"rutube",vimeo:"vimeo"};if(t)for(var n in e)if(e.hasOwnProperty(n)&&t.indexOf(n)>-1)return e[n];return"default"}function a(t){var e=t.version||o,n=["//yastatic.net/video-player/",e,"/pages-common/"].join(""),r="name/name.html".replace(/name/g,s(t.playerHosting));return n+r+"#html="+encodeURIComponent(t.playerHtml)}var o="0xf7edcf0";t.exports={"sandbox-get-url":a}});var _=require("lodash");yr.externals=_.assignIn(yr.externals,require("yate-externals.player")),BEM.DOM.decl("player2",{update:function(t){this.domElem.find(".sandbox").length&&this.trigger("stopped"),this.domElem.html(this._render(t))},clean:function(){this.domElem.empty()},_render:function(t){return BEMHTML.apply({block:"sandbox",player:t})},_onMessage:function(t){var e,n=t.originalEvent.data||{};"string"==typeof n&&(n=this._parseData(n)),n.event&&n.event.indexOf(this.__self.EVENT_PREFIX)!==-1&&(e=n.event.slice(this.__self.EVENT_PREFIX.length),this.trigger(e,n))},_parseData:function(t){try{return JSON.parse(t)}catch(t){return{}}}},{EVENT_PREFIX:"sandbox:",live:function(){var t=this.getName(),e=this.buildSelector();return this.win.on("message",function(n){$(e).each(function(){$(this).bem(t)._onMessage(n)})}),!0}}),function(){var t=require("templater");BEM.DOM.decl("player2",{_render:function(e){return t.render({args:{player:e},mode:"sandbox"})}})}(),BEM.DOM.decl({block:"player2",modName:"stub",modVal:"yes"},{_render:function(){return BEMHTML.apply({block:"sandbox",mods:{stub:"yes"}})}}),BEM.DOM.decl("n-discount-info",{onSetMod:{js:{inited:function(){this._bindEvents()}}},_bindEvents:function(){BEM.channel("market:pager").on("change",this._onPageChange,this)},hide:function(){this.setMod("visible","no")},show:function(){this.setMod("visible","yes")},_onPageChange:function(t,e){this.domElem&&this.hasMod("visible","no")&&e.hasDiscount&&this.show()}}),function(t){var e=require("lodash"),n=",",r=e.flowRight(e.uniq,e.union),i=t.blocks.uri.parse;t.DOM.decl("n-shops-info",{onSetMod:{js:{inited:function(){this.initializeProperties().setListeners()}}},updateLinkHref:function(t){this._shopIds=r(this._shopIds,t);var e=this._shopsLink.domElem,s=i(e.attr("href"));s.replaceParam("shop_id",this._shopIds.join(n)),e.attr("href",s.toString())},initializeProperties:function(){var t=this.params.shopIds||"";return this._shopsLink=this.findBlockInside("link"),this._shopIds=t.split(n),this},setListeners:function(){return t.channel("market:filter").on("dataLoaded",this.onShopIdsUpdated,this),t.channel("market:legal-info").on("update",this.onShopIdsUpdated,this),this},onShopIdsUpdated:function(t,n){if(n.shopIds&&this._shopsLink){var r=e.invokeMap(n.shopIds,"toString");this.updateLinkHref(r)}}})}(BEM),BEM.DOM.decl("discount-info",{onSetMod:{js:{inited:function(){this._bindEvents()}}},_bindEvents:function(){BEM.channel("market:filter").on("dataLoading",this.hide,this).on("dataLoaded",this._onDataLoaded,this),BEM.channel("market:pager").on("change",this._onPageChange,this)},hide:function(){this.setMod("visible","no")},show:function(){this.setMod("visible","yes")},_onDataLoaded:function(t,e){this.toggleMod("visible","yes","no",!!e["has-discount"])},_onPageChange:function(t,e){this.hasMod("visible","no")&&e["has-discount"]&&this.show()}}),require.define("ymaps",function(t,e,n,r,i){t.exports=i.ymaps}),function(t,e){"use strict";var n=require("lodash"),r=require("ymaps");t.DOM.decl({block:"n-map"},{onSetMod:{js:{inited:function(){this.__base(),r.ready(this._initMap,this)}}},getDefaultParams:function(){return e.extend(this.__base.apply(this,arguments),{placemarkPreset:{preset:"islands#blueCircleIcon",iconColor:"#1faee9"},zoomMargin:10,maxZoom:15})},_initMap:function(){var t=this.findElem("map-container")[0];this._map=new r.Map(t,this.params.map),this._createContentCollections(),this._map.options.set("maxZoom",this.params.maxZoom),this.params.hasOwnProperty("points")&&this.params.points.length&&this._createMainMapContent(this.params.points)},_createMainMapContent:function(t,e){e&&this._mainObjects.removeAll(),n.forEach(t,function(t){this._mainObjects.add(this._createPlacemark(t),this)}.bind(this)),this._fitBounds()},_fitBounds:function(){this._map.setBounds(this._mainObjects.getBounds(),{checkZoomRange:!0,zoomMargin:this.params.zoomMargin}).then(function(){this._map.options.unset("maxZoom")}.bind(this))},_createAdditionalMapContent:function(t,e){e&&this._additionalObjects.removeAll(),n.forEach(t,function(t){this._additionalObjects.add(this._createPlacemark(t),this)}.bind(this))},_createPlacemark:function(t){var e=t.properties||{};return new r.Placemark(t.coords,e,t.options||this.params.placemarkPreset)},_createContentCollections:function(){this._mainObjects=new r.GeoObjectCollection,this._map.geoObjects.add(this._mainObjects),this._additionalObjects=new r.GeoObjectCollection,this._map.geoObjects.add(this._additionalObjects)}})}(BEM,jQuery),require.define("GeoUserAddressModel",function(t,e,n,r,i){"use strict";var s=n("backbone");t.exports=s.Model.extend({})}),require.define("GeoUserAddressesCollection",function(t,e,n){"use strict";var r=n("backbone"),i=n("GeoUserAddressModel"),s=n("router"),a=n("user");t.exports=r.Collection.extend({model:i,url:s.buildURL("api:addresses-get"),execute:function(){return a.isAuth&&this.fetch({reset:!0}),this},parse:function(t){return t&&t.data||[]}})}),require.define("GeoPointLayout",function(t,e,n){var r=n("ymaps"),i=n("lodash"),s=n("templater"),a=function(t){this.states=t.states,this.defaultState=t.defaultState||"BASE",this.templateMode=t.templateMode,this.zIndex=t.zIndex,this.zIndexLevelStep=30,this.createPointLayouts()};a.prototype.createPointLayouts=function(){this.styles={},this.pointIconShape={},i.forEach(this.states,function(t,e){this.styles[e]={iconLayout:this.createPointTemplate(e)},this.pointIconShape[e]=this._buildPointIconShape(t.radius)}.bind(this))},a.prototype.createPointTemplate=function(t){var e=t||this.defaultState;return r.templateLayoutFactory.createClass(this.template(e))},a.prototype.template=function(t){return s.render({data:{state:t},mode:this.templateMode})},a.prototype.getPointStyles=function(t){return this.styles[t||this.defaultState]},a.prototype.getPointZIndex=function(t){var e=this.states[t]||this.states[this.defaultState]||{},n=e.zIndexLevel||0;return this.zIndex+n*this.zIndexLevelStep},a.prototype.getPointIconShape=function(t){return this.pointIconShape[t||this.defaultState]},a.prototype.getPointOptions=function(t){var e=this.getPointZIndex(t);return i.defaults({iconShape:this.getPointIconShape(t),zIndex:e,zIndexHover:e},this.getPointStyles(t))},a.prototype._buildPointIconShape=function(t){return{type:"Circle",coordinates:[0,0],radius:t}},t.exports=a}),function(t,e){var n=require("lodash"),r=require("templater"),i=require("GeoUserAddressesCollection"),s=require("GeoPointLayout");t.DOM.decl({block:"n-product-map",baseBlock:"n-map"},{onSetMod:{js:{inited:function(){this.__base(),this._geoUserAddressesCollection=new i}}},_initMap:function(){this.__base(),this._setListeners(),this.params.hasOwnProperty("points")&&this.params.points.length||this.setMod("visible","no"),this._geoUserAddressesCollection.execute()},_setListeners:function(){t.channel("market:filter").on("dataLoaded",e.proxy(this._onDataLoaded,this)),this._geoUserAddressesCollection.on("reset",this._updateAddressPoint,this)},_onDataLoaded:function(t,e){if(e.topOffersOnMap&&e.topOffersOnMap.mapPoints.length>0){var n=this._renderOffers(e.topOffersOnMap);this._updateOffers(n),this._updateMapPoints(e.topOffersOnMap.mapPoints),this.delMod("visible")}else this.setMod("visible","no")},_updateMapPoints:function(t){this._createMainMapContent(t,!0)},_updateOffers:function(e){t.DOM.update(this.elem("offers-list"),e)},_renderOffers:function(t){return r.render({data:t.search,mode:"n-product-map__offers-list"})},_updateAddressPoint:function(t){var e=n.chain(t.models).map(this._createAddressPoint.bind(this)).compact().value();this._createAdditionalMapContent(e,!0)},_createAddressPoint:function(t){var e=this._createAddressPointLayout(t.get("tag"));if(e)return{coords:[t.get("longitude"),t.get("latitude")],options:e.getPointOptions()}},_createAddressPointLayout:function(t){var e;switch(t){case"work":e="n-map-address-point__work";break;case"home":e="n-map-address-point__home"}return new s({templateMode:e,zIndex:3e3,states:{BASE:{radius:12}}})}})}(BEM,jQuery),function(){var t=require("metrika"),e=BEM.channel("n-product-map");e.on("pickup_click",function(){t.emitGoalPoint({productMap:"pickup"})}),e.on("store_click",function(){t.emitGoalPoint({productMap:"store"})}),e.on("point_click",function(){t.emitGoalPoint({productMap:"point"})})}(),function(t){"use strict";var e=require("lodash"),n=require("metrika"),r=require("router"),i=require("templater"),s=864e5,a="settings-notifications-popup";BEM.DOM.decl("n-settings-notifications-popup",{onSetMod:{js:{inited:function(){this._isInteresting()&&(this._preloader=this.findBlockInside("preloadable"),this._popup=this.findBlockInside("popup"),this.show())}}},hide:function(){this._popup.hide(),this.unbindFromWin("scroll",this._onWindowScroll)},show:function(){var e=this.findBlockOn(t(".user"),"user");this._popup.show(e.elem("icon")),n.emitGoalPoint({settingsNotificationsPopup:"show"}),this._updateCookie(),this.bindToWin("scroll",this._onWindowScroll)},_getOptions:function(){var n={},r=t.cookie(a);try{r=JSON.parse(r)}catch(t){r=n}return e.isObject(r)||(r=n),r},_setOptions:function(e){var n;e.isAnswered?n={isAnswered:!0}:(n={showCount:e.showCount},e.showDate instanceof Date&&(n.showDate=Math.round(e.showDate.getTime()/s))),t.cookie(a,JSON.stringify(n),{expires:365,path:"/"})},_getSubmitData:function(){var t=this.findBlocksInside("checkbox").reduce(function(t,e){return t[e.name()]=e.isChecked(),t},{});return{activeEmail:this.params.email,options:JSON.stringify(t)}},_hidePreloader:function(){this._preloader.hidePreloader()},_isInteresting:function(){var e=1,n=t(window);return n.scrollTop()<n.height()*e},_onSubmitDone:function(t){return e.get(t,"status")?(this.elem("content").html(i.render({mode:"n-settings-notifications-popup__success"})),void this._setOptions({isAnswered:!0})):this._onSubmitFail()},_onSubmitFail:function(){this.elem("content").html(i.render({mode:"n-settings-notifications-popup__fail"}))},_onSubmitClick:function(){this._preloader.showPreloader(),t.ajax({type:"post",url:r.buildURL("api:notifications-set-settings"),data:this._getSubmitData(),context:this}).done(this._onSubmitDone).fail(this._onSubmitFail).always(this._hidePreloader)},_onWindowScroll:function(){this._isInteresting()||this.hide()},_updateCookie:function(){var t=this._getOptions();isFinite(t.showCount)?++t.showCount:t.showCount=1,t.showDate=new Date,this._setOptions(t)}},{live:function(){return this.liveBindTo("close","pointerclick",function(){this.hide()}),this.liveBindTo("submit","pointerclick",function(){this._onSubmitClick()}),!1}})}(jQuery);var yr=yr||require("yate/lib/runtime.js");!function(){function t(t,e,n,r){return Ai("color",Ni("subType",e,[]))}function e(t,e,n,r){return Ai("size",Ni("subType",e,[]))}function n(t,e,n,r){return Ai("offer",Ni("entity",e,[]))}function r(t,e,n,r){return Ai("offer",Ni("entity",e,[]))||Ai("regionalDelimiter",Ni("entity",e,[]))}function i(t,e,n,r){return!Ai("medicine_specification",Ni("type",e,[]))}function s(t,e,n,r){return Ai("thumbnail",Ni("entity",e,[]))}function a(t,e,n,r){return Ai(100,Ni("serviceId",e,[]))}function o(t,e,n,r){return!Ai(100,Ni("serviceId",e,[]))}function c(t,e,n,r){return Ri("isDefault",e)}function l(t,e,n,r){return Ai("rating",Ni("id",e,[]))}function u(t,e,n,r){return Ai("with-photo",Ni("id",e,[]))}function d(t,e,n,r){return Ai("Линейка",Ni("name",e,[]))}function p(t,e,n,r){return Ai("Производитель",Ni("name",e,[]))}function h(t,e,n,r){return Ri("checked",e)}function f(t,e,n,r){return Ri("checked",e)&&Ri("value",e)}function _(t,e,n,r){return!Ri("checked",e)&&Ri("value",e)}function m(t,e,n,r){return Ai("found",Ni("id",e,[]))}function v(t,e,n,r){return Ai("chosen",Ni("id",e,[]))}function y(t,e,n,r){return Ai("1",Ni("value",e,[]))}function b(t,e,n,r){return Ai("offer-shipping",Ni("id",e,[]))}function g(t,e,n,r){return(Ai("pickup",Ni("value",e,[]))||Ai("postomat",Ni("value",e,[])))&&Ri("checked",e)}function k(t,e,n,r){return Ri("isActive",e)}function w(t,e,n,r){return Ci(t.s(ld,e))||Ci(t.s(ud,e))||Ci(t.s(dd,e))||Ci(t.s(pd,e))}function E(t,e,n,r){return!Ai("image_picker",Ni("subType",e,[]))&&!Ai("color",Ni("subType",e,[]))}function x(t,e,n,r){return Ri("min",e)||Ri("max",e)}function M(t,e,n,r){return!Ri("image",e)}function A(t,e,n,r){return Ri("name",e)}function T(t,e,n,r){return Ci(t.s(ps,e))||Ri("name",e)}function C(t,e,n,r){return Ci(t.s(ps,e))}function S(t,e,n,r){return Ri("js",e)}function I(t,e,n,r){return Ri("data",e)||Ri("js",e)}function O(t,e,n,r){return Ri("data",e)}function j(t,e,n,r){return Ri("content",e)||Ri("mix",e)}function P(t,e,n,r){return Ai("product",Ni("entity",e,[]))||Ai("offer",Ni("entity",e,[]))}function B(t,e,n,r){return Ai(2,Ni("kind",e,[]))}function D(t,e,n,r){return!Ai("color",Ni("subType",e,[]))&&!Ai("size",Ni("subType",e,[]))}function R(t,e,n,r){return Ai("color",Ni("subType",e,[]))}function N(t,e,n,r){return Ai("enum",Ni("type",e,[]))&&Ai("color",Ni("subType",e,[]))}function L(t,e,n,r){return Ri("count",e)}function F(t,e,n,r){return yr.exists(Ni("description",e,[]))}function U(t,e,n,r){return Ai("accessories",Ni("type",e,[]))}function z(t,e,n,r){return yr.exists(Ni("shopName",e,[]))}function q(t,e,n,r){return 1==Ni("fesh",e,[]).length}function H(t,e,n,r){return Ai("personal-offers",Ni("type",e,[]))}function V(t,e,n,r){return yr.exists(Ni("title",e,[]))}function G(t,e,n,r){return Ai("widget",Ni("entity",e,[]))&&Ai("Roll",Ni("id",e,[]))}function $(t,e,n,r){return Ai("product",Ni("entity",e,[]))}function W(t,e,n,r){return Ai("offer",Ni("entity",e,[]))||Ai("product",Ni("entity",e,[]))}function Y(t,e,n,r){return Ai("category",Ni("entity",e,[]))}function K(t,e,n,r){return"category"==e.name||Ai("category",Ni("entity",e,[]))}function X(t,e,n,r){return"navNode"==e.name||Ai("navnode",Ni("entity",e,[]))}function Q(t,e,n,r){return"product"==e.name||Ai("product",Ni("entity",e,[]))}function J(t,e,n,r){return"offer"==e.name||Ai("offer",Ni("entity",e,[]))}function Z(t,e,n,r){return Ai("offer",Ni("entity",e,[]))||Ai("offer-pack",Ni("entity",e,[]))}function tt(t,e,n,r){return Ri("shop",e)}function et(t,e,n,r){return Ai("navnode",Ni("entity",e,[]))}function nt(t,e,n,r){return Ri("target",e)&&Ri("params",e)}function rt(t,e,n,r){return Ai("article",Ni("target",e,[]))}function it(t,e,n,r){return Ai("brands",Ni("target",e,[]))||Ai("vendor",Ni("target",e,[]))}function st(t,e,n,r){return Ai("collection",Ni("target",e,[]))}function at(t,e,n,r){return Ai("catalogleaf",Ni("target",e,[]))||Ai("catalogmodels",Ni("target",e,[]))}function ot(t,e,n,r){return Ai("list",Ni("target",e,[]))||Ai("clusterlist",Ni("target",e,[]))||Ai("guru",Ni("target",e,[]))}function ct(t,e,n,r){return Ai("catalog",Ni("target",e,[]))||Ai("department",Ni("target",e,[]))}function lt(t,e,n,r){return Ai("search",Ni("target",e,[]))}function ut(t,e,n,r){return Ai("page",Ni("entity",e,[]))&&Ai("article",Ni("type",e,[]))}function dt(t,e,n,r){return Ai("page",Ni("entity",e,[]))&&Ai("collection",Ni("type",e,[]))}function pt(t,e,n,r){return Ai("page",Ni("entity",e,[]))}function ht(t,e,n,r){return Ai("vendor",Ni("entity",e,[]))}function ft(t,e,n,r){return"navnode"==e.name||Ai("navnode",Ni("entity",e,[]))}function _t(t,e,n,r){return Ai("model",Ni("entity",e,[]))&&Ri("category",e)}function mt(t,e,n,r){return Ai("vendor",Ni("entity",e,[]))&&Ri("categories",e)}function vt(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ri("urls",e)}function yt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&!Ri("outdated",e)}function bt(t,e,n,r){return Ai("enum",Ni("type",e,[]))&&Ni("values",e,[]).length>0}function gt(t,e,n,r){return Ai("enum",Ni("type",e,[]))&&Ai("size",Ni("subType",e,[]))}function kt(t,e,n,r){return Mi(Ni("min",e,[]),Ni("max",e,[]))}function wt(t,e,n,r){return Ai("number",Ni("type",e,[]))&&Ci(t.s(Zh,e))}function Et(t,e,n,r){return!Mi(Ni("min",e,[]),Ni("max",e,[]))}function xt(t,e,n,r){return Ai("number",Ni("type",e,[]))&&Ci(t.s(nf,e))}function Mt(t,e,n,r){return!Ai("0",Ni("found",e,[]))}function At(t,e,n,r){return Ai("boolean",Ni("type",e,[]))&&Ci(t.s(af,e))}function Tt(t,e,n,r){return Ai("regionalDelimiter",Ni("entity",e,[]))}function Ct(t,e,n,r){return Ai("adultWarning",Ni("entity",e,[]))}function St(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ri("outdated",e)}function It(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&!Ri("urls",e)}function Ot(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ai("1",t.s(xf,e.doc.root))}function jt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ai("cluster",Ni("type",e,[]))&&Ai("1",t.s(xf,e.doc.root))}function Pt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&1==t.s(If,e).length}function Bt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ai("cluster",Ni("type",e,[]))||Ai("offer",Ni("entity",e,[]))}function Dt(t,e,n,r){return Ci(t.s(sc,e))}function Rt(t,e,n,r){return"offer"===yr.nodeset2data(Ni("entity",e,[]))&&yr.nodeset2data(t.s(Ff,e))===!0&&"real"===yr.nodeset2data(Ni("cpa",e,[]))}function Nt(t,e,n,r){return Ri("isMarketBranded",e)&&Ai(103,Ni("serviceId",e,[]))}function Lt(t,e,n,r){return Ri("serviceName",e)}function Ft(t,e,n,r){return Ci(t.s(Vf,e))||Ri("isForeign",e)}function Ut(t,e,n,r){return Ri("isMarketBranded",e)&&Ai(103,Ni("id",e,[]))}function zt(t,e,n,r){return(Ai("offer",Ni("entity",e,[]))||Ai("product",Ni("entity",e,[])))&&yr.externals["n-has-shop-promo"](t.s(ps,e))}function qt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&yr.externals["n-has-shop-discount"](t.s(Wa,e))}function Ht(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&yr.externals["n-has-shop-discount"](t.s(Wa,e))}function Vt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ri("isNew",e)}function Gt(t,e,n,r){return Ri("isPromotedByVendor",e)}function $t(t,e,n,r){return Ri("gift",e)}function Wt(t,e,n,r){return Ai("default",Ni("type",e,[]))||Ai("cpc",Ni("type",e,[]))}function Yt(t,e,n,r){return Ai("cpa",Ni("type",e,[]))}function Kt(t,e,n,r){return Ai("book-now",Ni("type",e,[]))}function Xt(t,e,n,r){return Ai("book-now-checkout",Ni("type",e,[]))}function Qt(t,e,n,r){return Ai("promoted-by-vendor",Ni("type",e,[]))}function Jt(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&t.f("f120",e,n,r,Ni("type",e,[]))&&!Ri("outdated",e)}function Zt(t,e,n,r){return Ai("tabs-removing",t.n($c,t.v("v23",e.doc.root)))}function te(t,e,n,r){return Ai("tabs-removing",t.n(Z_,t.v("v23",e.doc.root)))}function ee(t,e,n,r){return Ai("user",Ni("entity",e,[]))}function ne(t,e,n,r){return Ai("stock",Ni("type",e,[]))}function re(t,e,n,r){return Ai("subscribe",Ni("action",e,[]))||Ai("change-subscribe",Ni("action",e,[]))}function ie(t,e,n,r){return(Ai("subscribe",Ni("action",e,[]))||Ai("change-subscribe",Ni("action",e,[])))&&Ci(t.s(mm,e))}function se(t,e,n,r){return Ai("unsubscribe",Ni("action",e,[]))||Ai("subscribed",Ni("action",e,[]))||Ai("updated",Ni("action",e,[]))}function ae(t,e,n,r){return Ai("error",Ni("action",e,[]))}function oe(t,e,n,r){return Ai("subscribe",Ni("action",e,[]))&&!Ci(t.s(mm,e))}function ce(t,e,n,r){return Ai("change-subscribe",Ni("action",e,[]))}function le(t,e,n,r){return Ai("unsubscribe",Ni("action",e,[]))}function ue(t,e,n,r){return Ai("subscribed",Ni("action",e,[]))||Ai("updated",Ni("action",e,[]))}function de(t,e,n,r){return Ri("prepayEnabled",e)}function pe(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ri("prepayEnabled",e)}function he(t,e,n,r){return Ai("prepay-enabled",Ni("id",e,[]))}function fe(t,e,n,r){return Ri("warnings",e)}function _e(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ai("cluster",Ni("type",e,[]))&&Ai("1",t.s(xf,e.doc.root))&&Ci(t.s(Sm,e.doc.root))}function me(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ai("1",t.s(xf,e.doc.root))&&Ci(t.s(Sm,e.doc.root))}function ve(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&yr.nodeset2data(Ni("isRecommendedByVendor",e,[]))===!0}function ye(t,e,n,r){return Ni("name",e,[]).length>0&&(!Ai("",Ni("value",e,[]))&&!Ai("--",Ni("value",e,[]))||Ni("values",e,[]).length>0)}function be(t,e,n,r){return Ai("ad",Ni("name",e,[]))}function ge(t,e,n,r){return Ai("show-book-now-only",Ni("id",e,[]))}function ke(t,e,n,r){return Ai("enum",Ni("type",e,[]))}function we(t,e,n,r){return Ai("boolean",Ni("type",e,[]))}function Ee(t,e,n,r){return Ai("1",Ni("id",e,[]))}function xe(t,e,n,r){return Ai("number",Ni("type",e,[]))}function Me(t,e,n,r){return(Ai("offer",Ni("entity",e,[]))||Ai("offer-pack",Ni("entity",e,[])))&&Ci(t.s(ev,e))}function Ae(t,e,n,r){return t.s(av,e).length>0}function Te(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ai("real",Ni("cpa",e,[]))}function Ce(t,e,n,r){return Ai("real",Ni("cpa",e,[]))}function Se(t,e,n,r){return Ai("checkout",Ni("context",e,[]))}function Ie(t,e,n,r){return Ai("offer",Ni("entity",e,[]))||Ri("offer",e)}function Oe(t,e,n,r){return Ai("7d",Ni("returnPolicy",e,[]))}function je(t,e,n,r){return Ai("14d",Ni("returnPolicy",e,[]))}function Pe(t,e,n,r){return Ai("28d",Ni("returnPolicy",e,[]))}function Be(t,e,n,r){return Ai("with_problems",Ni("returnPolicy",e,[]))}function De(t,e,n,r){return Ci(t.s(Vf,e))}function Re(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&yr.externals["n-has-shop-promo"](t.s(ps,e))}function Ne(t,e,n,r){return Ai("carousel",Ni("widgetType",e,[]))}function Le(t,e,n,r){return Ri("showMore",e)}function Fe(t,e,n,r){return t.f("f40",e,n,r,t.s(ps,e))}function Ue(t,e,n,r){return Ri("isForeign",e)||Ci(t.s(Vf,e))}function ze(t,e,n,r){return Ni("*",e,[]).length>0}function qe(t,e,n,r){return 0==Ni("*",e,[]).length}function He(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ci(t.s(Wa,e))}function Ve(t,e,n,r){return(Ai("product",Ni("entity",e,[]))||Ai("offer",Ni("entity",e,[])))&&t.s(Ca,e).length}function Ge(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Di("rating",e)>0}function $e(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&!Ri("outdated",e)}function We(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ai("cluster",Ni("type",e,[]))}function Ye(t,e,n,r){return Ai("OFFER",Ni("type",e,[]))}function Ke(t,e,n,r){return Ai("taggedEntity",Ni("entity",e,[]))}function Xe(t,e,n,r){return Ai("banner",Ni("entity",e,[]))}function Qe(t,e,n,r){return Ai("p",Ni("tag",e,[]))}function Je(t,e,n,r){return Ai("a",Ni("tag",e,[]))}function Ze(t,e,n,r){return Ai("b",Ni("tag",e,[]))}function tn(t,e,n,r){return Ai("br",Ni("tag",e,[]))}function en(t,e,n,r){return Ai("h1",Ni("tag",e,[]))}function nn(t,e,n,r){return Ai("h2",Ni("tag",e,[]))}function rn(t,e,n,r){return Ai("h3",Ni("tag",e,[]))}function sn(t,e,n,r){return Ai("strong",Ni("tag",e,[]))}function an(t,e,n,r){return Ai("em",Ni("tag",e,[]))}function on(t,e,n,r){return Ai("i",Ni("tag",e,[]))}function cn(t,e,n,r){return Ai("u",Ni("tag",e,[]))}function ln(t,e,n,r){return Ai("sup",Ni("tag",e,[]))}function un(t,e,n,r){return Ai("ul",Ni("tag",e,[]))}function dn(t,e,n,r){return Ai("ol",Ni("tag",e,[]))}function pn(t,e,n,r){return Ai("li",Ni("tag",e,[]))}function hn(t,e,n,r){return Ai("table",Ni("tag",e,[]))}function fn(t,e,n,r){return Ai("caption",Ni("tag",e,[]))}function _n(t,e,n,r){return Ai("thead",Ni("tag",e,[]))}function mn(t,e,n,r){return Ai("tbody",Ni("tag",e,[]))}function vn(t,e,n,r){return Ai("tr",Ni("tag",e,[]))}function yn(t,e,n,r){return Ai("td",Ni("tag",e,[]))}function bn(t,e,n,r){return Ai("th",Ni("tag",e,[]))}function gn(t,e,n,r){return Ai("th",Ni("tag",e,[]))&&Ai("thead",t.s($y,e))}function kn(t,e,n,r){return Ai("vendor",Ni("entity",e,[]))&&Di("categoriesCount",e)>1}function wn(t,e,n,r){return Ai("vendor",Ni("entity",e,[]))&&Ai(1,Ni("categoriesCount",e,[]))&&Ri("categories",e)}function En(t,e,n,r){return!Ri("outdated",e)}function xn(t,e,n,r){return Ri("outdated",e)}function Mn(t,e,n,r){return Ai("product",Ni("entity",e,[]))&&Ci(t.s(eb,e))}function An(t,e,n,r){return Ai("entrypoint",Ni("entity",e,[]))&&Ai("rounded-banner",Ni("name",e,[]))&&Ai(325,Ni("width",e,[]))&&Ai(422,Ni("height",e,[]))}function Tn(t,e,n,r){return Ai("entrypoint",Ni("entity",e,[]))&&Ai("banner",Ni("name",e,[]))&&Ai(325,Ni("width",e,[]))&&Ai(422,Ni("height",e,[]))}function Cn(t,e,n,r){return Ni("navnodes",e,[]).length>0}function Sn(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&yr.exists(t.s(xb,e))}function In(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ci(t.s(Wa,e))&&(!yr.exists(t.s(a_,e))||Ci(t.s(i_,e)))}function On(t,e,n,r){return Ai("pageBanners",Ni("type",e,[]))}function jn(t,e,n,r){return Ai(435,Ni("width",e,[]))&&Ai(203,Ni("height",e,[]))}function Pn(t,e,n,r){return Ai(870,Ni("width",e,[]))&&Ai(203,Ni("height",e,[]))}function Bn(t,e,n,r){return Ai("entrypoint",Ni("entity",e,[]))&&Ai("rounded-banner",Ni("name",e,[]))}function Dn(t,e,n,r){return Ai("entrypoint",Ni("entity",e,[]))&&Ai("banner",Ni("name",e,[]))}function Rn(t,e,n,r){return Ri("backgroundPicture",e)}function Nn(t,e,n,r){return Ai("widget",Ni("entity",e,[]))&&Ai("Carousel",Ni("id",e,[]))&&Ci(t.s(ag,e))}function Ln(t,e,n,r){return Ri("preset",e)}function Fn(t,e,n,r){return Ri("title",e)}function Un(t,e,n,r){return Ci(t.s(kg,e))}function zn(t,e,n,r){return Ai("widget",Ni("entity",e,[]))&&Ai("Carousel",Ni("id",e,[]))}function qn(t,e,n,r){return Ni("rows",e,[]).length>1}function Hn(t,e,n,r){return 1==Ni("rows",e,[]).length}function Vn(t,e,n,r){return!yr.exists(t.s(Uc,e))}function Gn(t,e,n,r){return 0==Ci(t.s(mm,e))&&!yr.exists(t.s(Uc,e))}function $n(t,e,n,r){return yr.exists(t.s(Uc,e))}function Wn(t,e,n,r){return 0==Ci(t.s(mm,e))&&yr.exists(t.s(Uc,e))}function Yn(t,e,n,r){return Ri("active",e)}function Kn(t,e,n,r){return yr.exists(t.n(Wg,t.v("v23",e.doc.root)))}function Xn(t,e,n,r){return"redirect"===yr.nodeset2data(t.n(Wg,t.v("v23",e.doc.root)))}function Qn(t,e,n,r){return Ci(t.s(mm,e))}function Jn(t,e,n,r){return Ai("widget",Ni("entity",e,[]))&&(Ai("ProductReviews",Ni("id",e,[]))||Ai("ShopReviews",Ni("id",e,[])))}function Zn(t,e,n,r){return Ni("opinions",e,[]).length>0}function tr(t,e,n,r){return"rating"===yr.nodeset2data(Ni("id",e,[]))}function er(t,e,n,r){return 0==Ni("opinions",e,[]).length}function nr(t,e,n,r){return yr.exists(Ni("pager",e,[]))&&Ni("opinions",e,[]).length>0}function rr(t,e,n,r){return Di("totalReviews",e)>2&&yr.exists(Ni("product",e,[]))&&Ai("product",Ni("reviewPlace",e,[]))}function ir(t,e,n,r){return yr.exists(t.n($c,t.v("v23",e.doc.root)))||yr.exists(t.n(Z_,t.v("v23",e.doc.root)))}function sr(t,e,n,r){return Ci(t.s(bl,e))}function ar(t,e,n,r){return yr.exists(Ni("totalReviews",e,[]))}function or(t,e,n,r){return yr.exists(Ni("totalReviews",e,[]))&&Ai("product",Ni("reviewPlace",e,[]))&&yr.exists(Ni("product",e,[]))}function cr(t,e,n,r){return Ai("with-photo",Ni("id",e,[]))&&Di("found",e)>0}function lr(t,e,n,r){return Ai("with-cpa",Ni("id",e,[]))&&Di("found",e)>0}function ur(t,e,n,r){return Ai("shop",Ni("entity",e,[]))}function dr(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))}function pr(t,e,n,r){return(Ai(t.v("v436",e.doc.root),Ni("moderationState",e,[]))||Ai(t.v("v437",e.doc.root),Ni("moderationState",e,[]))||Ai(t.v("v441",e.doc.root),Ni("moderationState",e,[])))&&!Ri("isGradeOnly",e)&&!Ri("spam",e)}function hr(t,e,n,r){return Ai(t.v("v439",e.doc.root),Ni("moderationState",e,[]))&&!Ai(2,Ni("anonymous",e,[]))&&!Ri("isGradeOnly",e)&&!Ri("spam",e)}function fr(t,e,n,r){return(Ai(t.v("v440",e.doc.root),Ni("moderationState",e,[]))||Ai(t.v("v442",e.doc.root),Ni("moderationState",e,[]))||Ai(t.v("v443",e.doc.root),Ni("moderationState",e,[])))&&!Ri("isGradeOnly",e)&&!Ri("spam",e)}function _r(t,e,n,r){return Ai(t.v("v438",e.doc.root),Ni("moderationState",e,[]))&&!Ri("isGradeOnly",e)&&!Ri("spam",e)}function mr(t,e,n,r){return Ri("spam",e)&&!Ri("isGradeOnly",e)}function vr(t,e,n,r){return Ri("isGradeOnly",e)}function br(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ri("moderationReasonRecommendation",e)}function gr(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ai(2,Ni("anonymous",e,[]))}function kr(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ri("spam",e)&&!Ri("isGradeOnly",e)}function wr(t,e,n,r){return+Di("gradeId",e)>0}function Er(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ai(0,Ni("type",e,[]))}function xr(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&(Ai(1,Ni("type",e,[]))||Ai(2,Ni("type",e,[])))}function Mr(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&!yr.exists(t.s(Bl,e))}function Ar(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ai("1",Ni("anonymous",e,[]))}function Tr(t,e,n,r){return Ai("user",Ni("entity",e,[]))&&Di("grades",e)>1}function Cr(t,e,n,r){return Ai("user",Ni("entity",e,[]))&&yr.exists(Ni("social",e,[]))}function Sr(t,e,n,r){return yr.nodeset2data(Ni("isPublic",e,[]))===!0}function Ir(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&1==Ri("cpa",e)}function Or(t,e,n,r){return Ai("opinion",Ni("entity",e,[]))&&Ri("orderId",e)}function jr(t,e,n,r){return yr.exists(Ni("original",e,[]))}function Pr(t,e,n,r){return Ai("comment",Ni("entity",e,[]))}function Br(t,e,n,r){return Ai("comment",Ni("entity",e,[]))&&"true"===yr.nodeset2data(Ni("deleted",e,[]))}function Dr(t,e,n,r){return Ni("factors",e,[]).length>0||""+yr.nodeset2scalar(Ni("recommend",e,[]))!=""}function Rr(t,e,n,r){return""+yr.nodeset2scalar(Ni("recommend",e,[]))!=""}function Nr(t,e,n,r){return Di("total",e)>0}function Lr(t,e,n,r){return Di("pagesCount",e)>=1}function Fr(t,e,n,r){return Di("page",e)<Di("pagesCount",e)}function Ur(t,e,n,r){return Di("pagesCount",e)>1}function zr(t,e,n,r){return Di("total",e)>=24}function qr(t,e,n,r){return Ni("videos",e,[]).length>0}function Hr(t,e,n,r){return Ni("videos",e,[]).length>1}function Vr(t,e,n,r){return 2==Ni("videos",e,[]).length}function Gr(t,e,n,r){return 3==Ni("videos",e,[]).length}function $r(t,e,n,r){return 4==Ni("videos",e,[]).length}function Wr(t,e,n,r){return Ni("videos",e,[]).length>4}function Yr(t,e,n,r){return Di("articlesCount",e)>0}function Kr(t,e,n,r){return Ai("video",Ni("entity",e,[]))}function Xr(t,e,n,r){return 1==Ni("videos",e,[]).length}function Qr(t,e,n,r){return Ai("widget",Ni("entity",e,[]))&&Ai("JurShopsInfo",Ni("id",e,[]))}function Jr(t,e,n,r){return Ai("ads",Ni("name",e,[]))}function Zr(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&t.f("f211",e,n,r,t.s(ps,e))}function ti(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ri("isPromotedByVendor",e)}function ei(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ci(t.s(Ya,e))}function ni(t,e,n,r){return Ri("values",e)}function ri(t,e,n,r){return Ci(t.s(EE,e))}function ii(t,e,n,r){return Ai("image_picker",Ni("subType",e,[]))}function si(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&(Ai("tabs-removing",t.n($c,t.v("v23",e.doc.root)))||Ai("tabs-removing",t.n(Z_,t.v("v23",e.doc.root))));
}function ai(t,e,n,r){return Ri("isCpa20",e)}function oi(t,e,n,r){return Ai("filter-discount-only",Ni("id",e,[]))&&1==Ci(t.n(Va,t.v("v23",e.doc.root)))}function ci(t,e,n,r){return Ri("vendor",e)}function li(t,e,n,r){return!Ri("checked",e)}function ui(t,e,n,r){return Ai("cpa",Ni("id",e,[]))}function di(t,e,n,r){return Ai("filter-subsidies",Ni("id",e,[]))}function pi(t,e,n,r){return Ai("image_picker",Ni("subType",e,[]))||Ai("color",Ni("subType",e,[]))}function hi(t,e,n,r){return Ri("image",e)||Ri("picker",e)||Ri("code",e)}function fi(t,e,n,r){return Ri("min",e)}function _i(t,e,n,r){return Ri("max",e)}function mi(t,e,n,r){return Ai("true",Ni("checked",e,[]))}function vi(t,e,n,r){return Ci(t.s(ZE,e))||Ci(t.s(tx,e))||Ci(t.s(ex,e))}function yi(t,e,n,r){return"cluster"!==yr.nodeset2data(Ni("type",e,[]))}function bi(t,e,n,r){return t.s(px,e).length}function gi(t,e,n,r){return 0==Ni("results",e,[]).length&&0==Ni("top6",e,[]).length}function ki(t,e,n,r){return!Ai("image_picker",Ni("subType",e,[]))}function wi(t,e,n,r){return Ii(t.s(po,e))>0&&Ai("offer",Ni("entity",e,[]))}function Ei(t,e,n,r){return Ai(0,t.s(po,e))&&Ai("offer",Ni("entity",e,[]))}function xi(t,e,n,r){return yr.exists(Ni("email",e,[]))}var Mi=yr.cmpNN,Ai=yr.cmpSN,Ti=yr.nodeset2xml,Ci=yr.nodeset2boolean,Si=yr.nodeset2attrvalue,Ii=yr.nodeset2scalar,Oi=yr.scalar2attrvalue,ji=yr.xml2attrvalue,Pi=yr.scalar2xml,Bi=yr.xml2scalar,Di=yr.simpleScalar,Ri=yr.simpleBoolean,Ni=yr.selectNametest,Li=yr.closeAttrs,Fi=yr.tagName,Ui=yr.isShort,zi=new yr.Module;zi.f0=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o={a:{}};return Ci(s)?(a+=Li(o),a+=Pi(yr.externals["n-serialize"](s))):(a+=Li(o),a+="{}"),i.a["data-bem"]=new yr.xmlAttr(a),i.a};var qi=[0,"data"];zi.f1=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,yr.object2nodeset(s),"n-bem-block__class",c);var l=o,o="",c={a:{}};o+=t.a(t,0,yr.object2nodeset(s),"n-bem-block__data",c,t.n(qi,yr.object2nodeset(s)));var u=o;return t.f("f3",e,n,r,i,Bi(l),Bi(u)),a+=t.a(t,0,yr.object2nodeset(s),"n-bem-content",i)};var Hi=[0,"*"];zi.f2=function(t,e,n,r,i,s,a){a=void 0===a?[]:a;var o="",c="",l={a:{}};c+=t.a(t,0,t.n(Hi,a),"n-bem-elem__class",l,s);var u=c,c="",l={a:{}};c+=t.a(t,0,t.n(Hi,a),"n-bem-elem__data",l,s);var d=c;return t.f("f3",e,n,r,i,Bi(u),Bi(d)),o+=t.a(t,0,t.n(Hi,a),"n-bem-content",i)},zi.f3=function(t,e,n,r,i,s,a){return s&&(i.a.class=new yr.scalarAttr(s)),a&&(i.a["data-bem"]=new yr.scalarAttr("{"+a+"}")),i.a};var Vi=[0,"tasks",0,"Compass",0,"category"];zi.v10=function(t,e,n,r){return t.s(Vi,e.doc.root)};var Gi=[0,"tasks",0,"Compass",0,"hid"];zi.v11=function(t,e,n,r){return t.s(Gi,e.doc.root)};var $i=[0,"tasks",0,"Compass",0,"nid"];zi.v12=function(t,e,n,r){return t.s($i,e.doc.root)};var Wi=[0,"request",0,"params",0,"productId"];zi.v13=function(t,e,n,r){return t.s(Wi,e.doc.root)};var Yi=[0,"tasks",0,"Compass",0,"navNode"];zi.v14=function(t,e,n,r){return t.s(Yi,e.doc.root)};var Ki=[0,"tasks",0,"Compass",0,"navNode",0,"id"];zi.v15=function(t,e,n,r){return t.s(Ki,e.doc.root)};var Xi=[0,"tasks",0,"Compass",0,"navNode",0,"fullName"];zi.v16=function(t,e,n,r){return t.s(Xi,e.doc.root)};var Qi=[0,"tasks",0,"Compass",0,"navigationPath"];zi.v17=function(t,e,n,r){return t.s(Qi,e.doc.root)};var Ji=[0,"tasks",0,"Compass",0,"navigationCrumbs"];zi.v18=function(t,e,n,r){return t.s(Ji,e.doc.root)};var Zi=[0,"page",0,"id"];zi.v19=function(t,e,n,r){return t.s(Zi,e.doc.root)};var ts=[0,"tasks",0,"ProductInfo"];zi.v20=function(t,e,n,r){return t.s(ts,e.doc.root)};var es=[0,"tasks",0,"ProductInfo",0,"id"];zi.v21=function(t,e,n,r){return t.s(es,e.doc.root)},zi.v22=7893318;zi.v23=function(t,e,n,r){return yr.externals["n-params-expFlags"](Ni("expFlags",e.doc.root,[]))};var ns=[0,"user",0,"region",0,"country"];zi.v24=function(t,e,n,r){return t.s(ns,e.doc.root)};zi.v25=function(t,e,n,r){return yr.externals["n-params-user"](Ni("user",e.doc.root,[]))};var rs=[0,"user",0,"region"];zi.v26=function(t,e,n,r){return t.s(rs,e.doc.root)},zi.f4=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<img class="metrika__pixel" data-params="'+Oi(s)+'"/>'};var is=[0,"size"],ss=[0,"theme"],as=[0,"mode"],os=[0,"for"],cs=[0,"type"],ls=[0,"width"],us=[0,"mods"],ds=[0,"icons"],ps=[1,0],hs=[0,"content"],fs=[0,"mix"],_s=[0,"js"];zi.f5=function(t,e,n,r,i){var s={},a={},o={a:{}},c="";c+=Ci(t.n(is,yr.object2nodeset(i)))?Ii(t.n(is,yr.object2nodeset(i))):"m",a.size=c;var c="";c+=Ci(t.n(ss,yr.object2nodeset(i)))?Ii(t.n(ss,yr.object2nodeset(i))):"normal",a.theme=c,a.mode=yr.nodeset2data(t.n(as,yr.object2nodeset(i))),a.for=yr.nodeset2data(t.n(os,yr.object2nodeset(i))),a.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(i))),a.width=yr.nodeset2data(t.n(ls,yr.object2nodeset(i)));var l=a;s.name="button2",s.mods=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(us,yr.object2nodeset(i))),l);for(var a="",o={a:{}},u=t.n(ds,yr.object2nodeset(i)),d=0,p=u.length;d<p;d++){var h=u[d];a+=t.a(t,0,t.s(ps,h),"n-button2__icon",o,yr.externals["n-nodeset-to-object"](t.s(ps,h)))}return a+=t.a(t,0,t.s(ps,e),"n-button2__text",o,Ii(t.n(hs,yr.object2nodeset(i)))),s.content=a,s.data=yr.nodeset2data(t.n(qi,yr.object2nodeset(i))),s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i))),s.js=Ci(t.n(_s,yr.object2nodeset(i))),s},zi.f6=function(t,e,n,r,i){var s={};return s.name="text",s.content=i,s};var ms=[0,"variable"],vs=[0,"label"],ys=[0,"hint"],bs=[0,"hintDirection"],gs=[0,"class"],ks=[0,"grade"],ws=[0,"inputName"];zi.f7=function(t,e,n,r,i,s){var a="",o="n-rating-stars",c={};if(Ci(t.n(ms,yr.object2nodeset(s)))||Ci(t.n(vs,yr.object2nodeset(s)))){var l={};Ci(t.n(ms,yr.object2nodeset(s)))&&(l.variable=!0),Ci(t.n(vs,yr.object2nodeset(s)))&&(l.label=!0),c[o]=l}if(Ci(t.n(ys,yr.object2nodeset(s)))){var l={};l.content=yr.nodeset2data(t.n(ys,yr.object2nodeset(s))),l.offset=5,Ci(t.n(bs,yr.object2nodeset(s)))&&(l.to=""+yr.nodeset2scalar(t.n(bs,yr.object2nodeset(s)))),c.hint=l}var u=c;a+=Li(i),a+="<div",i.a={},i.s="div";var c="";return c+=o,Ci(t.n(is,yr.object2nodeset(s)))&&(c+=" "+o+"_size_"+Ii(t.n(is,yr.object2nodeset(s)))),Ci(t.n(gs,yr.object2nodeset(s)))&&(c+=" "+Ii(t.n(gs,yr.object2nodeset(s)))),Ci(t.n(ss,yr.object2nodeset(s)))&&(c+=" "+o+"_theme_gray"),Ci(t.n(ys,yr.object2nodeset(s)))&&(c+=" hint"),Ci(t.n(ms,yr.object2nodeset(s)))&&(c+=" i-bem"),i.a.class=new yr.scalarAttr(c),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),Ci(t.n(ks,yr.object2nodeset(s)))&&(i.a["data-rate"]=new yr.scalarAttr(Ii(t.n(ks,yr.object2nodeset(s))))),a+=Li(i),a+=t.f("f8",e,n,r,i,yr.externals["n-merge-objects"](s,function(){var t={};return t.className=o,t}())),Ci(t.n(ws,yr.object2nodeset(s)))&&(a+='<input type="hidden" name="'+Si(t.n(ws,yr.object2nodeset(s)))+'" class="'+Oi(o)+'__value" value="'+Si(t.n(ks,yr.object2nodeset(s)))+'"/>'),Ci(t.n(vs,yr.object2nodeset(s)))&&(a+='<div class="'+Oi(o)+'__label">',Ci(t.n(ks,yr.object2nodeset(s)))&&(a+=yr.externals["n-i18n-map"](t.f("f9",e,n,r,Ii(t.n(cs,yr.object2nodeset(s)))),Ii(t.n(ks,yr.object2nodeset(s))))),a+="</div>"),a+="</div>"},zi.v34=function(t,e,n,r){var i=[];return i.push("1"),i.push("2"),i.push("3"),i.push("4"),i.push("5"),i};var Es=[0,"className"];zi.f8=function(t,e,n,r,i,s){var a="";a+=Li(i);for(var o=t.n(Hi,yr.array2nodeset(t.v("v34",e.doc.root))),c=0,l=o.length;c<l;c++){var u=o[c];a+="<i",i.a={class:new yr.scalarAttr(Ii(t.n(Es,yr.object2nodeset(s)))+"__item")},i.s="i",Ci(t.n(vs,yr.object2nodeset(s)))&&(i.a["data-rate-name"]=new yr.xmlAttr(yr.externals["n-i18n-map"](t.f("f9",u,c,l,Ii(t.n(cs,yr.object2nodeset(s)))),Ii(t.s(ps,u))))),a+=Li(i),a+="</i>"}return a},zi.f9=function(t,e,n,r,i){var s="";return s+="model"==i?"RATING_MODEL":"shop"==i?"RATING_SHOP":"RATING"};var xs=[0,"status"],Ms=[0,"showCutoffDate"],As=[0,"cutoff"],Ts=[0,"qualityRating"],Cs=[0,"description"];zi.f10=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";if(o+=Li(i),Ai("removed",t.n(xs,s)))o+=t.f("f7",e,n,r,i,function(){var t={};return t.grade=0,t.hint="Рейтинг снят по итогам проверки службы качества",t}());else if(Ai("oldshop",t.n(xs,s)))o+='<span class="rating-shop__oldshop-message">',o+="Магазин не размещается",Ci(t.n(Ms,yr.object2nodeset(a)))&&Ci(t.n(As,s))&&(o+=" c ",o+=Pi(yr.externals["n-moment-print-date-hr"](Ii(t.n(As,s)),"YYYY-MM-DD H:mm:ss",0,0))),o+="</span>";else if(Ai("actual",t.n(xs,s))&&Ii(t.n(Ts,s))>0){var c=t.f("f11",e,n,r,i);o+=t.f("f7",e,n,r,i,function(){var e={};return e.grade=yr.nodeset2data(t.n(Ts,s)),e.hint=c,Ci(t.n(gs,yr.object2nodeset(a)))&&(e.class=yr.nodeset2data(t.n(gs,yr.object2nodeset(a)))),Ci(t.n(ss,yr.object2nodeset(a)))&&(e.theme=yr.nodeset2data(t.n(ss,yr.object2nodeset(a)))),Ci(t.n(bs,yr.object2nodeset(a)))&&(e.hintDirection=yr.nodeset2data(t.n(bs,yr.object2nodeset(a)))),Ci(t.n(is,yr.object2nodeset(a)))&&(e.size=yr.nodeset2data(t.n(is,yr.object2nodeset(a)))),e}()),Ci(t.n(Cs,yr.object2nodeset(a)))&&(o+=Ti(t.n(Cs,yr.object2nodeset(a))))}else o+='<span class="n-rating-stars n-rating-stars_type_new rating-shop__newshop-message">',o+="Новый магазин",o+="</span>";return o},zi.f11=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=Li(o),a+='<div class="n-rating-stars__hint">',a+="Общий рейтинг на основе оценок покупателей&lt;br /&gt;",a+="и данных службы качества Маркета&lt;br /&gt;",a+="за последние 3 месяца",a+="</div>";var c=a;return s+=Li(i),s+=Bi(c)},zi.f12=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),a?(o+="Отзывы ",o+='<span class="small">',o+=Pi(s),o+="</span>"):o+=Pi(s)+" "+Pi(yr.externals["n-str-plural"](s,"отзыв","отзыва","отзывов")),o},zi.f13=function(t,e,n,r){var i={};return i.name="tail",i};var Ss=[0,"modal"],Is=[0,"tail"];zi.f14=function(t,e,n,r,i){var s={};s.name="popup2",s.mods=yr.nodeset2data(t.n(us,yr.object2nodeset(i))),s.data=yr.nodeset2data(t.n(qi,yr.object2nodeset(i))),s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i))),s.js=!0;var a="",o={a:{}};return Ci(t.n(Ss,yr.object2nodeset(i)))||(Ci(t.n(Is,yr.object2nodeset(i)))&&(a+=t.a(t,0,t.s(ps,e),"n-popup2__tail",o)),a+=t.a(t,0,t.s(ps,e),"n-popup2__closer",o),a+=t.a(t,0,t.s(ps,e),"n-popup2__content",o,Ii(t.n(hs,yr.object2nodeset(i))))),s.content=a,s},zi.f15=function(t,e,n,r,i){var s={};return s.name="content",s.content=i,s},zi.f16=function(t,e,n,r){var i={};i.name="closer";var s="",a={a:{}};return s+=t.a(t,0,t.s(ps,e),"n-image",a,function(){var t={};return t.name="close",t}()),i.content=s,i};var Os=[0,"name"];zi.f17=function(t,e,n,r,i){var s={};s.name="image";var a={};return a.name=yr.nodeset2data(t.n(Os,yr.object2nodeset(i))),s.mods=a,s};var js=[0,"subType"],Ps=[2,t],Bs=[2,e],Ds=[0,"marks",0,"specifiedForOffer"];zi.f18=function(t,e,n,r,i){function s(t,e,n,r){return!Ai("color",Ni("subType",e,[]))&&!Ai("size",Ni("subType",e,[]))&&yr.nodeset2data(t.s(Ds,e))===!0}function a(t,e,n,r){return!Ai("color",Ni("subType",e,[]))&&!Ai("size",Ni("subType",e,[]))&&yr.nodeset2data(t.s(Ds,e))!==!0}i=void 0===i?[]:i;var o=[],c=[2,s],l=[2,a];return o=yr.externals["n-union"](t.n(Ps,i),yr.externals["n-union"](t.n(Bs,i),yr.externals["n-union"](t.n(c,i),t.n(l,i))))};var Rs=[0,"clear"],Ns=[0,"disabled"],Ls=[0,"live"],Fs=[0,"button"];zi.f19=function(t,e,n,r,i){var s={},a={},o={a:{}};a.size="s",a.clear="no",a.theme="normal";var c=a,a={},o={a:{}};a.id=Bi(yr.externals["n-math-random"]())+Bi(yr.externals["n-math-random"]());var l=a,a={},o={a:{}};Ci(t.n(is,yr.object2nodeset(i)))&&(a.size=yr.nodeset2data(t.n(is,yr.object2nodeset(i)))),Ci(t.n(Rs,yr.object2nodeset(i)))&&(a.clear=yr.nodeset2data(t.n(Rs,yr.object2nodeset(i)))),Ci(t.n(ss,yr.object2nodeset(i)))&&(a.theme=yr.nodeset2data(t.n(ss,yr.object2nodeset(i)))),Ci(t.n(os,yr.object2nodeset(i)))&&(a.for=yr.nodeset2data(t.n(os,yr.object2nodeset(i)))),Ci(t.n(Ns,yr.object2nodeset(i)))&&(a.disabled=yr.nodeset2data(t.n(Ns,yr.object2nodeset(i))));var u=a,d=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(us,yr.object2nodeset(i))),u);s.name="input",s.mods=yr.externals["n-merge-objects"](c,d);var a={},o={a:{}};a.live=Ci(t.n(Ls,yr.object2nodeset(i))),s.data=a;var a="",o={a:{}};return Ci(t.n(vs,yr.object2nodeset(i)))&&(a+=t.a(t,0,t.s(ps,e),"n-input__label",o,Ii(t.n(vs,yr.object2nodeset(i))),yr.externals["n-merge-objects"](l,i))),a+=t.a(t,0,t.s(ps,e),"n-input__box",o,yr.externals["n-merge-objects"](l,i)),Ci(t.n(Fs,yr.object2nodeset(i)))&&(a+=t.a(t,0,t.s(ps,e),"n-button2",o,yr.externals["n-nodeset-to-object"](t.n(Fs,yr.object2nodeset(i))))),s.content=a,s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i))),s.js=Ci(t.n(_s,yr.object2nodeset(i))),s},zi.f20=function(t,e,n,r,i){var s={};s.name="input";var a={};return a.type="hidden",s.mods=a,s},zi.f21=function(t,e,n,r,i){var s={};s.name="box";var a="",o={a:{}};return 1==Ci(t.n(Rs,yr.object2nodeset(i)))&&(a+=t.a(t,0,t.s(ps,e),"n-input__clear",o)),a+=t.a(t,0,t.s(ps,e),"n-input__control",o,i),s.content=a,s},zi.f22=function(t,e,n,r){return"control"},zi.f23=function(t,e,n,r){return"clear"},zi.f24=function(t,e,n,r,i){var s={};return s.name="label",s.content=i,s};var Us=[0,"dataBemParams"],zs=[0,"additionalClasses"],qs=[0,"localContext"],Hs=[0,"autoclosable"],Vs=[0,"adaptive"],Gs=[0,"animate"],$s=[0,"position"],Ws=[0,"underAdditionalClasses"],Ys=[0,"underType"],Ks=[0,"hasTail"],Xs=[0,"hasClose"];zi.f25=function(t,e,n,r,i,s,a){a=void 0===a?[]:a;var o="";o+=Li(i),o+="<div",i.a={},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](t.n(Us,a)));var c="";c+="popup "+Ii(t.n(zs,a))+" i-bem ",Ci(t.n(qs,a))&&(c+=" popup_local-context_"+Ii(t.n(qs,a))+" "),Ci(t.n(Hs,a))&&(c+=" popup_autoclosable_"+Ii(t.n(Hs,a))+" "),Ci(t.n(Vs,a))&&(c+=" popup_adaptive_"+Ii(t.n(Vs,a))+" "),Ci(t.n(Gs,a))&&(c+=" popup_animate_"+Ii(t.n(Gs,a))+" "),Ci(t.n(ss,a))&&(c+=" popup_theme_"+Ii(t.n(ss,a))+" "),Ci(t.n(cs,a))&&(c+=" popup_type_"+Ii(t.n(cs,a))+" "),Ci(t.n($s,a))&&(c+=" popup_position_"+Ii(t.n($s,a))+" "),i.a.class=new yr.scalarAttr(c),o+=Li(i),o+="<div",i.a={},i.s="div";var c="";return c+="popup__under "+Ii(t.n(Ws,a))+" ",Ci(t.n(Ys,a))&&(c+=" popup__under_type_"+Ii(t.n(Ys,a))+" "),i.a.class=new yr.scalarAttr(c),o+=Li(i),o+="</div>",Ci(t.n(Ks,a))&&(o+='<i class="popup__tail"></i>'),Ci(t.n(Xs,a))&&(o+='<i class="popup__close"></i>'),o+='<div class="popup__content">',o+=s,o+="</div>",o+="</div>"};var Qs=[0,"item"],Js=[0,"localContextSelector"],Zs=[0,"popupClass"],ta=[0,"noParanja"],ea=[0,"close"];zi.f26=function(t,e,n,r,i,s,a,o){a=void 0===a?[]:a,o=void 0===o?[]:o;var c="",l={},u={};u.directions=yr.nodeset2data(t.n(Qs,a)),u.localContextSelector=yr.nodeset2data(t.n(Js,o)),l.popup=u;var d=l,l="";1==Ci(t.n(qs,o))&&(l+="popup_local-context_true");var p=l;c+=Li(i),c+="<div",i.a={},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(d)));var l="";return l+="popup "+p+" popup_theme_ffffff popup_autoclosable_yes ",l+="popup_adaptive_yes popup_animate_yes ",Ci(t.n(cs,o))&&(l+="popup_type_"+Ii(t.n(cs,o))+" "),Ci(t.n($s,o))&&(l+="popup_position_"+Ii(t.n($s,o))+" "),l+=Ii(t.n(Zs,o))+" i-bem",i.a.class=new yr.scalarAttr(l),c+=Li(i),c+=1==Ci(t.n(ta,o))?'<iframe frameborder="0" tabindex="-1" src="about:blank" class="popup__under"></iframe>':'<div class="popup__under popup__under_type_paranja"></div>',0!=Ci(t.n(Is,o))&&(c+='<i class="popup__tail"></i>'),0!=Ci(t.n(ea,o))&&(c+='<i class="popup__close"></i>'),c+='<div class="popup__content">',c+=s,c+="</div>",c+="</div>"},zi.f27=function(t,e,n,r,i){var s={};return s.name="text",s.content=yr.nodeset2data(t.n(hs,yr.object2nodeset(i))),s};var na=[0,"place"];zi.f28=function(t,e,n,r,i){var s={};s.name="button";var a={},o={a:{}},c="";c+=Ci(t.n(is,yr.object2nodeset(i)))?Ii(t.n(is,yr.object2nodeset(i))):"m",a.size=c;var c="";c+=Ci(t.n(ss,yr.object2nodeset(i)))?Ii(t.n(ss,yr.object2nodeset(i))):"normal",a.theme=c,a.for=yr.nodeset2data(t.n(os,yr.object2nodeset(i))),a.place=yr.nodeset2data(t.n(na,yr.object2nodeset(i))),s.mods=a,s.data=yr.nodeset2data(t.n(qi,yr.object2nodeset(i))),s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i)));var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"button__text",o,i),s.content=a,s.js=!0,s};var ra=[0,"text"];zi.f29=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<button",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button";var o="";o+="button button_size_m button_theme_normal ",o+=Ii(t.n(gs,yr.object2nodeset(s)))+" i-bem",i.a.class=new yr.scalarAttr(o);var o="";return o+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button__text">',a+=Ti(t.n(ra,yr.object2nodeset(s))),a+="</span>",a+="</button>"};var ia=[0,"crates",0,"*"];zi.f30=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i);for(var o=t.n(ia,s),c=0,l=o.length;c<l;c++){var u=o[c];a+='<script type="application/json" id="TELEPORT['+Oi(u.name)+']">'+Ti(t.s(ps,u))+"</script>"}return a};var sa=[0,"entity"],aa=[0,"results",2,n],oa=[0,"delivery",0,"inStock"],ca=[0,"results",2,r],la=[0,"delivery",0,"isPriorityRegion"],ua=[0,"user",0,"region",0,"id"];zi.f31=function(t,e,n,r,i,s){function a(t,e,n,r){return 1==Ci(t.s(oa,e))}function o(t,e,n,r){return 1==Ci(t.s(la,e))}i=void 0===i?[]:i;for(var c={},l=t.n(aa,i),u=[2,a],d=t.n(u,l).length,p="",h=t.n(ca,i),f=0,_=h.length;f<_;f++){var m=h[f];Ai("regionalDelimiter",Ni("entity",m,[]))&&(p+=f)}var v=p,p="";if(v)p+=v;else{var y=[2,o];p+=t.n(y,l).length}var b=p;c["snippet-list"]="";var p={},g={};return g.place=s,g.inStock=d,g.byRegion=b,g.userRegion=yr.nodeset2data(t.s(ua,e.doc.root)),p.productOffers=g,c.metrika=p,c};var da=[0,"tasks",0,"ContentSecurityPolicy",0,"w-content-security-policy",0,"nonce"];zi.f32=function(t,e,n,r){return Ii(t.s(da,e.doc.root))},zi.f33=function(t,e,n,r,i,s){var a="";if(a+=Li(i),s){var o="yandex_rtb_"+s;a+='<div class="n-rtb">',a+="<noindex>",a+='<div id="'+Oi(o)+'" class="n-rtb__container"></div>',a+='<script nonce="'+Oi(t.f("f32",e,n,r))+'">',a+='\n(function(w, d, n, s, t) {\n    w[n] = w[n] || [];\n    w[n].push(function() {\n        Ya.Context.AdvManager.render({\n            blockId: "',a+=Pi(s),a+='",\nrenderTo: "',a+=Pi(o),a+='",\ncspNonce: "',a+=Pi(t.f("f32",e,n,r)),a+='"\n            });\n        });\n    t = d.getElementsByTagName("script")[0];\n    s = d.createElement("script");\n    s.type = "text/javascript";\n    s.src = "//an.yandex.ru/system/context.js";\n    s.async = true;\n    t.parentNode.insertBefore(s, t);\n    })(this, this.document, "yandexContextAsyncCallbacks");\n',a+="</script>",a+="</noindex>",a+="</div>"}return a};var pa=[0,"closer"];zi.f34=function(t,e,n,r,i){var s={},a={},o={a:{}};a.theme="normal",a.autoclosable="yes";var c=a,a={},o={a:{}};a.zIndexGroupLevel=32;var l=a,u=yr.externals["n-merge-objects"](c,yr.externals["n-nodeset-to-object"](t.n(us,yr.object2nodeset(i)))),d=yr.externals["n-merge-objects"](l,yr.externals["n-nodeset-to-object"](t.n(qi,yr.object2nodeset(i)))),p=yr.externals["n-merge-objects"](u,function(){var e={};return e.theme="",e.background="",yr.exists(t.n(pa,yr.object2nodeset(u)))&&(e.closer="yes"),e}());s.name="modal",s.mods=u,s.data=d,s.mix=t.f("f14",e,n,r,function(){var t={};return t.modal=!0,t.mods=p,t.data=d,t}()),s.js=!0;var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-modal__table",o,Ii(t.n(hs,yr.object2nodeset(i)))),s.content=a,s},zi.f35=function(t,e,n,r,i){var s={};s.name="cell";var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-modal__content",o,i),s.content=a,s},zi.f36=function(t,e,n,r,i){var s={};s.name="content";var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-modal__wrapper",o,i),a+=t.a(t,0,t.s(ps,e),"n-popup2__closer",o),s.content=a,s},zi.f37=function(t,e,n,r,i){var s={};s.name="table";var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-modal__cell",o,i),s.content=a,s},zi.f38=function(t,e,n,r,i){var s={};return s.name="wrapper",s.content=i,s};var ha=[0,"request",0,"cookie",0,"lr"],fa=[0,"request",0,"params",0,"lr"];zi.f39=function(t,e,n,r){var i=[];return Ci(t.s(fa,e.doc.root))?i=t.s(fa,e.doc.root):Ci(t.s(ha,e.doc.root))&&(i=t.s(ha,e.doc.root)),i};var _a=[0,"tasks",0,"DirectUrls",0,"isDirectUrls"],ma=[0,"urls",0,"encrypted"];zi.f40=function(t,e,n,r,i){return i=void 0===i?[]:i,Ci(t.s(_a,e.doc.root))||Ci(t.n(ma,i))},zi.f41=function(t,e,n,r,i,s,a){var o="";if(i&&a){var c=yr.externals["n-str-substr-before"](i,"#"),l=yr.externals["n-str-substr-after"](i,"#"),u="";u+=""!=c?c:i;var d=u;o+=d,o+=yr.externals["n-str-contains"](d,"?")?"&":"?",o+=s+"="+a,l&&(o+="#"+l)}else i&&(o+=i);return o},zi.f42=function(t,e,n,r,i,s){var a="";if(i&&s){var o=yr.externals["n-str-substr-before"](i,"#"),c=yr.externals["n-str-substr-after"](i,"#"),l="";l+=""!=o?o:i;var u=l;a+=u,a+=yr.externals["n-str-contains"](u,"?")?"&":"?",a+=s,c&&(a+="#"+c)}else i&&(a+=i);return a};var va=[0,"requestParams",0,"is-global-shop"],ya=[0,"request",0,"params",0,"is-global-shop"];zi.f43=function(t,e,n,r,i){var s=[];return s=Ci(t.n(va,yr.object2nodeset(i)))?t.n(va,yr.object2nodeset(i)):t.s(ya,e.doc.root)};var ba=[0,"isPromotedByVendor"],ga=[0,"cpa"],ka=[0,"urls",0,"offercard"];zi.f44=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a=!1;return a=!!Ci(t.n(ka,s))&&(!!Ci(t.n(ba,s))||!(!Ai("real",t.n(ga,s))||"offer-card"!=i&&t.f("f40",e,n,r,s)))},zi.f45=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="",c={a:{}};t.f("f44",e,n,r,i,s)?o+=t.a(t,0,s,"i-link__offer-card",c):t.f("f40",e,n,r,s)&&(o+=t.a(t,0,s,"i-link__offer",c));var l=o;return a+=Bi(l)},zi.f46=function(t,e,n,r,i,s){var a="";return a+=i&&s?3:i||s?4:5};var wa=[0,"contentType"],Ea=[0,"bold"],xa=[0,"url"];zi.f47=function(t,e,n,r,i){var s={},a=Ci(t.n(wa,yr.object2nodeset(i)))||"html";s.name="title";var o={},c={a:{}};o.size=yr.nodeset2data(t.n(is,yr.object2nodeset(i))),Ci(t.n(Ea,yr.object2nodeset(i)))&&(o.bold=yr.nodeset2data(t.n(Ea,yr.object2nodeset(i)))),s.mods=o;var o="",c={a:{}};return Ci(t.n(xa,yr.object2nodeset(i)))?o+=t.a(t,0,t.s(ps,e),"n-link",c,function(){var e={};return e.url=yr.nodeset2data(t.n(xa,yr.object2nodeset(i))),e.content=yr.nodeset2data(t.n(hs,yr.object2nodeset(i))),e}()):(o+=Li(c),o+="html"===a?Ii(t.n(hs,yr.object2nodeset(i))):Ti(t.n(hs,yr.object2nodeset(i)))),s.content=o,s};var Ma=[0,"rating"];zi.f48=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("snippet-card__view")},i.s="div",o+=t.a(t,0,s,"n-snippet-card__image",i,a),o+=Li(i),Ai("product",t.n(sa,s))&&Ii(t.n(Ma,s))>0&&(o+=t.f("f121",e,n,r,i,Ii(t.n(Ma,s)),function(){var t={};return t.outline=!0,t}())),o+="</div>"};var Aa=[0,"hideKindParams"],Ta=[0,"track"],Ca=[0,"warnings",2,i],Sa=[0,"clickActionType"],Ia=[0,"productFilters"],Oa=[0,"showSubHeaderCategory"],ja=[0,"shop"],Pa=[0,"requestParams"];zi.f49=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c={},l={a:{}};c.hideKindParams=Ci(t.n(Aa,a)),Ci(t.n(Ta,a))&&(c.track=yr.nodeset2data(t.n(Ta,a)));var u=c,c="",l={a:{}};c+=t.a(t,0,t.s(Ca,e),"n-warning",l);var d=c;return o+=Li(i),o+='<div class="snippet-card__content">',o+='<div class="snippet-card__table">',o+='<div class="snippet-card__row">',o+='<div class="snippet-card__col">',o+=t.f("f61",e,n,r,i,s,a),o+=t.f("f52",e,n,r,i,s,yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Ta,a)),e.clickActionType=yr.nodeset2data(t.n(Sa,a)),e.productFilters=yr.nodeset2data(t.n(Ia,a)),e.isFullHeader=!0,e}())),Ci(t.n(Oa,a))&&(o+=t.f("f53",e,n,r,i,s,"srchlink")),o+=t.a(t,0,s,"n-snippet-card__desc",i,u),o+="</div>",o+="</div>",o+='<div class="snippet-card__row">',o+='<div class="snippet-card__col">',Ai("offer",t.n(sa,s))&&Ci(t.n(ja,s))&&(o+=t.f("f62",e,n,r,i,s,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,a)),e.filters=yr.nodeset2data(t.n(Ia,a)),e}()),o+=t.f("f63",e,n,r,i,s)),d&&(o+='<div class="n-snippet-card__warnings">',o+=d,o+="</div>"),o+=t.f("f54",e,n,r,i,s,"srchlink",yr.object2nodeset(function(){var e={};return e.requestParams=yr.nodeset2data(t.n(Pa,a)),e}())),o+="</div>",o+="</div>",o+="</div>",o+="</div>"};var Ba=[0,"titles",0,"raw"];zi.f50=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<span class="snippet-card__header-text">',a+=Ai("market:list",t.v("v19",e.doc.root))&&t.f("f51",e,n,r,Ii(t.v("v12",e.doc.root)))?Pi(t.f("f65",e,n,r,s,Ii(t.n(Ba,s)))):t.f("f64",e,n,r,i,s,!0),a+="</span>"},zi.f51=function(t,e,n,r,i){return i%3==2};var Da=[0,"showUid"],Ra=[0,"isFullHeader"],Na=[0,"outdated"];zi.f52=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=!1;c=t.f("f44",e,n,r,Ii(t.n(Sa,a)),s);var l=c,c="",u={a:{}};Ai("product",t.n(sa,s))?c+=t.a(t,0,s,"i-link__product_place_search",u,function(){var e={};return Ci(t.n(Ta,a))&&(e.track=yr.nodeset2data(t.n(Ta,a))),Ci(t.n(Da,s))&&(e["show-uid"]=yr.nodeset2data(t.n(Da,s))),e}()):Ai("offer",t.n(sa,s))&&(c+=Li(u),c+=Pi(t.f("f45",e,n,r,Ii(t.n(Sa,a)),s)));var d=c,p=t.f("f64",e,n,r,i,s,!0),h=t.f("f65",e,n,r,s,Ii(t.n(Ba,s)));if(o+=Li(i),o+="<h3",i.a={class:new yr.scalarAttr("snippet-card__header")},i.s="h3",Ci(t.n(Ra,a))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__header_type_full"):i.a.class=new yr.scalarAttr(" snippet-card__header_type_full")}if(o+=t.a(t,0,s,"n-snippet-card__header-extra",i),o+=Li(i),Ci(Ni("outdated",e,[])))o+=p;else if(Ai("details",t.n(Sa,a))){o+="<span",i.a={class:new yr.scalarAttr("snippet-card__header-link shop-history__link link i-bem")},i.s="span";var f=i.a.class;f?i.a.class=f.addscalar(" n-snippet-card__header-link n-i-offer-details-button"):i.a.class=new yr.scalarAttr(" n-snippet-card__header-link n-i-offer-details-button"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.offer=yr.externals["n-safe-offer"](s,function(){var t=[];return t.push("description"),t}()),n.filters=yr.nodeset2data(t.n(Ia,a)),n.entityType="snippet",e["n-i-offer-details-button"]=n,e}()))),o+=Li(i),o+=t.f("f50",e,n,r,i,s),o+="</span>"}else d?(o+="<a",i.a={class:new yr.scalarAttr("snippet-card__header-link shop-history__link link"),href:new yr.scalarAttr(Bi(d)),title:new yr.scalarAttr(h)},i.s="a",Ai("offer",t.n(sa,s))&&!l&&(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),o+=Li(i),o+=t.f("f50",e,n,r,i,s),o+="</a>"):o+=p;return Ai("product",t.n(sa,s))&&(o+="<div",i.a={class:new yr.scalarAttr("stickers")},i.s="div",o+=t.a(t,0,s,"n-stickers__sticker_type_new",i),o+=Li(i),o+="</div>"),o+="</h3>"},zi.f53=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=[0,"categories",3,0,0,"name"];if(o+=Li(i),Ci(t.n(c,s))){var l=[0,"categories",3,0,0,"name"];o+='<div class="snippet-card__subheader">',o+="<a",i.a={class:new yr.scalarAttr("snippet-card__subheader-link link")},i.s="a";var u="",d={a:{}};u+=t.a(t,0,t.s(ps,e),"i-link__category",d,function(){var t={};return a&&(t.track=a),t}()),i.a.href=new yr.xmlAttr(u),o+=Li(i),o+=Ti(t.n(l,s)),o+="</a>",o+="</div>"}return o};var La=[0,"model",0,"type"],Fa=[0,"model",0,"offers",0,"count"],Ua=[0,"opinions"],za=[0,"bundleCount"];zi.f54=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="";return c+=Li(i),c+='<div class="snippet-card__menu">',Ai("modification",t.n(La,s))&&Ii(t.n(Fa,s))>0&&(c+=t.f("f55",e,n,r,i,s)),Ai("product",t.n(sa,s))&&Ii(t.n(Ua,s))>0&&(c+=t.f("f56",e,n,r,i,s)),Ai("offer",t.n(sa,s))&&Ii(t.n(za,s))>1&&(c+=t.f("f57",e,n,r,i,s,a,o)),c+=t.f("f58",e,n,r,i,s),c+="</div>"};var qa=[0,"model"];zi.f55=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+='<div class="snippet-card__menu-item">',a+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.n(qa,s),"i-link__product",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+="О модификации",a+="</a>",a+="</div>"},zi.f56=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+='<div class="snippet-card__menu-item">',a+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor link_type_reviews")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,s,"i-link__product-reviews_place_search",c,function(){var e={};return e.track="srchlink",Ci(t.n(Da,s))&&(e["show-uid"]=yr.nodeset2data(t.n(Da,s))),e}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+="Отзывы ",a+='<span class="small">',a+=Ti(t.n(Ua,s)),a+="</span>",a+="</a>",a+="</div>"},zi.f57=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="";c+=Li(i),c+='<div class="snippet-card__menu-item">',c+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor link_type_fesh n-smart-link i-bem")},i.s="a";var l="",u={a:{}};l+=Li(u),l+='{"n-smart-link": {"subscriptions": ["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(l);var l="",u={a:{}};return l+=t.a(t,0,s,"i-link__offer__shop-offers",u,function(){var e={};return e.grhow="offer",a&&(e.track=a),e.requestParams=yr.nodeset2data(t.n(Pa,o)),e}()),i.a.href=new yr.xmlAttr(l),c+=Li(i),c+="Ещё "+Ti(t.n(za,s))+" "+Pi(yr.externals["n-str-plural"](Ii(t.n(za,s)),"предложение","предложения","предложений")),c+="</a>",c+="</div>"};var Ha=[0,"wish"];zi.f58=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-card__menu-item")},i.s="div",a+=t.a(t,0,s,"n-product-toolbar",i,function(){var e={};return e.withLabel=!0,e.withCompare=!0,e.withPhone=!0,Ci(t.n(Ha,s))&&(e.withLabelsButton=!0,e.withRemove=!0,e.withoutWishList=!0),e}()),a+=Li(i),a+="</div>"},zi.f59=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-card__price")},i.s="div",a+=t.f("f81",e,n,r,i,s,function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</div>"};var Va=[0,"dsk_discount_disable"],Ga=[0,"prices",0,"max"],$a=[0,"prices",0,"min"],Wa=[0,"prices",0,"discount"];zi.f60=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),l=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));return o+=Li(i),o+='<div class="snippet-card__subprice">',!Ci(t.n(Wa,s))||l||c?Ci(t.n(Ga,s))&&!Mi(t.n($a,s),t.n(Ga,s))&&(o+=t.f("f74",e,n,r,i,s)):(o+="<div",i.a={class:new yr.scalarAttr("stickers")},i.s="div",o+=t.a(t,0,s,"n-stickers__sticker_type_discount",i,a),o+=Li(i),o+="</div>",Ai("offer",t.n(cs,s))&&(Mi(t.n($a,s),t.n(Ga,s))?(o+='<div class="price price_unactual_yes">',o+=t.f("f76",e,n,r,i,s),o+="</div>"):(o+='<div class="price price_unactual_yes">',o+=t.f("f77",e,n,r,i,s),o+="</div>"))),o+="</div>"},zi.f61=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="";return o+=Li(i),yr.externals["n-has-shop-promo"](s)&&(o+="<div",i.a={class:new yr.scalarAttr("snippet-card__promo")},i.s="div",o+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withPopupOfferInfo=!0,t.entityType="snippet",t}()),o+=Li(i),o+="</div>"),o};var Ya=[0,"shop",0,"name"];zi.f62=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=!1;c=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(a))),s);var l=c,c="";c+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(a))),s);var u=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-snippet-card__shop snippet-card__shop")},i.s="div",o+=t.a(t,0,s,"n-shop-bonus_type_recommend",i),o+=t.a(t,0,s,"n-foreign-shop-country",i),o+=Li(i),t.f("f40",e,n,r,s)||l){o+="<a",i.a={class:new yr.scalarAttr("link link_outer_yes link_theme_outer link_type_shop-name"),href:new yr.scalarAttr(u),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var d=i.a.class;d?i.a.class=d.addscalar(" snippet-card__shop-name n-snippet-card__shop-name shop-history__link"):i.a.class=new yr.scalarAttr(" snippet-card__shop-name n-snippet-card__shop-name shop-history__link"),o+=Li(i),o+=Ti(t.n(Ya,s)),o+="</a>"}else o+='<span class="snippet-card__shop-name n-snippet-card__shop-name">',o+=Ti(t.n(Ya,s)),o+="</span>";return o+=t.f("f113",e,n,r,i,s),o+="</div>"};var Ka=[0,"delivery",0,"isDownloadable"],Xa=[0,"seller",0,"comment"],Qa=[0,"manufacturer",0,"warranty"],Ja=[0,"manufacturer",0,"country"];zi.f63=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),Ci(t.n(Ka,s))&&(a+='<div class="snippet-card__shop-info">',a+="Загрузка через интернет",a+="</div>"),Ci(t.n(Xa,s))&&(a+='<div class="snippet-card__shop-info">',a+=Ti(t.n(Xa,s)),a+="</div>"),(Ci(t.n(Qa,s))||Ci(t.n(Ja,s)))&&(a+='<div class="snippet-card__shop-info">',Ci(t.n(Qa,s))&&(a+="Гарантия производителя",
Ci(t.n(Ja,s))&&(a+=". ")),Ci(t.n(Ja,s))&&(a+="Производство: ",a+=Ti(t.n(Ja,s))),a+="</div>"),a};var Za=[0,"titles",0,"highlighted"],to=[0,"value"];zi.f64=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0!==a&&a;var o="";if(o+=Li(i),a&&t.n(Za,s).length>=1)for(var c=t.n(Za,s),l=0,u=c.length;l<u;l++){var d=c[l],p=yr.externals["n-sanitize-html"](Di("value",d));o+=Ri("highlight",d)?"<strong>"+p+"</strong>":p}else o+=yr.externals["n-sanitize-html"](Ii(t.n(Ba,s)));return o};var eo=[0,"lingua",0,"type",0,"nominative"];zi.f65=function(t,e,n,r,i,s){i=void 0===i?[]:i;var a="";return a+=Ci(t.n(eo,i))?yr.externals["n-str-capitalize"](yr.externals["n-normalize-space"](Ii(t.n(eo,i))))+" "+s:yr.externals["n-str-capitalize"](s)};var no=[0,"src"],ro=[0,"alt"],io=[0,"isStub"];zi.f66=function(t,e,n,r,i,s,a,o,c,l){s=void 0===s?[]:s,a=void 0===a?150:a,o=void 0!==o&&o,c=void 0!==c&&c,l=void 0===l||l;var u="",d=yr.externals["n-picture-url"](s,a),p=t.f("f64",e,n,r,i,s),h=t.f("f65",e,n,r,s,Bi(p)),f={};d?(f.src=d,f.class="image",f.title=p,f.alt=h,f.isStub=!1):(f.src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",f.class="image image_mode_noimage",f.title="Изображение отсутствует",f.alt="Изображение отсутствует",f.isStub=!0);var _=f;return u+=Li(i),o?(u+="<img",i.a={class:new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(_))))},i.s="img",Ci(t.n(io,yr.object2nodeset(_)))?i.a.src=new yr.scalarAttr(Ii(t.n(no,yr.object2nodeset(_)))):(i.a.src=new yr.scalarAttr("//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"),i.a["data-src-lazy-loading"]=new yr.scalarAttr(Ii(t.n(no,yr.object2nodeset(_))))),i.a.alt=new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(_)))),l&&(i.a.title=new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(_))))),c&&(u+=t.a(t,0,s,"n-picture__srcset",i,a,t.n(no,yr.object2nodeset(_)))),u+=Li(i),u+=""):l?(u+="<img",i.a={class:new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(_)))),src:new yr.scalarAttr(Ii(t.n(no,yr.object2nodeset(_)))),title:new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(_)))),alt:new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(_))))},i.s="img",c&&(u+=t.a(t,0,s,"n-picture__srcset",i,a,t.n(no,yr.object2nodeset(_)))),u+=Li(i),u+=""):(u+="<img",i.a={class:new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(_)))),src:new yr.scalarAttr(Ii(t.n(no,yr.object2nodeset(_)))),alt:new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(_))))},i.s="img",c&&(u+=t.a(t,0,s,"n-picture__srcset",i,a,t.n(no,yr.object2nodeset(_)))),u+=Li(i),u+=""),u};var so=[0,"selectedThumb"],ao=[0,"id"],oo=[0,"thumbnails",2,s];zi.f67=function(t,e,n,r,i,a,o,c){function l(t,e,n,r){return Ai("thumbnail",Ni("entity",e,[]))&&Mi(t.n(so,i),Ni("id",e,[]))}function u(t,e,n,r){return Ai("density",Ni("entity",e,[]))&&Ai(a,Ni("id",e,[]))}function d(t,e,n,r){return Ai("thumbnail",Ni("entity",e,[]))&&Ai(o,Ni("containerWidth",e,[]))&&Ai(c,Ni("containerHeight",e,[]))}i=void 0===i?[]:i;var p="";if(o&&c){var h=[0,"thumbnails",2,d,3,0,0,"densities",2,u,3,0,0,"url"];p+=Ii(t.n(h,i))}else if(Ci(t.n(so,i))){var f=[0,"thumbnails",2,l,3,0,0,"densities",2,u,3,0,0,"url"];p+=Ii(t.n(f,i))}else if(Ci(t.n(oo,i))){var _=[0,"thumbnails",2,s,3,0,0,"densities",2,u,3,0,0,"url"];p+=Ii(t.n(_,i))}else p+=Ii(t.n(xa,i));return p};var co=[0,"height"],lo=[0,"defaultSrc"];zi.f68=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.f("f67",e,n,r,s,"1",Ii(t.n(ls,yr.object2nodeset(a))),Ii(t.n(co,yr.object2nodeset(a)))),l=t.f("f67",e,n,r,s,"2",Ii(t.n(ls,yr.object2nodeset(a))),Ii(t.n(co,yr.object2nodeset(a))));if(o+=Li(i),c||Ci(t.n(lo,yr.object2nodeset(a)))){if(o+="<img",i.a={class:new yr.scalarAttr("image")},i.s="img",Ci(t.n(gs,yr.object2nodeset(a)))){var u=i.a.class;u?i.a.class=u.addscalar(" "+Ii(t.n(gs,yr.object2nodeset(a)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(gs,yr.object2nodeset(a))))}var d="";d+=c?c:Ii(t.n(lo,yr.object2nodeset(a))),i.a.src=new yr.scalarAttr(d),l&&(i.a.scrset=new yr.scalarAttr(l+" 2x")),o+=Li(i),o+=""}return o};var uo=[0,"prices",0,"avg"],po=[0,"prices",0,"value"],ho=[0,"prices",0,"currency"];zi.f69=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=[];o=Ai("offer",t.n(sa,s))?Ci(t.n($a,s))?t.n($a,s):t.n(po,s):t.n(uo,s);var c=o,l=t.n(ho,s);return a+=Li(i),Ci(t.n($a,s))&&!Mi(t.n($a,s),t.n(Ga,s))&&(a+="от "),a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(c),t.currency=yr.nodeset2data(l),t}())},zi.f70=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n($a,s),c=t.n(ho,s);return a+=Li(i),a+="от ",a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(o),t.currency=yr.nodeset2data(c),t}())},zi.f71=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n(Ga,s),c=t.n(ho,s);return a+=Li(i),a+="до ",a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(o),t.currency=yr.nodeset2data(c),t}(),!0)},zi.f72=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n($a,s),c=t.n(ho,s);return a+=Li(i),a+="от ",a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(o),t.currency=yr.nodeset2data(c),t}(),!0)},zi.f73=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=[];o=Ai("offer",t.n(sa,s))?t.n(po,s):t.n(uo,s);var c=o,l=t.n(ho,s);return a+=Li(i),a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(c),t.currency=yr.nodeset2data(l),t}())},zi.f74=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n(Ga,s),c=t.n(ho,s);return a+=Li(i),a+="до ",a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(o),t.currency=yr.nodeset2data(c),t}())};var fo=[0,"prices",0,"discount",0,"oldMin"];zi.f75=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n(fo,s),c=t.n(ho,s);return a+=Li(i),a+=t.f("f78",e,n,r,i,function(){var t={};return t.value=yr.nodeset2data(o),t.currency=yr.nodeset2data(c),t}(),!0,!0)},zi.f76=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";t.n(fo,s),t.n(ho,s);return a+=Li(i),a+=t.f("f78",e,n,r,i,function(){var e={};return e.value=yr.nodeset2data(t.n(fo,s)),e.currency=yr.nodeset2data(t.n(ho,s)),e}(),!1,!0)},zi.f77=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+="от ",a+=t.f("f78",e,n,r,i,function(){var e={};return e.value=yr.nodeset2data(t.n(fo,s)),e.currency=yr.nodeset2data(t.n(ho,s)),e}(),!1,!0)};var _o=[0,"currency"];zi.f78=function(t,e,n,r,i,s,a,o){o=void 0!==o&&o;var c="",l="";l+=a?"":Bi(" ")+Bi(yr.externals["n-i18n"](Ii(t.n(_o,yr.object2nodeset(s)))));var u=l,l="";l+=Ai("BYN",t.n(_o,yr.object2nodeset(s)))?Bi(yr.externals["n-str-format-price-without-round"](Ii(t.n(to,yr.object2nodeset(s)))))+u:Bi(yr.externals["n-str-format-price"](Ii(t.n(to,yr.object2nodeset(s)))))+u;var d=l;if(c+=Li(i),c+="<span",i.a={class:new yr.scalarAttr("price")},i.s="span",o){var p=i.a.class;p?i.a.class=p.addscalar(" price_unactual_yes"):i.a.class=new yr.scalarAttr(" price_unactual_yes")}return c+=Li(i),c+=Pi(d),c+="</span>"},zi.f79=function(t,e,n,r,i,s,a){var o="";if(0==i)o+=a;else{var c=yr.externals["n-str-format-price"](i)+" "+yr.externals["n-str-currency"](s);o+=c}return o};var mo=[0,"betterPrice",0,"priceDifference"],vo=[0,"betterPrice",0,"theirPrice"];zi.f80=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+=yr.externals["n-math-round"](Ii(t.n(mo,s))/Ii(t.n(vo,s))*100)};var yo=[0,"discount"],bo=[0,"isNew"],go=[0,"prices"];zi.f81=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=!1;yr.exists(t.n(yo,yr.object2nodeset(a)))?c+=Ci(t.n(yo,yr.object2nodeset(a))):c=!!Ai("offer",t.n(sa,s));var l=c;return Ci(t.n(go,s))?o+=t.a(t,0,t.n(go,s),"n-price__html-wrapper",i,function(){var t={},e={},n={};n.required=!0,e.currency=n,t.price=e;var e={};e.required=l;var n={};return n.required=!0,e.currency=n,t.discount=e,t}()):Ci(t.n(bo,s))?(o+=Li(i),o+="Скоро в продаже"):(o+=Li(i),o+="Нет в продаже"),o};var ko=[0,"delivery",0,"pickupOptions"],wo=[0,"delivery",0,"options"];zi.f82=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}};"delivery"==a?c+=t.a(t,0,t.n(wo,s),"n-delivery-popup__options-table-row",l):"pickup"==a?c+=t.a(t,0,t.n(ko,s),"n-delivery-popup__pickup-options-table-row",l):"shops"==a?(c+=Li(l),c+=t.f("f83",e,n,r,l,s)):"postomat"==a&&(c+=t.a(t,0,t.n(ko,s),"n-delivery-popup__postomat-options-table-row",l));var u=c;return o+=Li(i),u&&(o+='<table class="n-delivery-popup__options-table">',o+="<tbody>",o+=u,o+="</tbody>",o+="</table>"),o};var Eo=[0,"shop",0,"storesCount"],xo=[0,"shop",0,"bookNowStoresCount"];zi.f83=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="";o+=Ci(t.n(Eo,s))?Ii(t.n(Eo,s)):0;var c=o,o="";o+=Ci(t.n(xo,s))?Ii(t.n(xo,s)):0;var l=o,o="";o+=c&&l?c-l:0;var u=o;return a+=Li(i),u>0&&(a+="<tr>",a+="<td>",a+=Pi(u)+" "+Pi(yr.externals["n-str-plural"](u,"магазин","магазина","магазинов")),a+="</td>",a+="<td>Наличие уточняйте</td>",a+="</tr>"),l>0&&(a+="<tr>",a+="<td>",a+=Pi(l)+" "+Pi(yr.externals["n-str-plural"](l,"магазин","магазина","магазинов")),a+="</td>",a+="<td>В наличии прямо сейчас</td>",a+="</tr>"),a};var Mo=[0,"urls",0,"pickupGeo"],Ao=[0,"urls",0,"postomatGeo"],To=[0,"urls",0,"storeGeo"];zi.f84=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}};"store"==a&&Ci(t.n(To,s))?c+=t.a(t,0,s,"i-link__offer__store-geo",l):"pickup"==a&&Ci(t.n(Mo,s))?c+=t.a(t,0,s,"i-link__offer__pickup-geo",l):"postomat"==a&&Ci(t.n(Ao,s))&&(c+=t.a(t,0,s,"i-link__offer__postomat-geo",l));var u=c;return o+=Li(i),u&&(o+='<a class="button button_theme_pseudo button_size_xs outlets-button" href="'+ji(u)+'">',o+='<span class="button__text">Посмотреть на карте</span>',o+="</a>"),o},zi.f85=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-delivery-popup__postomats-link">',s+="<a",i.a={class:new yr.scalarAttr("link i-bem"),title:new yr.scalarAttr("Подробнее о Почтоматах"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("https://market.yandex.ru/articles/pochtomaty-marketa"),s+=Li(i),s+="Подробнее о Почтоматах",s+="</a>",s+="</div>"};var Co=[0,"list"];zi.f86=function(t,e,n,r,i,s,a){var o="";o+=Li(i),o+="<ul",i.a={role:new yr.scalarAttr("tablist")},i.s="ul",i.a.class=new yr.scalarAttr("tabs-menu tabs-menu_size_m tabs-menu_theme_normal tabs-menu_layout_horiz tabs__control i-bem");var c="",l={a:{}};return c+=Li(l),c+='{"tabs-menu":{}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=t.a(t,0,t.n(Co,yr.object2nodeset(s)),"n-delivery-popup-tab",i,a),o+=Li(i),o+="</ul>"},zi.f87=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+=t.f("f82",e,n,r,i,s,"delivery"),a+=Bi(t.f("f91",e,n,r,i,s)),a+=t.a(t,0,s,"n-foreign-shop-jur",i,function(){var t={};return t.type="popup",t}())},zi.f88=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+=t.f("f82",e,n,r,i,s,"pickup"),yr.exists(t.n(Mo,s))&&(a+=Bi(t.f("f84",e,n,r,i,s,"pickup"))),a},zi.f89=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="";o+=Ci(t.n(Eo,s))?Ii(t.n(Eo,s)):0;var c=o,o="";o+=Ci(t.n(xo,s))?Ii(t.n(xo,s)):0;var l=o;return a+=Li(i),a+=t.f("f82",e,n,r,i,s,"shops"),(c>0||l>0)&&yr.exists(t.n(To,s))&&(a+=Bi(t.f("f84",e,n,r,i,s,"store"))),a},zi.f90=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="n-delivery-popup__postomats">',a+='<div class="image image_name_postomats"></div>',a+=t.f("f82",e,n,r,i,s,"postomat"),yr.exists(t.n(Ao,s))&&(a+=Bi(t.f("f84",e,n,r,i,s,"postomat"))),a+=t.f("f85",e,n,r,i),a+="</div>"};var So=[0,"delivery"];zi.f91=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return Ci(t.n(la,s))||(a+=t.a(t,0,t.n(So,s),"n-delivery-popup__services",i)),a};var Io=[0,"availableServices"],Oo=[0,"availableServices",2,a],jo=[0,"isPriorityRegion"],Po=[0,"availableServices",2,o],Bo=[0,"options"];zi.f92=function(t,e,n,r,i){i=void 0===i?[]:i;var s=!1,a=t.n(So,i),o=t.n(Io,a).length,c=1==o&&Ci(t.n(Oo,a)),l=!Ci(t.n(jo,a))&&t.n(Po,a).length>0&&!c;return s=t.n(Bo,a).length>0||l},zi.f93=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="";c+=a?a:t.f("f97",e,n,r,s);var l=c;return o+=Li(i),o+="pickup"==l?'<span class="n-delivery__icon n-delivery__icon_type_self"></span>':"info"==l?'<span class="n-delivery__icon image image_name_info-s"></span>':"postomat"==l?'<span class="n-delivery__icon n-delivery__icon_type_postomat"></span>':'<span class="n-delivery__icon n-delivery__icon_type_truck"></span>'},zi.f94=function(t,e,n,r,i){i=void 0===i?[]:i;var s="",a=t.f("f97",e,n,r,t.n(So,i));return"regional"==a?s+="Доставка "+t.f("f96",e,n,r,i):"no-delivery"!=a&&"pickup"!=a&&(s+="Доставка"),s};var Do=[0,"forcedType"],Ro=[0,"delivery",0,"options",2,c],No=[0,"price"],Lo=[0,"price",0,"value"],Fo=[0,"price",0,"currency"],Uo=[0,"appendPlus"],zo=[0,"isDeliveryIncluded"],qo=[0,"delivery",0,"price",0,"value"],Ho=[0,"delivery",0,"price",0,"currency"];zi.f95=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="";c+=Ci(t.n(Do,yr.object2nodeset(a)))?Ii(t.n(Do,yr.object2nodeset(a))):t.f("f97",e,n,r,t.n(So,s));var l=c;if(o+=Li(i),"downloadable"==l)o+="Загрузка через интернет";else if("precise"==l||"regional"==l){var u=t.n(Ro,s),c=[];c=yr.exists(t.n(go,s))?t.n(go,s):t.n(No,s);var d=c;if("regional"==l){var p=t.f("f96",e,n,r,s);p&&(o+=Pi(p)+", ")}if(yr.exists(t.n(Lo,u))){var h=t.f("f79",e,n,r,Ii(t.n(Lo,u)),Ii(t.n(Fo,u)),"бесплатно");if(o+="<span",i.a={class:new yr.scalarAttr("n-delivery__price")},i.s="span","бесплатно"==h)if(Ci(t.n(Uo,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-delivery__feature"):i.a.class=new yr.scalarAttr(" n-delivery__feature"),o+=Li(i),o+="бесплатная доставка"}else o+=Li(i),o+="Бесплатно";else o+=Li(i),o+=Ci(t.n(Uo,yr.object2nodeset(a)))?"+"+Pi(h)+" доставка":Pi(h);o+=Li(i),o+="</span>"}else o+="срок и стоимость доставки уточняйте при заказе";+Ii(t.n(Lo,u))>0&&Ci(t.n(zo,d))&&(o+=", включена в цену")}else if("free"==l){if(o+="<span",i.a={class:new yr.scalarAttr("n-delivery__price")},i.s="span",Ci(t.n(Uo,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-delivery__feature"):i.a.class=new yr.scalarAttr(" n-delivery__feature"),o+=Li(i),o+="Бесплатная доставка"}else o+=Li(i),o+="Бесплатно";o+=Li(i),o+="</span>"}else if("paid"==l){var _=t.f("f79",e,n,r,Ii(t.n(qo,s)),Ii(t.n(Ho,s)),"Бесплатно"),c=[];c=yr.exists(t.n(go,s))?t.n(go,s):t.n(No,s);var m=c;if(o+="<span",i.a={class:new yr.scalarAttr("n-delivery__price")},i.s="span","Бесплатно"==_)if(Ci(t.n(Uo,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-delivery__feature"):i.a.class=new yr.scalarAttr(" n-delivery__feature"),o+=Li(i),o+="бесплатная доставка"}else o+=Li(i),o+="Бесплатно";else o+=Li(i),o+=Ci(t.n(Uo,yr.object2nodeset(a)))?"+"+Pi(_)+" доставка":Pi(_);o+=Li(i),o+="</span>",+Ii(t.n(qo,s))>0&&Ci(t.n(zo,m))&&(o+=", включена в цену")}else o+="pickup"==l?"Самовывоз":"postomat"==l?"Почтоматы Маркета":"Не доставляется";return o};var Vo=[0,"delivery",0,"shopPriorityCountry",0,"id"],Go=[0,"delivery",0,"shopPriorityRegion",0,"lingua",0,"name",0,"genitive"],$o=[0,"delivery",0,"shopPriorityRegion",0,"name"],Wo=[0,"delivery",0,"shopPriorityCountry",0,"lingua",0,"name",0,"genitive"];zi.f96=function(t,e,n,r,i){i=void 0===i?[]:i;var s="",a=[];a=Ci(t.v("v24",e.doc.root))?t.v("v24",e.doc.root):t.s(ns,e.doc.root);var o=a,c=!Mi(o,t.n(Vo,i));return c&&Ci(t.n(Wo,i))?s+="из "+Ii(t.n(Wo,i)):Ci(t.n(Go,i))?s+="из "+Ii(t.n(Go,i)):Ci(t.n($o,i))&&(s+="из г."+Ii(t.n($o,i))),s};var Yo=[0,"isAvailable"],Ko=[0,"isFree"],Xo=[0,"hasPickup"],Qo=[0,"hasLocalStore"],Jo=[0,"isDownloadable"];zi.f97=function(t,e,n,r,i){i=void 0===i?[]:i;var s="";return s+=Ci(t.n(Jo,i))?"downloadable":Ci(t.n(Yo,i))&&!Ci(t.n(jo,i))?"regional":Ci(t.n(Bo,i))?"precise":Ci(t.n(Ko,i))?"free":Ci(t.n(No,i))?"paid":Ci(t.n(Xo,i))||Ci(t.n(Qo,i))?"pickup":"no-delivery"};var Zo=[1,1,0,"isStore"];zi.f98=function(t,e,n,r,i){return i=void 0===i?[]:i,Ci(t.n(Xo,i))||Ci(t.n(Qo,i))||Ci(t.n(Zo,i))};var tc=[0,"wareId"],ec=[0,"shop",0,"isRecommended"],nc=[0,"vendor",0,"id"],rc=[0,"product",0,"id"],ic=[0,"shop",0,"id"],sc=[0,"discount",0,"oldMin"];zi.f99=function(t,e,n,r,i){i=void 0===i?[]:i;var s={},a={};a["offer-id"]=yr.nodeset2data(t.n(tc,i)),a.currency=yr.nodeset2data(t.n(ho,i)),a.gate=yr.externals["n-build-url"]("market:gate-clickhistory-click"),a.isRecommended=yr.nodeset2data(t.n(ec,i));var o={},c=[0,"categories",3,0,0,"id"];return o.event="clickout",o.goodid=yr.nodeset2data(t.n(tc,i)),o.goodbrand=yr.nodeset2data(t.n(nc,i)),o.productid=yr.nodeset2data(t.n(rc,i)),o.store=yr.nodeset2data(t.n(ic,i)),o.price=yr.nodeset2data(t.n(po,i)),Ci(t.n(yo,i))&&(o.oldprice=yr.nodeset2data(t.n(sc,i))),o.categoryId=yr.nodeset2data(t.n(c,i)),a.clickParams=o,s["shop-history"]=a,s};var ac=[0,"urls",0,"cpa"];zi.f100=function(t,e,n,r,i,s){i=void 0===i?[]:i,s=void 0===s?"default":s;var a={},o={};return o.position=s,o.clickProxyUrl=yr.externals["n-build-url"]("api:clickproxy",function(){var e={};return e.target=yr.nodeset2data(t.n(ac,i)),e}()),o.options=yr.externals["n-offer-to-cart-offer"](i,function(){var t={};return t.place=s,t}()),a.offer=o,a};var oc=[0,"benefit",0,"type"];zi.f101=function(t,e,n,r,i){return i=void 0===i?[]:i,Ci(t.n(oc,i))&&Ai("default",t.n(oc,i))},zi.f102=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.f("f107",e,n,r,s,a);return o+=Li(i),t.f("f104",e,n,r,s,a,c)&&(o+=t.f("f105",e,n,r,i,s,t.f("f103",e,n,r,s,a,c))),o};var cc=[0,"request",0,"params"],lc=[0,"entityType"],uc=[0,"benefit"],dc=[0,"buttonClass"],pc=[0,"needSpinner"],hc=[0,"spinner"],fc=[0,"dynamicGoal"],_c=[0,"icon"],mc=[0,"metrika"],vc=[0,"showPrice"];zi.f103=function(t,e,n,r,i,s,a){i=void 0===i?[]:i;var o={},c="";c+=a?a:t.f("f107",e,n,r,i,s);var l=c,c=[];c=Ci(t.s(cc,e.doc.root))?t.s(cc,e.doc.root):t.n(Pa,yr.object2nodeset(s));var u=c,c={};c.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),c.offerType=l,yr.exists(t.n(uc,i))&&(c.benefitType=yr.nodeset2data(t.n(oc,i)));var d=c;o.type=l,o.baseParams=s,o.requestParams=yr.nodeset2data(u),o.place=t.f("f108",e,n,r,i,s);var c="";c+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"s",o.size=c;var c="";c+=Ci(t.n(dc,yr.object2nodeset(s)))?""+yr.nodeset2scalar(t.n(dc,yr.object2nodeset(s))):"button",o.buttonClass=c,o.metrikaParams=d,yr.exists(t.n(gs,yr.object2nodeset(s)))&&(o.class=yr.nodeset2data(t.n(gs,yr.object2nodeset(s)))),yr.exists(t.n(pc,yr.object2nodeset(s)))&&(o.needSpinner=yr.nodeset2data(t.n(pc,yr.object2nodeset(s)))),yr.exists(t.n(hc,yr.object2nodeset(s)))&&(o.spinner=yr.nodeset2data(t.n(hc,yr.object2nodeset(s)))),yr.exists(t.n(fc,yr.object2nodeset(s)))&&(o.dynamicGoal=yr.nodeset2data(t.n(fc,yr.object2nodeset(s)))),yr.exists(t.n(ra,yr.object2nodeset(s)))&&(o.text=yr.nodeset2data(t.n(ra,yr.object2nodeset(s))));var c=!1;return c=!!Ci(t.n(_c,yr.object2nodeset(s)))&&Ci(t.n(_c,yr.object2nodeset(s))),o.icon=c,o.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),yr.exists(t.n(vc,yr.object2nodeset(s)))&&(o.showPrice=yr.nodeset2data(t.n(vc,yr.object2nodeset(s)))),o},zi.f104=function(t,e,n,r,i,s,a){i=void 0===i?[]:i;var o=!1,c="";c+=a?a:t.f("f107",e,n,r,i,s);var l=c;return o=!!(t.f("f40",e,n,r,i)||"default"!=l&&"cpc"!=l)},zi.f105=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";if(o+=Li(i),o+="<a",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button"),class:new yr.scalarAttr(Ii(t.n(dc,yr.object2nodeset(a)))+" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_size_"+Ii(t.n(is,yr.object2nodeset(a)))+" i-bem")},i.s="a",i.a["data-type"]=new yr.scalarAttr(Ii(t.n(cs,yr.object2nodeset(a)))),yr.exists(t.n(gs,yr.object2nodeset(a)))){var c=i.a.class;c?i.a.class=c.addscalar(" "+yr.nodeset2scalar(t.n(gs,yr.object2nodeset(a)))):i.a.class=new yr.scalarAttr(" "+yr.nodeset2scalar(t.n(gs,yr.object2nodeset(a))))}var l={};return l.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(a))),o+=t.a(t,0,yr.object2nodeset(l),"n-offer__button-content",i,s,a),o+=Li(i),o+=t.f("f106",e,n,r,i,s,a),o+="</a>",Ci(t.n(pc,yr.object2nodeset(a)))&&(o+=t.f("f109",e,n,r,i,t.n(hc,yr.object2nodeset(a)))),o},zi.f106=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}},u={};u.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(a))),c+=t.a(t,0,yr.object2nodeset(u),"n-offer__button-text",l,s,a);var d=c;if(o+=Li(i),o+='<span class="'+Si(t.n(dc,yr.object2nodeset(a)))+'__text">',Ci(t.n(_c,yr.object2nodeset(a)))&&(o+="<img",i.a={class:new yr.scalarAttr("image image_name_market"),alt:new yr.scalarAttr("Корзина")},i.s="img",i.a.src=new yr.scalarAttr("//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"),o+=Li(i),o+=""),o+=Bi(d),Ci(t.n(vc,yr.object2nodeset(a)))){var c="",l={a:{}};c+=t.a(t,0,t.n(go,s),"n-price",l);var p=c;o+='<span class="'+Si(t.n(dc,yr.object2nodeset(a)))+'__price">',o+=Bi(p),o+="</span>"}return o+="</span>"};var yc=[0,"show-book-now-only"],bc=[0,"book-now-outlet-id"],gc=[0,"forceCpc"],kc=[0,"eligibleForBookingInUserRegion"];zi.f107=function(t,e,n,r,i,s){i=void 0===i?[]:i;var a="",o=[];o=Ci(t.s(cc,e.doc.root))?t.s(cc,e.doc.root):t.n(Pa,yr.object2nodeset(s));var c=o,l=Ai(1,t.n(yc,c)),u=t.n(bc,c),d=!Ci(t.n(gc,yr.object2nodeset(s)))&&Ai("real",t.n(ga,i)),p=1==Ci(t.n(kc,i))&&l,h=t.f("f108",e,n,r,i,s);return a+=p&&"snippet"==h?Ci(u)?"book-now-checkout":"book-now":d?Ci(Ni("isPromotedByVendor",e,[]))?"promoted-by-vendor":"cpa":"cpc"},zi.f108=function(t,e,n,r,i,s){return i=void 0===i?[]:i,Ci(t.n(na,yr.object2nodeset(s)))?""+yr.nodeset2scalar(t.n(na,yr.object2nodeset(s))):"default"},zi.f109=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="offer__spinner">',a+='<span class="spin2 spin2_size_xxs spin2_progress_yes i-bem"></span>',a+='<span class="offer__spinner-text">',a+=Ci(t.n(ra,s))?Ti(t.n(ra,s)):"Проверяем наличие",a+="</span>",a+="</div>"};var wc=[0,"shop",0,"gradeTotal"];zi.f110=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.f("f111",e,n,r,t.n(ja,s));if(a+=Li(i),o&&!Ai("",t.n(wc,s))){var c={},l={},u=[];u.push(o),l.shops=u,c["i-metrika-reviews"]=l;var d=c;a+="<span",i.a={class:new yr.scalarAttr("i-metrika-shop-reviews i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(d))),a+=Li(i),a+="</span>"}return a};var Ec=[0,"gradeTotal"];zi.f111=function(t,e,n,r,i){i=void 0===i?[]:i;var s="",a=t.f("f112",e,n,r);return a&&(s+="shp_",s+=Ai(0,t.n(Ec,i))?"no":Ii(t.n(Ec,i))<=10?"110":Ii(t.n(Ec,i))<=30?"1130":"31",s+="_FDBCK_",s+=a),s},zi.f112=function(t,e,n,r){var i="",s=t.s(Zi,e.doc.root);return Ai("market:product-offers",s)||Ai("market:gate-product-offers",s)?i+="ofrs":(Ai("market:search",s)||Ai("market:gate-search",s))&&(i+="srch"),i};var xc=[0,"shop",0,"status"],Mc=[0,"shop",0,"gradesCount"];zi.f113=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.n(Ta,yr.object2nodeset(a));if(o+=Li(i),o+='<div class="n-shop-rating">',o+=t.f("f10",e,n,r,i,t.n(ja,s)),o+=" ",Ii(t.n(Mc,s))>0){var l="",u={a:{}};l+=t.a(t,0,s,"i-link__shop__reviews",u,function(){var t={};return Ci(c)&&(t.track=yr.nodeset2data(c)),t}());var d=l,p=t.f("f12",e,n,r,i,Ii(t.n(Mc,s)),!0);o+=t.f("f114",e,n,r,i,p,Bi(d),a)}else if(!Ai("oldshop",t.s(xc,e))){var l="",u={a:{}};l+=t.a(t,0,s,"i-link__shop__reviews-add",u,function(){var t={};return Ci(c)&&(t.track=yr.nodeset2data(c)),t}());var h=l,f="Пока нет отзывов";o+=t.f("f114",e,n,r,i,Pi(f),Bi(h),a)}return o+=t.f("f110",e,n,r,i,s),o+="</div>"};var Ac=[0,"needNewTab"];zi.f114=function(t,e,n,r,i,s,a,o){var c="",l=!1;l=!!yr.exists(t.n(Ac,yr.object2nodeset(o)))&&Ci(t.n(Ac,yr.object2nodeset(o)));var u=l;return c+=Li(i),c+="<a",i.a={class:new yr.scalarAttr("link"),href:new yr.scalarAttr(a)},i.s="a",u&&(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),c+=Li(i),c+=s,c+="</a>"};var Tc=[0,"activated"];zi.f115=function(t,e,n,r,i){var s={};s.name="item-label";var a={};return a.activated=yr.nodeset2data(t.n(Tc,yr.object2nodeset(i))),s.mods=a,s.content=Ii(t.n(hs,yr.object2nodeset(i))),s};var Cc=[0,"addSign"],Sc=[0,"addHint"],Ic=[0,"hintTo"],Oc=[0,"inWishlist"];zi.f116=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=!1;c=!!Ci(t.n(Cc,yr.object2nodeset(a)));var l=c,u=!(yr.exists(t.n(Sc,yr.object2nodeset(a)))&&0==Ci(t.n(Sc,yr.object2nodeset(a)))),d=t.n(Ic,yr.object2nodeset(a)),c={};c.addSign=l,c.addHint=u,c.hintTo=yr.nodeset2data(d);var p=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("wishlist-control wishlist-control_type_toggle pseudo-checkbox pseudo-checkbox_theme_heart hint i-bem")},i.s="div",Ci(t.n(Oc,s))){var h=i.a.class;h?i.a.class=h.addscalar(" pseudo-checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" pseudo-checkbox_checked_yes")}return o+=t.a(t,0,t.s(ps,e),"n-wishlist-control__params",i,p),o+=Li(i),o+="</div>"},zi.f117=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp")},i.s="a";var o=i.a.class;if(o?i.a.class=o.addscalar(" wishlist-control wishlist-control_type_toggle pseudo-checkbox i-bem"):i.a.class=new yr.scalarAttr(" wishlist-control wishlist-control_type_toggle pseudo-checkbox i-bem"),Ci(Ni("inWishlist",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" pseudo-checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" pseudo-checkbox_checked_yes")}return a+=t.a(t,0,t.s(ps,e),"n-wishlist-control__params",i),a+=Li(i),a+='<span class="button2__text">',a+='<span class="n-wishlist-control__label_activated_no">Отложить</span>',a+='<span class="n-wishlist-control__label_activated_yes">Отложено</span>',a+="</span>",a+="</a>"},zi.f118=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c={};c.addSign=!1,c.typeRemove=!0;var l=c;return o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("wishlist-control wishlist-control_type_remove pseudo-checkbox pseudo-checkbox_theme_trash hint i-bem")},i.s="div",o+=t.a(t,0,t.s(ps,e),"n-wishlist-control__params",i,l),o+=Li(i),o+="</div>"},zi.f119=function(t,e,n,r,i){var s={};s.name="wishlist-control";var a={};return a.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(i))),s.mods=a,s},zi.f120=function(t,e,n,r,i){return i=void 0===i?[]:i,Ai("model",i)||Ai("group",i)||Ai("modification",i)||Ai("cluster",i)};var jc=[0,"int"],Pc=[0,"title"],Bc=[0,"border"],Dc=[0,"outline"],Rc=[0,"microdata"];zi.f121=function(t,e,n,r,i,s,a){var o="",c="";c+=Ci(t.n(jc,yr.object2nodeset(a)))?yr.externals["n-math-to-fixed"](s,0):yr.externals["n-math-to-fixed"](s,1);var l=c,c={},u={},d="",p={a:{}};d+=Li(p),d+=Ci(t.n(Pc,yr.object2nodeset(a)))?Ti(t.n(Pc,yr.object2nodeset(a))):"Рейтинг модели ",d+=Pi(s),d+=" из 5",u.content=d,u.offset=15,c.hint=u;var h=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("rating hint i-bem")},i.s="div",Ai("s",t.n(is,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" rating_size_s"):i.a.class=new yr.scalarAttr(" rating_size_s")}else if(Ai("l",t.n(is,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" rating_size_l"):i.a.class=new yr.scalarAttr(" rating_size_l")}else if(Ai("m",t.n(is,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" rating_size_m"):i.a.class=new yr.scalarAttr(" rating_size_m")}if(Ci(t.n(Bc,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" rating_border_yes"):i.a.class=new yr.scalarAttr(" rating_border_yes")}if(Ci(t.n(Dc,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" rating_outline_yes"):i.a.class=new yr.scalarAttr(" rating_outline_yes")}return i.a["date-rate"]=new yr.scalarAttr(t.f("f122",e,n,r,s)),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h))),o+=Li(i),Ai("review-product",t.n(Rc,yr.object2nodeset(a)))&&(o+=t.f("f125",e,n,r,i,l)),o+='<div class="rating__value">',o+=Pi(l),o+="</div>",o+='<div class="rating__corner">',o+='<div class="rating__triangle"></div>',o+="</div>",o+="</div>"},zi.f122=function(t,e,n,r,i){var s="";return i>4.25?s+=5:i>3.5?s+=4:i>2.5?s+=3:i>1.5?s+=2:i<=1.5&&(s+=1),s};var Nc=[0,"itemprop"],Lc=[0,"itemref"],Fc=[0,"additional"];zi.f123=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),o+="<div",i.a={itemscope:new yr.scalarAttr(""),itemtype:new yr.scalarAttr("https://schema.org/Organization")},i.s="div",Ci(t.n(Nc,yr.object2nodeset(a)))&&(i.a.itemprop=new yr.scalarAttr(Ii(t.n(Nc,yr.object2nodeset(a))))),Ci(t.n(Lc,yr.object2nodeset(a)))&&(i.a.itemref=new yr.scalarAttr(Ii(t.n(Lc,yr.object2nodeset(a))))),o+=Li(i),o+='<meta itemprop="name" content="'+Oi(s)+'"/>',Ci(t.n(xa,yr.object2nodeset(a)))&&(o+='<meta itemprop="url" content="'+Si(t.n(xa,yr.object2nodeset(a)))+'"/>'),Ci(t.n(Fc,yr.object2nodeset(a)))&&(o+=Ii(t.n(Fc,yr.object2nodeset(a)))),o+="</div>"},zi.f124=function(t,e,n,r,i,s,a){var o="",c="";c+=Ci(t.n(xa,yr.object2nodeset(a)))?Ii(t.n(xa,yr.object2nodeset(a))):"https://yastatic.net/market-export/_/i/market-icon.png";var l=c;return o+=Li(i),o+='<div itemscope="" itemprop="'+Oi(s)+'" itemtype="http://schema.org/ImageObject">',o+='<meta itemprop="url" content="'+Oi(l)+'"/>',o+='<meta itemprop="width" content="'+Si(t.n(ls,yr.object2nodeset(a)))+'"/>',o+='<meta itemprop="height" content="'+Si(t.n(co,yr.object2nodeset(a)))+'"/>',o+="</div>"},zi.f125=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div itemscope="" itemprop="reviewRating" itemtype="http://schema.org/Rating">',a+='<meta itemprop="ratingValue" content="'+Oi(s)+'"/>',a+='<meta itemprop="bestRating" content="5"/>',a+="</div>"},zi.f126=function(t,e,n,r,i,s,a,o,c){var l="",u=1;return l+=Li(i),s>=u&&a>0&&o>0&&(l+="<div",i.a={itemscope:new yr.scalarAttr(""),itemprop:new yr.scalarAttr("aggregateRating"),itemtype:new yr.scalarAttr("https://schema.org/AggregateRating")},i.s="div",c&&(i.a.id=new yr.scalarAttr(c)),l+=Li(i),l+='<meta itemprop="ratingValue" content="'+Oi(s)+'"/>',l+='<meta itemprop="bestRating" content="5"/>',l+='<meta itemprop="worstRating" content="'+Oi(u)+'"/>',l+='<meta itemprop="ratingCount" content="'+Oi(a)+'"/>',l+='<meta itemprop="reviewCount" content="'+Oi(o)+'"/>',l+="</div>"),l};var Uc=[0,"subscription",0,"id"],zc=[0,"subscription"];zi.f127=function(t,e,n,r,i){var s={};s.name="n-product-subscribe";var a={};a.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(i)));var o="";o+=Ci(t.n(Uc,yr.object2nodeset(i)))?"unsubscribe":"subscribe",a.action=o,a.live=Ci(t.n(Ls,yr.object2nodeset(i))),s.mods=a,s.data=yr.externals["n-nodeset-to-object"](yr.externals["n-merge-nodes"](yr.object2nodeset(function(){var n={},r=[0,"categories",3,0,0,"id"];return n.hid=yr.nodeset2data(t.s(r,e)),n.modelId=yr.nodeset2data(Ni("id",e,[])),n.isNew=Ri("isNew",e),n}()),t.n(zc,yr.object2nodeset(i))));var a={};a.name="preloadable";var o={};return o.paranja=!0,a.data=o,s.mix=a,s.js=Ci(t.n(_s,yr.object2nodeset(i))),s.content=yr.nodeset2data(t.n(hs,yr.object2nodeset(i))),s},zi.f128=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"n-product-subscribe",s),a+=Li(i),a+="</div>"};var qc=[0,"directionTo"],Hc=[0,"message"],Vc=[0,"messageType"];zi.f129=function(t,e,n,r,i){var s={},a="";a+=Ci(t.n(cs,yr.object2nodeset(i)))?Ii(t.n(cs,yr.object2nodeset(i))):"popup";var o=a;s.name="manotice";var a={};a.type=o,s.mods=a;var a={},c={},l="";l+=Ci(t.n(qc,yr.object2nodeset(i)))?Ii(t.n(qc,yr.object2nodeset(i))):"right",c.to=l,a.directions=c,a.autoclosable="visible";var c="";c+=Ci(t.n(Hc,yr.object2nodeset(i)))?Ii(t.n(Hc,yr.object2nodeset(i))):"",a.message=c;var c="";if(c+=Ci(t.n(Vc,yr.object2nodeset(i)))?Ii(t.n(Vc,yr.object2nodeset(i))):"error",a.messageType=c,"popup"==o){var c={};c.name="popup";var l={};l.nowrap="yes",c.mods=l,a.mix=c}return s.data=a,s.js=!0,s};var Gc=[0,"retpathParams"];zi.f130=function(t,e,n,r,i){var s={};s.name="domik-opener",s.js=!0;var a={};return a.type=yr.nodeset2data(t.n(cs,yr.object2nodeset(i))),a.retpathParams=yr.nodeset2data(t.n(Gc,yr.object2nodeset(i))),s.data=a,s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i))),s},zi.f131=function(t,e,n,r,i){var s={},a=Ci(t.n(xa,yr.object2nodeset(i)));s.name="link";var o={},c={a:{}};a||(o.pseudo="yes");var l="";l+=Ci(t.n(ss,yr.object2nodeset(i)))?Ii(t.n(ss,yr.object2nodeset(i))):a?"normal":"pseudo",o.theme=l,s.mods=o,s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i)));var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"n-link__content",c,i),s.content=o,s};var $c=[0,"dsk_page-product_new-do"],Wc=[0,"productId"];zi.f132=function(t,e,n,r,i){var s={};if(s.name="n-product-summary-subscribe",yr.exists(t.n($c,t.v("v23",e.doc.root)))){var a={},o={
a:{}};a.name="n-product-summary-subscribe-cpa2",s.mix=a}var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var e={};return e.type="hidden",e.name="modelId",e.value=Ii(t.n(Wc,yr.object2nodeset(i))),e}()),a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var e={};return e.type="hidden",e.name="id",e.value=Ii(t.n(ao,yr.object2nodeset(i))),e}()),a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var t={};return t.type="hidden",t.name="price",t.value="0",t}()),a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var e={};return e.type="hidden",e.name="isNew",e.value=Ci(t.n(bo,yr.object2nodeset(i))),e}()),s.content=a,s},zi.f133=function(t,e,n,r,i){var s={};return s.name="form",s.content=yr.nodeset2data(t.n(hs,yr.object2nodeset(i))),s},zi.f134=function(t,e,n,r,i){var s={};return s.name="desc",s.content=i,s},zi.f135=function(t,e,n,r,i){var s={};return s.name="desc-info",s.content=i,s},zi.f136=function(t,e,n,r){var i={};return i.name="error",i},zi.f137=function(t,e,n,r){var i={};return i.name="button",i.mix=t.f("f5",e,n,r,function(){var t={};t.mode="sharp",t.name="email",t.theme="action",t.for="add",t.content="Узнать о появлении";var e={};return e.action="subscribed",t.data=e,t.js=!0,t}()),i},zi.f138=function(t,e,n,r){var i={};return i.name="button",i.mix=t.f("f5",e,n,r,function(){var t={};t.mode="sharp",t.name="email",t.for="remove",t.content="Отменить подписку";var e={};return e.action="subscribe",t.data=e,t.js=!0,t}()),i},zi.f139=function(t,e,n,r,i){var s={};if(s.name="title",Ci(t.n(bo,yr.object2nodeset(i)))){s.content="Скоро в продаже";var a={};a.theme="green",s.mods=a}else s.content="Нет в продаже";return s},zi.f140=function(t,e,n,r,i,s){var a="",o=yr.externals["n-build-url"]("external:returns-promo",function(){var t={};return t.track="arbitrage_more",t}()),c="",l={a:{}};c+=Ci(t.n(ss,yr.object2nodeset(s)))?Ii(t.n(ss,yr.object2nodeset(s))):"normal";var u=c;a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link link_theme_"+u+" i-bem metrika"),href:new yr.scalarAttr(o),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var c="",l={a:{}};return c+=Li(l),c+='{"link": {}, "metrika": {"onClick": {"arbitrageMoreClick": {}} }}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+="Подробнее",a+="</a>"},zi.f141=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-protection-modal",o);var c=a;return s+=t.a(t,0,t.s(ps,e),"n-modal",i,function(){var t={};t.content=c;var e={};return e.closer="content",t.mods=e,t}())};var Yc=[0,"customClass"];zi.f142=function(t,e,n,r,i,s,a){var o="";o+=Li(i),o+="<img",i.a={class:new yr.scalarAttr("image"),src:new yr.scalarAttr("//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif")},i.s="img";var c=i.a.class;if(c?i.a.class=c.addscalar(" image_name_age-"+s):i.a.class=new yr.scalarAttr(" image_name_age-"+s),yr.exists(t.n(Yc,yr.object2nodeset(a)))){var c=i.a.class;c?i.a.class=c.addscalar(" "+Ii(t.n(Yc,yr.object2nodeset(a)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(Yc,yr.object2nodeset(a))))}return i.a.alt=new yr.scalarAttr(s+"+"),o+=Li(i),o+=""},zi.f143=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-hint-button__inner">',s+='<div class="n-hint-button__article">',s+='<p class="n-hint-button__paragraph">Яндекс.Маркет будет периодически составлять и отправлять вам по электронной почте сообщения информационного и рекламного характера о следующем:</p>',s+='<ul class="n-hint-button__list">',s+='<li class="n-hint-button__list-item">Акции — специальные условия приобретения товаров, представленных на Яндекс.Маркете.</li>',s+='<li class="n-hint-button__list-item">Скидки — временное или постоянное снижение цен на товары, представленные на Маркете.</li>',s+='<li class="n-hint-button__list-item">Рекомендации — персональные предложения, сформированные с учётом истории использования Маркета и совершённых ранее покупок.</li>',s+="</ul>",s+='<p class="n-hint-button__paragraph">Отметив этот флажок, вы соглашаетесь с таким информированием — мы просим вас об этом по требованию ст. 18 Федерального закона «О рекламе».</p>',s+="</div>",s+="</div>"},zi.f144=function(t,e,n,r,i,s,a,o){a=void 0===a?[]:a,o=void 0===o?[]:o;var c="",l={},u={};u.directions=yr.nodeset2data(t.n(Qs,a)),u.localContextSelector=yr.nodeset2data(t.n(Js,o)),l.popup=u;var d=l,l="";l+=1==Ci(t.n(qs,o))?"popup_local-context_true":"";var p=l,l={},u={},h="";h+=Ci(t.n(na,o))?Ii(t.n(na,o)):"",u.place=h,l["n-hint-button"]=u;var f=l;c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("n-hint-button i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(f))),c+=Li(i),c+='<span class="link link_pseudo_yes n-hint-button__handle i-bem" role="button" tabindex="0">',c+='<span class="link__inner">?</span>',c+="</span>",c+="<div",i.a={},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(d)));var l="";return l+="popup "+p+" popup_theme_hint popup_autoclosable_yes popup_adaptive_yes popup_animate_yes n-hint-button__popup ",l+=Ii(t.n(Zs,o)),l+=" i-bem",i.a.class=new yr.scalarAttr(l),c+=Li(i),c+='<iframe frameborder="0" tabindex="-1" src="about:blank" class="popup__under"></iframe>',c+='<i class="popup__tail"></i>',0!=Ci(t.n(ea,o))&&(c+='<i class="popup__close"></i>'),c+='<div class="popup__content">',c+='<div class="n-hint-button__inner">',c+='<div class="n-hint-button__article">'+s+"</div>",c+="</div>",c+="</div>",c+="</div>",c+="</div>"};var Kc=[0,"hasDescription"];zi.f145=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return(1==Ci(t.n(Kc,s))||Ai("show-book-now-only",t.n(ao,s))||Ai("filter-subsidies",t.n(ao,s)))&&(a+=t.a(t,0,s,"n-hint-button_place_filter",i)),a};var Xc=[0,"isFull"],Qc=[0,"clean"],Jc=[0,"pretty"];zi.f146=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";if(o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("n-phone__link link link_pseudo_yes")},i.s="a",Ci(t.n(Xc,yr.object2nodeset(a)))&&(i.a.href=new yr.scalarAttr("tel:"+Ii(t.n(Qc,s)))),Ai("grid",t.n(na,yr.object2nodeset(a)))){var c=i.a.class;c?i.a.class=c.addscalar(" link_theme_gray"):i.a.class=new yr.scalarAttr(" link_theme_gray")}else{var c=i.a.class;c?i.a.class=c.addscalar(" link_theme_minor"):i.a.class=new yr.scalarAttr(" link_theme_minor")}return o+=Li(i),o+=t.f("f147",e,n,r,i),o+='<span class="n-phone__number">',o+=Ci(t.n(Xc,yr.object2nodeset(a)))?Ti(t.n(Jc,s)):"Показать телефон",o+="</span>",o+="</a>"},zi.f147=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<img class="n-phone__icon image image_name_phone" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt=""/>'},zi.f148=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),a&&(o+='<div class="n-product-content-block">',o+='<h3 class="n-product-content-block__title">',o+=Pi(s),o+="</h3>",o+='<div class="n-product-content-block__content">',o+=a,o+="</div>",o+="</div>"),o};var Zc=[0,"offer",0,"seller",0,"comment"],tl=[0,"offer",0,"manufacturer",0,"warranty"],el=[0,"offer",0,"warnings"],nl=[0,"offer",0,"shop",0,"returnDeliveryAddress"],rl=[0,"offer",0,"returnPolicy"],il=[0,"userCountryId"];zi.f149=function(t,e,n,r,i){var s=!1,a=225,o=t.n(Zc,yr.object2nodeset(i)),c=t.n(tl,yr.object2nodeset(i)),l=yr.exists(t.n(el,yr.object2nodeset(i))),u=yr.exists(t.n(nl,yr.object2nodeset(i))),d=yr.exists(t.n(rl,yr.object2nodeset(i))),p=Ai(a,t.n(il,yr.object2nodeset(i)));return(Ci(o)||Ci(c)||l||u||d&&p)&&(s=!0),s},zi.f150=function(t,e,n,r,i,s){var a="",o=yr.externals["n-str-plural"](s,"дня","дней","дней");return a+=Li(i),a+=yr.externals["n-i18n"]("RETURN_TERM_TEXT_1"),a+=" ",a+=Pi(s),a+=" ",a+=Pi(o),a+=" ",a+=yr.externals["n-i18n"]("RETURN_TERM_TEXT_2")};var sl=[0,"side"];zi.f151=function(t,e,n,r,i){var s={};s.name="icon";var a={};return a.side=yr.nodeset2data(t.n(sl,yr.object2nodeset(i))),s.mods=a,s.mix=yr.nodeset2data(t.n(fs,yr.object2nodeset(i))),s},zi.f152=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-regional-delimiter")},i.s="div",Ci(t.n(na,yr.object2nodeset(s)))){var o=i.a.class;o?i.a.class=o.addscalar(" n-regional-delimiter_place_"+Ii(t.n(na,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" n-regional-delimiter_place_"+Ii(t.n(na,yr.object2nodeset(s))))}return a+=Li(i),a+='<span class="n-regional-delimiter__label">',a+="Доставка из других регионов",a+="</span>",a+="</div>"};var al=[0,"tasks",0,"n-w-search-result",0,"debug"],ol=[0,"tasks",0,"n-w-search-result",0,"requestPath"],cl=[0,"tasks",0,"n-w-search-result",0,"debug",0,"brief",0,"*"],ll=[0,"debugInfo",0,"*"],ul=[0,"tasks",0,"abt",0,"compactParsedFlags"];zi.f153=function(t,e,n,r,i){var s="";return s+=Li(i),yr.exists(t.s(al,e.doc.root))&&(s+='<div class="n-debug-info">',s+='<div class="n-debug-info__item">',s+="<details>",s+="<summary>",s+="Репорт",s+="</summary>",s+=t.a(t,0,t.s(ol,e.doc.root),"n-debug-info__item",i),s+=t.a(t,0,t.s(cl,e.doc.root),"n-debug-info__item",i),s+="</details>",s+="</div>",s+='<div class="n-debug-info__item">',s+="<details>",s+="<summary>",s+="Фронт",s+="</summary>",s+=t.a(t,0,t.s(ll,e.doc.root),"n-debug-info__item",i),s+=t.a(t,0,t.s(ul,e.doc.root),"n-debug-info__item",i),s+="</details>",s+="</div>",s+="</div>"),s},zi.f154=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ci(t.n(ao,yr.object2nodeset(s)))){a+="<span",i.a={},i.s="span";var o="";o+="n-mbo-toolbar__complain checkbox checkbox_type_complain checkbox_size_s",o+=" checkbox_theme_normal i-bem",i.a.class=new yr.scalarAttr(o);var o="";o+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="checkbox__box">',a+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(t.n(ao,yr.object2nodeset(s)))+'"/>',a+='<i class="checkbox__tick"></i>',a+="</span>",a+='<label class="checkbox__label" for="'+Si(t.n(ao,yr.object2nodeset(s)))+'">мимо</label>',a+="</span>"}return a},zi.f155=function(t,e,n,r,i){var s={};return s.metrika=i,s},zi.f156=function(t,e,n,r,i){return t.f("f155",e,n,r,function(){var t={};return t.onClick=i,t}())};var dl=[0,"params"],pl=[0,"params",0,"text"];zi.f157=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-countdown i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={};return e["n-countdown"]=yr.nodeset2data(t.n(dl,yr.object2nodeset(s))),e}()))),a+=Li(i),a+='<div class="image image_name_clock-red"></div>',yr.exists(t.n(pl,yr.object2nodeset(s)))&&(a+='<div class="n-countdown__text">'+Ti(t.n(pl,yr.object2nodeset(s)))+"</div>"),a+='<div class="n-countdown__time"></div>',a+="</div>"},zi.f158=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="";return c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("snippet-cell__toolbar")},i.s="div",c+=t.a(t,0,s,"n-product-toolbar",i,function(){var e={};return Ai("offer",t.n(sa,s))&&!Ci(t.n(Na,s))&&(e.withComplain=!0),e.withoutLabel=!0,e.withCompare=!0,e.track=a,e.metrika=yr.nodeset2data(o),Ci(t.n(Ha,s))&&(e.withLabelsButton=!0,e.withRemove=!0,e.withoutWishList=!0),e}()),c+=Li(i),c+="</div>"},zi.f159=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=[0,"categories",3,0,0,"name"];if(o+=Li(i),Ci(t.n(c,s))){var l=[0,"categories",3,0,0,"name"];o+='<div class="snippet-cell__subheader">',o+="<a",i.a={class:new yr.scalarAttr("link i-bem"),title:new yr.scalarAttr(Ii(t.n(l,s)))},i.s="a";var u="",d={a:{}};u+=t.a(t,0,t.s(ps,e),"i-link__category",d,function(){var t={};return a&&(t.track=a),t}()),i.a.href=new yr.xmlAttr(u),o+=Li(i),o+=Ti(t.n(l,s)),o+="</a>",o+="</div>"}return o},zi.f160=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+='<div class="product-color-set">',o+='<div class="product-color" title="красный" style="background-color: #FF4488"></div>',o+='<div class="product-color" title="синий" style="background-color: #42AAFF"></div>',o+='<div class="product-color" title="зелёный" style="background-color: #48C548"></div>',o+="</div>"},zi.f161=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="";return c+=Li(i),c+=Ai("offer",t.n(sa,s))?t.f("f163",e,n,r,i,s,a,o):t.f("f162",e,n,r,i,s,a,o)};var hl=[0,"offers",0,"count"];zi.f162=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="",l=t.f("f164",e,n,r,i,s),u=t.f("f165",e,n,r,i,s,a),d="",p={a:{}};d+=t.a(t,0,t.n(Ca,s),"n-warning",p);var h=d;if(c+=Li(i),c+='<div class="snippet-cell__content">',Ii(t.n(hl,s))>0){var f=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),_=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));c+=l,!Ci(t.n(Wa,s))||_||f||(c+=u)}else c+=l;return c+=t.a(t,0,s,"n-snippet-cell__details",i,function(){var e={};return e.track=a,e.requestParams=yr.nodeset2data(t.n(Pa,o)),e}()),c+=t.a(t,0,s,"n-snippet-cell__desc",i,a),h&&(c+='<div class="n-snippet-cell__warnings">',c+=h,c+="</div>"),c+="</div>"},zi.f163=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s,o=void 0===o?[]:o;var c="",l="",u={a:{}};l+=t.a(t,0,t.n(Ca,s),"n-warning",u);var d=l;if(c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content")},i.s="div",Ai("real",t.n(ga,s))){var p=i.a.class;p?i.a.class=p.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}return c+=t.a(t,0,s,"n-snippet-cell__price",i),c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("snippet-cell__promocode")},i.s="div",c+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),c+=Li(i),c+="</div>",c+=t.a(t,0,s,"n-snippet-cell__shop",i,o),c+=t.a(t,0,s,"n-snippet-cell__desc",i,a),Ri("delivery",e)&&!Ci(t.s(Ka,e))&&(c+=t.a(t,0,t.s(ps,e),"n-delivery",i,"snippet")),c+=t.a(t,0,t.s(ps,e),"n-prepayment",i),c+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",i,function(){var t={};return t.place="grid",t}()),d&&(c+='<div class="n-snippet-cell__warnings">',c+=d,c+="</div>"),c+=t.a(t,0,t.s(ps,e),"n-snippet-cell__complain-control",i),c+=t.a(t,0,s,"n-snippet-cell__bundle-limit",i),c+="</div>"},zi.f164=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="snippet-cell__price">',a+=Ii(t.n(hl,s))>0?Mi(t.n($a,s),t.n(Ga,s))?t.f("f69",e,n,r,i,s):t.f("f70",e,n,r,i,s):Ci(t.n(bo,s))?"Скоро в продаже":"Нет в продаже",a+="</div>"},zi.f165=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+='<div class="snippet-cell__subprice">',Ci(t.n(Wa,s))&&Ai("offer",t.n(cs,s))?Mi(t.n($a,s),t.n(Ga,s))?(o+='<span class="price price_unactual_yes">',o+=t.f("f76",e,n,r,i,s),o+="</span>"):(o+='<span class="price price_unactual_yes">',o+=t.f("f77",e,n,r,i,s),o+="</span>"):Ci(t.n(Ga,s))&&!Mi(t.n($a,s),t.n(Ga,s))&&(o+=t.f("f74",e,n,r,i,s)),o+="</div>"},zi.f166=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=!1;c=t.f("f44",e,n,r,Ii(t.n(Sa,a)),s);var l=c,c="",u={a:{}};Ai("product",t.n(sa,s))?c+=t.a(t,0,s,"i-link__product_place_search",u,function(){var e={};return Ci(t.n(Ta,a))&&(e.track=yr.nodeset2data(t.n(Ta,a))),Ci(t.n(Da,s))&&(e["show-uid"]=yr.nodeset2data(t.n(Da,s))),e}()):Ai("offer",t.n(sa,s))&&(c+=Li(u),c+=Pi(t.f("f45",e,n,r,Ii(t.n(Sa,a)),s)));var d=c;if(o+=Li(i),d&&!Ri("outdated",e)){if(o+="<a",i.a={class:new yr.scalarAttr("snippet-cell__head link"),href:new yr.scalarAttr(Bi(d))},i.s="a",Ai("offer",t.n(sa,s))&&!l&&(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),Ci(t.n(bo,s))){var p=i.a.class;p?i.a.class=p.addscalar(" snippet-cell__head_type_nowrap"):i.a.class=new yr.scalarAttr(" snippet-cell__head_type_nowrap")}o+=t.f("f167",e,n,r,i,s,a),o+=Li(i),o+="</a>"}else{if(o+="<span",i.a={class:new yr.scalarAttr("snippet-cell__head")},i.s="span",Ci(t.n(bo,s))){var p=i.a.class;p?i.a.class=p.addscalar(" snippet-cell__head_type_nowrap"):i.a.class=new yr.scalarAttr(" snippet-cell__head_type_nowrap")}o+=t.f("f167",e,n,r,i,s,a),o+=Li(i),o+="</span>"}return o},zi.f167=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="";return o+=t.f("f171",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return Ci(t.n(Ta,a))&&(e.track=yr.nodeset2data(t.n(Ta,a))),e.clickActionType=yr.nodeset2data(t.n(Sa,a)),e}())),o+=t.f("f170",e,n,r,i,t.s(ps,e),a),o+=t.a(t,0,s,"n-snippet-cell__pixel",i)},zi.f168=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.f("f65",e,n,r,s,Ii(t.n(Ba,s)));return a+=Li(i),a+='<h4 class="title title_size_15" title="'+Oi(o)+'">',a+=Ai("market:list",t.v("v19",e.doc.root))&&t.f("f169",e,n,r,Ii(t.v("v12",e.doc.root)))?Pi(o):t.f("f64",e,n,r,i,s,!0),a+="</h4>"},zi.f169=function(t,e,n,r,i){return i%3==2},zi.f170=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=t.f("f44",e,n,r,Ii(t.n(Sa,a)),s),l="",u={a:{}};Ai("product",t.n(sa,s))?l+=t.a(t,0,s,"i-link__product_place_search",u,function(){var e={};return Ci(t.n(Ta,a))&&(e.track=yr.nodeset2data(t.n(Ta,a))),Ci(t.n(Da,s))&&(e["show-uid"]=yr.nodeset2data(t.n(Da,s))),e}()):Ai("offer",t.n(sa,s))&&(l+=Li(u),l+=Pi(t.f("f45",e,n,r,Ii(t.n(Sa,a)),s)));var d=l;if(o+=t.a(t,0,s,"n-snippet-cell__header-extra",i),o+=Li(i),d&&!Ri("outdated",e)){if(o+="<a",i.a={class:new yr.scalarAttr("snippet-cell__header link i-bem"),href:new yr.scalarAttr(Bi(d))},i.s="a",Ci(t.n(Ra,a))){var p=i.a.class;p?i.a.class=p.addscalar(" snippet-cell__header_type_full"):i.a.class=new yr.scalarAttr(" snippet-cell__header_type_full")}Ai("offer",t.n(sa,s))&&!c&&(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),o+=Li(i),o+=t.f("f168",e,n,r,i,s),o+="</a>"}else o+='<span class="snippet-cell__header">',o+=t.f("f168",e,n,r,i,s),o+="</span>";return o},zi.f171=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="";return Ai("offer",t.n(sa,s))?(o+=Li(i),o+=t.f("f172",e,n,r,i,s,a)):o+=Ai("model",t.n(cs,s))||Ai("group",t.n(cs,s))?t.a(t,0,s,"n-snippet-cell__image-guru",i,a):t.a(t,0,s,"n-snippet-cell__image-nonguru",i,t.n(Ta,a)),o},zi.f172=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=!1;c=t.f("f44",e,n,r,Ii(t.n(Sa,a)),s);var l=c,u=t.f("f45",e,n,r,Ii(t.n(Sa,a)),s);return o+=Li(i),u&&!Ci(t.n(Na,s))?(o+="<a",i.a={class:new yr.scalarAttr("snippet-cell__image shop-history__link link"),href:new yr.scalarAttr(u)},i.s="a",l||(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),o+=Li(i),o+=t.f("f66",e,n,r,i,s,350),o+="</a>"):(o+='<span class="snippet-cell__image">',o+=t.f("f66",e,n,r,i,s,350),o+="</span>"),o},zi.f173=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("snippet-cell__image link")},i.s="a";var c="",l={a:{}};return c+=t.a(t,0,s,"i-link__product",l,function(){var e={};return a&&(e.track=a),Ci(t.n(Da,s))&&(e["show-uid"]=yr.nodeset2data(t.n(Da,s))),e}()),i.a.href=new yr.xmlAttr(c),o+=Li(i),o+=t.f("f66",e,n,r,i,s,350),Ii(t.n(Ma,s))>0&&(o+=t.f("f121",e,n,r,i,Ii(t.n(Ma,s)),function(){var t={};return t.outline=!0,t}())),o+="</a>"};var fl=[0,"prices",0,"onlyOneShopAndAllOffersAreEqual"];zi.f174=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ci(t.n(Wa,s))&&!(yr.nodeset2data(t.s(fl,e))===!1),c="",l={a:{}};c+=t.a(t,0,s,"n-sticker-promocode",l);var u=c;return a+=Li(i),(o||u)&&(a+="<div",i.a={class:new yr.scalarAttr("product-card-offer__stickers")},i.s="div",o&&(a+=t.a(t,0,s,"n-stickers",i),a+=Li(i),a+='<div class="price price_unactual_yes">',a+=t.f("f76",e,n,r,i,s),a+="</div>"),a+=Li(i),u&&(a+="<div",i.a={class:new yr.scalarAttr("product-card-offer__promocode")},i.s="div",a+=t.a(t,0,s,"n-sticker-promocode",i),a+=Li(i),a+="</div>"),a+="</div>"),a},zi.f175=function(t,e,n,r,i,s){var a={};if(i){var o={};o.target=i;var c=[],l={};l.content=s,c.push(l),o.params=c,a.mbolayoutWidgets=o}return a},zi.f176=function(t,e,n,r,i){var s={};return s.name="inner",s.content=yr.nodeset2data(t.n(hs,yr.object2nodeset(i))),s},zi.f177=function(t,e,n,r,i,s,a){var o="",c="…";return o+=Bi(yr.externals["n-str-length"](i))>s+a?yr.externals["n-str-substr"](i,0,s-1)+c:i};var _l=[0,"sorts"];zi.f178=function(t,e,n,r,i,s){var a="";a+=Li(i),a+='<div class="n-reviews-toolbar__sort">',a+="<div",i.a={class:new yr.scalarAttr("sort i-bem")},i.s="div";var o="";o+='{ "sort": {} }',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<div class="sort__label">',a+="Сортировать: ",a+="</div>";for(var c=t.n(_l,yr.object2nodeset(s)),l=0,u=c.length;l<u;l++){var d=c[l],p=t.f("f180",d,l,u,t.s(ps,d),s);a+=t.f("f179",d,l,u,i,t.s(ps,d),p)}return a+="</div>",a+="</div>"};var ml=[0,"options",0,"isActive"],vl=[0,"options",0,"type"],yl=[0,"options",0,"id"];zi.f179=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";if(o+=Li(i),Ai("rank",t.n(yl,s))&&Ci(t.n(ml,s))){o+="<span",i.a={},i.s="span";var c="",l={a:{}};c+="sort__item sort__item_selected_yes",i.a.class=new yr.scalarAttr(c),o+=Li(i),o+=Ti(t.n(ra,s)),o+="</span>"}else{o+="<a",i.a={href:new yr.scalarAttr(a)},i.s="a";var c="",l={a:{}};c+="sort__item n-smart-link i-bem",Ci(t.n(ml,s))&&(c+=" sort__item_selected_yes"),Ci(t.n(vl,s))&&(c+=" sort__item_order_"+Ii(t.n(vl,s))),i.a.class=new yr.scalarAttr(c);var c="",l={a:{}};c+=Li(l),c+='{"n-smart-link": {"subscriptions": ["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+=Ti(t.n(ra,s)),o+="</a>"}return o};var bl=[0,"filters",2,l],gl=[0,"filters",2,u,0,"checked"];zi.f180=function(t,e,n,r,i,s){i=void 0===i?[]:i;var a="",o=t.n(bl,yr.object2nodeset(s));return a+=yr.externals["n-build-url"]("market:product-reviews",function(){var e={};return e.productId=yr.nodeset2data(t.n(rc,yr.object2nodeset(s))),e.sort_by=yr.nodeset2data(t.n(yl,i)),Ci(t.n(ml,i))&&Ai("desc",t.n(vl,i))&&(e.sort_desc="asc"),!Ai("grade",t.n(yl,i))&&yr.exists(o)&&(e.grade_value=yr.nodeset2data(t.n(to,o))),Ci(t.n(gl,yr.object2nodeset(s)))&&(e["with-photo"]=1),e}())};var kl=[0,"checked"],wl=[0,"desc"];zi.f181=function(t,e,n,r,i,s){var a="",o=Ri("checked",e);a+=Li(i),a+='<div class="n-reviews-toolbar__filter n-reviews-toolbar__filter_type_'+Si(t.n(cs,yr.object2nodeset(s)))+'">',a+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_theme_normal checkbox_size_s i-bem")},i.s="span",i.a["data-filter"]=new yr.scalarAttr("with-"+Ii(t.n(cs,yr.object2nodeset(s))));var c="";if(c+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(c),o){var l=i.a.class;l?i.a.class=l.addscalar(" checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox_checked_yes")}return a+=Li(i),a+='<span class="checkbox__box">',a+="<input",i.a={id:new yr.scalarAttr("reviews-with-"+Ii(t.n(cs,yr.object2nodeset(s)))),class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox")},i.s="input",o&&(i.a.checked=new yr.scalarAttr("")),a+=Li(i),a+="",a+='<i class="checkbox__tick"></i>',a+="</span>",a+='<label class="checkbox__label" for="reviews-with-'+Si(t.n(cs,yr.object2nodeset(s)))+'">',a+=Ti(t.n(wl,yr.object2nodeset(s))),a+="</label>",a+="</span>",a+="</div>"},zi.v436=0,zi.v437=1,zi.v438=2,zi.v439=3,zi.v440=4,zi.v441=5,zi.v442=6,zi.v443=7,zi.f182=function(t,e,n,r,i){var s="";return 1==i?s+="vk":2==i?s+="fb":3==i?s+="tw":4==i?s+="mr":5==i?s+="gp":6==i?s+="ok":7==i?s+="fs":8==i&&(s+="lf"),s},zi.f183=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="image_name_cpa-buyer">',s+='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">',s+='<g fill="none" fill-rule="evenodd"><path class="image_name_cpa-buyer__shape" fill="#29AD2E" fill-rule="nonzero" d="M8.737 17.314l-1.28.572c-.555.25-1.21.074-1.566-.42l-.82-1.135c-.108-.147-.273-.243-.455-.262l-1.394-.143c-.605-.062-1.084-.54-1.146-1.147l-.144-1.394c-.018-.182-.114-.348-.262-.455l-1.136-.822c-.493-.357-.67-1.01-.42-1.567l.573-1.278c.075-.167.075-.358 0-.525l-.573-1.28c-.25-.555-.073-1.21.42-1.566l1.136-.82c.148-.108.244-.273.262-.455l.144-1.394c.062-.605.54-1.084 1.147-1.146l1.395-.144c.182-.018.347-.114.455-.262L5.89.532C6.25.04 6.903-.138 7.46.112l1.28.573c.166.075.357.075.524 0l1.28-.573c.555-.25 1.21-.073 1.566.42l.82 1.136c.108.148.274.244.456.262l1.394.144c.606.062 1.085.54 1.147 1.147l.143 1.395c.02.182.115.347.263.455l1.136.82c.494.358.67 1.012.42 1.568l-.572 1.28c-.075.166-.075.357 0 .524l.572 1.28c.25.555.074 1.21-.42 1.566l-1.135.82c-.147.108-.243.274-.262.456l-.143 1.394c-.062.606-.54 1.085-1.147 1.147l-1.394.143c-.182.02-.348.115-.455.263l-.822 1.136c-.357.494-1.01.67-1.567.42l-1.278-.572c-.167-.075-.358-.075-.525 0z"></path><path fill="#FFF" d="M14.396 6.738L8.1 12.898c-.07.068-.16.102-.25.102-.092 0-.182-.034-.25-.102l-3.496-3.42c-.14-.135-.14-.354 0-.49l1.17-1.145c.14-.136.363-.136.502 0l2.073 2.03 4.875-4.77c.138-.137.363-.137.5 0l1.17 1.144c.068.065.105.153.105.245s-.037.18-.104.246z"></path></g>',s+="</svg>",s+="</span>"},zi.f184=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-close")},i.s="div";var o="";o+=yr.exists(t.n(gs,yr.object2nodeset(s)))?" "+Ii(t.n(gs,yr.object2nodeset(s))):"";var c=i.a.class;return c?i.a.class=c.addscalar(o):i.a.class=new yr.scalarAttr(o),i.a.title=new yr.scalarAttr(Ii(t.n(Pc,yr.object2nodeset(s)))),a+=Li(i),a+=t.f("f185",e,n,r,i),a+="</div>"},zi.f185=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="image_name_close-thick">',s+='<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg">',s+='<path class="image_name_close-thick__shape" d="M10 1.62L8.38 0 5 3.38 1.62 0 0 1.62 3.38 5 0 8.378 1.62 10 5 6.62 8.38 10 10 8.379l-3.38-3.38z" fill="#000" fill-rule="evenodd" opacity=".33"></path>',s+="</svg>",s+="</div>"};var El=[0,"replyToUser"],xl=[0,"comment",0,"anonymous"],Ml=[0,"comment",0,"rootId"],Al=[0,"comment",0,"id"],Tl=[0,"comment",0,"body"],Cl=[0,"comment",0,"author"];zi.f186=function(t,e,n,r,i,s){var a="",o="",c={a:{}};Ai(1,t.n(xl,yr.object2nodeset(s)))?(o+=Li(c),o+=""):o+=t.a(t,0,t.n(El,yr.object2nodeset(s)),"n-user-data__name",c);var l=o,u=Bi(yr.externals["n-math-random"]())+Bi(yr.externals["n-math-random"]());a+=Li(i),a+="<form",i.a={class:new yr.scalarAttr("n-comment-form n-comment-form_hidden_yes i-bem")},i.s="form",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.replyName=l,n.rootId=yr.nodeset2data(t.n(Ml,yr.object2nodeset(s))),n.commentId=yr.nodeset2data(t.n(Al,yr.object2nodeset(s))),n.commentBody=yr.nodeset2data(t.n(Tl,yr.object2nodeset(s))),n.productId=yr.nodeset2data(t.n(Wc,yr.object2nodeset(s))),e["n-comment-form"]=n,e}())));var o="",c={a:{}};o+=yr.exists(t.n(as,yr.object2nodeset(s)))?" n-comment-form_mode_"+Ii(t.n(as,yr.object2nodeset(s))):"";var d=i.a.class;d?i.a.class=d.addscalar(o):i.a.class=new yr.scalarAttr(o),a+=Li(i),a+='<div class="n-comment-form__header">',a+=t.f("f187",e,n,r,i,t.n(Cl,yr.object2nodeset(s))),a+=t.f("f184",e,n,r,i,function(){var t={};return t.class="n-comment-form__close",t.title="Закрыть",t}()),a+="</div>",a+="<div",i.a={},i.s="div",i.a.class=new yr.scalarAttr("n-comment-form__validation-tooltip popup2 popup2_target_anchor popup2_autoclosable_no popup2_theme_normal");var d=i.a.class;d?i.a.class=d.addscalar(" tooltip tooltip_size_m tooltip_theme_error i-bem"):i.a.class=new yr.scalarAttr(" tooltip tooltip_size_m tooltip_theme_error i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[];return n.push("top-center"),e.directions=n,t.popup2=e,t}()))),a+=Li(i),a+='<div class="tooltip__content"></div>',a+='<div class="popup2__tail"></div>',a+="</div>",a+="<span",i.a={},i.s="span",i.a.class=new yr.scalarAttr("n-comment-form__text n-limit-counter textarea");var d=i.a.class;d?i.a.class=d.addscalar(" textarea_theme_normal textarea_type_limited textarea_size_height-auto i-bem"):i.a.class=new yr.scalarAttr(" textarea_theme_normal textarea_type_limited textarea_size_height-auto i-bem");var o="",c={a:{}};o+='{\n    "textarea": {\n        "initialHeight": 57\n    },\n    "n-limit-counter": {\n        "warningLimit": 500,\n        "errorLimit": 1000\n    }\n}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="textarea__wrap">',a+='<textarea name="body" class="textarea__control">'+Ti(t.n(Tl,yr.object2nodeset(s)))+"</textarea>",a+='<span class="n-limit-counter__counter"></span>',a+="</span>",a+='<span class="textarea__box"></span>',a+="</span>",a+='<div class="n-comment-form__footer">',a+="<button",i.a={class:new yr.scalarAttr("n-comment-form__submit button2 button2_type_submit button2_theme_action button2_size_s i-bem"),type:new yr.scalarAttr("submit"),autocomplete:new yr.scalarAttr("off")},i.s="button";var o="",c={a:{}};o+='{"button2": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button2__text">Отправить</span>',a+="</button>",a+='<div class="n-comment-form__spin spin2 spin2_size_s"></div>',a+='<div class="n-comment-form__terms-wrap">',a+="<span",i.a={class:new yr.scalarAttr("n-comment-form__terms checkbox checkbox_theme_normal checkbox_size_s checkbox_checked_yes i-bem")},i.s="span";var o="",c={a:{}};return o+='{"checkbox": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="checkbox__box">',a+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox"),autocomplete:new yr.scalarAttr("off"),id:new yr.scalarAttr("uniq"+u),"aria-labelledby":new yr.scalarAttr("labeluniq"+u)},i.s="input",i.a.checked=new yr.scalarAttr("checked"),a+=Li(i),a+="",a+='<i class="checkbox__tick"></i>',a+="</span>",a+='<label class="checkbox__label" aria-hidden="true" id="labeluniq'+Oi(u)+'" for="uniq'+Oi(u)+'">',a+="Я согласен с ",a+='<a class="link" href="'+Oi(yr.externals["n-build-url"]("external:terms-of-use"))+'" target="_blank" rel="nofollow noopener">',a+="условиями использования сервиса",a+="</a>",a+="</label>",a+="</span>",a+="</div>",a+="</div>",a+="</form>"};var Sl=[0,"avatar"];zi.f187=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="n-comment-author n-user-data">',a+=Ci(t.n(Sl,s))?'<img class="n-comment-author__avatar" src="'+Si(t.n(Sl,s))+'" alt=""/>':'<div class="n-comment-author__avatar n-comment-author__avatar_empty_yes"></div>',a+="<span",i.a={class:new yr.scalarAttr("n-comment-author__name n-user-data__name")},i.s="span",a+=t.a(t,0,s,"n-user-data__name",i),a+=Li(i),a+="</span>",a+="</div>"};var Il=[0,"tasks",0,"CommentComplaintReasons"];zi.f188=function(t,e,n,r,i,s,a){var o="";o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-comment-complaint n-comment-complaint_hidden_yes i-form-serializer i-bem")},i.s="div";var c="";c+='{"n-comment-complaint": {}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+='<form class="n-comment-complaint__form">',o+="<div",i.a={class:new yr.scalarAttr("n-comment-complaint__tooltip popup2 popup2_target_anchor popup2_autoclosable_no popup2_theme_normal tooltip tooltip_size_m tooltip_theme_error i-bem")},i.s="div";var c="";c+='{"popup2": {"directions": ["top-center"]}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+='<div class="tooltip__content"></div>',o+='<div class="popup2__tail"></div>',o+="</div>",o+='<div class="n-comment-complaint__header">',o+='<div class="n-comment-complaint__hint">',o+="Расскажите, что не так с этим комментарием",o+="</div>",o+=t.f("f184",e,n,r,i,function(){var t={};return t.class="n-comment-complaint__close",t.title="Закрыть",t}()),o+="</div>",o+='<div class="n-comment-complaint__reason">',o+="<span",i.a={class:new yr.scalarAttr("radiobox radiobox_theme_normal radiobox_size_s i-bem")},i.s="span";var c="";c+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i);for(var l=t.s(Il,e.doc.root),u=0,d=l.length;u<d;u++){var p=l[u];o+=t.f("f189",p,u,d,i,t.s(ps,p))}o+="</span>",o+="</div>",o+='<input type="hidden" name="comment[id]" value="'+Oi(s)+'"/>',o+='<input type="hidden" name="rootComment[id]" value="'+Oi(a)+'"/>',o+="<button",i.a={class:new yr.scalarAttr("n-comment-complaint__submit button2 button2_type_submit button2_theme_action button2_size_s i-bem"),type:new yr.scalarAttr("submit"),autocomplete:new yr.scalarAttr("off")},i.s="button";var c="";return c+='{"button2": {}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+='<span class="button2__text">Отправить</span>',o+="</button>",o+='<div class="n-comment-complaint__spin spin2 spin2_size_s"></div>',o+="</form>",o+='<div class="n-comment-complaint__accepted n-comment-complaint__accepted_hidden_yes">',o+='<div class="n-comment-complaint__accepted-text">',
o+="Спасибо, служба поддержки рассмотрит ваше обращение.",o+="</div>",o+=t.f("f184",e,n,r,i,function(){var t={};return t.class="n-comment-complaint__accepted-close",t.title="Закрыть",t}()),o+="</div>",o+="</div>"},zi.f189=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Bi(yr.externals["n-math-random"]())+Bi(yr.externals["n-math-random"]());a+=Li(i),a+='<div class="n-comment-complaint__reason-item">',a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio"),for:new yr.scalarAttr("uniq"+o)},i.s="label";var c="";c+=0==n?" radiobox__radio_checked_yes":"";var l=i.a.class;return l?i.a.class=l.addscalar(c):i.a.class=new yr.scalarAttr(c),a+=Li(i),a+='<span class="radiobox__box">',a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),id:new yr.scalarAttr("uniq"+o),type:new yr.scalarAttr("radio"),name:new yr.scalarAttr("reason[id]"),value:new yr.scalarAttr(Ii(t.n(ao,s)))},i.s="input",0==n&&(i.a.checked=new yr.scalarAttr("checked")),a+=Li(i),a+="",a+="</span>",a+='<span class="radiobox__text">'+Ti(t.n(Os,s))+"</span>",a+="</label>",a+="</div>"};var Ol=[0,"created"],jl=[0,"anonymous"],Pl=[0,"user"],Bl=[0,"user",0,"login"],Dl=[0,"pro"],Rl=[0,"contra"],Nl=[0,"comment"],Ll=[0,"rating",0,"value"];zi.f190=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=yr.externals["n-moment"](Ii(t.n(Ol,s)));a+=Li(i),a+='<div itemprop="review" itemscope="" itemtype="https://schema.org/Review">',a+="<meta",i.a={itemprop:new yr.scalarAttr("datePublished")},i.s="meta",i.a.content=new yr.scalarAttr(yr.externals["n-moment-call-scalar"](o,"format","YYYY-MM-DD")),a+=Li(i),a+="",a+="<meta",i.a={itemprop:new yr.scalarAttr("author")},i.s="meta";var c="",l={a:{}};c+=yr.exists(t.n(Bl,s))?Ai("1",t.n(jl,s))?t.a(t,0,t.n(Pl,s),"n-user-data__name",l,function(){var e={};return e.specialName="anonymous",e.date=Ii(t.n(Ol,s)),e}()):t.a(t,0,t.n(Pl,s),"n-user-data__name",l,function(){var e={};return e.date=Ii(t.n(Ol,s)),e}()):t.a(t,0,t.n(Pl,s),"n-user-data__name",l,function(){var e={};return e.specialName="deleted",e.date=Ii(t.n(Ol,s)),e}()),i.a.content=new yr.xmlAttr(c),a+=Li(i),a+="",a+="<meta",i.a={itemprop:new yr.scalarAttr("description")},i.s="meta";var c="",l={a:{}};return c+="Достоинства: ",c+=yr.externals["n-nl2space"](Ii(t.n(Dl,s))),c+=" Недостатки: ",c+=yr.externals["n-nl2space"](Ii(t.n(Rl,s))),(yr.externals["n-normalize-space"](Ii(t.n(Dl,s)))||yr.externals["n-normalize-space"](Ii(t.n(Rl,s))))&&(c+=" Комментарий: "),c+=yr.externals["n-nl2space"](Ii(t.n(Nl,s))),i.a.content=new yr.scalarAttr(c),a+=Li(i),a+="",a+=t.f("f125",e,n,r,i,Ii(t.n(Ll,s))),a+="</div>"},zi.f191=function(t,e,n,r){var i={};return i.name="product-rating-stat",i},zi.f192=function(t,e,n,r,i){var s={};return s.name="title",s.content=i,s.mix=t.f("f47",e,n,r),s};var Fl=[0,"gradeValue"],Ul=[0,"sortBy"],zl=[0,"sortDesc"];zi.f193=function(t,e,n,r,i,s,a,o){return yr.externals["n-build-url"](i,function(){var e={};return e[s]=a,e.track="rev_mc_marked",Ci(t.n(Fl,yr.object2nodeset(o)))&&(e.grade_value=yr.nodeset2data(t.n(Fl,yr.object2nodeset(o)))),Ci(t.n(Ul,yr.object2nodeset(o)))&&(e.sort_by=yr.nodeset2data(t.n(Ul,yr.object2nodeset(o)))),Ci(t.n(zl,yr.object2nodeset(o)))&&(e.sort_desc=yr.nodeset2data(t.n(zl,yr.object2nodeset(o)))),e}())};zi.f194=function(t,e,n,r,i,s){var a={};a.name="rating-review";var o="",c={a:{}};return o+=Li(c),o+="product"==i?t.f("f197",e,n,r,c,function(){var t={};return t.value=yr.nodeset2data(Ni("value",e,[])),i&&(t.entity=i),t}()):t.f("f7",e,n,r,c,function(){var n={};return n.grade=yr.nodeset2data(Ni("value",e,[])),Ci(t.n(is,yr.object2nodeset(s)))&&(n.size=yr.nodeset2data(t.n(is,yr.object2nodeset(s)))),n}()),o+=t.a(t,0,t.s(ps,e),"n-product-rating-stat__rating-review-value",c,Di("percent",e)),o+=t.a(t,0,t.s(ps,e),"n-product-rating-stat__rating-review-count",c,Di("number",e)),a.content=o,a},zi.f195=function(t,e,n,r,i){var s={};s.name="value";var a="";return a+=0==i?"< 1":i,a+="%",s.content=a,s},zi.f196=function(t,e,n,r,i){var s={};s.name="count";var a="",o={a:{}};return a+=Li(o),a+=Pi(i),a+=" ",a+=Pi(yr.externals["n-str-plural"](i,"отзыв","отзыва","отзывов")),s.content=a,s},zi.v465=function(t,e,n,r){var i=[];return i.push("1"),i.push("2"),i.push("3"),i.push("4"),i.push("5"),i};var ql=[0,"gradesDict"];zi.f197=function(t,e,n,r,i,s){var a="",o="";o+=Ai("shop",t.n(sa,yr.object2nodeset(s)))?"RATING_SHOP":"RATING_MODEL";var c=o;a+=Li(i),a+="<div",i.a={},i.s="div";var o="";o+="n-rating-chevrons",Ci(t.n(is,yr.object2nodeset(s)))&&(o+=" n-rating-chevrons_size_"+Ii(t.n(is,yr.object2nodeset(s)))),Ci(t.n(gs,yr.object2nodeset(s)))&&(o+=" "+Ii(t.n(gs,yr.object2nodeset(s)))),Ci(t.n(ms,yr.object2nodeset(s)))&&(o+=" i-bem"),i.a.class=new yr.scalarAttr(o),i.a["data-rate"]=new yr.scalarAttr(Ii(t.n(to,yr.object2nodeset(s)))),(Ci(t.n(ms,yr.object2nodeset(s)))||Ci(t.n(vs,yr.object2nodeset(s))))&&(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return Ci(t.n(ms,yr.object2nodeset(s)))&&(n.variable=!0),Ci(t.n(vs,yr.object2nodeset(s)))&&(n.label=!0),e["n-rating-chevrons"]=n,e}())))),a+=Li(i);for(var l=t.n(Hi,yr.array2nodeset(t.v("v465",e.doc.root))),u=0,d=l.length;u<d;u++){var p=l[u];a+=t.f("f198",p,u,d,i,function(){var e={};return e.i=yr.nodeset2data(t.s(ps,p)),e.gradesDict=yr.nodeset2data(t.n(ql,yr.object2nodeset(s))),e.i18Key=c,e}())}return Ci(t.n(ws,yr.object2nodeset(s)))&&(a+='<input type="hidden" name="'+Si(t.n(ws,yr.object2nodeset(s)))+'" class="n-rating-chevrons__value" value="'+Si(t.n(to,yr.object2nodeset(s)))+'"/>'),Ci(t.n(vs,yr.object2nodeset(s)))&&(a+='<div class="n-rating-chevrons__label">',Ci(t.n(to,yr.object2nodeset(s)))&&(a+=yr.externals["n-i18n-map"](c,Ii(t.n(to,yr.object2nodeset(s))))),a+="</div>"),a+="</div>"};var Hl=[0,"i18Key"],Vl=[0,"i"];zi.f198=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-rating-chevrons__item")},i.s="div",i.a["data-rate-name"]=new yr.xmlAttr(yr.externals["n-i18n-map"](Ii(t.n(Hl,yr.object2nodeset(s))),Ii(t.n(Vl,yr.object2nodeset(s))))),a+=Li(i),a+=Ti(t.n(Vl,yr.object2nodeset(s))),a+="</div>"},zi.f199=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-rating-analog-line i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.rating=yr.nodeset2data(t.n(Ma,yr.object2nodeset(s))),e["n-rating-analog-line"]=n,e}()))),a+=Li(i),a+='<span class="n-rating-analog-line__item"></span>',a+="</div>"},zi.v470=function(t,e,n,r){var i={};return i[12]=12,i[24]=24,i};var Gl=[0,"itemsPerPage"],$l=[0,"total"],Wl=[0,"page"],Yl=[0,"link"],Kl=[0,"noSelect"],Xl=[0,"changePageWithoutReload"],Ql=[0,"changeLimitSelect"];zi.f200=function(t,e,n,r,i){i=void 0===i?[]:i;var s={},a=t.n(Gl,i),o=yr.externals["n-math-ceil"](Ii(t.n($l,i))/Ii(a)),c=t.f("f203",e,n,r,Ii(t.n(Wl,i)),Bi(o)),l={};return l.itemsPerPage=yr.nodeset2data(a),l.page=c,l.total=Ii(t.n($l,i)),l.pagesCount=o,l.link=yr.nodeset2data(t.n(Yl,i)),l.noSelect=yr.nodeset2data(t.n(Kl,i)),l.url=yr.externals["n-build-url-extra"]("api:search-apply",function(){var n={};return n.hid=yr.nodeset2data(t.v("v11",e.doc.root)),n}()),l.changePageWithoutReload=yr.nodeset2data(t.n(Xl,i)),l.changeLimitSelect=yr.nodeset2data(t.n(Ql,i)),s.pager=l,s},zi.f201=function(t,e,n,r,i,s,a,o,c){c=void 0===c?0:c;var l="",u=[0,"*",3,c],d=t.n(u,yr.object2nodeset(t.v("v470",e.doc.root)));if(l+=Li(i),d.length){var p=Ai(o,d),h=t.f("f204",e,n,r,i,s,Ii(d),a);l+=t.f("f202",e,n,r,i,Ii(d),Bi(h),p),a-s*Ii(d)>0&&(l+=t.f("f201",e,n,r,i,s,a,o,c+1))}return l},zi.f202=function(t,e,n,r,i,s,a,o){o=void 0!==o&&o;var c="";return c+=Li(i),c+="<option",i.a={class:new yr.scalarAttr("select__option"),value:new yr.scalarAttr(s)},i.s="option",o&&(i.a.selected=new yr.scalarAttr("selected")),c+=Li(i),c+=Pi(a),c+="</option>"},zi.f203=function(t,e,n,r,i,s){var a="";return a+=i<=0?1:i>s?s:i},zi.f204=function(t,e,n,r,i,s,a,o){var c="",l=s*a;return c+=Li(i),o>l?(c+=yr.externals["n-i18n"]("BUTTON_SHOW_PER"),c+=" ",c+=Pi(a)):c+=yr.externals["n-i18n"]("BUTTON_SHOW_ALL"),c};var Jl=[0,"24"];zi.f205=function(t,e,n,r,i){function s(t,e,n,r){return e.name==i}var a="",o=[0,"*",2,s],c=t.n(o,yr.object2nodeset(t.v("v470",e.doc.root)));return a+=Ii(c.length?c:t.n(Jl,yr.object2nodeset(t.v("v470",e.doc.root))))};var Zl=[0,"index"];zi.f206=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<label class="radiobox__radio n-product-video-complain__item" for="complain-offer-'+Si(t.n(Zl,yr.object2nodeset(s)))+'">',a+='<span class="radiobox__box">',a+='<input class="radiobox__control" type="radio" name="type" id="complain-offer-'+Si(t.n(Zl,yr.object2nodeset(s)))+'" value="'+Si(t.n(cs,yr.object2nodeset(s)))+'"/>',a+="</span>",a+='<span class="radiobox__text n-product-video-complain__item-text">',a+=Ti(t.n(ra,yr.object2nodeset(s))),a+="</span>",a+="</label>"},zi.f207=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-video-complain__success-message n-product-video-complain__success-message_visible_no">',s+="<p>Спасибо, мы учтём ваш отзыв для улучшения Поиска.</p>",s+="</div>"},zi.f208=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div>",s+="<button",i.a={name:new yr.scalarAttr("submit"),type:new yr.scalarAttr("button"),role:new yr.scalarAttr("button"),class:new yr.scalarAttr("n-product-video-complain__submit-button i-bem")},i.s="button";var a=i.a.class;a?i.a.class=a.addscalar(" button button_theme_action button_size_m"):i.a.class=new yr.scalarAttr(" button button_theme_action button_size_m"),s+=Li(i),s+='<span class="button__text">Пожаловаться</span>',s+="</button>",s+="<button",i.a={name:new yr.scalarAttr("close"),type:new yr.scalarAttr("button"),role:new yr.scalarAttr("button"),class:new yr.scalarAttr("n-product-video-complain__close-button i-bem")},i.s="button";var a=i.a.class;return a?i.a.class=a.addscalar(" button button_theme_normal button_size_m"):i.a.class=new yr.scalarAttr(" button button_theme_normal button_size_m"),s+=Li(i),s+='<span class="button__text">Закрыть окно</span>',s+="</button>",s+='<span class="n-product-video-complain n-product-video-complain__spinner-holder"></span>',s+="</div>"};var tu=[0,"legalForm"],eu=[0,"brandName"],nu=[0,"cpaName"],ru=[0,"juridicalAddress"],iu=[0,"factAddress"],su=[0,"cpaRegnum"],au=[0,"cpaRegnumTranslation"],ou=[0,"contactPhone"],cu=[0,"returnDeliveryAddress"],lu=[0,"createdAt"];zi.f209=function(t,e,n,r,i,s,a){a=void 0===a?[]:a;var o="";return o+=Li(i),o+='<div class="n-w-shop-jur-info__item">',Ci(a)?(o+='<div class="n-w-shop-jur-info__item-title">',o+=Ci(t.n(eu,a))?Ti(t.n(eu,a)):Ci(t.n(Os,a))?Ti(t.n(tu,a))+' "'+Ti(t.n(Os,a))+'"':"Продавец №"+Ti(t.n(ao,a)),o+="</div>",Ci(t.n(nu,a))?o+='<div class="n-w-shop-jur-info__item-text">Владелец: '+Ti(t.n(nu,a))+"</div>":Ci(t.n(Os,a))&&(o+='<div class="n-w-shop-jur-info__item-text">Владелец: '+Ti(t.n(tu,a))+' "'+Ti(t.n(Os,a))+'"</div>'),Ci(t.n(ru,a))&&!Ai("4",t.n(cs,a))&&(o+='<div class="n-w-shop-jur-info__item-text">Юридический адрес: '+Ti(t.n(ru,a))+"</div>"),Ci(t.n(iu,a))&&(o+='<div class="n-w-shop-jur-info__item-text">Фактический адрес: '+Ti(t.n(iu,a))+"</div>"),(Ci(t.n(su,a))||Ci(t.n(au,a)))&&(o+='<div class="n-w-shop-jur-info__item-text">'+Ti(t.n(au,a))+": "+Ti(t.n(su,a))+"</div>"),Ci(t.n(ou,a))&&(o+='<div class="n-w-shop-jur-info__item-text">Контактный телефон: '+Ti(t.n(ou,a))+"</div>"),Ci(t.n(cu,a))&&(o+='<div class="n-w-shop-jur-info__item-text">Адрес возврата: '+Ti(t.n(cu,a))+"</div>"),Ci(t.n(lu,a))&&(o+='<div class="n-w-shop-jur-info__item-text">',o+="Зарегистрирован на Маркете: "+Pi(yr.externals["n-moment-print-date-hr"](Ii(t.n(lu,a)),"YYYY-MM-DD HH:mm:ss")),o+="</div>")):o+='<div class="n-w-shop-jur-info__item-text">Информация по продавцу №'+Pi(s)+" недоступна</div>",o+="</div>"},zi.f210=function(t,e,n,r,i){i=void 0===i?[]:i;var s=[],a=[0,"categories",3,0,0,"cpaType"];return s=t.n(a,i)},zi.f211=function(t,e,n,r,i){return i=void 0===i?[]:i,Ai("real",t.n(ga,i))&&Ai("cpa_only",t.f("f210",e,n,r,i))},zi.f212=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+="<div",i.a={itemscope:new yr.scalarAttr(""),itemtype:new yr.scalarAttr("https://schema.org/Offer")},i.s="div",a&&(i.a.itemprop=new yr.scalarAttr(a)),o+=Li(i),o+='<meta itemprop="price" content="'+Si(t.n(to,s))+'"/>',o+='<meta itemprop="priceCurrency" content="'+Si(t.n(_o,s))+'"/>',o+="</div>"},zi.f213=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="n-product-badges__item">',a+='<div class="n-product-badges__item-image-cotanier">',a+='<i class="n-product-badges__item-image image image_name_'+Si(t.n(_c,s))+'"></i>',a+="</div>",a+='<span class="n-product-badges__item-text">',a+=Ti(t.n(ra,s)),a+="</span>",a+="</div>"},zi.k0={},zi.k0.n=function(t,e,n,r){return t.n(Hi,t.f("f215",e,n,r))},zi.k0.u=function(t,e,n,r){return e.name},zi.k0.b=function(t,e,n,r,i){return t.s(ps,e)},zi.k0.ut="scalar",zi.k0.bt="nodeset",zi.f214=function(t,e,n,r,i){return!!Ci(t.k("k0",i,e.doc.root))},zi.f215=function(t,e,n,r){return Ni("expFlags",e.doc.root,[])},zi.v502=function(t,e,n,r){var i={};return i.manufacturer=1,i.color=1,i.price=1,i["offer-shipping"]=1,i},zi.f216=function(t,e,n,r,i){return i=void 0===i?[]:i,Ai("Производитель",t.n(Os,i))||Ai("Цена",t.n(Os,i))||Ai("offer-shipping",t.n(ao,i))||Ai("color",t.n(js,i))||Ai("image_picker",t.n(js,i))},zi.f217=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="";Ai("market:search",t.s(Zi,e.doc.root))?o+="search":Ai("market:product-offers",t.s(Zi,e.doc.root))&&(o+="offers");var c=o;return a+=Li(i),a+='<div class="n-filter-block_pos_left i-bem">',a+=t.f("f246",e,n,r,i,s,c),a+="</div>"};var uu=[0,"hid"],du=[0,"tasks",0,"n-w-search-result",0,"filters",2,d],pu=[0,"filterMutations"],hu=[0,"isColorPicker"],fu=[0,"isNewDesignEnabled"],_u=[0,"expFiltersNewDesign"],mu=[0,"isBooleanFilter"];zi.f218=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=Ii(t.n(cs,s)),l=t.s($i,e.doc.root),u=t.n(uu,yr.object2nodeset(a));o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__body i-bem")},i.s="div";var d="";if(d+='{"n-filter-block__body": {}}',i.a["data-bem"]=new yr.xmlAttr(d),Ai("Производитель",Ni("name",e,[]))||Ai("Магазины",Ni("name",e,[]))){var d={};d.filterId=yr.nodeset2data(Ni("id",e,[])),Ci(l)&&(d.nid=yr.nodeset2data(l));var p=d,d={};d.moreGateUrl=yr.externals["n-build-url"]("api:report-get-more-filters",p),d.hid=yr.nodeset2data(u),d.isNewDesignEnabled=yr.nodeset2data(t.n(fu,yr.object2nodeset(a)));var h=d;o+=t.a(t,0,s,"n-filter-block__body_list_more",i,h)}else if(Ai("Линейка",Ni("name",e,[])))o+=t.a(t,0,s,"n-filter-block__body_list_more_suggest",i,function(){var n={};return n.doNotFocus=!0,n.filtersData=yr.nodeset2data(t.s(du,e.doc.root)),n}());else if("number"==c&&Ai("Цена",Ni("name",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_range"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_range"),o+=Li(i),o+=t.f("f230",e,n,r,i,s),o+=t.f("f236",e,n,r,i,s)}else if("number"==c&&Ai("set",Ni("extraType",e,[]))&&Ci(t.n(pu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f241",e,n,r,i,s)}else if("number"==c){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_range"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_range"),o+=Li(i),o+=t.f("f229",e,n,r,i,s)}else if("boolean"==c&&Ai("Рейтинг магазина",Ni("name",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f231",e,n,r,i,s)}else if("enum"==c&&Ai("image_picker",Ni("subType",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=t.f("f226",e,n,r,i,s)}else if("enum"==c&&Ai("color",Ni("subType",e,[])))if(Ci(t.n(hu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=t.f("f226",e,n,r,i,s)}else{var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_list"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_list"),o+=t.f("f221",e,n,r,i,s,a)}else if("enum"==c&&Ai("size",Ni("subType",e,[]))){if(Ci(t.n(pu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean")}else{var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_list"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_list")}o+=Li(i),o+=t.f("f222",e,n,r,i,s,a)}else if("enum"==c)if(Ci(t.n(fu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_with-disabled-overflow"):i.a.class=new yr.scalarAttr(" n-filter-block__body_with-disabled-overflow"),o+=t.a(t,0,s,"n-filter-block__body_list_enum-sorted",i,Ii(t.n(_u,yr.object2nodeset(a))))}else if(Ci(t.n(pu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f240",e,n,r,i,s)}else{var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_list"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_list"),o+=Li(i),o+=t.f("f219",e,n,r,i,s)}else if("boolean"==c&&Ai("cpa",t.n(ao,s))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=t.a(t,0,t.s(ps,e),"n-filter-block__body_boolean_cpa",i,s)}else if("boolean"==c&&Ci(t.n(mu,yr.object2nodeset(a)))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f233",e,n,r,i,s)}else if("boolean"==c&&Ai("offer-shipping",t.n(ao,s))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f234",e,n,r,i,s)}else if("boolean"==c&&Ai("delivery-interval",t.n(ao,s))){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f235",e,n,r,i,s)}else if("boolean"==c){var f=i.a.class;f?i.a.class=f.addscalar(" n-filter-block__body_viewType_boolean"):i.a.class=new yr.scalarAttr(" n-filter-block__body_viewType_boolean"),o+=Li(i),o+=t.f("f237",e,n,r,i,s)}return o+=Li(i),o+="</div>"};var vu=[0,"values"];zi.f219=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list i-bem")},i.s="div";var o="",c={a:{}};return o+=Li(c),o+='{"n-filter-block__list":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,t.n(vu,s),"n-filter-block__body_list_enum",i,s),a+=Li(i),a+="</div>"},zi.v514=function(t,e,n,r){var i={};return i["#ffeedd"]="dark",i["#ffffff"]="dark",i["#30d5c8"]="dark",i["#990033"]="light",i["#85d6ff"]="dark",i["#ffff00"]="dark",i["#009900"]="light",i["#ffd700"]="dark",i["#663300"]="light",i["#ff0000"]="dark",i["#808000"]="light",i["#ff6600"]="dark",i["#ff00bb"]="dark",i["#d14719"]="dark",i["#99ff99"]="dark",i["#ffe1ee"]="dark",i["#f1f1f1"]="dark",i["#666666"]="light",i["#3333ff"]="light",i["#c8a2c8"]="dark",i["#660066"]="light",i["#005000"]="light",i["#663300"]="light",i["#666666"]="light",i["#103090"]="light",i["#9900cc"]="light",i["#bdb76b"]="dark",i["#000000"]="light",i["#ff00bb"]="light",i["#cccccc"]="dark",i};var yu=[2,p,0,"values",2,h];zi.f220=function(t,e,n,r,i){i=void 0===i?[]:i;for(var s="",a=t.n(yu,i),o=0,c=a.length;o<c;o++){var l=a[o];0!=o&&(s+=","),s+=Di("id",l)}return s};var bu=[0,"isCheckBoxColor"];zi.f221=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=14,l=21;if(Ci(t.n(bu,yr.object2nodeset(a)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-filter-block__body_list_limited"):i.a.class=new yr.scalarAttr(" n-filter-block__body_list_limited"),o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list i-bem")},i.s="div";var d="";d+='{"n-filter-block__list": {}}',i.a["data-bem"]=new yr.xmlAttr(d),o+=t.f("f223",e,n,r,i,s,function(){var e={};return e.limit=c,e.isCheckBoxColor=Ci(t.n(bu,yr.object2nodeset(a))),e.isNewDesignEnabled=yr.nodeset2data(t.n(fu,yr.object2nodeset(a))),e.hid=yr.nodeset2data(t.n(uu,yr.object2nodeset(a))),e.filterId=yr.nodeset2data(t.n(ao,s)),e}()),o+=Li(i),o+="</div>"}else{var u=i.a.class;u?i.a.class=u.addscalar(" n-filter-block__body_type_color"):i.a.class=new yr.scalarAttr(" n-filter-block__body_type_color"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.total=t.n(vu,s).length,n.filterId=yr.nodeset2data(t.n(ao,s)),n.hid=yr.nodeset2data(t.n(uu,yr.object2nodeset(a))),e["n-filter-block__body"]=n,e}()))),o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__body_list-colors n-filter-block__list_type_color i-bem")},i.s="div";var d="";d+='{"n-filter-block__body_list-colors": {}}',i.a["data-bem"]=new yr.xmlAttr(d),o+=Li(i),o+=t.f("f225",e,n,r,i,s,function(){var e={};return e.limit=l,e.isCheckBoxColor=Ci(t.n(bu,yr.object2nodeset(a))),e.isNewDesignEnabled=yr.nodeset2data(t.n(fu,yr.object2nodeset(a))),e.hid=yr.nodeset2data(t.n(uu,yr.object2nodeset(a))),e.filterId=yr.nodeset2data(t.n(ao,s)),e}()),o+="</div>"}return o};var gu=[0,"units",0,"values",2,h,1,1,0,"unitId"],ku=[0,"values",2,h],wu=[0,"units",0,"values",2,h],Eu=[0,"units"],xu=[0,"internalType"];zi.f222=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=Ii(t.s(gu,e)),l=t.n(ku,s).concat(t.n(wu,s)),u="";u+=c?c:Di("defaultUnit",e);var d=u,p=t.n(Eu,s).length>1;if(o+=Li(i),o+="<div",i.a={},i.s="div",p&&(i.a.class=new yr.scalarAttr("tabs tabs_id_"+Ii(Ni("id",e,[]))+" tabs_control_menu tabs_theme_normal tabs_layout_horiz tabs-panes i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.id=yr.nodeset2data(Ni("id",e,[])),t.tabs=n;var n={};return n.id=yr.nodeset2data(Ni("id",e,[])),t["tabs-panes"]=n,t}()))),o+=Li(i),o+="<ul",i.a={class:new yr.scalarAttr("tabs-menu tabs-menu_id_"+Ii(Ni("id",e,[]))+" tabs-menu_theme_sizer tabs-menu_layout_horiz tabs__control i-bem")},i.s="ul",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.id=yr.nodeset2data(Ni("id",e,[])),t["tabs-menu"]=n,t}()))),o+=t.a(t,0,t.n(Eu,s),"n-filter-block__body_list_sizes_unit-names",i,d),o+=Li(i),o+="</ul>"),o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list n-filter-block__list_column_3")},i.s="div",p){var h=i.a.class;h?i.a.class=h.addscalar(" tabs-panes tabs-panes_id_"+Ii(Ni("id",e,[]))+" i-bem"):i.a.class=new yr.scalarAttr(" tabs-panes tabs-panes_id_"+Ii(Ni("id",e,[]))+" i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.id=yr.nodeset2data(Ni("id",e,[])),t["tabs-panes"]=n,t}())))}if(Ci(t.n(pu,yr.object2nodeset(a)))){var h=i.a.class;h?i.a.class=h.addscalar(" radiobox radiobox_size_s radiobox_theme_normal"):i.a.class=new yr.scalarAttr(" radiobox radiobox_size_s radiobox_theme_normal"),o+=t.a(t,0,t.n(Eu,s),"n-filter-block__body_list_sizes_unit-values",i,s,d,a),o+=Li(i),o+=t.f("f232",e,n,r,i,function(){var e={};return e.text="Неважно",e.isChecked=0==l.length,e.filterId=yr.nodeset2data(t.n(ao,s)),e.filterType=yr.nodeset2data(t.n(xu,s)),e.isHidden=!1,e}())}else o+=t.a(t,0,t.n(Eu,s),"n-filter-block__body_list_sizes_unit-values",i,s,d,a);return o+=Li(i),o+="</div>",o+="</div>",Ai("Размер",Ni("name",e,[]))&&(o+="<span",i.a={class:new yr.scalarAttr("link link_pseudo_yes link_theme_minor n-tablesizes-link i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.gate=yr.externals["n-build-url"]("api:faq-table-sizes",function(){var n={};return n.hid=yr.nodeset2data(t.v("v11",e.doc.root)),n}()),n["n-tablesizes-link"]=r,n}()))),o+=Li(i),o+="Таблица размеров",o+="</span>"),o};var Mu=[0,"limit"],Au=[0,"values",2,f];zi.f223=function(t,e,n,r,i,s,a){function o(t,e,n,r){return!Ri("checked",e)&&Ri("value",e)&&n<d}function c(t,e,n,r){return!Ri("checked",e)&&Ri("value",e)&&n>d-1}s=void 0===s?[]:s;var l="",u="";u+=Ci(t.n(Mu,yr.object2nodeset(a)))?Ii(t.n(Mu,yr.object2nodeset(a))):10;var d=u,p=t.n(Au,s),h=[0,"values",2,o],f=t.n(h,s),_=[0,"values",2,c],m=t.n(_,s);if(Ai("color",t.n(js,s))&&!Ci(t.n(bu,yr.object2nodeset(a)))?(l+=t.a(t,0,p,"n-filter-block__body_list_enum-color",i,s),l+=t.a(t,0,f,"n-filter-block__body_list_enum-color",i,s)):(l+=t.a(t,0,p,"n-filter-block__body_list_enum",i,s),l+=t.a(t,0,f,"n-filter-block__body_list_enum",i,s)),l+=Li(i),m.length){var u="";u+=Ci(t.n(fu,yr.object2nodeset(a)))?"Показать всё":"Ещё";var v=u;l+="<button",i.a={class:new yr.scalarAttr("button button_size_s button_pseudo_yes button_theme_pseudo button_type_more i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button";var u="";if(u+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(u),l+=Li(i),l+='<span class="button__text">'+Pi(v)+"</span>",l+="</button>",l+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list g-hidden")},i.s="div",Ai("color",t.n(js,s))&&!Ci(t.n(bu,yr.object2nodeset(a)))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block__list_type_color"):i.a.class=new yr.scalarAttr(" n-filter-block__list_type_color"),l+=t.a(t,0,m,"n-filter-block__body_list_enum-color",i,s)}else l+=t.a(t,0,m,"n-filter-block__body_list_enum",i,s);l+=Li(i),l+="</div>"}return l},zi.f224=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list i-bem")},i.s="div";var o="",c={a:{}};return o+=Li(c),o+='{"n-filter-block__list":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,t.n(vu,s),"n-filter-block__body_list_enum-color",i,s),a+=Li(i),a+="</div>"};var Tu=[0,"values",2,_];zi.f225=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="";c+=Ci(t.n(Mu,yr.object2nodeset(a)))?Ii(t.n(Mu,yr.object2nodeset(a))):21;var l=c,u=t.n(vu,s).length,d=t.n(uu,yr.object2nodeset(a)),c="";c+=Ci(t.n(fu,yr.object2nodeset(a)))?"Показать всё":"Ещё";var p=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__body_list_limited-color i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.total=t.n(vu,s).length,n.filterId=yr.nodeset2data(t.n(ao,s)),n.hid=yr.nodeset2data(d),e["n-filter-block__body_list_limited-color"]=n,e}()))),u>l){var h=i.a.class;h?i.a.class=h.addscalar(" n-filter-block__body_list_limited-color_collapsed_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__body_list_limited-color_collapsed_yes")}if(o+=t.a(t,0,t.n(Au,s),"n-filter-block__body_list_enum-color",i,s),o+=t.a(t,0,t.n(Tu,s),"n-filter-block__body_list_enum-color",i,s),o+=Li(i),o+="</div>",o+="<button",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button",i.a.class=new yr.scalarAttr("button button_size_s button_pseudo_yes button_theme_pseudo button_type_more i-bem"),u>l){var h=i.a.class;h?i.a.class=h.addscalar(" button_type_more_hidden_yes"):i.a.class=new yr.scalarAttr(" button_type_more_hidden_yes")}var c="";return c+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+='<span class="button__text">'+Pi(p)+"</span>",o+="</button>"};var Cu=[0,"filters"];zi.f226=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o={};o.isSingleFilter=!1,o.totalCount=Ni("filters",e,[]).length,o.hasAnotherKindFilters=!0;var c=o,l=i.a.class;return l?i.a.class=l.addscalar(" n-filter-block__body_list_picker"):i.a.class=new yr.scalarAttr(" n-filter-block__body_list_picker"),a+=t.a(t,0,s,"n-filter-picker",i,c)};var Su=[0,"state"],Iu=[0,"filter",0,"maps",0,"user"],Ou=[0,"filter"],ju=[0,"expFlag"],Pu=[0,"filter",0,"maps",0,"abc"],Bu=[0,"filter",0,"maps",0,"all"];zi.f227=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<ul",i.a={class:new yr.scalarAttr("n-filter-enum-sorted__list")},i.s="ul","normal"===yr.nodeset2data(t.n(Su,yr.object2nodeset(s)))){var o=t.n(Iu,yr.object2nodeset(s));a+=t.a(t,0,o,"n-filter-enum-sorted__item-wrapper",i,t.n(Ou,yr.object2nodeset(s)),!1)}if("expanded"===yr.nodeset2data(t.n(Su,yr.object2nodeset(s)))){var c=[];c="top-abc_pos-right"===yr.nodeset2data(t.n(ju,yr.object2nodeset(s)))?t.n(Pu,yr.object2nodeset(s)):t.n(Bu,yr.object2nodeset(s));var l=c,u=l.length>10;if(u){var d=i.a.class;d?i.a.class=d.addscalar(" _scrollable"):i.a.class=new yr.scalarAttr(" _scrollable"),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-enum-sorted__item-wrapper")},i.s="div",a+=t.a(t,0,l,"n-filter-enum-sorted__item-wrapper",i,t.n(Ou,yr.object2nodeset(s)),!1),a+=Li(i),a+="</div>"}else a+=t.a(t,0,l,"n-filter-enum-sorted__item-wrapper",i,t.n(Ou,yr.object2nodeset(s)),!1)}return a+=Li(i),a+="</ul>"};var Du=[0,"hiddenItemsCount"];zi.f228=function(t,e,n,r,i,s){var a="";if(a+=Li(i),"expanded"===yr.nodeset2data(t.n(Su,yr.object2nodeset(s))))a+='<button class="n-filter-enum-sorted__button">Свернуть</button>';else{var o="";o+=Ii(t.n(Du,yr.object2nodeset(s)))>13?"Показать всё":"Показать ещё "+yr.nodeset2scalar(t.n(Du,yr.object2nodeset(s)));var c=o;a+='<button class="n-filter-enum-sorted__button _show-all">'+Pi(c)+"</button>"}return a};var Ru=[0,"values",2,m],Nu=[0,"values",2,v],Lu=[0,"min"],Fu=[0,"max"];zi.f229=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-from",l=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-to",u=t.n(Ru,s),d=t.n(Nu,s),p=t.n(Lu,d),h=t.n(Fu,d);o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-block__range i-bem")},i.s="div";var f="";f+='{"n-filter-block__range": {}}',i.a["data-bem"]=new yr.xmlAttr(f),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("input input_size_s input_type_range input_theme_normal i-bem"),"sign-title":new yr.scalarAttr("от")},i.s="span";var f="";f+='{"input": {"live": false}}',i.a["data-bem"]=new yr.xmlAttr(f),i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+",from"),o+=Li(i),o+='<span class="input__box">',o+="<input",i.a={class:new yr.scalarAttr("input__control"),placeholder:new yr.scalarAttr(Ii(t.n(Lu,u)))},i.s="input",i.a.name=new yr.scalarAttr(c),i.a.id=new yr.scalarAttr(c),i.a.value=new yr.scalarAttr(Ii(p)),o+=Li(i),o+="",o+='<span class="input__clear" unselectable="on"></span>',o+="</span>",o+="</span>",o+="<span",i.a={class:new yr.scalarAttr("input input_size_s input_type_range input_theme_normal i-bem"),"sign-title":new yr.scalarAttr("до")},i.s="span";var f="";return f+='{"input": {"live": false}}',i.a["data-bem"]=new yr.xmlAttr(f),i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+",to"),o+=Li(i),o+='<span class="input__box">',o+="<input",i.a={class:new yr.scalarAttr("input__control"),placeholder:new yr.scalarAttr(Ii(t.n(Fu,u)))},i.s="input",i.a.name=new yr.scalarAttr(l),i.a.id=new yr.scalarAttr(l),i.a.value=new yr.scalarAttr(Ii(h)),o+=Li(i),o+="",o+='<span class="input__clear" unselectable="on"></span>',o+="</span>",o+="</span>",o+="</div>"};var Uu=[0,"user",0,"settings",0,"currency"];zi.f230=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s))+"-pricefrom-var",c=Ii(t.n(xu,s))+"-priceto-var",l=t.n(Ru,s),u=t.n(Nu,s),d=t.n(Lu,u),p=t.n(Fu,u),h=t.s(Uu,e.doc.root);a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__range i-bem")},i.s="div";var f="";f+='{"n-filter-block__range": {}}',i.a["data-bem"]=new yr.xmlAttr(f),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("input input_size_s input_type_range input_theme_normal input_price_from i-bem"),"sign-title":new yr.scalarAttr("от")},i.s="span";var f="";f+='{"input": {"live": false}}',i.a["data-bem"]=new yr.xmlAttr(f),i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+",pricefrom,var"),a+=Li(i),a+='<span class="input__box">',
a+="<input",i.a={class:new yr.scalarAttr("input__control")},i.s="input",i.a.name=new yr.scalarAttr(o),i.a.id=new yr.scalarAttr(o);var f="";f+=Ai("BYN",h)?yr.externals["n-str-format-price-without-round"](Ii(t.n(Lu,l)),","):yr.externals["n-str-format-price"](Ii(t.n(Lu,l))),i.a.placeholder=new yr.scalarAttr(f),Ii(d)>0&&(i.a.value=new yr.scalarAttr(Ii(d))),a+=Li(i),a+="",a+='<span class="input__clear" unselectable="on"></span>',a+="</span>",a+="</span>",a+="<span",i.a={class:new yr.scalarAttr("input input_size_s input_type_range input_theme_normal input_price_to i-bem"),"sign-title":new yr.scalarAttr("до")},i.s="span";var f="";f+='{"input": {"live": false}}',i.a["data-bem"]=new yr.xmlAttr(f),i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+",priceto,var"),a+=Li(i),a+='<span class="input__box">',a+="<input",i.a={class:new yr.scalarAttr("input__control")},i.s="input",i.a.name=new yr.scalarAttr(c),i.a.id=new yr.scalarAttr(c);var f="";return f+=Ai("BYN",h)?yr.externals["n-str-format-price-without-round"](Ii(t.n(Fu,l)),","):yr.externals["n-str-format-price"](Ii(t.n(Fu,l))),i.a.placeholder=new yr.scalarAttr(f),Ii(p)>0&&(i.a.value=new yr.scalarAttr(Ii(p))),a+=Li(i),a+="",a+='<span class="input__clear" unselectable="on"></span>',a+="</span>",a+="</span>",a+="</div>"},zi.f231=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox radiobox_size_s radiobox_theme_normal n-filter-block__list i-bem")},i.s="span";var o="";return o+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,t.n(vu,s),"n-filter-block__body_boolean_rating",i,s),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var n={};return n.text="Любой",n.isChecked=!yr.exists(t.s(ku,e)),n.filterId=yr.nodeset2data(t.n(ao,s)),n.filterType=yr.nodeset2data(t.n(xu,s)),n}()),a+="</span>"};var zu=[0,"filterId"],qu=[0,"isChecked"],Hu=[0,"isHidden"];zi.f232=function(t,e,n,r,i,s){var a="",o="glf-"+Ii(t.n(zu,yr.object2nodeset(s)))+"--1",c="";c+=Ci(t.n(ra,yr.object2nodeset(s)))?Ii(t.n(ra,yr.object2nodeset(s))):"Неважно";var l=c;if(a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio radiobox__radio_type_unimportant n-filter-block__item i-bem"),for:new yr.scalarAttr(o)},i.s="label",Ci(t.n(qu,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(Ci(t.n(Hu,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" radiobox__radio_hidden_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_hidden_yes")}var c="";return c+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+='<span class="radiobox__box" data-filter="glf,'+Si(t.n(zu,yr.object2nodeset(s)))+',-1">',a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio"),id:new yr.scalarAttr(o),value:new yr.scalarAttr("-1")},i.s="input",i.a.name=new yr.scalarAttr("glf-"+Ii(t.n(zu,yr.object2nodeset(s)))),a+=Li(i),a+="",a+="</span>",a+=Pi(l),a+="</label>"};var Vu=[0,"values",2,y],Gu=[0,"found"];zi.f233=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-select",c=t.n(Vu,s),l=Ii(t.n(Gu,c))>0,u=t.n(kl,c);if(a+=Li(i),a+='<div class="n-filter-block__list">',a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__item n-filter-block__item_single_yes i-bem")},i.s="div",!l){var d=i.a.class;d?i.a.class=d.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var p="";if(p+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(p),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_size_s checkbox_theme_normal i-bem")},i.s="span",Ci(u)){var d=i.a.class;d?i.a.class=d.addscalar(" checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox_checked_yes")}i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+",select");var p="";if(p+='{"checkbox": {}}',i.a["data-bem"]=new yr.xmlAttr(p),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",Ci(u)){var d=i.a.class;d?i.a.class=d.addscalar(" checkbox__box_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox__box_checked_yes")}if(a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox"),id:new yr.scalarAttr(o)},i.s="input",Ci(u)){var d=i.a.checked;d?i.a.checked=d.addscalar("checked"):i.a.checked=new yr.scalarAttr("checked")}return a+=Li(i),a+="",a+='<i class="checkbox__tick"></i>',a+="</span>",a+="<label",i.a={class:new yr.scalarAttr("checkbox__label"),for:new yr.scalarAttr(o)},i.s="label",a+=t.a(t,0,s,"n-filter-block__name",i),a+=Li(i),a+="</label>",a+="</span>",a+="</div>",a+="</div>",a+=t.f("f145",e,n,r,i,s),a+=t.a(t,0,s,"n-filter-block__image",i),a+=t.a(t,0,s,"n-prepayment_context_filter",i)},zi.f234=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox radiobox_size_s radiobox_theme_normal n-filter-block__list i-bem")},i.s="span";var o="",c={a:{}};return o+=Li(c),o+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,Ni("values",e,[]),"n-filter-block__body_boolean_delivery",i,s),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var n={};return n.text="Любой",n.isChecked=!yr.exists(t.s(ku,e)),n.filterId=yr.nodeset2data(t.n(ao,s)),n.filterType=yr.nodeset2data(t.n(xu,s)),n}()),a+="</span>"},zi.f235=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox radiobox_size_s radiobox_theme_normal n-filter-block__list i-bem")},i.s="span";var o="";return o+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,Ni("values",e,[]),"n-filter-block__body_boolean_delivery-interval",i,s),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var n={};return n.text="Любой",n.isChecked=!yr.exists(t.s(ku,e)),n.filterId=yr.nodeset2data(t.n(ao,s)),n.filterType=yr.nodeset2data(t.n(xu,s)),n}()),a+="</span>"};var $u=[0,"tasks",0,"n-w-search-result"],Wu=[0,"tasks",0,"ProductOffersSearch"],Yu=[0,"showDelivery"],Ku=[0,"filters",2,b,0,"values"],Xu=[2,g],Qu=[0,"deliveryincludedState"],Ju=[0,"search",0,"isDeliveryIncluded"];zi.f236=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=[];c=Ci(t.s($u,e.doc.root))?t.s($u,e.doc.root):t.s(Wu,e.doc.root);var l=c,c=!1;c=!yr.exists(t.n(Yu,a))||Ci(t.n(Yu,a));var u=c;if(o+=Li(i),u){var d=t.n(Ku,l),p=yr.exists(t.n(Xu,d));o+="<div",i.a={class:new yr.scalarAttr("n-filter-block n-filter-block__body_boolean_delivery-included i-bem")},i.s="div";var c="",h={a:{}};if(c+=Li(h),c+='{"n-filter-block":{"filterId": "deliveryincluded"}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_theme_normal checkbox_size_s i-bem"),"data-filter":new yr.scalarAttr("glf,deliveryincluded,1")},i.s="span",p){var f=i.a.class;if(f?i.a.class=f.addscalar(" checkbox_disabled_yes"):i.a.class=new yr.scalarAttr(" checkbox_disabled_yes"),yr.exists(t.n(Qu,l))){var f=i.a.class;f?i.a.class=f.addscalar(" checkbox_disabled-state_"+Ii(t.n(Qu,l))):i.a.class=new yr.scalarAttr(" checkbox_disabled-state_"+Ii(t.n(Qu,l)))}else{var f=i.a.class;f?i.a.class=f.addscalar(" checkbox_disabled-state_0"):i.a.class=new yr.scalarAttr(" checkbox_disabled-state_0")}}if(Ci(t.n(Ju,l))){var f=i.a.class;f?i.a.class=f.addscalar(" checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox_checked_yes")}var c="",h={a:{}};if(c+=Li(h),c+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",Ci(t.n(Ju,l))){var f=i.a.class;f?i.a.class=f.addscalar(" checkbox__box_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox__box_checked_yes")}o+=Li(i),o+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),id:new yr.scalarAttr("includedelivery"),type:new yr.scalarAttr("checkbox")},i.s="input",Ci(t.n(Ju,l))&&(i.a.checked=new yr.scalarAttr("")),p&&(i.a.disabled=new yr.scalarAttr("")),o+=Li(i),o+="",o+='<i class="checkbox__tick"></i>',o+="</span>",o+='<label class="checkbox__label" for="includedelivery">',o+="цена с учётом доставки",o+="</label>",o+="</span>",o+="</div>"}return o},zi.f237=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox radiobox_size_s radiobox_theme_normal n-filter-block__list i-bem")},i.s="span";var o="",c={a:{}};return o+=Li(c),o+='{"radiobox":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,Ni("values",e,[]),"n-filter-block__body_boolean_bool",i,s),a+=Li(i),Ni("values",e,[]).length<3&&(a+=t.f("f232",e,n,r,i,function(){var n={};return n.text="Неважно",n.isChecked=!yr.exists(t.s(ku,e)),n.filterId=yr.nodeset2data(t.n(ao,s)),n.filterType=yr.nodeset2data(t.n(xu,s)),n}())),a+="</span>"},zi.f238=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<h3 class="filter-block-hint__title">',a+=Pi(s),a+="</h3>"},zi.f239=function(t,e,n,r,i,s,a){a=void 0!==a&&a;var o="";if(o+=Li(i),o+="<li",i.a={class:new yr.scalarAttr("filter-block-hint__item")},i.s="li",a){var c=i.a.class;c?i.a.class=c.addscalar(" filter-block-hint__item_type_bullet"):i.a.class=new yr.scalarAttr(" filter-block-hint__item_type_bullet"),o+=Li(i),o+='<i class="image image_name_check-white"></i>'}return o+=Li(i),o+='<span class="filter-block-hint__item-text">',o+=Pi(s),o+="</span>",o+="</li>"},zi.f240=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n(ku,s).concat(t.n(wu,s));a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list radiobox radiobox_size_s radiobox_theme_normal i-bem")},i.s="div";var c="",l={a:{}};return c+=Li(l),c+='{"n-filter-block__list":{}, "radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=t.a(t,0,t.n(vu,s),"n-filter-block__body_boolean_enum",i,s),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var e={};return e.text="Неважно",e.isChecked=0==o.length,e.filterId=yr.nodeset2data(t.n(ao,s)),e.filterType=yr.nodeset2data(t.n(xu,s)),e.isHidden=!1,e}()),a+="</div>"};var Zu=[0,"distinctValues"];zi.f241=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.n(Nu,s),c=Ii(t.n(Lu,o)),l=Ii(t.n(Fu,o));a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list radiobox radiobox_size_s radiobox_theme_normal i-bem")},i.s="div";var u="",d={a:{}};return u+=Li(d),u+='{"n-filter-block__list":{}, "radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(u),a+=t.a(t,0,t.n(Zu,s),"n-filter-block__body_number-set",i,s,c,l),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var e={};return e.text="Неважно",e.isChecked=!(c||l),e.filterId=yr.nodeset2data(t.n(ao,s)),e.filterType=yr.nodeset2data(t.n(xu,s)),e.isHidden=!1,e}()),a+="</div>"};var td=[0,"unit"];zi.f242=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<div class="n-filter-block__static-header">',a+='<h4 class="title">',a+='<span class="title__content">',a+=Ti(t.n(Os,s)),Ai("glprice",t.n(ao,s))&&(a+=", ",a+=yr.externals["n-i18n"](Ii(t.s(Uu,e.doc.root)))),Ci(t.n(td,s))&&!Ai("size",t.n(js,s))&&(a+=", ",a+=Ti(t.n(td,s))),a+="</span>",a+=t.f("f145",e,n,r,i,s),a+="</h4>",a+="</div>"},zi.f243=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+='<div class="n-filter-block__header">',o+='<h4 class="title">',o+='<span class="title__content">',o+=Ti(t.n(Os,s)),Ai("glprice",t.n(ao,s))&&(o+=", ",o+=yr.externals["n-i18n"](Ii(t.s(Uu,e.doc.root)))),Ci(t.n(td,s))&&!Ai("size",t.n(js,s))&&(o+=", ",o+=Ti(t.n(td,s))),(Ai("image_picker",t.n(js,s))||Ai("color",t.n(js,s))&&Ci(t.n(hu,yr.object2nodeset(a))))&&(o+=" ",o+=t.f("f244",e,n,r,i,function(){var e={};return e.filterId=yr.nodeset2data(t.n(ao,s)),e}())),o+="</span>",o+=t.f("f145",e,n,r,i,s),o+="</h4>",o+="</div>"},zi.f244=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block-reset i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.filterId=yr.nodeset2data(t.n(zu,yr.object2nodeset(s))),e["n-filter-block-reset"]=n,e}()))),a+=Li(i),a+="</div>"};var ed=[0,"needSwitcher"],nd=[0,"ibem"],rd=[0,"gateUrl"],id=[0,"search",0,"isLocalOffersFirst"],sd=[0,"request",0,"cookie",0,"local-offers-first"],ad=[0,"tasks",0,"ViewTypeDetector",0,"viewType"];zi.f245=function(t,e,n,r,i,s,a){s=void 0===s?[]:s,a=void 0===a?[]:a;var o="",c=!1;c=!yr.exists(t.n(ed,a))||Ci(t.n(ed,a));var l=c,c=!1;c=!yr.exists(t.n(nd,a))||Ci(t.n(nd,a));var u=c;t.s(Vi,e.doc.root);if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-dropdown")},i.s="div",u){var d=i.a.class;d?i.a.class=d.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={},i={};return i.hid=yr.nodeset2data(t.v("v11",e.doc.root)),r.additionalQueryParams=i,r.gateUrl=yr.externals["n-build-url"](Ii(t.n(rd,a))),n["n-filter-panel-dropdown"]=r,n}())))}o+=Li(i),o+='<div class="n-filter-panel-dropdown__placeholder"></div>',o+='<div class="n-filter-panel-dropdown__main">',o+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-dropdown__item")},i.s="div";var d=i.a.class;d?i.a.class=d.addscalar(" n-filter-panel-dropdown__item_size_triple n-filter-panel-dropdown__item_left_100"):i.a.class=new yr.scalarAttr(" n-filter-panel-dropdown__item_size_triple n-filter-panel-dropdown__item_left_100"),o+=Li(i),o+=t.f("f217",e,n,r,i,t.n(_l,s)),o+='<div class="n-filter-block n-filter-block_pos_left">',o+="<div",i.a={class:new yr.scalarAttr("n-filter-block i-bem")},i.s="div";var c="",p={a:{}};c+=Li(p),c+='{"n-filter-block":{"activatedCount":"1","filterId":"local-offers-first"}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_theme_normal checkbox_size_s i-bem")},i.s="span",i.a["data-filter"]=new yr.scalarAttr("glf,local-offers-first,select");var c="",p={a:{}};if(c+=Li(p),c+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(c),Ci(t.n(id,s))){var d=i.a.class;d?i.a.class=d.addscalar(" checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox_checked_yes")}if(Ai("-1",t.s(sd,e.doc.root))&&(i.a["data-was-checked"]=new yr.scalarAttr("true")),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",Ci(t.n(id,s))){var d=i.a.class;d?i.a.class=d.addscalar(" checkbox__box_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox__box_checked_yes")}if(o+=Li(i),o+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),id:new yr.scalarAttr("local-offers-first"),type:new yr.scalarAttr("checkbox")},i.s="input",Ci(t.n(id,s))&&(i.a.checked=new yr.scalarAttr("")),o+=Li(i),o+="",o+='<i class="checkbox__tick"></i>',o+="</span>",o+='<label class="checkbox__label" for="local-offers-first">',o+="Сначала предложения в моём регионе",o+="</label>",o+="</span>",o+="</div>",o+="</div>",o+="</div>",o+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-dropdown__item n-filter-panel-dropdown__item_right_100")},i.s="div",l){var h=Ii(t.s(ad,e.doc.root));o+=t.a(t,0,t.s(ps,e),"n-view-switcher",i,h,"search")}return o+=Li(i),o+="</div>",o+="</div>",o+="</div>"};var od=[0,"options",2,k],cd=[0,"n-filter-sorter"];zi.f246=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;for(var o="",c="",l=s,u=0,d=l.length;u<d;u++){var p=l[u];Ci(t.s(od,p))&&(c+=u)}var h=c;o+=Li(i),o+='<div class="n-filter-sorter__label">',o+="Сортировать: ",o+="</div>";for(var l=s,u=0,d=l.length;u<d;u++){var p=l[u],c={},f={};f.options=yr.nodeset2data(Ni("options",p,[])),f.place=a,c["n-filter-sorter"]=f;var _=c;if(o+="<div",i.a={class:new yr.scalarAttr("n-filter-sorter i-bem")},i.s="div",0==u&&!h||u==h){var m=t.s(od,p),c={};c["n-filter-sorter"]=yr.nodeset2data(yr.externals["n-merge-nodes"](t.n(cd,yr.object2nodeset(_)),yr.object2nodeset(function(){var t={};return t.isActive=!0,t}())));var v=c;i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(v)));var y=i.a.class;if(y?i.a.class=y.addscalar(" n-filter-sorter_state_select"):i.a.class=new yr.scalarAttr(" n-filter-sorter_state_select"),Ci(t.n(cs,m))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-sorter_sort_"+Ii(t.n(cs,m))):i.a.class=new yr.scalarAttr(" n-filter-sorter_sort_"+Ii(t.n(cs,m)))}}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(_)));o+=Li(i),o+='<a class="link link_theme_major n-filter-sorter__link">',o+=Ti(Ni("text",p,[])),o+="</a>",o+="</div>"}return o};var ld=[0,"values",0,"checked"],ud=[0,"units",0,"values",0,"checked"],dd=[0,"values",2,v,0,"min"],pd=[0,"values",2,v,0,"max"],hd=[2,w];zi.f247=function(t,e,n,r,i){return i=void 0===i?[]:i,t.n(hd,i)};var fd=[2,h],_d=[2,v,0,"min"],md=[2,v,0,"max"];zi.f248=function(t,e,n,r,i){return i=void 0===i?[]:i,t.n(fd,i).concat(t.n(ku,i).concat(t.n(_d,i).concat(t.n(md,i))))};var vd=[2,E];zi.f249=function(t,e,n,r,i){return i=void 0===i?[]:i,t.n(vd,i)},zi.f250=function(t,e,n,r,i){return i=void 0===i?[]:i,t.n(hd,i)};var yd=[0,"values",2,v,2,x];zi.f251=function(t,e,n,r,i){return i=void 0===i?[]:i,t.n(fd,i).concat(t.s(wu,e).concat(t.s(yd,e)))},zi.f252=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-filter-picker-inline__more-button">',a+="+"+Pi(s),a+="</div>"},zi.f253=function(t,e,n,r,i){i=void 0===i?[]:i;var s=[],a={};a["n-product-top-offer"]="";var o=a;if(Ai("real",t.n(ga,i))){var c=yr.externals["n-merge-nodes"](yr.object2nodeset(t.f("f99",e,n,r,i)),yr.object2nodeset(t.f("f100",e,n,r,i)));s=yr.externals["n-merge-nodes"](c,yr.object2nodeset(o))}else s=yr.externals["n-merge-nodes"](yr.object2nodeset(t.f("f99",e,n,r,i)),yr.object2nodeset(o));return s};var bd=[0,"userRegionId"];zi.f254=function(t,e,n,r,i){var s="";return s+=Ci(Ni("isPromotedByVendor",e,[]))?"offer-card":Ai(213,t.n(bd,yr.object2nodeset(i)))?"details":"clickout"};var gd=[0,"apiVersion"],kd=[0,"coordorder"],wd=[0,"domainZone"],Ed=[0,"isDebugMode"],xd=[0,"loadOnly"];zi.f255=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="";o+=Ci(t.n(gd,s))?Ii(t.n(gd,s)):"2.1";var c=o,o="";o+=Ci(t.n(kd,s))?Ii(t.n(kd,s)):"latlong";var l=o,o="";o+=Ai("ua",t.n(wd,s))?"ru_UA":"ru_RU";var u=o,o="";o+=Ci(t.n(Ed,s))?"debug":"release";var d=o,p=yr.externals["n-build-url"]("external:yandex-maps",function(){var e={};return e["api-version"]=c,e.lang=u,e.coordorder=l,e.mode=d,yr.exists(t.n(xd,s))&&(e.load=yr.nodeset2data(t.n(xd,s))),e}());return a+=Li(i),a+='<script src="'+Oi(p)+'" defer=""></script>'},zi.f256=function(t,e,n,r,i,s){var a="";return a+=Li(i),s?(a+='<a class="link" href="'+Oi(s)+'">',a+=Ti(t.s(Ya,e)),a+="</a>"):(a+="<span>",a+=Ti(t.s(Ya,e)),a+="</span>"),a};var Md=[0,"history-latest-root"],Ad=[0,"history-latest"],Td=[0,"widget"],Cd=[0,"items"],Sd=[0,"image"],Id=[0,"items",2,M],Od=[0,"*",2,A],jd=[0,"mods",0,"*"],Pd=[0,"*",2,T],Bd=[0,"*",2,C],Dd=[0,"*",2,S],Rd=[0,"mix",0,"data"],Nd=[0,"*",2,I],Ld=[0,"*",2,O],Fd=[0,"*",2,j],Ud=[0,"shopId"],zd=[0,"modelId"],qd=[0,"*",2,P],Hd=[0,"count"],Vd=[0,"filters",2,B],Gd=[0,"view"],$d=[0,"showColorName"],Wd=[0,"hidden"],Yd=[1,0,2,D],Kd=[1,0,2,e],Xd=[1,0,2,R],Qd=[0,"product"],Jd=[0,"*",2,N],Zd=[0,"showName"],tp=[0,"bundleSettings",0,"quantityLimit"],ep=[0,"minimum"],np=[0,"step"],rp=[0,"showNotification"],ip=[0,"quantityLimit",0,"minimum"],sp=[0,"quantityLimit",0,"step"],ap=[0,"*",2,L],op=[0,"onLimitButtonMod"],cp=[0,"minAmount"],lp=[0,"maxAmount"],up=[0,"mix",0,"block"],dp=[0,"mix",0,"bem"],pp=[0,"placeholder"],hp=[0,"maxlength"],fp=[0,"autocomplete"],_p=[0,"*",2,n],mp=[0,"metrikaEvent"],vp=[0,"metrikaOptions"],yp=[0,"context"],bp=[0,"layout"],gp=[0,"params",2,F],kp=[0,"params",2,U],wp=[0,"params",2,U,2,z,2,q],Ep=[0,"params",2,H],xp=[0,"params",2,H,2,z,2,q],Mp=[0,"params",2,V],Ap=[0,"*",2,G],Tp=[0,"view",0,"snippets",0,"rows",0,"count"],Cp=[0,"view",0,"header",0,"title",0,"subtext"],Sp=[0,"view",0,"header",0,"title",0,"text"],Ip=[0,"view",0,"header",0,"title",0,"align"],Op=[0,"view",0,"snippets",0,"columns",0,"count"],jp=[0,"view",0,"snippets",0,"cells",0,"type"],Pp=[0,"search"],Bp=[0,"dsk_page-search_serp-adv"],Dp=[0,"dsk_search_snippets_old-school"],Rp=[0,"snippetParams",0,"page"],Np=[0,"viewType"],Lp=[0,"results",1,0,2,$],Fp=[0,"results",1,0,2,n],Up=[0,"pagesCount",0,"article"],zp=[0,"pagesCount",0,"collection"],qp=[0,"snippetParams"],Hp=[0,"*",2,W],Vp=[0,"model",0,"id"],Gp=[0,"retpath"],$p=[0,"request",0,"url"],Wp=[0,"*",2,$],Yp=[0,"*",2,Y],Kp=[0,"*",2,K],Xp=[0,"*",2,X],Qp=[0,"*",2,Q],Jp=[0,"vendor",0,"filterParsed"],Zp=[0,"*",2,J],th=[0,"vendor",0,"filter"],eh=[0,"tasks",0,"searchFilters",0,"glfilter"],nh=[0,"tasks",0,"searchFilters",0,"is-global-shop"],rh=[0,"query"],ih=[0,"pathname"],sh=[0,"urls",0,"direct"],ah=[0,"*",2,Z],oh=[0,"*",2,tt],ch=[0,"urls",0,"geo"],lh=[0,"model",0,"parentId"],uh=[0,"request",0,"params",0,"page"],dh=[0,"request",0,"params",0,"cpc"],ph=[0,"shopIds"],hh=[0,"*",2,et],fh=[0,"category",0,"id"],_h=[0,"rawString"],mh=[0,"*",2,nt],vh=[0,"*",2,rt],yh=[0,"*",2,it],bh=[0,"*",2,st],gh=[0,"*",2,at],kh=[0,"params",0,"nid"],wh=[0,"params",0,"hid"],Eh=[0,"*",2,ot],xh=[0,"*",2,ct],Mh=[0,"*",2,lt],Ah=[0,"*",2,ut],Th=[0,"*",2,dt],Ch=[0,"*",2,pt],Sh=[0,"*",2,ht],Ih=[0,"department"],Oh=[0,"promo",0,"nid"],jh=[0,"category"],Ph=[0,"*",2,ft],Bh=[0,"*",2,_t],Dh=[0,"*",2,mt],Rh=[0,"metrika",0,"track"],Nh=[0,"tasks",0,"searchFilters",0,"fesh"],Lh=[0,"tasks",0,"searchFilters",0,"qrfrom"],Fh=[0,"tasks",0,"searchFilters",0,"free-delivery"],Uh=[0,"tasks",0,"searchFilters",0,"manufacturer_warranty"],zh=[0,"tasks",0,"searchFilters",0,"offer-shipping"],qh=[0,"tasks",0,"searchFilters",0,"pricefrom"],Hh=[0,"tasks",0,"searchFilters",0,"priceto"],Vh=[0,"tasks",0,"searchFilters",0,"prepay-enabled"],Gh=[0,"tasks",0,"searchFilters",0,"filter-discount-only"],$h=[0,"tasks",0,"searchFilters",0,"home_region"],Wh=[0,"tasks",0,"searchFilters",0,"delivery-interval"],Yh=[0,"tasks",0,"searchFilters",0,"show-book-now-only"],Kh=[0,"*",2,vt],Xh=[0,"*",2,yt],Qh=[0,"*",2,bt],Jh=[0,"*",2,gt],Zh=[0,"values",2,m,2,kt],tf=[0,"*",2,wt],ef=[0,"values",2,m,0,"max"],nf=[0,"values",2,m,2,Et],rf=[0,"*",2,xt],sf=[0,"values",2,m,0,"min"],af=[0,"values",2,y,2,Mt],of=[0,"*",2,At],cf=[0,"values",2,y,0,"checked"],lf=[0,"results",2,P],uf=[0,"selectableIdPath"],df=[0,"wish",0,"id"],pf=[0,"iBemParams"],hf=[0,"offerType"],ff=[0,"config",0,"env"],_f=[0,"subscriptions"],mf=[0,"showSubscriptions"],vf=[0,"bdebug"],yf=[0,"results",2,Tt],bf=[0,"*",2,Ct],gf=[0,"tag"],kf=[0,"titles",0,"highlighted",0,"value"],wf=[0,"*",2,St],Ef=[0,"*",2,It],xf=[0,"user",0,"settings",0,"canComplainOfClassifier"],Mf=[0,"*",2,Ot],Af=[0,"*",2,jt],Tf=[0,"filters",2,R,0,"values"],Cf=[0,"filters",2,e],Sf=[0,"filters",2,R],If=[0,"specs",0,"friendly"],Of=[0,"*",2,Pt],jf=[0,"*",2,Bt],Pf=[0,"user",0,"settings",0,"showSecrets"],Bf=[0,"discount",0,"required"],Df=[0,"noSales",0,"text"],Rf=[0,"price",0,"currency",0,"required"],Nf=[0,"discount",0,"currency",0,"required"],Lf=[0,"prices",2,Dt],Ff=[0,"shop",0,"subsidies"],Uf=[0,"*",2,Rt],zf=[0,"pickupOptions"],qf=[0,"pickupOptions",2,Nt],Hf=[0,"delivery",0,"availableServices",2,Lt],Vf=[0,"shop",0,"isGlobal"],Gf=[0,"*",2,Ft],$f=[0,"delivery",0,"pickupOptions",2,Nt],Wf=[0,"delivery",0,"hasLocalStore"],Yf=[0,"delivery",0,"groupedPostomatText"],Kf=[0,"delivery",0,"groupedPickupText"],Xf=[0,"delivery",0,"availableServices"],Qf=[0,"withIcon"],Jf=[0,"availableServices",2,Ut],Zf=[0,"options",2,c],t_=[0,"precise"],e_=[0,"scrollToPromo"],n_=[0,"withoutPromo"],r_=[0,"*",2,zt],i_=[0,"promo",0,"count"],s_=[0,"promo",0,"type"],a_=[0,"promo",0,"key"],o_=[0,"promo",0,"startDate"],c_=[0,"promo",0,"endDate"],l_=[0,"promo",0,"description"],u_=[0,"promo",0,"termsAndConditions"],d_=[0,"promo",0,"bonusItems"],p_=[0,"withPopupOfferInfo"],h_=[0,"*",2,qt],f_=[0,"prices",0,"discount",0,"percent"],__=[0,"*",2,Ht],m_=[0,"prices",0,"discount",0,"isBestDeal"],v_=[0,"*",2,Vt],y_=[0,"*",2,Gt],b_=[0,"href"],g_=[0,"gift"],k_=[0,"*",2,$t],w_=[0,"*",2,Wt],E_=[0,"*",2,Yt],x_=[0,"baseParams"],M_=[0,"hasCart"],A_=[0,"action"],T_=[0,"withoutUrl"],C_=[0,"withoutAdditionalTheme"],S_=[0,"inCartText"],I_=[0,"metrika",0,"toCartShow"],O_=[0,"metrika",0,"cpa"],j_=[0,"metrika",0,"cpa",0,"metrika"],P_=[0,"metrikaParams"],B_=[0,"*",2,Kt],D_=[0,"*",2,Xt],R_=[0,"book-now-region-id"],N_=[0,"*",2,Qt],L_=[0,"feeShow"],F_=[0,"addClass"],U_=[0,"withoutLabel"],z_=[0,"withGoBack"],q_=[0,"withLabelsButton"],H_=[0,"withoutWishList"],V_=[0,"withPhone"],G_=[0,"withCompare"],$_=[0,"withRemove"],W_=[0,"withComplain"],Y_=[0,"tasks",0,"catalogerStats",0,"baseId"],K_=[0,"hasHint"],X_=[0,"typeRemove"],Q_=[0,"*",2,Jt],J_=[0,"*",4,Zt],Z_=[0,"dsk_page-product_structure-redesign"],tm=[0,"*",4,te],em=[0,"wish",0,"tags"],nm=[0,"metrika",0,"wishlist",0,"metrika"],rm=[0,"*",2,ee],im=[0,"date"],sm=[0,"specialName"],am=[0,"rel"],om=[0,"isAuth"],cm=[0,"userName"],lm=[0,"email"],um=[0,"*",2,ne],dm=[0,"params",0,"modelId"],pm=[0,"params",0,"id"],hm=[0,"*",2,re],fm=[0,"params",0,"email"],_m=[0,"params",0,"userName"],mm=[0,"user",0,"isAuth"],vm=[0,"*",2,ie],ym=[0,"*",2,se],bm=[0,"*",2,ae],gm=[0,"*",2,oe],km=[0,"*",2,ce],wm=[0,"*",2,le],Em=[0,"*",2,ue],xm=[0,"value",0,"full"],Mm=[0,"*",2,de],Am=[0,"*",2,pe],Tm=[0,"filters",2,he],Cm=[0,"*",2,fe],Sm=[0,"user",0,"region",0,"isInternalNetwork"],Im=[0,"*",2,_e],Om=[0,"tasks",0,"ProductSummary",0,"n-w-product-summary",0,"catalogerBaseId"],jm=[0,"*",2,me],Pm=[0,"*",2,ve],Bm=[0,"vendor",0,"name"],Dm=[0,"vendor",0,"webpageRecommendedShops"],Rm=[0,"offer",0,"options"],Nm=[0,"*",2,ye],Lm=[0,"notifySettings",0,"ad"],Fm=[0,"*",2,be],Um=[0,"direction"],zm=[0,"childrenType"],qm=[0,"*",2,ge],Hm=[0,"*",2,ke],Vm=[0,"withoutNo"],Gm=[0,"*",2,we],$m=[0,"values",2,Ee,0,"found"],Wm=[0,"*",2,xe],Ym=[0,"*",2,R],Km=[0,"colorWithText"],Xm=[0,"colorsCountMax"],Qm=[0,"*",2,e],Jm=[0,"withTableOfSize"],Zm=[0,"offerForTableOfSize"],tv=[0,"countMax"],ev=[0,"shop",0,"phones"],nv=[0,"*",2,Me],rv=[0,"shop",0,"phones",0,"raw"],iv=[0,"shop",0,"phones",0,"sanitized"],sv=[0,"urls",0,"showPhone"],av=[0,"outlet",0,"telephones"],ov=[0,"*",2,Ae],cv=[0,"shouldShowAdditionalPhone"],lv=[0,"*",2,Te],uv=[0,"*",2,n,2,Ce],dv=[0,"*",2,Se],pv=[0,"shop",0,"qualityRating"],hv=[0,"withSpec"],fv=[0,"pictures"],_v=[0,"isSingle"],mv=[0,"productType"],vv=[0,"openTab"],yv=[0,"showWarnings"],bv=[0,"shop",0,"ReturnDeliveryAddress"],gv=[0,"*",2,Ie],kv=[0,"shop",0,"returnDeliveryAddress"],wv=[0,"*",2,Oe],Ev=[0,"*",2,je],xv=[0,"*",2,Pe],Mv=[0,"*",2,Be],Av=[0,"*",2,De],Tv=[0,"*",2,Re],Cv=[0,"bonusItems",2,n],Sv=[0,"itemOrderId"],Iv=[0,"rowOrderId"],Ov=[0,"params",2,H,2,Ne,2,Le],jv=[0,"metrika",0,"showMoreTrack"],Pv=[0,"hasDetailsButton"],Bv=[0,"offerActionMod"],Dv=[0,"offerActionMix"],Rv=[0,"actionTheme"],Nv=[0,"noPopup"],Lv=[0,"hasRecommendationBadge"],Fv=[0,"isCpa2"],Uv=[0,"hasRating"],zv=[0,"ratingSize"],qv=[0,"ratingClass"],Hv=[0,"*",4,Fe],Vv=[0,"*",2,Ue],Gv=[0,"*",2,ze],$v=[0,"open"],Wv=[0,"*",2,qe],Yv=[0,"requestPath"],Kv=[0,"compactParsedFlags"],Xv=[0,"rank"],Qv=[0,"promo"],Jv=[0,"dsk_search_snippets_do-in-models"],Zv=[0,"dsk_search_snippets_underline"],ty=[0,"offers",0,"items"],ey=[0,"*",2,He],ny=[0,"*",2,Ve],ry=[0,"*",2,Ge],iy=[0,"cpaofferId"],sy=[0,"*",2,$e],ay=[0,"settings",0,"canComplainOfClassifier"],oy=[0,"*",2,We],cy=[0,"stats"],ly=[0,"shouldPassFilters"],uy=[0,"metrika",0,"snippet"],dy=[0,"categoryLinkTrack"],py=[0,"btnTrack"],hy=[0,"*",2,Ye],fy=[0,"*",2,Ke],_y=[0,"subEntity",0,"entity"],my=[0,"subEntity",0,"id"],vy=[0,"*",2,Xe],yy=[0,"*",2,Qe],by=[0,"attrs",0,"style"],gy=[0,"*",2,Je],ky=[0,"attrs",0,"target"],wy=[0,"attrs",0,"href"],Ey=[0,"onLinkClick"],xy=[0,"*",2,Ze],My=[0,"*",2,tn],Ay=[0,"*",2,en],Ty=[0,"*",2,nn],Cy=[0,"*",2,rn],Sy=[0,"*",2,sn],Iy=[0,"*",2,an],Oy=[0,"*",2,on],jy=[0,"*",2,cn],Py=[0,"*",2,ln],By=[0,"*",2,un],Dy=[0,"*",2,dn],Ry=[0,"*",2,pn],Ny=[0,"*",2,hn],Ly=[0,"*",2,fn],Fy=[0,"*",2,_n],Uy=[0,"*",2,mn],zy=[0,"*",2,vn],qy=[0,"attrs",0,"colspan"],Hy=[0,"attrs",0,"rowspan"],Vy=[0,"*",2,yn],Gy=[0,"*",2,bn],$y=[1,2,0,"tag"],Wy=[0,"*",2,gn],Yy=[0,"metrika",0,"pricesButton",0,"metrika"],Ky=[0,"metrika",0,"toolbar"],Xy=[0,"*",2,kn],Qy=[0,"*",2,wn],Jy=[0,"shop",0,"outletsCount"],Zy=[0,"*",2,En],tb=[0,"*",2,xn],eb=[0,"category",3,0,0,"name"],nb=[0,"*",2,Mn],rb=[0,"entrypoints",2,An],ib=[0,"backgroundColor"],sb=[0,"title",0,"content"],ab=[0,"images",0,"layered"],ob=[0,"entrypoints",2,Tn],cb=[0,"metrika",0,"onSnippetClick"],lb=[0,"convertCurrency"],ub=[0,"offers",0,"default"],db=[0,"logo",0,"url"],pb=[0,"view",0,"category"],hb=[0,"prices",0,"betterPrice",0,"ourPrice"],fb=[0,"prices",0,"betterPrice",0,"theirPrice"],_b=[0,"prices",0,"betterPrice",0,"minCpaOfferPrice"],mb=[0,"fullName"],vb=[0,"image",0,"thumbnails"],yb=[0,"*",2,Cn],bb=[0,"subEntity",0,"prices",0,"discount"],gb=[0,"metrika",0,"onCellWishlistButtonClick"],kb=[0,"metrika",0,"onCellCpaButtonClick"],wb=[0,"meta",0,"recommendationSource"],Eb=[0,"dsk_page-index_cheaper-detailed"],xb=[0,"prices",0,"betterPrice"],Mb=[0,"*",2,Sn],Ab=[0,"prices",0,"betterPrice",0,"priceDifference"],Tb=[0,"cellParams",0,"showSubHeaderCategory"],Cb=[0,"onSnippetClick"],Sb=[0,"inWishlistClick"],Ib=[0,"*",2,In],Ob=[0,"*",2,On],jb=[0,"data",0,"entrypoints",2,jn],Pb=[0,"data",0,"entrypoints",2,Pn],Bb=[0,"entrypoints",2,Pn],Db=[0,"entrypoints",2,jn],Rb=[0,"*",2,Bn],Nb=[0,"*",2,Dn],Lb=[0,"dsk_page-checkout_accessories"],Fb=[0,"backgroundPicture"],Ub=[0,"style",2,Rn],zb=[0,"backgroundPicture",0,"height"],qb=[0,"view",0,"snippets"],Hb=[0,"cells",0,"type"],Vb=[0,"rows",0,"count"],Gb=[0,"columns",0,"count"],$b=[0,"metrika",0,"onPixelsVisible"],Wb=[0,"metrika",0,"onInit"],Yb=[0,"metrika",0,"onVisible"],Kb=[0,"view",0,"header"],Xb=[0,"view",0,"pager"],Qb=[0,"header"],Jb=[0,"title",0,"align"],Zb=[0,"title",0,"subText"],tg=[0,"title",0,"text"],eg=[0,"title",0,"url"],ng=[0,"snippets"],rg=[0,"pager"],ig=[0,"style",0,"theme"],sg=[0,"metrika",0,"onPagerClick"],ag=[0,"carousels",3,0,0,"preset"],og=[0,"*",2,Nn],cg=[0,"carousels",2,Ln],lg=[0,"view",0,"groups",0,"place"],ug=[0,"view",0,"banner",0,"place"],dg=[0,"view",0,"snippets",0,"align"],pg=[0,"view",0,"snippets",0,"rewind"],hg=[0,"view",0,"snippets",0,"cells",0,"cellParams"],fg=[0,"view",0,"banner"],_g=[0,"columns"],mg=[0,"view",0,"footer"],vg=[0,"anchor",2,C],yg=[0,"header",2,Fn],bg=[0,"metrika",0,"groupShow"],gg=[0,"carousels"],kg=[0,"link",0,"url"],wg=[0,"footer",2,Un],Eg=[0,"link",0,"text"],xg=[0,"*",2,zn],Mg=[0,"rows"],Ag=[0,"pager",0,"place"],Tg=[0,"rewind"],Cg=[0,"cellParams"],Sg=[0,"preset",2,qn],Ig=[0,"preset",2,Hn],Og=[0,"banner"],jg=[0,"footer-subscription",2,Vn],Pg=[0,"footer-subscription",2,Gn],Bg=[0,"footer-subscription",2,$n],Dg=[0,"user",0,"name"],Rg=[0,"footer-subscription",2,Wn],Ng=[0,"subscription",0,"userName"],Lg=[0,"footer-subscription"],Fg=[0,"form",0,"class"],Ug=[0,"input",0,"class"],zg=[0,"input",0,"placeholder"],qg=[0,"emails"],Hg=[0,"button",0,"class"],Vg=[0,"button",0,"text"],Gg=[0,"emails",2,Yn],$g=[0,"emails",2,Yn,0,"email"],Wg=[0,"dsk_passport_login"],Yg=[0,"*",4,Kn],Kg=[0,"*",4,Xn],Xg=[0,"*",2,Qn],Qg=[0,"user",0,"avatarID"],Jg=[0,"user",0,"region",0,"tld"],Zg=[0,"user",0,"yandexuid"],tk=[0,"region",0,"isBySettings"],ek=[0,"region",0,"name"],nk=[0,"region",0,"id"],rk=[0,"region",0,"detectedName"],ik=[0,"region",0,"linguistics",0,"accusative"],sk=[0,"region",0,"isInternal"],ak=[0,"region",0,"regSet"],ok=[0,"region"],ck=[0,"previousRegionName"],lk=[0,"linguistics",0,"accusative"],uk=[0,"*",2,Jn],dk=[0,"*",2,Zn],pk=[0,"showProductVideo"],hk=[0,"hideVotes"],fk=[0,"distributionTitle"],_k=[0,"filters",2,tr,0,"value"],mk=[0,"showAllGradesLink"],vk=[0,"showMicromarkup"],yk=[0,"gradesDistribution",0,"totalGrades"],bk=[0,"gradesDistribution"],gk=[0,"tasks",0,"ProductVideo",0,"n-w-product-video"],kk=[0,"*",2,er],wk=[0,"*",2,nr],Ek=[0,"pager",0,"link",0,"moreTarget"],xk=[0,"*",2,rr],Mk=[0,"*",4,ir],Ak=[0,"*",2,sr],Tk=[0,"filters",0,"value"],Ck=[0,"*",2,ar],Sk=[0,"*",2,or],Ik=[0,"filter",0,"value"],Ok=[0,"*",2,cr],jk=[0,"*",2,lr],Pk=[0,"*",2,ur],Bk=[0,"*",2,dr],Dk=[0,"user",0,"uid"],Rk=[0,"user",0,"uid"],Nk=[0,"showOrderId"],Lk=[0,"markOwnReview"],Fk=[0,"showCaption"],Uk=[0,"showUser"],zk=[0,"photos"],qk=[0,"votes",0,"agree"],Hk=[0,"votes",0,"reject"],Vk=[0,"votes"],Gk=[0,"user",0,"sk"],$k=[0,"product",0,"name"],Wk=[0,"*",2,pr],Yk=[0,"*",2,hr],Kk=[0,"*",2,fr],Xk=[0,"*",2,_r],Qk=[0,"*",2,mr],Jk=[0,"*",2,vr],Zk=[0,"*",2,br],tw=[0,"*",2,gr],ew=[0,"*",2,kr],nw=[0,"*",2,wr],rw=[0,"rating",0,"title"],iw=[0,"*",2,Er],sw=[0,"*",2,xr],aw=[0,"*",2,Mr],ow=[0,"*",2,Ar],cw=[0,"grades"],lw=[0,"*",2,Tr],uw=[0,"*",2,Cr],dw=[0,"*",2,Sr],pw=[0,"provider",0,"id"],hw=[0,"provider",0,"code"],fw=[0,"*",2,Ir],_w=[0,"*",2,Or],mw=[0,"thumbnails",0,"medium",0,"url"],vw=[0,"galleryData",0,"pictures",0,"thumbnails"],yw=[0,"dsk_page-product_branding"],bw=[0,"galleryData",0,"branded"],gw=[0,"galleryData",0,"uniqueId"],kw=[0,"galleryData",0,"pictures"],ww=[0,"thumbnails",0,"small",0,"url"],Ew=[0,"thumbnails",0,"full",0,"url"],xw=[0,"*",2,jr],Mw=[0,"original",0,"url"],Aw=[0,"*",2,Pr],Tw=[0,"rootComment",0,"id"],Cw=[0,"parentComment",0,"id"],Sw=[0,"body"],Iw=[0,"updateTime",0,"raw"],Ow=[0,"reviewAuthorUser",0,"uid"],jw=[0,"*",2,Br],Pw=[0,"currentGrade"],Bw=[0,"link",0,"params"],Dw=[0,"link",0,"target"],Rw=[0,"*",2,Dr],Nw=[0,"*",2,Rr],Lw=[0,"pager",2,Nr],Fw=[0,"pager",2,Lr],Uw=[0,"pager",2,Fr],zw=[0,"pager",2,Ur],qw=[0,"pager",0,"link"],Hw=[0,"pager",2,zr],Vw=[0,"link",0,"moreTarget"],Gw=[0,"videos"],$w=[0,"n-w-product-video",2,qr],Ww=[0,"hasShowAllLink"],Yw=[0,"blockParams",0,"n-product-video",0,"type"],Kw=[0,"blockParams",0,"n-product-video",0,"page"],Xw=[0,"blockParams",0,"n-product-video",0,"modelid"],Qw=[0,"blockParamsMini",0,"n-product-video",0,"type"],Jw=[0,"*",2,Hr],Zw=[0,"*",2,Vr],tE=[0,"*",2,Gr],eE=[0,"*",2,$r],nE=[0,"*",2,Wr],rE=[0,"n-w-product-video",2,Yr],iE=[0,"*",2,Kr],sE=[0,"views"],aE=[0,"n-w-product-video"],oE=[0,"n-w-product-video",2,Xr],cE=[0,"version"],lE=[0,"player",0,"hosting"],uE=[0,"player",0,"html"],dE=[0,"*",2,Qr],pE=[0,"notifySettings",0,"ads"],hE=[0,"options",2,Jr],fE=[0,"*",2,Zr],_E=[0,"*",2,ti],mE=[0,"benefit",0,"isPrimary"],vE=[0,"*",2,ei],yE=[0,"hasPhone"],bE=[0,"*",2,n,2,Gt],gE=[0,"*",2,n,2,Gt,2,Ce],kE=[0,"*",2,n,2,Gt,2,Ce,2,de],wE=[0,"filters",2,ni],EE=[0,"units",0,"values"],xE=[0,"filters",2,ri],ME=[0,"filters",2,ii,0,"values",2,h],AE=[0,"*",2,si],TE=[0,"*",2,ai],CE=[0,"dsk_search_awesome-snippets_delivery"],SE=[0,"galleryData",0,"type"],IE=[0,"forceHasBoolNo"],OE=[0,"dsk_filters_number-2-enum"],jE=[0,"filters",2,oi],PE=[0,"moreGateUrl"],BE=[0,"values",2,ci],DE=[1,1,0,"filters"],RE=[1,0,2,h],NE=[1,0,2,li],LE=[0,"hsl",0,"L"],FE=[0,"*",2,ui],UE=[0,"*",2,di],zE=[0,"*",2,pi],qE=[0,"values",2,hi],HE=[0,"isSingleFilter"],VE=[0,"picker",0,"imageName"],GE=[0,"picker",0,"groupId"],$E=[0,"picker",0,"namespace"],WE=[0,"filters",2,E],YE=[2,fi],KE=[2,_i],XE=[0,"values",2,mi],QE=[0,"filters",2,pi],JE=[0,"countSimpleFilter"],ZE=[0,"values",0,"code"],tx=[0,"values",0,"image"],ex=[0,"values",0,"picker"],nx=[0,"*",2,vi],rx=[0,"*",2,pi,2,vi],ix=[0,"defaultOffer"],sx=[0,"defaultOffer",0,"validDescription"],ax=[0,"specs",0,"friendly",2,yi],ox=[0,"defaultOffer",0,"validDescription",0,"long"],cx=[0,"defaultOffer",0,"validDescription",0,"short"],lx=[0,"dsk_product_rich_content"],ux=[0,"tasks",0,"ProductBranding"],dx=[0,"tasks",0,"LegalInfo"],px=[0,"search",0,"top6"],hx=[0,"*",2,bi],fx=[0,"isFullMode"],_x=[0,"tasks",0,"ProductFilters"],mx=[0,"delivery",0,"region",0,"id"],vx=[0,"sk_page-product_structure-redesign"],yx=[0,"*",2,gi],bx=[0,"productInfo",0,"type"],gx=[0,"filters",2,ki],kx=[0,"dsk_product-top-offers_pictures_add"],wx=[0,"tasks",0,"ProductInfo",0,"type"],Ex=[0,"address"],xx=[0,"region",0,"data",0,"lon"],Mx=[0,"region",0,"data",0,"lat"],Ax=[0,"region",0,"zoom"],Tx=[0,"mapPoints"],Cx=[0,"offlineShopsSearch"],Sx=[0,"outlet",0,"address"],Ix=[0,"*",2,wi],Ox=[0,"*",2,Ei],jx=[0,"*",2,xi];
zi.t0=function(t,e,n,r,i){var s="";return s+=t.a(t,0,Ni("history-latest",e,[]),"",i)},zi.t0.j=Md,zi.t0.a=0,zi.t1=function(t,e,n,r,i){var s="";return s+=t.a(t,0,Ni("*",e,[]),"history-latest",i)},zi.t1.j=Ad,zi.t1.a=0,zi.t2=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("history-latest history-latest_visible_hidden i-bem")},i.s="div";var a="";a+='{"history-latest": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<div class="history-latest__carousel flex-grid flex-grid_lazy_yes flex-grid_row_1 i-bem" data-bem="{&quot;flex-grid&quot;:{&quot;container&quot;:&quot;flex-grid__container&quot;,&quot;list&quot;:&quot;snippet-list&quot;,&quot;item&quot;:&quot;snippet-list__item&quot;,&quot;min-size&quot;:&quot;220&quot;, &quot;max&quot;:&quot;4&quot;, &quot;resizable&quot;:false, &quot;previous&quot;:&quot;pager-arrows__item_type_prev&quot;,&quot;next&quot;:&quot;pager-arrows__item_type_next&quot;,&quot;speed&quot;:&quot;500&quot;}}">',s+='<div class="title title_size_22">Вы смотрели</div>',s+='<div class="pager-arrows">',s+='<span class="pager-arrows__item pager-arrows__item_type_prev"><img class="image" src="//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt="&lt;"/></span>',s+='<span class="pager-arrows__item pager-arrows__item_type_next"><img class="image" src="//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt="&gt;"/></span>',s+="</div>",s+='<div class="flex-grid__container snippet-list__container history-latest__list history-latest__list_state_loading">',s+='<div class="history-latest__spinner-area">',s+="<div",i.a={class:new yr.scalarAttr("spin2 spin2_progress_yes spin2_size_xs i-bem")},i.s="div";var a="";return a+='{"spin2": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="</div>",s+="</div>",s+=t.a(t,0,Ni("list",e,[]),"history-latest",i),s+="</div>",s+="</div>",s+="</div>"},zi.t2.j=Td,zi.t2.a=0,zi.t3=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("snippet-list snippet-list_size_4")},i.s="div",s+=t.a(t,0,Ni("items",e,[]),"history-latest",i),s+=Li(i),s+="</div>"},zi.t3.j=Co,zi.t3.a=0,zi.t4=function(t,e,n,r,i){var s="";return s+=Li(i),Ci(Ni("url",e,[]))?(s+="<a",i.a={class:new yr.scalarAttr("snippet-list__item history-latest__item snippet-cell-mini history-latest__item-cell link link_theme_minor island"),href:new yr.scalarAttr(Ii(Ni("url",e,[])))},i.s="a",s+=t.a(t,0,t.s(ps,e),"history-latest__item",i),s+=Li(i),s+="</a>"):(s+="<div",i.a={class:new yr.scalarAttr("snippet-list__item history-latest__item snippet-cell-mini history-latest__item-cell history-latest__item-cell_available_no island")},i.s="div",s+=t.a(t,0,t.s(ps,e),"history-latest__item",i),s+=Li(i),s+="</div>"),s},zi.t4.j=Cd,zi.t4.a=0,zi.t5=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("snippet-cell-mini__image")},i.s="div",s+=t.a(t,0,t.s(ps,e),"history-latest__item-image",i),s+=Li(i),s+="</div>",s+='<div class="snippet-cell-mini__text">',s+='<div class="snippet-cell-mini__name">'+Ti(Ni("nameFormatted",e,[]))+"</div>",Di("price",e)>0&&(s+='<div class="snippet-cell-mini__price">',s+='<span class="price">',s+="от "+Ti(Ni("priceFormatted",e,[]))+" "+Ti(Ni("currencyText",e,[])),s+="</span>",s+="</div>"),s+="</div>"},zi.t5.j=Cd,zi.t5.a=0,zi.t6=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<img src="'+Si(Ni("image",e,[]))+'" class="image" alt="'+Si(Ni("nameFormatted",e,[]))+'"/>'},zi.t6.j=Cd,zi.t6.a=0,zi.t7=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="image image_name_history-watched" alt="'+Si(Ni("nameFormatted",e,[]))+'"></span>'},zi.t7.j=Id,zi.t7.a=0,zi.t8=function(t,e,n,r,i,s,a){s=void 0!==s&&s,a=void 0!==a&&a;var o="",c=Di("name",e);return o+=t.a(t,0,t.s(ps,e),"n-bem-class__block-name",i,a),o+=t.a(t,0,t.s(jd,e),"n-bem-class__block-mod",i,c),o+=t.a(t,0,Ni("elems",e,[]),"n-bem-class__elem",i,c,!0),o+=t.a(t,0,Ni("mix",e,[]),"n-bem-block__class",i,s||Ri("js",e),!0),s||(o+=t.a(t,0,t.s(ps,e),"n-bem-class__js",i,s)),o},zi.t8.j=Od,zi.t8.a=0,zi.t9=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-bem-class__elem",i,s,n),a+=t.a(t,0,Ni("mix",e,[]),"n-bem-block__class",i,!1,!0)},zi.t9.j=Pd,zi.t9.a=0,zi.t10=function(t,e,n,r,i,s){var a="";return a+=Li(i),s&&(a+=" "),a+=Ti(Ni("name",e,[]))},zi.t10.j=Od,zi.t10.a=0,zi.t11=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=" "+Pi(s)+"_"+Pi(e.name)+"_"+Ti(t.s(ps,e))},zi.t11.j=Bd,zi.t11.a=0,zi.t12=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),(a||n)&&(o+=" "),o+=Pi(s)+"__"+Ti(t.s(ps,e))},zi.t12.j=Bd,zi.t12.a=0,zi.t13=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),(a||n)&&(o+=" "),o+=Pi(s)+"__"+Ti(Ni("name",e,[])),o+=t.a(t,0,t.s(jd,e),"n-bem-class__elem_mod",i,s,Di("name",e))},zi.t13.j=Od,zi.t13.a=0,zi.t14=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),o+=" "+Pi(s)+"__"+Pi(a)+"_"+Pi(e.name)+"_"+Ti(t.s(ps,e))},zi.t14.j=Hi,zi.t14.a=0,zi.t15=function(t,e,n,r,i){var s="";return s+=Li(i),s+=" i-bem"},zi.t15.j=Dd,zi.t15.a=0,zi.t16=function(t,e,n,r,i,s,a){var o="",c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"n-bem-block__data-block",l,a);var u=c,c="",l={a:{}};c+=t.a(t,0,Ni("elems",e,[]),"n-bem-block__data-elem",l,Di("name",e),a||u);var d=c;return o+=Li(i),o+=u,o+=d,o+=t.a(t,0,Ni("mix",e,[]),"n-bem-block__data",i,t.s(Rd,e),a||Bi(u)+Bi(d))},zi.t16.j=Hi,zi.t16.a=0,zi.t17=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-bem-block__data-elem",c,s,n);var l=o;return a+=t.a(t,0,Ni("mix",e,[]),"n-bem-block__data",i,t.s(Rd,e),l)},zi.t17.j=Hi,zi.t17.a=0,zi.t18=function(t,e,n,r,i,s){s=void 0!==s&&s;var a="";return a+=Li(i),s&&(a+=", "),a+='"'+Ti(Ni("name",e,[]))+'": ',a+=!Ri("data",e)&&Ri("js",e)?"{}":Pi(yr.externals["n-serialize"](Ni("data",e,[])))},zi.t18.j=Nd,zi.t18.a=0,zi.t19=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),a&&(o+=", "),o+='"'+Pi(s)+"__"+Ti(Ni("name",e,[]))+'": ',o+=Pi(yr.externals["n-serialize"](Ni("data",e,[])))},zi.t19.j=Ld,zi.t19.a=0,zi.t20=function(t,e,n,r,i){var s="";return s+=Li(i),Ci(Ni("content",e,[]))&&(s+=Di("content",e)),s+=t.a(t,0,Ni("mix",e,[]),"n-bem-content",i)},zi.t20.j=Fd,zi.t20.a=0,zi.t21=function(t,e,n,r,i,s){s=void 0===s?"wait":s;var a="";return a+=Li(i),a+='<div class="offer-purchase i-bem">',a+="<div",i.a={class:new yr.scalarAttr("offer-purchase__content")},i.s="div",a+=t.a(t,0,t.s(ps,e),"offer-purchase__content",i,s),a+=Li(i),a+="</div>",a+="</div>"},zi.t21.j=Hi,zi.t21.a=0,zi.t22=function(t,e,n,r,i,s){s=void 0===s?"":s;var a="";return a+="wait"==s?t.a(t,0,t.s(ps,e),"offer-purchase__actualization",i):"in-cart"==s?t.a(t,0,t.s(ps,e),"offer-purchase__product",i):"not-available-in-outlet"==s?t.a(t,0,t.s(ps,e),"offer-purchase__product_state_not-available-in-outlet",i):"not-available"==s?t.a(t,0,t.s(ps,e),"offer-purchase__product_state_not-available",i):t.a(t,0,t.s(ps,e),"offer-purchase__product_state_error",i),a+=Li(i),"in-cart"==s&&(a+="<div",i.a={class:new yr.scalarAttr("offer-purchase__action")},i.s="div",a+=t.a(t,0,t.s(ps,e),"offer-purchase__action",i),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("offer-purchase__extra")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-w-recommendations",i,function(){var t={};t.context="purchase-offer",t.type="accessories",t.widgetType="carousel",t.columnsCount=3,t.layout="popup",t.fesh=yr.nodeset2data(Ni("shopId",e,[])),t.price=yr.nodeset2data(Ni("price",e,[])),t.hyperid=yr.nodeset2data(Ni("modelId",e,[])),t.hid="-"+Ii(Ni("hid",e,[])),t.offerid=yr.nodeset2data(Ni("id",e,[])),t.shopName=yr.nodeset2data(Ni("shopName",e,[])),t.pp="POPUP_OFFER_PURCHASE_ACCESSORIES";var n={};return n.track="actualization_popup_card_accessory_snippet",n.onPixelsVisible="actualization_popup_card_accessory_snippet_show",n.onCellClick="actualization_popup_card_accessory_snippet_click",n.onCellWishlistButtonClick="actualization_popup_card_accessory_add_to_wishlist",n.onCellCpaButtonClick="actualization_popup_card_accessory_add_to_cart",n.onPagerClick="actualization_popup_card_accessory_arrow",n.showMoreTrack="actualization_popup_card_accessory_link_show_more",t.metrika=n,t}()),a+=t.a(t,0,t.s(ps,e),"n-w-recommendations",i,function(){var t={};t.context="purchase-offer",t.type="personal-offers",t.widgetType="carousel",t.columnsCount=3,t.layout="popup",t.shopName=yr.nodeset2data(Ni("shopName",e,[])),t.fesh=yr.nodeset2data(Ni("shopId",e,[])),t.hid="-"+Ii(Ni("hid",e,[])),t.pp="POPUP_OFFER_PURCHASE_ACCESSORIES_SHOP",t.showMore=!0;var n={};return n.track="actualization_popup_card_personalrecom",n.onPixelsVisible="actualization_popup_card_personalrecom_snippet_show",n.onCellClick="actualization_popup_card_personalrecom_snippet_click",n.onCellWishlistButtonClick="actualization_popup_card_personalrecom_add_to_wishlist",n.onCellCpaButtonClick="actualization_popup_card_personalrecom_add_to_cart",n.onPagerClick="actualization_popup_card_personalrecom_arrow",n.showMoreTrack="actualization_popup_card_personalrecom_link_show_more",t.metrika=n,t}()),a+=Li(i),a+="</div>"),a},zi.t22.j=Hi,zi.t22.a=0,zi.t23=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization">',s+='<div class="spin2 spin2_size_xxl spin2_progress_yes"></div>',s+='<div class="offer-purchase__actualization-text">Проверяем наличие товара</div>',s+="</div>"},zi.t23.j=Hi,zi.t23.a=0,zi.t24=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization-info offer-purchase__actualization-info_status_not-available">',s+='<i class="image image_name_cross"></i>',s+=t.a(t,0,t.s(ps,e),"offer-purchase__actualization-info-text_state_not-available",i),s+="</div>"},zi.t24.j=Hi,zi.t24.a=0,zi.t25=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization-info offer-purchase__actualization-info_status_error">',s+='<i class="image image_name_cross"></i>',s+=t.a(t,0,t.s(ps,e),"offer-purchase__actualization-info-text_state_error",i),s+="</div>"},zi.t25.j=Hi,zi.t25.a=0,zi.t26=function(t,e,n,r,i){var s="",a=yr.externals["get-closest-image"](Ni("images",e,[]),200,200),o=yr.externals["build-url"]("market:cart",function(){var t={};return t.track="popup",t}());return s+=Li(i),s+='<div class="offer-purchase__product offer-purchase__product_status_success">',s+='<div class="offer-purchase__product-image">',s+='<div class="offer-purchase__product-image-container">',s+='<img class="image" src="'+Si(t.n(xa,yr.object2nodeset(a)))+'" alt=""/>',s+="</div>",s+="</div>",s+='<div class="offer-purchase__product-info">',s+='<div class="offer-purchase__product-title">',s+="Товар добавлен в",s+='<a class="link" href="'+Oi(o)+'" target="_parent">',s+='<span class="offer-purchase__product-title-icon"></span>',s+="<span>корзину</span>",s+="</a>",s+="</div>",s+='<div class="offer-purchase__product-name">'+Ti(Ni("name",e,[]))+"</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__product-params",i),s+='<div class="offer-purchase__product-shop">'+Ti(Ni("shopName",e,[]))+"</div>",s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("offer-purchase__product-quantity")},i.s="div",s+=t.a(t,0,t.s(ps,e),"purchase-popup-amount",i),s+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class="offer-purchase__product-bundle-limit",t.place="offerPurchasePopup",t}()),s+=Li(i),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("offer-purchase__product-price")},i.s="div",Ci(t.s(Wa,e))&&(s+=t.a(t,0,t.s(ps,e),"n-stickers",i)),s+=Li(i),Ri("priceChanged",e)&&!Ri("isShowed",e)?(s+='<span class="price">'+Pi(yr.externals["str-format-price"](Di("newPrice",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+='<span class="price price_unactual_yes">'+Pi(yr.externals["str-format-price"](Di("oldPrice",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>"):s+='<span class="price">'+Pi(yr.externals["str-format-price"](Di("price",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+="</div>",s+="</div>"},zi.t26.j=Hi,zi.t26.a=0,zi.t27=function(t,e,n,r,i){var s="",a=yr.externals["get-closest-image"](Ni("images",e,[]),200,200);return s+=Li(i),s+='<div class="offer-purchase__product offer-purchase__product_status_error">',s+='<div class="offer-purchase__product-image">',s+='<div class="offer-purchase__product-image-container">',s+='<img class="image" src="'+Si(t.n(xa,yr.object2nodeset(a)))+'" alt=""/>',s+="</div>",s+="</div>",s+='<div class="offer-purchase__product-info">',s+='<div class="offer-purchase__product-title">',s+="Товар закончился в этом пункте",s+="</div>",s+='<div class="offer-purchase__product-name">'+Ti(Ni("name",e,[]))+"</div>",s+='<div class="offer-purchase__product-shop">'+Ti(Ni("shopName",e,[]))+"</div>",s+="</div>",s+='<div class="offer-purchase__product-amount">',s+="Нет в наличии",s+="</div>",s+='<div class="offer-purchase__product-price">',s+='<span class="price">'+Pi(yr.externals["str-format-price"](Di("price",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+="</div>",s+="</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__closer_type_button",i)},zi.t27.j=Hi,zi.t27.a=0,zi.t28=function(t,e,n,r,i){var s="",a=yr.externals["get-closest-image"](Ni("images",e,[]),200,200);return s+=Li(i),s+='<div class="offer-purchase__product offer-purchase__product_status_error">',s+='<div class="offer-purchase__product-image">',s+='<div class="offer-purchase__product-image-container">',s+='<img class="image" src="'+Si(t.n(xa,yr.object2nodeset(a)))+'" alt=""/>',s+="</div>",s+="</div>",s+='<div class="offer-purchase__product-info">',s+='<div class="offer-purchase__product-title">Товар закончился</div>',s+='<div class="offer-purchase__product-name">'+Ti(Ni("name",e,[]))+"</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__product-params",i),s+='<div class="offer-purchase__product-shop">'+Ti(Ni("shopName",e,[]))+"</div>",s+="</div>",s+='<div class="offer-purchase__product-amount">',s+="Нет в наличии",s+="</div>",s+='<div class="offer-purchase__product-price">',s+='<span class="price">'+Pi(yr.externals["str-format-price"](Di("price",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+="</div>",s+="</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__find-in-other-shop",i)},zi.t28.j=Hi,zi.t28.a=0,zi.t29=function(t,e,n,r,i){var s="",a=yr.externals["get-closest-image"](Ni("images",e,[]),200,200);return s+=Li(i),s+='<div class="offer-purchase__product offer-purchase__product_status_error">',s+='<div class="offer-purchase__product-image">',s+='<div class="offer-purchase__product-image-container">',s+='<img class="image" src="'+Si(t.n(xa,yr.object2nodeset(a)))+'" alt=""/>',s+="</div>",s+="</div>",s+='<div class="offer-purchase__product-info">',s+='<div class="offer-purchase__product-title">',s+="Что-то пошло не так. Попробуйте обновить страницу",s+="</div>",s+='<div class="offer-purchase__product-name">'+Ti(Ni("name",e,[]))+"</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__product-params",i),s+='<div class="offer-purchase__product-shop">'+Ti(Ni("shopName",e,[]))+"</div>",s+="</div>",s+='<div class="offer-purchase__product-price">',s+='<span class="price">'+Pi(yr.externals["str-format-price"](Di("price",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+="</div>",s+="</div>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__find-in-other-shop",i)},zi.t29.j=Hi,zi.t29.a=0,zi.t30=function(t,e,n,r,i){var s="",a=yr.externals["build-url"]("market:checkout",function(){var t={};return t.track="popup",t}()),o=yr.externals["build-url"]("market:cart",function(){var t={};return t.track="popup",t}());s+=Li(i),s+='<div class="offer-purchase__action-info">',s+='<a class="link" href="'+Oi(o)+'" target="_parent">',s+="В корзине ",s+=Ti(Ni("cartTotalCount",e,[]))+" "+Pi(yr.externals["str-plural"](Di("cartTotalCount",e),"товар","товара","товаров")),s+="</a>",s+="<span> на сумму "+Pi(yr.externals["str-format-price"](Di("cartTotalPrice",e)))+" "+Pi(yr.externals.i18n(Di("currency",e)))+"</span>",s+="</div>",s+='<div class="offer-purchase__action-buttons">',s+="<a",i.a={},i.s="a";var c="";return c+="button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp ",c+="offer-purchase__button_ation_continue-shopping i-bem",i.a.class=new yr.scalarAttr(c),s+=Li(i),s+='<span class="button2__text">Продолжить покупки</span>',s+="</a>",s+='<a class="button2 button2_type_link button2_size_m button2_theme_action button2_mode_sharp i-bem" href="'+Oi(a)+'" target="_parent">',s+='<span class="button2__text">Оформить заказ</span>',s+="</a>",s+="</div>"},zi.t30.j=Hi,zi.t30.a=0,zi.t31=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization-info-text">',s+="<span>Проверяем наличие товара</span>",s+="</div>"},zi.t31.j=Hi,zi.t31.a=0,zi.t32=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization-info-text">',s+="<span>Товара нет в наличии. Но ничего не мешает вам</span>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__find-in-other-shop",i),s+="</div>"},zi.t32.j=Hi,zi.t32.a=0,zi.t33=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__actualization-info-text">',s+="<span>Что-то пошло не так. Но ничего не мешает вам</span>",s+=t.a(t,0,t.s(ps,e),"offer-purchase__find-in-other-shop",i),s+="</div>"},zi.t33.j=Hi,zi.t33.a=0,zi.t34=function(t,e,n,r,i){var s="",a=[];a=Ci(Ni("hid",e,[]))?Ni("hid",e,[]):Ni("categoryId",e,[]);var o=a,a="";Ci(Ni("name",e,[]))&&(a+="&text="+Bi(yr.externals["encode-uri-component"](Di("name",e))));var c=a,a="";a+=Ci(Ni("modelId",e,[]))?"/find-in-other-shop/"+Ii(o)+"/"+Ii(Ni("modelId",e,[]))+"/?track=fr_othr_shps":"/find-in-other-shop/"+Ii(o)+"/?track=fr_othr_shps"+c;var l=a,a={},u={},d={},p={};p.place="cart",d.findInOtherShop=p,u.onInit=d;var d={},p={};p.place="cart",p.click=!0,d.findInOtherShop=p,u.onClick=d,a.metrika=u;var h=a;return s+=Li(i),s+='<div class="offer-purchase__find-in-other-shop">',s+='<a href="'+Oi(l)+'" target="_parent" class="button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp i-bem" data-bem="'+Oi(yr.externals.serialize(yr.object2nodeset(h)))+'">',s+='<span class="button2__text">Искать в других магазинах</span>',s+="</a>",s+="</div>"},zi.t34.j=Hi,zi.t34.a=0,zi.t35=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,yr.externals["n-cart-offer-to-microformat"](t.s(ps,e)),"n-product-kind-params-list",o,function(){var t={};return t.view="small",t}());var c=a;return s+=Li(i),c&&(s+='<div class="offer-purchase__product-params">',s+=c,s+="</div>"),s},zi.t35.j=Hi,zi.t35.a=0,zi.t36=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="offer-purchase__closer_type_button">',s+='<a class="button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp i-bem">',s+='<span class="button2__text">Закрыть</span>',s+="</a>",s+="</div>"},zi.t36.j=Hi,zi.t36.a=0,zi.t37=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(t.n(xa,yr.object2nodeset(s)))?(a+="<a",i.a={href:new yr.scalarAttr(Ii(t.n(xa,yr.object2nodeset(s))))},i.s="a",a+=t.f("f1",e,n,r,i,t.f("f5",e,n,r,s)),a+=Li(i),a+="</a>"):(a+="<span",i.a={},i.s="span",a+=t.f("f1",e,n,r,i,t.f("f5",e,n,r,s)),a+=Li(i),a+="</span>"),a},zi.t37.j=Hi,zi.t37.a=0,zi.t38=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={},i.s="span",a+=t.f("f2",e,n,r,i,"button2",yr.array2nodeset(function(){var i=[];return i.push(t.f("f6",e,n,r,s)),i}())),a+=Li(i),a+="</span>"},zi.t38.j=Hi,zi.t38.a=0,zi.t39=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={},i.s="div",s+=t.f("f2",e,n,r,i,"popup2",yr.array2nodeset(function(){var i=[];return i.push(t.f("f13",e,n,r)),i}())),s+=Li(i),s+="</div>"},zi.t39.j=Hi,zi.t39.a=0,zi.t40=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f1",e,n,r,i,t.f("f14",e,n,r,s)),a+=Li(i),a+="</div>"},zi.t40.j=Hi,zi.t40.a=0,zi.t41=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"popup2",yr.array2nodeset(function(){var i=[];return i.push(t.f("f15",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t41.j=Hi,zi.t41.a=0,zi.t42=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={},i.s="div",s+=t.f("f2",e,n,r,i,"popup2",yr.array2nodeset(function(){var i=[];return i.push(t.f("f16",e,n,r)),i}())),s+=Li(i),s+="</div>"},zi.t42.j=Hi,zi.t42.a=0,zi.t43=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(no,yr.object2nodeset(s)))?Ii(t.n(no,yr.object2nodeset(s))):"https://yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif";var c=o;return a+=Li(i),a+="<img",i.a={alt:new yr.scalarAttr(Ii(t.n(ro,yr.object2nodeset(s)))),src:new yr.scalarAttr(c)},i.s="img",a+=t.f("f1",e,n,r,i,t.f("f17",e,n,r,s)),a+=Li(i),a+=""},zi.t43.j=Hi,zi.t43.a=0,zi.t44=function(t,e,n,r,i,s){var a="",o="";o+=yr.exists(t.n(Hd,yr.object2nodeset(s)))?Ii(t.n(Hd,yr.object2nodeset(s))):6;var c=o,l=t.s(Vd,e);if(a+=Li(i),l.length>0){var u=t.f("f18",e,n,r,l);a+="<ul",i.a={class:new yr.scalarAttr("n-product-kind-params-list i-bem")},i.s="ul";var o="";if(o+='{"n-product-kind-params-list": {}}',i.a["data-bem"]=new yr.xmlAttr(o),Ai("small",t.n(Gd,yr.object2nodeset(s)))){var d=i.a.class;d?i.a.class=d.addscalar(" n-product-kind-params-list_view_small"):i.a.class=new yr.scalarAttr(" n-product-kind-params-list_view_small")}if(Ci(t.n(fs,yr.object2nodeset(s)))){var d=i.a.class;d?i.a.class=d.addscalar(" "+Ii(t.n(fs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(fs,yr.object2nodeset(s))))}for(var p=u,h=0,f=p.length;h<f;h++){var _=p[h];a+=t.a(t,0,t.s(ps,_),"n-product-kind-params-list__item",i,function(){var e={};return e.hidden=h>=c,e.showColorName=yr.nodeset2data(t.n($d,yr.object2nodeset(s))),e.product=yr.nodeset2data(t.s(ps,_)),e}())}a+=Li(i),l.length>c&&(a+='<li class="n-product-kind-params-list__more">',a+='<span class="link link_theme_minor">Показать все параметры</span>',a+="</li>"),a+="</ul>"}return a},zi.t44.j=qd,zi.t44.a=0,zi.t45=function(t,e,n,r,i,s){var a="",o=!1;o=!!yr.exists(t.n(Wd,yr.object2nodeset(s)))&&Ci(t.n(Wd,yr.object2nodeset(s)));var c=o,o="";o+=c?"n-product-kind-params-list__item n-product-kind-params-list__item_hidden_yes":"n-product-kind-params-list__item";var l=o;return a+=t.a(t,0,t.s(Yd,e),"n-product-kind-params",i,function(){var t={};return t.class=l,t}()),a+=t.a(t,0,t.s(Kd,e),"n-product-kind-params-size",i,function(){var t={};return t.class=l,t}()),a+=t.a(t,0,t.s(Xd,e),"n-color-set",i,function(){var e={};e.product=yr.nodeset2data(t.n(Qd,yr.object2nodeset(s)));var n=!1;return n=!yr.exists(t.n($d,yr.object2nodeset(s)))||Ci(t.n($d,yr.object2nodeset(s))),e.showColorName=n,e.class=l,e}())},zi.t45.j=Hi,zi.t45.a=0,zi.t46=function(t,e,n,r,i,s){function a(t,e,n,r){return n<p-1}var o="",c="",l={a:{}};c+=Ci(t.n(Ta,yr.object2nodeset(s)))?Ii(t.n(Ta,yr.object2nodeset(s))):"clrbtn";var u=c,c="",l={a:{}};c+=t.a(t,0,t.n(Qd,yr.object2nodeset(s)),"i-link__product",l,function(){var t={};return t.track=u,t}());var d=c,c="",l={a:{}};c+=Ci(t.n(Mu,yr.object2nodeset(s)))?Ii(t.n(Mu,yr.object2nodeset(s))):8;var p=c;if(o+=Li(i),o+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),o+=Li(i),o+=Ti(Ni("name",e,[]))+": ",o+="<div",i.a={class:new yr.scalarAttr("product-color-set")},i.s="div",p&&Ni("values",e,[]).length>p){var h=[0,"values",2,a];o+=t.a(t,0,t.s(h,e),"n-color-set__value",i,function(){var e={};return e.showName=yr.nodeset2data(t.n($d,yr.object2nodeset(s))),e}())}else o+=t.a(t,0,Ni("values",e,[]),"n-color-set__value",i,function(){var e={};return e.showName=yr.nodeset2data(t.n($d,yr.object2nodeset(s))),e}());return o+=Li(i),Ni("values",e,[]).length>p&&(o+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor i-bem")},i.s="a",i.a.href=new yr.xmlAttr(Bi(d)),o+=Li(i),o+="Ещё",o+="</a>"),o+="</div>",o+="</li>"},zi.t46.j=Jd,zi.t46.a=0,zi.t47=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("product-color"),title:new yr.scalarAttr(Ii(Ni("value",e,[]))),style:new yr.scalarAttr("background-color: "+Ii(Ni("code",e,[])))},i.s="div",Ai("#FFFFFF",Ni("code",e,[]))||Ai("белый",Ni("group",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" product-color_color_white"):i.a.class=new yr.scalarAttr(" product-color_color_white")}if(Ai("разноцветный",Ni("value",e,[]))||Ai("разноцветный",Ni("group",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" product-color_color_multi"):i.a.class=new yr.scalarAttr(" product-color_color_multi")}if(Ci(Ni("checked",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" product-color_size_m"):i.a.class=new yr.scalarAttr(" product-color_size_m")}return a+=Li(i),a+="</div>",Ci(t.n(Zd,yr.object2nodeset(s)))&&(a+="<span>"+Ti(Ni("value",e,[]))+"</span>"),a},zi.t47.j=Hi,zi.t47.a=0,zi.t48=function(t,e,n,r,i,s){var a="",o=t.s(tp,e),c={};c.count=yr.nodeset2data(Ni("count",e,[]));var l={};l.minimum=yr.nodeset2data(t.n(ep,o)),l.step=yr.nodeset2data(t.n(np,o)),c.quantityLimit=l,c.options=s;var u=c;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("offer-quantity-select i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["offer-quantity-select"]=u,t}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("offer-quantity-select__content")},i.s="div",a+=t.a(t,0,yr.object2nodeset(u),"offer-quantity-select__content",i,s),a+=Li(i),a+="</div>",a+="</div>"},zi.t48.j=Hi,zi.t48.a=0,zi.t49=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"offer-quantity-select__amount",i,s),1==Ci(t.n(rp,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"offer-quantity-select__manotice",i,s)),a},zi.t49.j=Hi,zi.t49.a=0,zi.t50=function(t,e,n,r,i,s){var a="",o="";o+=yr.exists(t.s(ip,e))?+Ii(t.s(ip,e)):1;var c=o,o="";o+=yr.exists(t.s(sp,e))?+Ii(t.s(sp,e)):1;var l=o;return a+=t.a(t,0,t.s(ps,e),"amount-select",i,yr.externals["n-merge-objects"](s,function(){var t={};return t.minAmount=c,t.step=l,t}()))},zi.t50.j=Hi,zi.t50.a=0,zi.t51=function(t,e,n,r,i,s){var a="",o="Можно добавлять по "+Ii(t.s(sp,e))+" шт.",c={},l={};l.message=o,l.messageType="info",l.autoclosable="visible",l.animate="yes";var u={};u.to="top",u.axis="center";var d={};d.bottom=30,u.offset=d;var d={},p={};p.left=0,d.offset=p,u.tail=d,l.directions=u,c.manotice=l;var l={},u={},d={};Ci(t.n(na,yr.object2nodeset(s)))&&(d.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s)))),u.offerQuantityStepNotification=d,l.onInit=u,c.metrika=l;var h=c;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("manotice manotice_state_open manotice_type_popup metrika i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h))),a+=Li(i),a+="</div>"},zi.t51.j=Hi,zi.t51.a=0,zi.t52=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(op,yr.object2nodeset(s)))?Ii(t.n(op,yr.object2nodeset(s))):"disabled";var c=o,o="";o+=Ci(t.n(na,yr.object2nodeset(s)))?Ii(t.n(na,yr.object2nodeset(s))):"cart";var l=o,o="";o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"xs";var u=o,o="";o+=yr.exists(t.n(np,yr.object2nodeset(s)))?Ii(t.n(np,yr.object2nodeset(s))):1;var d=o,o="";o+=yr.exists(t.n(cp,yr.object2nodeset(s)))?Ii(t.n(cp,yr.object2nodeset(s))):1;var p=o,o="";o+=yr.exists(t.n(lp,yr.object2nodeset(s)))?Ii(t.n(lp,yr.object2nodeset(s))):999;var h=o,o={},f={};f.amount=yr.nodeset2data(Ni("count",e,[])),f.step=d,f.minAmount=p,f.maxAmount=h,f.onLimitButtonMod=c,o["amount-select"]=f,Ci(t.n(fs,yr.object2nodeset(s)))&&(o[Ii(t.n(up,yr.object2nodeset(s)))]=yr.nodeset2data(t.n(dp,yr.object2nodeset(s))));var _=o,o={};o.button2="";var f={},m={},v={};v.action="minus",v.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),m.cartOfferAmountChange=v,f.onClick=m,o.metrika=f;var y=o,o={};o.button2="";var f={},m={},v={};v.action="plus",v.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),m.cartOfferAmountChange=v,f.onClick=m,o.metrika=f;var b=o;a+=Li(i),a+="<div",i.a={},i.s="div";var o="";o+="amount-select ",o+="amount-select_place_"+l+" ",Ci(t.n(fs,yr.object2nodeset(s)))&&(o+=Ii(t.n(up,yr.object2nodeset(s)))+" "),Ci(t.n(gs,yr.object2nodeset(s)))&&(o+=Ii(t.n(gs,yr.object2nodeset(s)))+" "),o+="i-bem",i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(_))),a+=Li(i),a+="<button",i.a={type:new yr.scalarAttr("button2"),role:new yr.scalarAttr("button")},i.s="button";var o="";o+="amount-select__button amount-select__button_type_minus ",o+="button2 button2_theme_normal button2_size_"+u+" button2_pin_round-clear i-bem ",o+="metrika",Di("count",e)<=p&&(o+=" amount-select__button_state_"+c,o+="disabled"==c?" button2_disabled_yes":""),i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(y))),a+=Li(i),a+='<span class="button2__text"></span>',a+="</button>",a+="<span",i.a={},i.s="span";var o="";o+="input input_size_"+u+" input_theme_normal input_clear_no input_focus_thin ",o+="amount-select__input i-bem",i.a.class=new yr.scalarAttr(o);var o="";o+='{"input": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="input__box">',a+="<input",i.a={value:new yr.scalarAttr(Ii(Ni("count",e,[]))),maxlength:new yr.scalarAttr(Bi(yr.externals["n-str-length"](""+h)))},i.s="input",i.a.class=new yr.scalarAttr("input__control"),a+=Li(i),a+="",a+="</span>",a+='<span class="input__query-holder" style="font-size: 13px;"></span>',a+="</span>",a+="<button",i.a={type:new yr.scalarAttr("button2"),role:new yr.scalarAttr("button")},i.s="button";var o="";return o+="amount-select__button amount-select__button_type_plus ",o+="button2 button2_theme_normal button2_size_"+u+" button2_pin_clear-round i-bem ",o+="metrika",Di("count",e)>=h&&(o+=" amount-select__button_state_"+c,o+="disabled"==c?" button2_disabled_yes":""),i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(b))),a+=Li(i),a+='<span class="button2__text"></span>',a+="</button>",a+="</div>"},zi.t52.j=ap,zi.t52.a=0,zi.t53=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ai("hidden",t.n(cs,yr.object2nodeset(s)))?(a+="<input",i.a={type:new yr.scalarAttr("hidden"),value:new yr.scalarAttr(Ii(t.n(to,yr.object2nodeset(s)))),name:new yr.scalarAttr(Ii(t.n(Os,yr.object2nodeset(s))))},i.s="input",a+=t.f("f1",e,n,r,i,t.f("f20",e,n,r,s)),a+=Li(i),a+=""):(a+="<span",i.a={},i.s="span",a+=t.f("f1",e,n,r,i,t.f("f19",e,n,r,s)),a+=Li(i),a+="</span>"),a},zi.t53.j=Hi,zi.t53.a=0,zi.t54=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={},i.s="span",a+=t.f("f2",e,n,r,i,"input",yr.array2nodeset(function(){var i=[];return i.push(t.f("f21",e,n,r,s)),i}())),a+=Li(i),a+="</span>"},zi.t54.j=Hi,zi.t54.a=0,zi.t55=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(cs,yr.object2nodeset(s)))?Ii(t.n(cs,yr.object2nodeset(s))):"text";var c=o;return a+=Li(i),a+="<input",i.a={type:new yr.scalarAttr(c),name:new yr.scalarAttr(Ii(t.n(Os,yr.object2nodeset(s)))),value:new yr.scalarAttr(Ii(t.n(to,yr.object2nodeset(s))))},i.s="input",Ci(t.n(pp,yr.object2nodeset(s)))&&(i.a.placeholder=new yr.scalarAttr(Ii(t.n(pp,yr.object2nodeset(s))))),Ci(t.n(ao,yr.object2nodeset(s)))&&(i.a.id=new yr.scalarAttr("uniq"+Ii(t.n(ao,yr.object2nodeset(s))))),Ci(t.n(Ns,yr.object2nodeset(s)))&&(i.a.disabled=new yr.scalarAttr("disabled")),Ci(t.n(hp,yr.object2nodeset(s)))&&(i.a.maxlength=new yr.scalarAttr(Ii(t.n(hp,yr.object2nodeset(s))))),Ci(t.n(fp,yr.object2nodeset(s)))&&(i.a.autocomplete=new yr.scalarAttr(Ii(t.n(fp,yr.object2nodeset(s))))),a+=t.f("f2",e,n,r,i,"input",yr.array2nodeset(function(){var i=[];return i.push(t.f("f22",e,n,r)),i}())),a+=Li(i),a+=""},zi.t55.j=Hi,zi.t55.a=0,zi.t56=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={unselectable:new yr.scalarAttr("on")},i.s="span",a+=t.f("f2",e,n,r,i,"input",yr.array2nodeset(function(){var i=[];return i.push(t.f("f23",e,n,r)),i}())),a+=Li(i),a+="</span>"},zi.t56.j=Hi,zi.t56.a=0,zi.t57=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),o+="<label",i.a={class:new yr.scalarAttr("input__label")},i.s="label",Ci(t.n(ao,yr.object2nodeset(a)))&&(i.a.id=new yr.scalarAttr("labeluniq"+Ii(t.n(ao,yr.object2nodeset(a)))),i.a.for=new yr.scalarAttr("uniq"+Ii(t.n(ao,yr.object2nodeset(a))))),o+=t.f("f2",e,n,r,i,"input",yr.array2nodeset(function(){var i=[];return i.push(t.f("f24",e,n,r,s)),i}())),o+=Li(i),o+="</label>";
},zi.t57.j=Hi,zi.t57.a=0,zi.t58=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"offer-quantity-select",i,function(){var t={};t.onLimitButtonMod="disabled",t.place="purchase-popup";var n={};n.block="purchase-popup-amount";var r={};return r.offerId=yr.nodeset2data(Ni("id",e,[])),n.bem=r,t.mix=n,t}())},zi.t58.j=Hi,zi.t58.a=0,zi.t59=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"bundle-limitations_type_quantity",i,s)},zi.t59.j=Hi,zi.t59.a=0,zi.t60=function(t,e,n,r,i,s){var a="",o=t.s(tp,e),c=+Ii(t.n(ep,o));if(a+=Li(i),c>1){if(a+="<span",i.a={class:new yr.scalarAttr("bundle-limitations bundle-limitations_type_quantity metrika i-bem")},i.s="span",a+=t.a(t,0,t.s(ps,e),"bundle-limitations_type_quantity__metrika",i,s),yr.exists(t.n(gs,yr.object2nodeset(s)))){var l=i.a.class;l?i.a.class=l.addscalar(" "+Ii(t.n(gs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(gs,yr.object2nodeset(s))))}a+=t.a(t,0,t.s(ps,e),"bundle-limitations_type_quantity-text",i,c),a+=Li(i),a+="</span>"}return a},zi.t60.j=Hi,zi.t60.a=0,zi.t61=function(t,e,n,r,i,s){var a="",o=yr.externals["n-math-sum-increase"](+Di("price",e),s);return a+=Li(i),a+="Заказ от "+Pi(s)+" шт.",o>0&&(a+=" (",a+='<span class="bundle-limitations__price">',a+=Pi(yr.externals["n-str-format-price"](o))+" "+yr.externals["n-i18n"](Di("currency",e)),a+="</span>",a+=")"),a},zi.t61.j=Hi,zi.t61.a=0,zi.t62=function(t,e,n,r,i,s){var a="",o={};o.price=yr.nodeset2data(t.s(po,e)),o.currency=yr.nodeset2data(t.s(ho,e));var c=o;return a+=t.a(t,0,yr.object2nodeset(c),"bundle-limitations_type_quantity-text",i,s)},zi.t62.j=_p,zi.t62.a=0,zi.t63=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(mp,yr.object2nodeset(s)))?Ii(t.n(mp,yr.object2nodeset(s))):"onVisible";var c=o;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={},r={},i={};return Ci(t.n(na,yr.object2nodeset(s)))&&(i.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s)))),Ci(t.n(vp,yr.object2nodeset(s)))&&(i.data=yr.nodeset2data(t.n(vp,yr.object2nodeset(s)))),r.offerBundleLimitForQuantity=i,n[c]=r,e.metrika=n,e}()))),a+=Li(i),"onPixelsVisible"==c&&(a+=t.f("f4",e,n,r,i)),a},zi.t63.j=Hi,zi.t63.a=0,zi.t64=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"bundle-limitations",c,s);var l=o;return a+=Li(i),l&&(a+='<div class="'+Si(t.n(gs,yr.object2nodeset(s)))+'">',a+=l,a+="</div>"),a},zi.t64.j=Hi,zi.t64.a=0,zi.t65=function(t,e,n,r,i,s){var a="",o={};o.params=s;var c=o;return a+=t.a(t,0,t.n(dl,yr.object2nodeset(c)),"n-w-recommendations",i)},zi.t65.j=Hi,zi.t65.a=0,zi.t66=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-w-recommendations n-w-recommendations_enable_no b-zone i-bem")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-w-recommendations__params",i),Ci(Ni("context",e,[]))){var a=i.a.class;a?i.a.class=a.addscalar(" n-w-recommendations_context_"+Ii(Ni("context",e,[]))):i.a.class=new yr.scalarAttr(" n-w-recommendations_context_"+Ii(Ni("context",e,[])))}if(Ci(Ni("type",e,[]))){var a=i.a.class;a?i.a.class=a.addscalar(" n-w-recommendations_type_"+Ii(Ni("type",e,[]))):i.a.class=new yr.scalarAttr(" n-w-recommendations_type_"+Ii(Ni("type",e,[])))}if(Ci(Ni("layout",e,[]))){var a=i.a.class;a?i.a.class=a.addscalar(" n-w-recommendations_layout_"+Ii(Ni("layout",e,[]))):i.a.class=new yr.scalarAttr(" n-w-recommendations_layout_"+Ii(Ni("layout",e,[])))}return s+=Li(i),s+='<div class="n-w-recommendations__widget"></div>',s+=t.a(t,0,t.s(ps,e),"n-w-recommendations__extra",i),s+="</div>"},zi.t66.j=dl;zi.t66.a=0;zi.t67=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Дополните ваш заказ и сэкономьте на доставке"},zi.t67.j=dl,zi.t67.a=0,zi.t68=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Ti(Ni("description",e,[]))},zi.t68.j=gp,zi.t68.a=0,zi.t69=function(t,e,n,r,i){var s="";return s+=Li(i),s+="С "+Pi(Ni("offerid",e,[]).length>1?"этими товарами":"этим товаром")+" часто покупают"},zi.t69.j=kp,zi.t69.a=0,zi.t70=function(t,e,n,r,i){var s="";return s+=Li(i),s+="С "+Pi(Ni("offerid",e,[]).length>1?"этими товарами":"этим товаром")+" в «"+Ti(Ni("shopName",e,[]))+"» часто покупают"},zi.t70.j=wp,zi.t70.a=0,zi.t71=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Часто покупают"},zi.t71.j=Ep,zi.t71.a=0,zi.t72=function(t,e,n,r,i){var s="";return s+=Li(i),s+="В магазине «"+Ti(Ni("shopName",e,[]))+"» часто покупают"},zi.t72.j=xp,zi.t72.a=0,zi.t73=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Ti(Ni("title",e,[]))},zi.t73.j=Mp,zi.t73.a=0,zi.t74=function(t,e,n,r,i){var s="",a="";a+=Ii(t.s(Tp,e))>0?Ii(t.s(Tp,e)):2;var o=a;if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("animator_placeholder_yes animator_placeholder_flash n-roll box")},i.s="div",Ci(Ni("anchor",e,[]))&&(i.a.id=new yr.scalarAttr(Di("anchor",e))),s+=Li(i),Ii(t.s(Cp,e))>""&&(s+='<h3 class="n-roll__subtitle">',s+=Ti(t.s(Cp,e)),s+="</h3>"),Ci(t.s(Sp,e))){s+='<div class="n-roll__title '+Oi(Ci(t.s(Ip,e))?"n-roll__title_align_"+Ii(t.s(Ip,e)):"")+'">',s+="<h2",i.a={class:new yr.scalarAttr("title title_size_22 title_theme_placeholder box__title")},i.s="h2";var a="";a+=Ii(t.s(Cp,e))>""?"title_size_28":"title_size_22 title_indent_bottom",i.a.class=new yr.scalarAttr(a),s+=Li(i),s+=Ti(t.s(Sp,e)),s+="</h2>",s+="</div>"}return s+="<div",i.a={class:new yr.scalarAttr("snippet-list snippet-list_type_grid snippet-list_size_"+Ii(t.s(Op,e)))},i.s="div",s+=t.a(t,0,t.s(ps,e),"widgets__placeholder_row",i,o),s+=Li(i),s+="</div>",s+='<div class="pager-more">',s+='<a class="button button_size_m button_theme_pseudo button_disabled_yes" role="button">',s+='<span class="button__text">Показать ещё</span>',s+="</a>",s+="</div>",s+="</div>"},zi.t74.j=Ap,zi.t74.a=0,zi.t75=function(t,e,n,r,i,s){var a="",o="";o+=Ii(t.s(Op,e))>0?Ii(t.s(Op,e)):4;var c=o;return a+=t.a(t,0,t.s(ps,e),"widgets__placeholder_column",i,c),s-1>0&&(a+=t.a(t,0,t.s(ps,e),"widgets__placeholder_row",i,s-1)),a},zi.t75.j=Ap,zi.t75.a=0,zi.t76=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder",i,t.s(jp,e)),s-1>0&&(a+=t.a(t,0,t.s(ps,e),"widgets__placeholder_column",i,s-1)),a},zi.t76.j=Ap,zi.t76.a=0,zi.t77=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={},i.s="span",a+=t.f("f2",e,n,r,i,"button",yr.array2nodeset(function(){var i=[];return i.push(t.f("f27",e,n,r,s)),i}())),a+=Li(i),a+="</span>"},zi.t77.j=Hi,zi.t77.a=0,zi.t78=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<button",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button",a+=t.f("f1",e,n,r,i,t.f("f28",e,n,r,s)),a+=Li(i),a+="</button>"},zi.t78.j=Hi,zi.t78.a=0,zi.t79=function(t,e,n,r,i,s){function a(t,e,n,r){return n<w}function o(t,e,n,r){return n<w}function c(t,e,n,r){return n<w}function l(t,e,n,r){return n<w}function u(t,e,n,r){return n==w}function d(t,e,n,r){return n>=w}function p(t,e,n,r){return n>=w}function h(t,e,n,r){return n>=w}function f(t,e,n,r){return n>=w}var _="",m=Ai("inside",t.n(Bp,t.v("v23",e.doc.root)))&&yr.externals["n-is-adv-exp-category"](Ii(t.v("v11",e.doc.root))),v=Ci(t.n(Dp,t.v("v23",e.doc.root)))||Ci(t.s(_a,e.doc.root)),y="";if(Ai("grid",t.n(Np,yr.object2nodeset(s)))){var b="";b+=yr.exists(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):3;var g=b;y+="n-snippet-list n-snippet-list_type_grid snippet-list_size_"+g}else y+="n-snippet-list n-snippet-list_type_vertical",(v||"search"!==yr.nodeset2data(t.n(Rp,yr.object2nodeset(s))))&&(y+=" island");var k=y,y="";y+=yr.exists(Ni("mixPagePosition",e,[]))?Di("mixPagePosition",e):m?3:0;var w=y,E=t.s(Lp,e).length,x=t.s(Fp,e).length,M=+Ii(t.s(Up,e)),A=+Ii(t.s(zp,e)),T=E+x+M+A;if(_+=Li(i),w>0){if(_+="<div",i.a={class:new yr.scalarAttr(k+" metrika i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f31",e,n,r,t.s(ps,e),Ii(t.n(na,yr.object2nodeset(s))))))),Ai("grid",t.n(Np,yr.object2nodeset(s))))if(Ai("search",t.n(Rp,yr.object2nodeset(s)))&&!v){var C=[0,"results",2,a];_+=t.a(t,0,t.s(C,e),"n-snippet-cell2",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else{var S=[0,"results",2,o];_+=t.a(t,0,t.s(S,e),"n-snippet-cell",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else if(Ai("search",t.n(Rp,yr.object2nodeset(s)))&&!v){var I=[0,"results",2,c];_+=t.a(t,0,t.s(I,e),"n-snippet-card2",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else{var O=[0,"results",2,l];_+=t.a(t,0,t.s(O,e),"n-snippet-card",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}_+=Li(i),_+="</div>"}if(m&&Ai("search",t.n(Rp,yr.object2nodeset(s))))_+=t.f("f33",e,n,r,i,"R-A-97693-14");else if(yr.exists(Ni("mixPagePosition",e,[]))){var j=[0,"results",2,u];_+=t.a(t,0,t.s(j,e),"n-entrypoint-carousel",i)}if(_+="<div",i.a={class:new yr.scalarAttr(k+" b-zone b-spy-init i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};t["snippet-list"]="";var e={};e.name="snippet-list";var n={},r={};r.count=E,n.products=r;var r={};r.count=x,n.offers=r;var r={};r.count=M,n.articles=r;var r={};return r.count=A,n.collections=r,n.total=T,e.data=n,t["b-zone"]=e,t["b-spy-init"]="",t}()))),Ai("grid",t.n(Np,yr.object2nodeset(s))))if(Ai("search",t.n(Rp,yr.object2nodeset(s)))&&!v){var P=[0,"results",2,d];_+=t.a(t,0,t.s(P,e),"n-snippet-cell2",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else{var B=[0,"results",2,p];_+=t.a(t,0,t.s(B,e),"n-snippet-cell",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else if(Ai("search",t.n(Rp,yr.object2nodeset(s)))&&!v){var D=[0,"results",2,h];_+=t.a(t,0,t.s(D,e),"n-snippet-card2",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}else{var R=[0,"results",2,f];_+=t.a(t,0,t.s(R,e),"n-snippet-card",i,yr.externals["n-nodeset-to-object"](t.n(qp,yr.object2nodeset(s))))}return _+=Li(i),_+="</div>"},zi.t79.j=Pp,zi.t79.a=0,zi.t80=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<script",i.a={},i.s="script",i.a.nonce=new yr.scalarAttr(t.f("f32",e,n,r)),s+=Li(i),s+="\n        (function (blocks) {\n            var E = Element.prototype;\n            var matches = E.matches || E.matchesSelector || E.mozMatchesSelector ||\n                E.msMatchesSelector || E.oMatchesSelector || E.webkitMatchesSelector;\n\n            if (!matches) {\n                return;\n            }\n\n            var selector = blocks.map(function (name) {\n                return '.' + name + ',.' + name + ' *';\n            }).join(',');\n\n            var queue = [];\n\n            function listener(event) {\n                if (matches.call(event.target, selector)) {\n                    event.preventDefault();\n                    queue.push(event);\n                }\n            }\n\n            window.__criticalEvents = queue;\n\n            document.addEventListener('click', listener);\n\n            document.addEventListener('DOMContentLoaded', function () {\n                BEM.DOM.on('ready', function () {\n                    document.removeEventListener('click', listener);\n                });\n            });\n        })(['offer__pusher']);\n        ",s+="</script>"},zi.t80.j=Hi,zi.t80.a=0,zi.t81=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f1",e,n,r,i,t.f("f34",e,n,r,s)),a+=Li(i),a+="</div>"},zi.t81.j=Hi,zi.t81.a=0,zi.t82=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"modal",yr.array2nodeset(function(){var i=[];return i.push(t.f("f35",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t82.j=Hi,zi.t82.a=0,zi.t83=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"modal",yr.array2nodeset(function(){var i=[];return i.push(t.f("f36",e,n,r,s)),i}())),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-popup2__closer",i)},zi.t83.j=Hi,zi.t83.a=0,zi.t84=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"modal",yr.array2nodeset(function(){var i=[];return i.push(t.f("f37",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t84.j=Hi,zi.t84.a=0,zi.t85=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"modal",yr.array2nodeset(function(){var i=[];return i.push(t.f("f38",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t85.j=Hi,zi.t85.a=0,zi.t86=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="selectable-item__checkbox-layout">',s+="<span",i.a={class:new yr.scalarAttr("selectable-item__checkbox checkbox checkbox_size_s checkbox_theme_normal checkbox_with_click i-bem")},i.s="span";var a="";return a+='{"checkbox": {}}',i.a["bem-data"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+="</span>",s+="</div>"},zi.t86.j=Hp,zi.t86.a=0,zi.t87=function(t,e,n,r,i,s,a,o,c){a=void 0===a?"long":a,o=void 0===o?"s":o,c=void 0===c?"pseudo":c;var l="",u="",d={a:{}};u+="short"===a?"Найти":"medium"===a?"Другие предложения":"Найти в других магазинах";var p=u,u="",d={a:{}};u+="xs"==o?"xs":"s";var h=u,u="",d={a:{}};u+=t.a(t,0,t.s(ps,e),"n-find-in-other-shop__build-url",d);var f=u,u={},d={a:{}},_={},m={},v={};v.place=s,m.findInOtherShop=v,_.onInit=m;var m={},v={};v.place=s,v.click=!0,m.findInOtherShop=v,_.onClick=m,u.metrika=_;var y=u;return l+=Li(i),l+="<a",i.a={class:new yr.scalarAttr("find-in-other-shop metrika button button_size_"+h+" button_theme_"+c+" i-bem"),role:new yr.scalarAttr("button")},i.s="a",i.a.href=new yr.xmlAttr(f),i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(y))),l+=Li(i),l+='<span class="button__text">',l+=Pi(p),l+="</span>",l+="</a>"},zi.t87.j=Hi,zi.t87.a=0,zi.t88=function(t,e,n,r,i){var s="",a=[0,"categories",3,0,0,"id"],o=[];if(Ci(Ni("hid",e,[])))o=Ni("hid",e,[]);else if(Ci(t.s(a,e))){var c=[0,"categories",3,0,0,"id"];o=t.s(c,e)}else o=Ni("categoryId",e,[]);var l=o,o=[];o=yr.exists(t.s(Vp,e))&&!Ai("-1",t.s(Vp,e))?t.s(Vp,e):Ni("modelId",e,[]);var u=o,o=[];Ci(Ni("name",e,[]))?o=Ni("name",e,[]):Ci(t.s(Ba,e))&&(o=t.s(Ba,e));var d=o,o="";o+=Ci(u)?yr.externals["n-build-url"]("market:find-in-other-shop",function(){var t={};return t.hid=yr.nodeset2data(l),t.productId=yr.nodeset2data(u),t.track="fr_othr_shps",t}()):yr.externals["n-build-url"]("market:find-in-other-shop",function(){var t={};return t.hid=yr.nodeset2data(l),t.text=yr.nodeset2data(d),t.track="fr_othr_shps",t}());var p=o;return s+=Li(i),s+=Pi(p)},zi.t88.j=Hi,zi.t88.a=0,zi.t89=function(t,e,n,r,i,s){var a="",o=[];o=Ci(t.n(Gp,yr.object2nodeset(s)))?t.n(Gp,yr.object2nodeset(s)):t.s($p,e.doc.root);var c=o,l=yr.externals["n-build-url-extra"]("external:clickdaemon-with-redir",function(){var t={};return t.url=yr.nodeset2data(c),t}()),o={};o.retpath=l;var u=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:my-settings",u,s))},zi.t89.j=Hi,zi.t89.a=0,zi.t90=function(t,e,n,r,i,s){var a="",o={};o.productId=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-reviews",c,s))},zi.t90.j=Hi,zi.t90.a=0,zi.t91=function(t,e,n,r,i,s){var a="",o=[];o=Ci(t.n(Gp,yr.object2nodeset(s)))?t.n(Gp,yr.object2nodeset(s)):t.s($p,e.doc.root);var c=o,o=[];o=Ai("modification",Ni("type",e,[]))?Ni("parentId",e,[]):Ni("id",e,[]);var l=o,o={};o.productId=yr.nodeset2data(l),o.retpath=yr.nodeset2data(c);var u=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-reviews-add",s,u))},zi.t91.j=Wp,zi.t91.a=0,zi.t92=function(t,e,n,r,i,s){var a="",o={};o.productId=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-articles",c,s))},zi.t92.j=Hi,zi.t92.a=0,zi.t93=function(t,e,n,r,i,s){var a="",o={};o.productId=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-forum",c,s))},zi.t93.j=Wp,zi.t93.a=0,zi.t94=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("api:product-forum-comment-add",s))},zi.t94.j=Hi,zi.t94.a=0,zi.t95=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("api:product-forum-comment-remove",s))},zi.t95.j=Hi,zi.t95.a=0,zi.t96=function(t,e,n,r,i,s){var a="",o={};o.hid=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:compare",c,s))},zi.t96.j=Yp,zi.t96.a=0,zi.t97=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:search",s))},zi.t97.j=Hi,zi.t97.a=0,zi.t98=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"i-link__list",i,s)},zi.t98.j=Kp,zi.t98.a=0,zi.t99=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={};c.nid=yr.nodeset2data(Ni("id",e,[])),Ci(o)&&(c.lr=yr.nodeset2data(o));var l=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:list",l,s))},zi.t99.j=Xp,zi.t99.a=0,zi.t100=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c=yr.externals["n-merge-objects"](function(){var n={},r=[0,"navnodes",3,0,0,"id"];return n.nid=yr.nodeset2data(t.s(r,e)),Ci(o)&&(n.lr=yr.nodeset2data(o)),n}(),yr.externals["n-nodeset-to-object"](t.s(Jp,e)));return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:list",c,s))},zi.t100.j=Qp,zi.t100.a=0,zi.t101=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={},l=[0,"navnodes",3,0,0,"id"];c.nid=yr.nodeset2data(t.s(l,e)),c.glfilter=yr.nodeset2data(t.s(th,e)),Ci(o)&&(c.lr=yr.nodeset2data(o));var u=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:list",u,s))},zi.t101.j=Zp,zi.t101.a=0,zi.t102=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={},l=[];l+=Ri("nid",e)?yr.nodeset2data(Ni("nid",e,[])):yr.nodeset2data(Ni("id",e,[])),c.nid=l,Ci(o)&&(c.lr=yr.nodeset2data(o));var u=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:list",u,s))},zi.t102.j=Kp,zi.t102.a=0,zi.t103=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={};c.nid=yr.nodeset2data(Ni("id",e,[])),Ci(o)&&(c.lr=yr.nodeset2data(o));var l=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:all-filters",l,s))},zi.t103.j=Xp,zi.t103.a=0,zi.t104=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={},l=[0,"navnodes",3,0,0,"id"];if(c.productId=yr.nodeset2data(Ni("id",e,[])),Ci(Ni("showUid",e,[]))&&(c["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.s(l,e))){var u=[0,"navnodes",3,0,0,"id"];c.nid=yr.nodeset2data(t.s(u,e))}Ci(t.s(eh,e.doc.root))&&(c.glfilter=yr.nodeset2data(t.s(eh,e.doc.root))),Ci(t.s(nh,e.doc.root))&&(c["is-global-shop"]=yr.nodeset2data(t.s(nh,e.doc.root))),Ci(o)&&(c.lr=yr.nodeset2data(o)),Ci(t.n(Ta,yr.object2nodeset(s)))&&(c.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))));var d=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product",d,s))},zi.t104.j=Wp,zi.t104.a=0,zi.t105=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={},l=[0,"navnodes",3,0,0,"id"];if(c.productId=yr.nodeset2data(Ni("id",e,[])),Ci(Ni("showUid",e,[]))&&(c["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.s(l,e))){var u=[0,"navnodes",3,0,0,"id"];c.nid=yr.nodeset2data(t.s(u,e))}Ci(t.s(eh,e.doc.root))&&(c.glfilter=yr.nodeset2data(t.s(eh,e.doc.root))),Ci(o)&&(c.lr=yr.nodeset2data(o));var d=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-spec",d,s))},zi.t105.j=Wp,zi.t105.a=0,zi.t106=function(t,e,n,r,i,s){var a="",o=t.s(_a,e.doc.root);if(a+=Li(i),Ci(o))a+=Ti(t.s(sh,e));else if(Ci(t.s(ma,e))){var c=yr.externals["n-parse-url"](Ii(t.s(ma,e))),l=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(c))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(c))),e.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),e}());a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",l,s))}return a},zi.t106.j=_p,zi.t106.a=0,zi.t107=function(t,e,n,r,i,s){var a="",o=t.s(_a,e.doc.root);if(a+=Li(i),Ci(o)){var c={},l=[0,"categories",3,0,0,"id"],u=[0,"navnodes",3,0,0,"id"];c.offerId=yr.nodeset2data(Ni("wareId",e,[])),c.cpc=yr.nodeset2data(Ni("cpc",e,[])),c.hid=yr.nodeset2data(t.s(l,e)),c.nid=yr.nodeset2data(t.s(u,e));var d=c;a+=Pi(yr.externals["n-build-url-extra"]("market:offer",d,s))}else{var p=yr.externals["n-parse-url"](Ii(t.s(ka,e))),h=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(p))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(p))),e}());a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",h,s))}return a},zi.t107.j=_p,zi.t107.a=0,zi.t108=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c=t.f("f43",e,n,r,s),l={};l.productId=yr.nodeset2data(Ni("id",e,[])),Ci(o)&&(l.lr=yr.nodeset2data(o)),Ci(c)&&(l["is-global-shop"]=yr.nodeset2data(c));var u=l;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-offers",u,s))},zi.t108.j=Wp,zi.t108.a=0,zi.t109=function(t,e,n,r,i,s){var a="",o={};o.shopId=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:shop-reviews",c,s))},zi.t109.j=Hi,zi.t109.a=0,zi.t110=function(t,e,n,r,i,s){var a="",o={};o.shopId=yr.nodeset2data(t.s(ic,e)),Ci(Ni("cpc",e,[]))&&(o.cpc=yr.nodeset2data(Ni("cpc",e,[]))),Ci(Ni("wareId",e,[]))&&(o.cmid=yr.nodeset2data(Ni("wareId",e,[])));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:shop-reviews",c,s))},zi.t110.j=ah,zi.t110.a=0,zi.t111=function(t,e,n,r,i,s){var a="",o={};o.shopId=yr.nodeset2data(t.s(ic,e)),Ci(Ni("cpc",e,[]))&&(o.cpc=yr.nodeset2data(Ni("cpc",e,[]))),Ci(Ni("wareId",e,[]))&&(o.cmid=yr.nodeset2data(Ni("wareId",e,[]))),Ci(t.n(Ta,yr.object2nodeset(s)))&&(o.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("market:shop-reviews",c))},zi.t111.j=oh,zi.t111.a=0,zi.t112=function(t,e,n,r,i,s){var a="",o=[];o=Ci(t.n(Gp,yr.object2nodeset(s)))?t.n(Gp,yr.object2nodeset(s)):t.s($p,e.doc.root);var c=o,o={};o.shopId=yr.nodeset2data(Ni("id",e,[])),o.retpath=yr.nodeset2data(c);var l=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:shop-reviews-add",l,s))},zi.t112.j=Hi,zi.t112.a=0,zi.t113=function(t,e,n,r,i,s){var a="",o=[];o=Ci(t.n(Gp,yr.object2nodeset(s)))?t.n(Gp,yr.object2nodeset(s)):t.s($p,e.doc.root);var c=o,o={};o.shopId=yr.nodeset2data(t.s(ic,e)),Ci(Ni("wareId",e,[]))&&(o.cmid=yr.nodeset2data(Ni("wareId",e,[]))),Ci(c)&&(o.retpath=yr.nodeset2data(c));var l=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:shop-reviews-add",l,s))},zi.t113.j=ah,zi.t113.a=0,zi.t114=function(t,e,n,r,i,s){var a="",o=yr.externals["n-parse-url"](Ii(t.s(ch,e))),c=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(o))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(o))),e}());return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",c,s))},zi.t114.j=_p,zi.t114.a=0,zi.t115=function(t,e,n,r,i,s){var a="",o=yr.externals["n-parse-url"](Ii(t.s(To,e))),c=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(o))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(o))),e}());return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",c,s))},zi.t115.j=_p,zi.t115.a=0,zi.t116=function(t,e,n,r,i,s){var a="",o=yr.externals["n-parse-url"](Ii(t.s(Mo,e))),c=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(o))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(o))),e}());return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",c,s))},zi.t116.j=_p,zi.t116.a=0,zi.t117=function(t,e,n,r,i,s){var a="",o=yr.externals["n-parse-url"](Ii(t.s(Ao,e))),c=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.n(rh,yr.object2nodeset(o))),function(){var e={};return e.url=yr.nodeset2data(t.n(ih,yr.object2nodeset(o))),e}());return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("external:clickdaemon",c,s))},zi.t117.j=_p,zi.t117.a=0,zi.t118=function(t,e,n,r,i,s){var a="",o=t.f("f43",e,n,r,s),c={};c.fesh=yr.nodeset2data(t.s(ic,e)),c.cpc=yr.nodeset2data(Ni("cpc",e,[]));var l=[];l+=yr.exists(t.s(lh,e))?yr.nodeset2data(t.s(lh,e)):yr.nodeset2data(t.s(Vp,e)),c.productId=l,Ci(t.s(uh,e.doc.root))&&(c.page=yr.nodeset2data(t.s(uh,e.doc.root))),Ci(t.s(dh,e.doc.root))&&(c.cpc=yr.nodeset2data(t.s(dh,e.doc.root))),Ci(o)&&(c["is-global-shop"]=yr.nodeset2data(o));var u=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-offers",u,s))},zi.t118.j=_p,zi.t118.a=0,zi.t119=function(t,e,n,r,i,s){var a="",o={};o.shopIds=yr.nodeset2data(t.n(ph,yr.object2nodeset(s)));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:shop-info",c))},zi.t119.j=Hi,zi.t119.a=0,zi.t120=function(t,e,n,r,i,s){var a="",o={};o.productId=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:product-geo",c,s))},zi.t120.j=Wp,zi.t120.a=0,zi.t121=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:geo",s))},zi.t121.j=Hi,zi.t121.a=0,zi.t122=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:brands-list",s))},zi.t122.j=Hi,zi.t122.a=0,zi.t123=function(t,e,n,r,i,s){var a="",o={};o.hid=yr.nodeset2data(t.s(fh,e));var c=o;return a+=t.a(t,0,t.s(ps,e),"i-link__brands-list",i,yr.externals["n-merge-objects"](s,c))},zi.t123.j=hh,zi.t123.a=0,zi.t124=function(t,e,n,r,i,s){var a="",o={};o.fesh=yr.nodeset2data(t.s(ic,e)),o.offerid=yr.nodeset2data(Ni("wareId",e,[])),o["show-book-now-only"]="1";var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:geo",c,s))},zi.t124.j=_p,zi.t124.a=0,zi.t125=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(Ci(t.n(_h,yr.object2nodeset(s)))?t.f("f42",e,n,r,Ii(t.s(ps,e)),Ii(t.n(_h,yr.object2nodeset(s)))):t.f("f41",e,n,r,Ii(t.s(ps,e)),"track",Ii(t.n(Ta,yr.object2nodeset(s)))))},zi.t125.j=Hi,zi.t125.a=0,zi.t126=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"i-link__target-params",i,s)},zi.t126.j=mh,zi.t126.a=0,zi.t127=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:articles",yr.externals["n-nodeset-to-object"](Ni("params",e,[])),s))},zi.t127.j=vh,zi.t127.a=0,zi.t128=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:brands",yr.externals["n-nodeset-to-object"](Ni("params",e,[])),s))},zi.t128.j=yh,zi.t128.a=0,zi.t129=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:collections",yr.externals["n-nodeset-to-object"](Ni("params",e,[]))))},zi.t129.j=bh,zi.t129.a=0,zi.t130=function(t,e,n,r,i,s){var a="",o={};o.nid=yr.nodeset2data(t.s(kh,e)),o.hid=yr.nodeset2data(t.s(wh,e));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:list",c,s))},zi.t130.j=gh,zi.t130.a=0,zi.t131=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-str-decode"](yr.externals["n-build-url-extra"]("market:list",yr.externals["n-nodeset-to-object"](Ni("params",e,[])),s)))},zi.t131.j=Eh,zi.t131.a=0,zi.t132=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:catalog",yr.externals["n-nodeset-to-object"](Ni("params",e,[])),s))},zi.t132.j=xh,zi.t132.a=0,zi.t133=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:search",yr.externals["n-nodeset-to-object"](Ni("params",e,[])),s))},zi.t133.j=Mh;zi.t133.a=0;zi.t134=function(t,e,n,r,i){var s="",a={},o=[0,"categories",3,0,0,"id"];a.hid=yr.nodeset2data(t.s(o,e));var c=a;return s+=Li(i),s+=Pi(yr.externals["n-build-url-extra"]("market:faq",c))},zi.t134.j=Wp,zi.t134.a=0,zi.t135=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"i-link__article",i,s)},zi.t135.j=Ah,zi.t135.a=0,zi.t136=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"i-link__collection",i,s)},zi.t136.j=Th,zi.t136.a=0,zi.t137=function(t,e,n,r,i,s){var a="",o={};o.semanticId=yr.nodeset2data(Ni("semanticId",e,[])),Ci(t.n(Ta,yr.object2nodeset(s)))&&(o.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("market:articles",c))},zi.t137.j=Ch,zi.t137.a=0,zi.t138=function(t,e,n,r,i,s){var a="",o={};o.semanticId=yr.nodeset2data(Ni("semanticId",e,[])),Ci(t.n(Ta,yr.object2nodeset(s)))&&(o.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("market:collections",c))},zi.t138.j=Ch,zi.t138.a=0,zi.t139=function(t,e,n,r,i,s){var a="",o={};o.brand=yr.nodeset2data(Ni("id",e,[]));var c=o;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:brands",c,s))},zi.t139.j=Sh,zi.t139.a=0,zi.t140=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={};c.nid=yr.nodeset2data(t.s(Oh,e)),Ci(o)&&(c.lr=yr.nodeset2data(o));var l=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:catalog",l,s))},zi.t140.j=Ih,zi.t140.a=0,zi.t141=function(t,e,n,r,i,s){var a="",o=t.f("f39",e,n,r),c={};c.hid=yr.nodeset2data(Ni("id",e,[])),Ci(o)&&(c.lr=yr.nodeset2data(o));var l=c;return a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:catalog",l,s))},zi.t141.j=jh,zi.t141.a=0,zi.t142=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("market:catalog",function(){var n={};return n.hid=yr.nodeset2data(Ni("id",e,[])),Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),n}()))},zi.t142.j=Yp,zi.t142.a=0,zi.t143=function(t,e,n,r,i,s){var a="";if(Ci(Ni("hasPromo",e,[]))){var o=t.f("f39",e,n,r),c={};c.nid=yr.nodeset2data(Ni("id",e,[])),Ci(Ni("category",e,[]))&&(c.hid=yr.nodeset2data(t.s(fh,e))),Ci(o)&&(c.lr=yr.nodeset2data(o));var l=c;a+=Li(i),a+=Pi(yr.externals["n-build-url-extra"]("market:catalog",l,s))}else a+=Ci(Ni("link",e,[]))?t.a(t,0,Ni("link",e,[]),"i-link__mbo-url",i,s):t.a(t,0,t.s(ps,e),"i-link__list",i,s);return a},zi.t143.j=Ph,zi.t143.a=0,zi.t144=function(t,e,n,r,i,s){var a="";if(Ni("navnodes",e,[]).length>0){var o=[0,"navnodes",3,0];a+=t.a(t,0,t.s(o,e),"i-link__category",i,s)}else if(Ni("categories",e,[]).length>0){var c=[0,"categories",3,0];a+=t.a(t,0,t.s(c,e),"i-link__category",i,s)}return a},zi.t144.j=Hp,zi.t144.a=0,zi.t145=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,Ni("category",e,[]),"i-link__category",i,s)},zi.t145.j=Bh,zi.t145.a=0,zi.t146=function(t,e,n,r,i,s){var a="",o=[0,"categories",3,0],c=t.s(o,e);return a+=Li(i),a+=Pi(yr.externals["n-build-url"]("market:list",function(){var n={};return n.hid=yr.nodeset2data(t.n(ao,c)),n.glfilter=t.v("v22",e.doc.root)+":"+Ii(Ni("id",e,[])),Ci(t.n(Rh,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s)))),n}()))},zi.t146.j=Dh,zi.t146.a=0,zi.t147=function(t,e,n,r,i,s){var a="",o={};Ci(t.s(eh,e.doc.root))&&(o.glfilter=yr.nodeset2data(t.s(eh,e.doc.root))),Ci(t.s(Nh,e.doc.root))&&(o.fesh=yr.nodeset2data(t.s(Nh,e.doc.root))),Ci(t.s(Lh,e.doc.root))&&(o.qrfrom=yr.nodeset2data(t.s(Lh,e.doc.root))),Ci(t.s(Fh,e.doc.root))&&(o["free-delivery"]=yr.nodeset2data(t.s(Fh,e.doc.root))),Ci(t.s(Uh,e.doc.root))&&(o.manufacturer_warranty=yr.nodeset2data(t.s(Uh,e.doc.root))),Ci(t.s(zh,e.doc.root))&&(o["offer-shipping"]=yr.nodeset2data(t.s(zh,e.doc.root))),Ci(t.s(qh,e.doc.root))&&(o.pricefrom=yr.nodeset2data(t.s(qh,e.doc.root))),Ci(t.s(Hh,e.doc.root))&&(o.priceto=yr.nodeset2data(t.s(Hh,e.doc.root))),Ci(t.s(Vh,e.doc.root))&&(o["prepay-enabled"]=yr.nodeset2data(t.s(Vh,e.doc.root))),Ci(t.s(Gh,e.doc.root))&&(o["filter-discount-only"]=yr.nodeset2data(t.s(Gh,e.doc.root))),Ci(t.s($h,e.doc.root))&&(o.home_region=yr.nodeset2data(t.s($h,e.doc.root))),Ci(t.s(Wh,e.doc.root))&&(o["delivery-interval"]=yr.nodeset2data(t.s(Wh,e.doc.root))),Ci(t.s(Yh,e.doc.root))&&(o["show-book-now-only"]=yr.nodeset2data(t.s(Yh,e.doc.root)));var c=o,l=yr.externals["n-merge-objects"](c,s);
return a+=t.a(t,0,t.s(ps,e),"i-link__product-reviews",i,l)},zi.t147.j=Hi,zi.t147.a=0,zi.t148=function(t,e,n,r,i,s){var a="",o={};Ci(t.s(Nh,e.doc.root))&&(o.fesh=yr.nodeset2data(t.s(Nh,e.doc.root))),Ci(t.s(Lh,e.doc.root))&&(o.qrfrom=yr.nodeset2data(t.s(Lh,e.doc.root))),Ci(t.s(Fh,e.doc.root))&&(o["free-delivery"]=yr.nodeset2data(t.s(Fh,e.doc.root))),Ci(t.s(Uh,e.doc.root))&&(o.manufacturer_warranty=yr.nodeset2data(t.s(Uh,e.doc.root))),Ci(t.s(zh,e.doc.root))&&(o["offer-shipping"]=yr.nodeset2data(t.s(zh,e.doc.root))),Ci(t.s(qh,e.doc.root))&&(o.pricefrom=yr.nodeset2data(t.s(qh,e.doc.root))),Ci(t.s(Hh,e.doc.root))&&(o.priceto=yr.nodeset2data(t.s(Hh,e.doc.root))),Ci(t.s(Vh,e.doc.root))&&(o["prepay-enabled"]=yr.nodeset2data(t.s(Vh,e.doc.root))),Ci(t.s(Gh,e.doc.root))&&(o["filter-discount-only"]=yr.nodeset2data(t.s(Gh,e.doc.root))),Ci(t.s($h,e.doc.root))&&(o.home_region=yr.nodeset2data(t.s($h,e.doc.root))),Ci(t.s(Wh,e.doc.root))&&(o["delivery-interval"]=yr.nodeset2data(t.s(Wh,e.doc.root))),Ci(t.s(Yh,e.doc.root))&&(o["show-book-now-only"]=yr.nodeset2data(t.s(Yh,e.doc.root)));var c=o,l=yr.externals["n-merge-objects"](c,s);return a+=t.a(t,0,t.s(ps,e),"i-link__product",i,l)},zi.t148.j=Wp,zi.t148.a=0,zi.t149=function(t,e,n,r,i,s){var a="",o={};Ci(t.s(Nh,e.doc.root))&&(o.fesh=yr.nodeset2data(t.s(Nh,e.doc.root))),Ci(t.s(Lh,e.doc.root))&&(o.qrfrom=yr.nodeset2data(t.s(Lh,e.doc.root))),Ci(t.s(Fh,e.doc.root))&&(o["free-delivery"]=yr.nodeset2data(t.s(Fh,e.doc.root))),Ci(t.s(Uh,e.doc.root))&&(o.manufacturer_warranty=yr.nodeset2data(t.s(Uh,e.doc.root))),Ci(t.s(zh,e.doc.root))&&(o["offer-shipping"]=yr.nodeset2data(t.s(zh,e.doc.root))),Ci(t.s(qh,e.doc.root))&&(o.pricefrom=yr.nodeset2data(t.s(qh,e.doc.root))),Ci(t.s(Hh,e.doc.root))&&(o.priceto=yr.nodeset2data(t.s(Hh,e.doc.root))),Ci(t.s(Vh,e.doc.root))&&(o["prepay-enabled"]=yr.nodeset2data(t.s(Vh,e.doc.root))),Ci(t.s(Gh,e.doc.root))&&(o["filter-discount-only"]=yr.nodeset2data(t.s(Gh,e.doc.root))),Ci(t.s($h,e.doc.root))&&(o.home_region=yr.nodeset2data(t.s($h,e.doc.root))),Ci(t.s(Wh,e.doc.root))&&(o["delivery-interval"]=yr.nodeset2data(t.s(Wh,e.doc.root))),Ci(t.s(Yh,e.doc.root))&&(o["show-book-now-only"]=yr.nodeset2data(t.s(Yh,e.doc.root)));var c=o,l=yr.externals["n-merge-objects"](c,s);return a+=t.a(t,0,t.s(ps,e),"i-link__product-offers",i,l)},zi.t149.j=Wp,zi.t149.a=0,zi.t150=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=t.f("f44",e,n,r,Ii(t.n(Sa,s)),t.s(ps,e))?t.a(t,0,t.s(ps,e),"i-link__offer-card",i):t.a(t,0,t.s(ps,e),"i-link__offer",i)},zi.t150.j=Kh,zi.t150.a=0,zi.t151=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=t.a(t,0,t.s(ps,e),"i-link__product",i,function(){var e={};return Ci(t.n(Ta,s))&&(e.track=yr.nodeset2data(t.n(Ta,s))),e}())},zi.t151.j=Xh,zi.t151.a=0,zi.t152=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),a+=Li(i),a+=Ti(Ni("name",e,[]))+": ";for(var o=Ni("values",e,[]),c=0,l=o.length;c<l;c++){var u=o[c];c>0&&(a+=", "),a+=Ti(Ci(Ni("checked",u,[]))?Ni("value",u,[]):Ni("value",u,[]))}return a+="</li>"},zi.t152.j=Qh,zi.t152.a=0,zi.t153=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("unitId",e,[]),l)}function o(t,e,n,r){return Mi(Ni("unitId",e,[]),u)}var c="",l=Ni("defaultUnit",e,[]),u=Ni("userUnits",e,[]),d=[0,"units",2,a,0,"values"],p=[0,"units",2,o,0,"values"];if(c+=Li(i),c+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),c+=Li(i),c+=Ti(Ni("name",e,[]))+": ",Ci(u))for(var h=t.s(p,e),f=0,_=h.length;f<_;f++){var m=h[f];f>0&&(c+=", "),Ci(Ni("checked",m,[]))?(c+="<strong>",c+=Ti(Ni("value",m,[])),c+="</strong>"):c+=Ti(Ni("value",m,[]))}else for(var h=t.s(d,e),f=0,_=h.length;f<_;f++){var m=h[f];f>0&&(c+=", "),Ci(Ni("checked",m,[]))?(c+="<strong>",c+=Ti(Ni("value",m,[])),c+="</strong>"):c+=Ti(Ni("value",m,[]))}return c+="</li>"},zi.t153.j=Jh,zi.t153.a=0,zi.t154=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),a+=Li(i),a+=Ti(Ni("name",e,[]))+": ",Ci(t.s(Nu,e))?(a+=Ti(t.s(ef,e)),Ci(Ni("unit",e,[]))&&(a+=" "+Ti(Ni("unit",e,[])))):(a+=Ti(t.s(ef,e)),Ci(Ni("unit",e,[]))&&(a+=" "+Ti(Ni("unit",e,[])))),a+="</li>"},zi.t154.j=tf,zi.t154.a=0,zi.t155=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),a+=Li(i),a+=Ti(Ni("name",e,[]))+": ",Ci(t.s(Nu,e))?(a+="от "+Ti(t.s(sf,e))+" до "+Ti(t.s(ef,e)),Ci(Ni("unit",e,[]))&&(a+=" "+Ti(Ni("unit",e,[])))):(a+="от "+Ti(t.s(sf,e))+" до "+Ti(t.s(ef,e)),Ci(Ni("unit",e,[]))&&(a+=" "+Ti(Ni("unit",e,[])))),a+="</li>"},zi.t155.j=rf,zi.t155.a=0,zi.t156=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<li",i.a={},i.s="li",Ci(t.n(gs,yr.object2nodeset(s)))&&(i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s))))),a+=Li(i),a+=Ti(Ni("name",e,[]))+": ",a+=(Ci(t.s(cf,e)),"Да"),a+="</li>"},zi.t156.j=of,zi.t156.a=0,zi.t157=function(t,e,n,r,i,s){var a="",o=Ai("real",Ni("cpa",e,[])),c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"getClickActionType",l,s);var u=c,c={},l={a:{}},d={},p="";p+=Ai("offer",Ni("entity",e,[]))?t.f("f44",e,n,r,Bi(u),t.s(ps,e))?"offer-card":"offer":Ci(Ni("type",e,[]))?Di("type",e):"",d.type=p,d.clickActionType=u,c["n-snippet-card"]=d;var d={};if(d.name="snippet-card",c["b-zone"]=d,Ci(t.n(uf,yr.object2nodeset(s)))&&!Ri("outdated",e)){var d={},p={};p.id=yr.externals["n-js-path"](Ii(t.n(uf,yr.object2nodeset(s))),yr.externals["n-nodeset-to-object"](t.s(ps,e))),d.item=p,c["selectable-item"]=d}if(Ci(Ni("wish",e,[]))){var d={},p={};p.id=yr.nodeset2data(t.s(df,e)),d.item=p,c["n-wish"]=d}var h=c;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card snippet-card clearfix i-bem b-zone")},i.s="div",Ci(t.n(gs,yr.object2nodeset(s)))){var f=i.a.class;f?i.a.class=f.addscalar(" "+Ii(t.n(gs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(gs,yr.object2nodeset(s))))}if(Ci(Ni("isPromotedByVendor",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" n-snippet-card_type_promoted"):i.a.class=new yr.scalarAttr(" n-snippet-card_type_promoted")}if(Ri("wish",e)&&Ri("outdated",e)&&(i.a["data-is-outdated"]=new yr.scalarAttr("true")),Ai("offer",Ni("entity",e,[]))){var _=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(t.f("f99",e,n,r,t.s(ps,e)))),m=yr.externals["n-merge-nodes"](_,yr.object2nodeset(h)),f=i.a.class;if(f?i.a.class=f.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),o){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card_cpa_yes offer metrika"):i.a.class=new yr.scalarAttr(" snippet-card_cpa_yes offer metrika")}if(Ci(Ni("isPromotedByVendor",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}if(Ai("",Ni("description",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" n-snippet-card_open_yes"):i.a.class=new yr.scalarAttr(" n-snippet-card_open_yes")}if(i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[]))),Ai("offer",t.n(hf,yr.object2nodeset(s)))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card_type_offer"):i.a.class=new yr.scalarAttr(" snippet-card_type_offer")}if(o){var v=yr.externals["n-merge-nodes"](m,yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](v))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](m))}else if(Ai("product",Ni("entity",e,[])))if(i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),Ci(t.n(pf,yr.object2nodeset(s)))){var y=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(h));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](y))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h)));if(a+=Li(i),Ai("development",t.s(ff,e.doc.root))){if(a+="<span",i.a={class:new yr.scalarAttr("snippet-card__document-type")},i.s="span",Ai("offer",Ni("entity",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__document-type_offer"):i.a.class=new yr.scalarAttr(" snippet-card__document-type_offer")}else if(Ai("cluster",Ni("type",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__document-type_cluster"):i.a.class=new yr.scalarAttr(" snippet-card__document-type_cluster")}else if(Ai("model",Ni("type",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__document-type_product"):i.a.class=new yr.scalarAttr(" snippet-card__document-type_product")}else if(Ai("modification",Ni("type",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__document-type_modification"):i.a.class=new yr.scalarAttr(" snippet-card__document-type_modification")}else if(Ai("group",Ni("type",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-card__document-type_group"):i.a.class=new yr.scalarAttr(" snippet-card__document-type_group")}a+=Li(i),a+=Pi(Ci(Ni("type",e,[]))?yr.externals["n-str-to-upper"](Di("type",e)):yr.externals["n-str-to-upper"](Di("entity",e))),a+="</span>"}return a+=t.f("f48",e,n,r,i,t.s(ps,e),function(){var e={};return e.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),e.clickActionType=u,e.offerType=yr.nodeset2data(t.n(hf,yr.object2nodeset(s))),e.productFilters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card__info",i,function(){var e={};return e.track="srchlink",e.clickActionType=u,e.filters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted",i),a+=t.f("f49",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),e.showSubHeaderCategory=yr.nodeset2data(t.n(Oa,yr.object2nodeset(s))),e.clickActionType=u,e.productFilters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),e.hideKindParams=yr.nodeset2data(t.n(Aa,yr.object2nodeset(s))),e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s))),e}())),a+=t.a(t,0,t.s(ps,e),"n-snippet-card__action",i,function(){var e={};return e.subscriptions=yr.nodeset2data(t.n(_f,yr.object2nodeset(s))),e.showSubscriptions=yr.nodeset2data(t.n(mf,yr.object2nodeset(s))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card__complain-control",i),Ci(t.n(uf,yr.object2nodeset(s)))&&!Ri("outdated",e)&&(a+=t.a(t,0,t.s(ps,e),"selectable-item",i)),a+="</div>",a+=t.a(t,0,Ni("bdebug",e,[]),"n-snippet-card__debug-info",i)},zi.t157.j=lf,zi.t157.a=0,zi.t158=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f152",e,n,r,i)},zi.t158.j=yf,zi.t158.a=0,zi.t159=function(t,e,n,r,i,s){var a="",o=!Ai(213,t.n(bd,yr.object2nodeset(s)))&&Ai("details",t.n(Sa,yr.object2nodeset(s))),c=Ni("isPromotedByVendor",e,[]);return a+=Li(i),a+=Ci(c)?"offer-card":o?"clickout":Ti(t.n(Sa,yr.object2nodeset(s)))},zi.t159.j=Hi,zi.t159.a=0,zi.t160=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-adult-snippet",i,"card")},zi.t160.j=bf,zi.t160.a=0,zi.t161=function(t,e,n,r,i){var s="",a=[],o={};o.title="Нет в наличии",o.value="outOfStock",a.push(o);var o={};o.title="Неверная цена",o.value="incorrectPrice",a.push(o);var o={};o.title="Сайт магазина недоступен",o.value="siteIsInaccessible",a.push(o);var o={};o.title="Неверная категория",o.value="incorrectCategory",a.push(o);var o={};o.title="Неверные срок/стоимость доставки",o.value="incorrectDeliveryInfo",a.push(o);var o={};o.title="Другое",o.value="other",a.push(o);var c=a;s+=Li(i),s+="<form",i.a={},i.s="form",i.a.class=new yr.scalarAttr("offer-complain-form i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(function(){var n={};return n["offer-complain-form"]=yr.nodeset2data(t.s(ps,e)),n}()))),s+=Li(i),s+='<div class="offer-complain-form offer-complain-form__hidden-inputs">',s+='<input type="hidden" name="offerId" value="'+Si(Ni("offerId",e,[]))+'"/>',s+='<input type="hidden" name="shopId" value="'+Si(Ni("shopId",e,[]))+'"/>',s+='<input type="hidden" name="classifierMagicId" value="'+Si(Ni("classifierMagicId",e,[]))+'"/>',s+='<input type="hidden" name="session" value="'+Si(Ni("session",e,[]))+'"/>',s+='<input type="hidden" name="external" value="'+Si(Ni("isExternal",e,[]))+'"/>',s+="</div>",s+='<div class="offer-complain-form__title">Расскажите, в чём дело</div>',s+="<div",i.a={},i.s="div",i.a.class=new yr.scalarAttr("radiobox radiobox_theme_normal radiobox_size_s i-bem");var a="";return a+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=t.a(t,0,t.n(Hi,yr.array2nodeset(c)),"offer-complain-form__radio-input",i),s+=Li(i),s+="</div>",s+="<textarea",i.a={},i.s="textarea",i.a.rows=new yr.scalarAttr("3"),i.a.name=new yr.scalarAttr("text"),i.a.placeholder=new yr.scalarAttr("Опишите проблему подробнее"),i.a.class=new yr.scalarAttr("textarea offer-complain-form__item offer-complain-form__textarea"),s+=Li(i),s+="</textarea>",s+="<div",i.a={},i.s="div",i.a.class=new yr.scalarAttr("offer-complain-form__success-message"),s+=Li(i),s+="<p>Спасибо! Мы постараемся исправить ошибку в ближайшее время.</p>",s+="</div>",s+="<button",i.a={},i.s="button",i.a.name=new yr.scalarAttr("submit"),i.a.type=new yr.scalarAttr("button"),i.a.role=new yr.scalarAttr("button"),i.a.class=new yr.scalarAttr("offer-complain-form__submit-button button button_theme_action button_size_m i-bem"),s+=Li(i),s+='<span class="button__text">Пожаловаться</span>',s+="</button>",s+="<button",i.a={},i.s="button",i.a.name=new yr.scalarAttr("close"),i.a.type=new yr.scalarAttr("button"),i.a.role=new yr.scalarAttr("button"),i.a.class=new yr.scalarAttr("offer-complain-form__close-button button button_theme_normal button_size_m i-bem"),s+=Li(i),s+='<span class="button__text">Закрыть окно</span>',s+="</button>",s+='<span class="offer-complain-form offer-complain-form__spinner-holder"></span>',s+="</form>"},zi.t161.j=Hi,zi.t161.a=0,zi.t162=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<label class="radiobox__radio offer-complain-form__item" for="'+Oi("complain-offer-"+Di("value",e))+'">',s+='<span class="radiobox__box">',s+='<input class="radiobox__control" id="'+Oi("complain-offer-"+Di("value",e))+'" type="radio" name="cause" value="'+Si(Ni("value",e,[]))+'"/>',s+="</span>",s+='<span class="radiobox__text">'+Ti(Ni("title",e,[]))+"</span>",s+="</label>"},zi.t162.j=Hi,zi.t162.a=0,zi.t163=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(gf,yr.object2nodeset(s)))?Ii(t.n(gf,yr.object2nodeset(s))):"h1";var c=o;a+=Li(i);var l=Fi(c);return a+="<"+l,i.a={},i.s=l,Ci(t.n(Nc,yr.object2nodeset(s)))&&(i.a.itemprop=new yr.scalarAttr(Ii(t.n(Nc,yr.object2nodeset(s))))),a+=t.f("f1",e,n,r,i,t.f("f47",e,n,r,s)),a+=Li(i),a+=Ui(l)?"":"</"+l+">"},zi.t163.j=Hi,zi.t163.a=0,zi.t164=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o,u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e)));return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("snippet-card__image link"),href:new yr.scalarAttr(Bi(l))},i.s="a",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),200),a+="</a>"},zi.t164.j=Xh,zi.t164.a=0,zi.t165=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<span class="snippet-card__image">',a+=t.f("f66",e,n,r,i,t.s(ps,e),200),a+="</span>"},zi.t165.j=wf,zi.t165.a=0,zi.t166=function(t,e,n,r,i,s){var a="",o="";o+=Ai("offer",t.n(hf,yr.object2nodeset(s)))?50:200;var c=o,l=Ai("offer",t.n(hf,yr.object2nodeset(s))),u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e))),o="";o+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var d=o,o=!1;o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var p=o;return a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s)))?(a+="<span",i.a={class:new yr.scalarAttr("n-snippet-card__image snippet-card__image link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),r.entityType="snippet",n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</span>"):d?(a+="<a",i.a={class:new yr.scalarAttr("snippet-card__image shop-history__link link"),href:new yr.scalarAttr(d),title:new yr.scalarAttr(u)},i.s="a",p||(i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener")),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</a>"):(a+="<span",i.a={class:new yr.scalarAttr("snippet-card__image")},i.s="span",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</span>"),a},zi.t166.j=Kh,zi.t166.a=0,zi.t167=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<span class="snippet-card__image">',a+=t.f("f66",e,n,r,i,t.s(ps,e),200),a+="</span>"},zi.t167.j=Ef,zi.t167.a=0,zi.t168=function(t,e,n,r,i){var s="",a=i.a.class;a?i.a.class=a.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem");var o="";return o+='{"snippet-card__header": {}}',i.a["data-bem"]=new yr.xmlAttr(o),s},zi.t168.j=Wp,zi.t168.a=0,zi.t169=function(t,e,n,r,i){var s="",a=Ni("classifierMagicId",e,[]),o=t.s(Vp,e);return s+=Li(i),(Ci(a)||Ci(o))&&(s+='<div class="snippet-card__header-extra">',Ci(a)&&(s+='<a class="link" target="_blank" rel="nofollow noopener" href="//mbo.market.yandex.ru/simple_classifier/MboClassifier.xml?classifier_magic_id='+Si(a)+'">',s+="[mbo]",s+="</a>",s+="  "),Ci(o)&&(s+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/tt/kd/edit.xml?entity-id="+Ii(o)),s+=Li(i),s+=Ti(o),s+="</a>",s+="  "),s+="</div>"),s},zi.t169.j=Mf,zi.t169.a=0,zi.t170=function(t,e,n,r,i){var s="",a=Ni("id",e,[]);return s+=Li(i),Ci(a)&&(s+='<div class="snippet-card__header-extra">',Ci(a)&&(s+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/gwt/#cluster/clusterId="+Ii(a)),s+=Li(i),s+=Ti(a),s+="</a>",s+="  "),s+="</div>"),s},zi.t170.j=Af,zi.t170.a=0,zi.t171=function(t,e,n,r,i,s){function a(t,e,n,r){return""!=yr.externals["n-normalize-space"](Ii(t.s(ps,e)))}function o(t,e,n,r){return n<p}var c="",l=!1;l=t.s(Tf,e).length>0;var u=l,l=!1;l=!!yr.exists(t.s(Cf,e));var d=l,p=t.f("f46",e,n,r,u,d),h=[0,"specs",0,"friendly",2,a,2,o];c+=Li(i),c+='<ul class="snippet-card__desc-list">';for(var f=t.s(h,e),_=0,m=f.length;_<m;_++){var v=f[_];c+='<li class="snippet-card__desc-item">',c+=yr.externals["n-str-castrator"](Ii(t.s(ps,v)),85),c+="</li>"}return u&&(c+=t.a(t,0,t.s(Sf,e),"n-color-set",i,function(){var n={};return n.product=yr.nodeset2data(t.s(ps,e)),n.class="snippet-card__desc-item",Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),n}())),c+="</ul>"},zi.t171.j=Wp,zi.t171.a=0,zi.t172=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="snippet-card__desc snippet-card__desc_nowrap_yes">',a+=Ti(t.s(If,e)),a+="</div>"},zi.t172.j=Of,zi.t172.a=0,zi.t173=function(t,e,n,r,i,s){function a(t,e,n,r){return n<p}var o="",c=!1;c=t.s(Tf,e).length>0;var l=c,c=!1;c=!!yr.exists(t.s(Cf,e));var u=c,d=t.f("f46",e,n,r,l,u),c="";c+=Ai("offer",Ni("entity",e,[]))?d-2:d;var p=c,h=Ni("filters",e,[]).length;if(o+=Li(i),!Ci(t.n(Aa,yr.object2nodeset(s)))){var f=[0,"filters",2,D,2,a];o+="<ul",i.a={class:new yr.scalarAttr("snippet-card__desc-list")},i.s="ul";for(var _=t.s(f,e),m=0,v=_.length;m<v;m++){var y=_[m];o+=t.a(t,0,t.s(ps,y),"n-product-kind-params",i)}o+=t.a(t,0,Ni("filters",e,[]),"n-product-kind-params-size",i),l&&(o+=t.a(t,0,t.s(Sf,e),"n-color-set",i,function(){var n={};return n.product=yr.nodeset2data(t.s(ps,e)),n.class="snippet-card__desc-item",n}())),o+=Li(i),o+="</ul>"}return(Ci(t.n(Aa,yr.object2nodeset(s)))||h<1)&&Ri("description",e)&&(o+='<div class="snippet-card__desc snippet-card__desc_nowrap_yes">',o+=Ti(Ni("description",e,[])),o+="</div>"),o},zi.t173.j=jf,zi.t173.a=0,zi.t174=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("modelId",e,[]),d)}var o="",c=!1;c=!yr.exists(t.n(mf,yr.object2nodeset(s)))||Ci(t.n(mf,yr.object2nodeset(s)));var l=c;o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("snippet-card__action i-bem")},i.s="div";var c="",u={a:{}};if(c+='{"snippet-card__action": {}}',i.a["data-bem"]=new yr.xmlAttr(c),Ii(t.s(hl,e))>0){o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("button button_size_s button_to_prices button_theme_blue n-smart-link i-bem")},i.s="a";var c="",u={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",u,function(){var n={};return n.track="srchbtn",Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(c);var c="",u={a:{}};c+='{"button": {}, "n-smart-link": {"subscriptions": ["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+='<span class="button__text">',o+="Цены ",o+='<span class="small">',o+=Ti(t.s(hl,e)),o+="</span>",o+="</span>",o+="</a>"}else if(l){var d=Ni("id",e,[]),p=[0,"subscriptions",2,a],h=t.n(p,yr.object2nodeset(s)),f=[3,0];o+=t.a(t,0,t.s(ps,e),"n-product-subscribe-button",i,t.n(f,h),"small")}return o+=Li(i),o+="</div>"},zi.t174.j=Wp,zi.t174.a=0,zi.t175=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-card__action")},i.s="div",Ci(t.s(po,e))||Ci(t.s($a,e))){var o={};o.place="snippet",Ci(t.n(Pa,yr.object2nodeset(s)))&&(o.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s))));var c=o;a+=Li(i),t.f("f104",e,n,r,t.s(ps,e),c,"")&&(a+=t.f("f102",e,n,r,i,t.s(ps,e),c))}else a+=t.a(t,0,t.s(ps,e),"n-find-in-other-shop",i,"snippet");return Ri("outdated",e)||(a+=t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.hasHint=!0,t}())),a+=Li(i),a+="</div>"},zi.t175.j=_p,zi.t175.a=0,zi.t176=function(t,e,n,r,i,s){var a="",o=t.f("f59",e,n,r,i,t.s(ps,e)),c=t.f("f60",e,n,r,i,t.s(ps,e),Ii(t.n(Ta,yr.object2nodeset(s))));if(a+=Li(i),a+='<div class="snippet-card__info">',Ii(t.s(hl,e))>0){var l=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),u=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));a+="<a",i.a={class:new yr.scalarAttr("link n-smart-link i-bem")},i.s="a";var d="",p={a:{}};d+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",p,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(d);var d="",p={a:{}};d+=Li(p),d+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(d),a+=Li(i),a+=o,Ci(t.s(Wa,e))||(a+=c),a+="</a>",!Ci(t.s(Wa,e))||u||l||(a+=c)}else a+=o;return a+="</div>"},zi.t176.j=Wp,zi.t176.a=0,zi.t177=function(t,e,n,r,i,s){var a="",o=t.f("f59",e,n,r,i,t.s(ps,e)),c=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),l=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-card__info")},i.s="div",Ai("real",Ni("cpa",e,[]))){var u=i.a.class;u?i.a.class=u.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}if(a+=Li(i),a+='<div class="snippet-card__price">',Ci(Ni("outdated",e,[])))a+=o;else if(Ai("details",t.n(Sa,yr.object2nodeset(s))))a+="<span",i.a={class:new yr.scalarAttr("link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.entityType="snippet",r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=o,a+="</span>";else if(t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e))){a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var d="",p={a:{}};d+=t.a(t,0,t.s(ps,e),"i-link__offer-card",p),i.a.href=new yr.xmlAttr(d),a+=Li(i),a+=o,a+="</a>"}else if(Ai("real",Ni("cpa",e,[]))){var d="",p={a:{}};d+=t.a(t,0,t.s(ps,e),"i-link__offer",p);a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var u=i.a.class;u?i.a.class=u.addscalar(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"):i.a.class=new yr.scalarAttr(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:cart")),i.a.target=new yr.scalarAttr("_self"),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</a>"}else if(t.f("f40",e,n,r,t.s(ps,e))){a+="<a",i.a={class:new yr.scalarAttr("link shop_history__link")},i.s="a";var d="",p={a:{}};d+=t.a(t,0,t.s(ps,e),"i-link__offer",p),i.a.href=new yr.xmlAttr(d),i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener"),a+=Li(i),a+=o,a+="</a>"}else a+="<span>",a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</span>";return a+="</div>",!Ci(t.s(Wa,e))||l||c||(a+="<div",i.a={class:new yr.scalarAttr("snippet-card__subprice")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withoutPromo=!0,t}()),a+=Li(i),a+='<div class="price price_unactual_yes">',a+=t.f("f76",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>"),a+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),Ri("delivery",e)&&!Ci(t.s(Ka,e))&&(a+=t.a(t,0,t.s(ps,e),"n-delivery",i,"snippet")),a+=t.a(t,0,t.s(ps,e),"n-prepayment",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-card__bundle-limit",i),a+="</div>"},zi.t177.j=_p,zi.t177.a=0,zi.t178=function(t,e,n,r,i){var s="";s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("classifierMagicId",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("classifierMagicId",e,[]))+'">мимо</label>',s+="</span>"},zi.t178.j=Mf,zi.t178.a=0,zi.t179=function(t,e,n,r,i){var s="";s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_cluster-complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("id",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("id",e,[]))+'">мимо</label>',s+="</span>"},zi.t179.j=Af,zi.t179.a=0,zi.t180=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class="snippet-card__bundle-limit",t}())},zi.t180.j=_p,zi.t180.a=0,zi.t181=function(t,e,n,r,i){var s="";return s+=Li(i),Ri("isInternal",e.doc.root)&&Ai("1",t.s(Pf,e.doc.root))&&(s+="<div",i.a={class:new yr.scalarAttr("n-debug-info")},i.s="div",s+=t.a(t,0,Ni("*",e,[]),"n-debug-info__item",i),s+=Li(i),s+="</div>"),s},zi.t181.j=vf,zi.t181.a=0,zi.t182=function(t,e,n,r,i,s,a){var o="",c=1.5,l=yr.externals["n-picture-url"](t.s(ps,e),s*c);return l&&l!=a&&(i.a.srcset=new yr.scalarAttr(l+" "+c+"x")),o},zi.t182.j=Hi,zi.t182.a=0,zi.t183=function(t,e,n,r,i,s){var a="",o=Ci(t.n(Bf,yr.object2nodeset(s)))&&Ri("discount",e)&&!Ci(t.n(Va,t.v("v23",e.doc.root)));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("price")},i.s="div",o){var c=i.a.class;c?i.a.class=c.addscalar(" price_discount_yes"):i.a.class=new yr.scalarAttr(" price_discount_yes")}return a+=t.a(t,0,t.s(ps,e),"n-price__price-text",i,s),a+=Li(i),a+="</div>",o&&(a+="<div",i.a={class:new yr.scalarAttr("price price_unactual_yes")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-price__discount-text",i,s),a+=Li(i),a+="</div>"),a},zi.t183.j=go,zi.t183.a=0,zi.t184=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-price__price-value",c,s);var l=o;return a+=Li(i),Bi(l)>0?(yr.exists(Ni("min",e,[]))&&!Mi(Ni("min",e,[]),Ni("max",e,[]))&&(a+="от "),a+=Pi(Ai("BYN",Ni("currency",e,[]))?yr.externals["n-str-format-price-without-round"](Bi(l)):yr.externals["n-str-format-price"](Bi(l))),Ci(t.n(Rf,yr.object2nodeset(s)))&&(a+=" "+yr.externals["n-i18n"](Di("currency",e)))):a+=Ci(t.n(Df,yr.object2nodeset(s)))?Ti(t.n(Df,yr.object2nodeset(s))):"Нет в продаже",a},zi.t184.j=go,zi.t184.a=0,zi.t185=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(Ni("min",e,[]))?a+=Ti(Ni("min",e,[])):Ci(Ni("avg",e,[]))?a+=Ti(Ni("avg",e,[])):Ci(Ni("value",e,[]))&&(a+=Ti(Ni("value",e,[]))),a},zi.t185.j=go,zi.t185.a=0,zi.t186=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-price__discount-value",c,s);var l=o;return a+=Li(i),Bi(l)>0&&(Ri("min",e)&&Ri("max",e)&&!Mi(Ni("min",e,[]),Ni("max",e,[]))&&(a+="от "),a+=Pi(Ai("BYN",Ni("currency",e,[]))?yr.externals["n-str-format-price-without-round"](Bi(l)):yr.externals["n-str-format-price"](Bi(l))),Ci(t.n(Nf,yr.object2nodeset(s)))&&(a+=" "+yr.externals["n-i18n"](Di("currency",e)))),a},zi.t186.j=go,zi.t186.a=0,zi.t187=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=Ti(t.s(sc,e))},zi.t187.j=Lf,zi.t187.a=0,zi.t188=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(Ai("BYN",Ni("currency",e,[]))?yr.externals["n-str-format-price-without-round"](Di("value",e)):yr.externals["n-str-format-price"](Di("value",e))),s+=" ",s+=yr.externals["n-i18n"](Di("currency",e))},zi.t188.j=Hi,zi.t188.a=0,zi.t189=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-popup2",i,function(){var t={},e={},n=[];n.push("bottom-left"),n.push("bottom-right"),n.push("top-left"),n.push("top-right"),e.directions=n,t.data=e;var e={};e.name="n-sticker-promocode-popup__popup",t.mix=e,t.tail=!0;var e={};return e.autoclosable="yes",e.theme="normal",e.target="anchor",t.mods=e,t}())},zi.t189.j=Hi,zi.t189.a=0,zi.t190=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-sticker-promocode-popup b-zone i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.name="promocode-popup",t["b-zone"]=e,t}()))),a+=Li(i),a+='<div class="n-sticker-promocode-popup__info">',a+='<div class="n-sticker-promocode-popup__title">',a+="Скидки по промокодам Маркета",a+="</div>",a+="</div>",a+='<div class="n-sticker-promocode-popup__description">',a+="Товары, отмеченные значком «с промокодом дешевле», можно приобрести со скидкой. ",a+="Для этого введите промокод Яндекс.Маркета в специальное поле при оформлении заказа, ",a+="а затем выберите оплату на Маркете — банковской картой или Яндекс.Деньгами.",a+="</div>",a+='<div class="n-sticker-promocode-popup__description">',a+="Ищите промокоды на Яндекс.Маркете и узнавайте о них из наших рассылок.",a+="</div>",a+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor n-sticker-promocode-popup__link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("external:market-promocode")),a+=Li(i),a+="Подробнее о промокодах",a+="</a>",a+="</div>"},zi.t190.j=Hi,zi.t190.a=0,zi.t191=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-sticker-promocode b-zone b-spy-visible b-spy-events i-bem")
},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={},i=[0,"categories",3,0,0,"id"];r.hid=yr.nodeset2data(t.s(i,e)),n["n-sticker-promocode"]=r;var r={};r.name="sticker-promocode",n["b-zone"]=r,n["b-spy-visible"]="";var r={};return r.events="click",n["b-spy-events"]=r,n}()))),s+=Li(i),s+='<div class="n-sticker-promocode__text">',s+="С промокодом дешевле",s+="</div>",s+="</div>"},zi.t191.j=Uf,zi.t191.a=0,zi.t192=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<tr>",s+="<td>",s+="<strong>",s+=Pi(t.f("f79",e,n,r,Ii(t.s(Lo,e)),Ii(t.s(Fo,e)),"Бесплатно")),s+="</strong>",s+="</td>",s+="<td>",s+=yr.externals["n-delivery-time"](t.s(ps,e)),Di("orderBefore",e)>0&&Di("orderBefore",e)<24&&(s+=" при заказе до "+Ti(Ni("orderBefore",e,[]))+":00"),s+="</td>",s+="</tr>"},zi.t192.j=wo,zi.t192.a=0,zi.t193=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<tr>",s+="<td>",s+="<strong>",s+=Pi(t.f("f79",e,n,r,Ii(t.s(Lo,e)),Ii(t.s(Fo,e)),"Бесплатно")),s+="</strong>",s+="</td>",s+="<td>",s+=yr.externals["n-delivery-time"](t.s(ps,e),"Срок уточняйте при заказе"),Di("orderBefore",e)>0&&Di("orderBefore",e)<24&&(s+=" при заказе до "+Ti(Ni("orderBefore",e,[]))+":00"),Di("groupCount",e)>0&&(s+=" •  "+Ti(Ni("groupCount",e,[]))+" "+Pi(yr.externals["n-str-plural"](Di("groupCount",e),"пункт","пункта","пунктов")),Ai(99,Ni("serviceId",e,[]))?s+=" магазина":Ai(100,Ni("serviceId",e,[]))||(s+=", ",s+=Pi(yr.externals["n-str-capitalize"](Di("serviceName",e))))),s+="</td>",s+="</tr>"},zi.t193.j=zf,zi.t193.a=0,zi.t194=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<tr>",s+="<td>",s+="<strong>",s+=Pi(t.f("f79",e,n,r,Ii(t.s(Lo,e)),Ii(t.s(Fo,e)),"Бесплатно")),s+="</strong>",s+="</td>",s+="<td>",s+=yr.externals["n-delivery-time"](t.s(ps,e),"Срок уточняйте при заказе"),Di("orderBefore",e)>0&&Di("orderBefore",e)<24&&(s+=" при заказе до "+Ti(Ni("orderBefore",e,[]))+":00"),Di("groupCount",e)>0&&(s+="  •  "+Ti(Ni("groupCount",e,[]))+" "+Pi(yr.externals["n-str-plural"](Di("groupCount",e),"почтомат","почтомата","почтоматов"))),s+="</td>",s+="</tr>"},zi.t194.j=qf,zi.t194.a=0,zi.t195=function(t,e,n,r,i){var s="",a=t.s(Oo,e),o=Ni("availableServices",e,[]).length,c=Ci(a)&&1==o,l=Ni("options",e,[]).length;return s+=Li(i),(l>0||o>0&&!c)&&(s+='<div class="n-delivery-popup__services-title">',s+="Службы доставки:",s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-delivery-popup__services-list")},i.s="div",s+=t.a(t,0,t.s(Po,e),"n-delivery-popup__service",i),s+=Li(i),Ci(a)&&(s+=" и другие"),s+="</div>"),s},zi.t195.j=So,zi.t195.a=0,zi.t196=function(t,e,n,r,i){var s="";return s+=Li(i),0!=n&&(s+=", "),s+=Ti(Ni("serviceName",e,[]))},zi.t196.j=Hf,zi.t196.a=0,zi.t197=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-foreign-shop-jur")},i.s="div";var o="";o+=Ci(t.n(cs,yr.object2nodeset(s)))?" n-foreign-shop-jur_type_"+Ii(t.n(cs,yr.object2nodeset(s))):"";var c=i.a.class;return c?i.a.class=c.addscalar(o):i.a.class=new yr.scalarAttr(o),a+=Li(i),a+='<span class="n-foreign-shop-jur__text">',a+=yr.externals["n-i18n"]("FOREIGN_SHOP_JUR_TEXT"),a+=" ",a+="</span>",a+='<a class="n-foreign-shop-jur__link link link_theme_normal" href="'+Oi(yr.externals["n-build-url"]("external:support-abroad"))+'" target="_blank" rel="nofollow noopener">',a+=yr.externals["n-i18n"]("FOREIGN_SHOP_JUR_LINK_TEXT"),a+="</a>",a+="</div>"},zi.t197.j=Gf,zi.t197.a=0,zi.t198=function(t,e,n,r,i,s){var a="",o=t.s(ko,e),c=t.s($f,e),l="",u={a:{}};l+=Ci(t.s(Eo,e))?Ii(t.s(Eo,e)):0;var d=l,l="",u={a:{}};l+=Ci(t.s(xo,e))?Ii(t.s(xo,e)):0;var p=l,l="",u={a:{}};l+=yr.exists(t.n(na,yr.object2nodeset(s)))?Ii(t.n(na,yr.object2nodeset(s))):"default";var h=l,f=t.f("f92",e,n,r,t.s(ps,e)),_=o.length>0,m=Ci(t.s(Wf,e))&&(d>0||p>0),v=c.length>0,l="",u={a:{}};l+="react"===h?"deliveryOptionPseudoUniqId":yr.externals["n-math-random"]();var y=l;if(a+=Li(i),f||_||m||v){var l={},u={a:{}},b=[];if(f){var g={};g.caption="Доставка",g.tabType="delivery",b.push(g)}if(_){var g={};g.caption="Самовывоз",g.tabType="pickup",b.push(g)}if(m){var g={};g.caption="Магазины",g.tabType="shops",b.push(g)}if(v){var g={};g.caption="Почтоматы Маркета",g.tabType="postomat",b.push(g)}l.list=b;var k=l;a+="<div",i.a={class:new yr.scalarAttr("n-delivery-popup i-bem")},i.s="div";var l="",u={a:{}};if(l+=Li(u),l+='{"n-delivery-popup":{}}',i.a["data-bem"]=new yr.xmlAttr(l),v){var w=i.a.class;w?i.a.class=w.addscalar(" n-delivery-popup_has-postomats_yes"):i.a.class=new yr.scalarAttr(" n-delivery-popup_has-postomats_yes")}a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("tabs tabs_control_menu tabs_size_m tabs_theme_normal tabs_layout_horiz tabs-panes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};t.tabs="";var e={};return e.id="delivery-option-"+Bi(y),t["tabs-panes"]=e,t}()))),a+=Li(i),t.n(Co,yr.object2nodeset(k)).length&&(a+=Bi(t.f("f86",e,n,r,i,k,Bi(y)))),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("tabs-panes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.id="delivery-option-"+Bi(y),t["tabs-panes"]=e,t}()))),a+=t.a(t,0,t.n(Co,yr.object2nodeset(k)),"n-delivery-popup-tab-panes",i,t.s(ps,e)),a+=Li(i),a+="</div>",a+="</div>"}return a},zi.t198.j=ah,zi.t198.a=0,zi.t199=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab tabs__tab_type_"+Ii(Ni("tabType",e,[]))),role:new yr.scalarAttr("tab")},i.s="li",i.a.id=new yr.scalarAttr("delivery-option-"+s+"-"+n),0==n){var o=i.a.class;o?i.a.class=o.addscalar(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes"),i.a["aria-selected"]=new yr.scalarAttr("true")}a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("link link_theme_normal i-bem link_js_inited")},i.s="span";var c="",l={a:{}};return c+=Li(l),c+='{"link":{"_tabindex":"0","origTabindex":"0"}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+=Ti(Ni("caption",e,[])),a+="</span>",a+="</li>"},zi.t199.j=Co,zi.t199.a=0,zi.t200=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane"),role:new yr.scalarAttr("tabpanel")},i.s="div",0==n){var o=i.a.class;o?i.a.class=o.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}return a+=Li(i),Ai("delivery",Ni("tabType",e,[]))?a+=t.f("f87",e,n,r,i,s):Ai("pickup",Ni("tabType",e,[]))?a+=t.f("f88",e,n,r,i,s):Ai("shops",Ni("tabType",e,[]))?a+=t.f("f89",e,n,r,i,s):Ai("postomat",Ni("tabType",e,[]))&&(a+=t.f("f90",e,n,r,i,s)),a+="</div>"},zi.t200.j=Co;zi.t200.a=0;zi.t201=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-delivery-popup",c,function(){var t={};return t.place=s,t}());var l=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-delivery i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.place=s,t["n-delivery"]=e,t}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-delivery__group")},i.s="div",a+=yr.exists(t.s(Kf,e))?t.a(t,0,t.s(ps,e),"n-delivery__group-pickup-selected",i,function(){var t={};return t.place=s,t}()):yr.exists(t.s(Yf,e))?t.a(t,0,t.s(ps,e),"n-delivery__group-postomat-selected",i,function(){var t={};return t.place=s,t}()):t.a(t,0,t.s(ps,e),"n-delivery__group",i,function(){var t={};return t.place=s,t}()),a+=Li(i),l&&(a+='<div class="n-delivery__popup">',a+=l,a+="</div>"),a+="</div>",a+="</div>"},zi.t201.j=ah,zi.t201.a=0,zi.t202=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i,function(){var e={};return e.withIcon=!0,e.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var t={};return t.withIcon=!0,t}()),a+=t.a(t,0,t.s(Xf,e),"n-delivery__postomat-info",i)},zi.t202.j=ah,zi.t202.a=0,zi.t203=function(t,e,n,r,i,s){var a="",o=t.f("f94",e,n,r,t.s(ps,e));return a+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var n={};return n.withIcon=!0,n.text=Ii(t.s(Kf,e)),n}()),a+=t.a(t,0,t.s(Xf,e),"n-delivery__postomat-info",i),o&&(a+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i,function(){var e={};return e.withIcon=!0,e.text=o,e.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),e}())),a},zi.t203.j=ah,zi.t203.a=0,zi.t204=function(t,e,n,r,i,s){var a="",o=t.f("f94",e,n,r,t.s(ps,e));return a+=t.a(t,0,t.s(Xf,e),"n-delivery__postomat-info",i,Ii(t.s(Yf,e))),a+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var t={};return t.withIcon=!0,t}()),o&&(a+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i,function(){var e={};return e.withIcon=!0,e.text=o,e.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),e}())),a},zi.t204.j=ah,zi.t204.a=0,zi.t205=function(t,e,n,r,i,s){var a="",o="",c={a:{}};Ci(t.n(ra,yr.object2nodeset(s)))?(o+=Li(c),o+=Ii(t.n(ra,yr.object2nodeset(s)))):(o+=Li(c),o+=t.f("f95",e,n,r,c,t.s(ps,e)),o+=t.a(t,0,Ni("delivery",e,[]),"n-delivery__time",c,s));var l=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-delivery__info")},i.s="div","pickup"==t.f("f97",e,n,r,Ni("delivery",e,[]))){var u=i.a.class;u?i.a.class=u.addscalar(" n-delivery__info_type_pickup"):i.a.class=new yr.scalarAttr(" n-delivery__info_type_pickup")}if(""!=Bi(l)){if(Ci(t.n(Qf,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-delivery__info_with-icon"):i.a.class=new yr.scalarAttr(" n-delivery__info_with-icon"),a+=Li(i),a+=t.f("f93",e,n,r,i,Ni("delivery",e,[]))}a+=Li(i),a+='<span class="n-delivery__text">',a+=l,a+="</span>"}return a+=Li(i),a+="</div>"},zi.t205.j=ah,zi.t205.a=0,zi.t206=function(t,e,n,r,i,s){var a="",o=t.f("f97",e,n,r,Ni("delivery",e,[])),c="free"==o||"paid"==o||"precise"==o||"regional"==o;if(a+=Li(i),t.f("f98",e,n,r,Ni("delivery",e,[]))&&c)if(yr.exists(t.n(ra,yr.object2nodeset(s)))){if(a+="<div",i.a={class:new yr.scalarAttr("n-delivery__info n-delivery__info_type_pickup")},i.s="div",Ci(t.n(Qf,yr.object2nodeset(s)))){var l=i.a.class;l?i.a.class=l.addscalar(" n-delivery__info_with-icon"):i.a.class=new yr.scalarAttr(" n-delivery__info_with-icon"),a+=Li(i),a+=t.f("f93",e,n,r,i,Ni("delivery",e,[]),"pickup")}a+=Li(i),a+=Ii(t.n(ra,yr.object2nodeset(s))),a+="</div>"}else{if(a+="<div",i.a={class:new yr.scalarAttr("n-delivery__info n-delivery__info_type_pickup")},i.s="div",Ci(t.n(Qf,yr.object2nodeset(s)))){var l=i.a.class;l?i.a.class=l.addscalar(" n-delivery__info_with-icon"):i.a.class=new yr.scalarAttr(" n-delivery__info_with-icon"),a+=Li(i),a+=t.f("f93",e,n,r,i,Ni("delivery",e,[]),"pickup")}a+=Li(i),a+=t.f("f95",e,n,r,i,t.s(ps,e),function(){var t={};return t.forcedType="pickup",t}()),a+="</div>"}return a},zi.t206.j=ah,zi.t206.a=0,zi.t207=function(t,e,n,r,i,s){var a="",o="",c={a:{}};s?(o+=Li(c),o+=s):(o+=Li(c),o+=t.f("f95",e,n,r,c,t.s(ps,e),function(){var t={};return t.forcedType="postomat",t}()));var l=o;a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-delivery__info n-delivery__info_type_postomat")},i.s="div";var u=i.a.class;return u?i.a.class=u.addscalar(" n-delivery__info_with-icon"):i.a.class=new yr.scalarAttr(" n-delivery__info_with-icon"),a+=Li(i),a+=t.f("f93",e,n,r,i,Ni("delivery",e,[]),"postomat"),a+=l,a+="</div>"},zi.t207.j=Jf,zi.t207.a=0,zi.t208=function(t,e,n,r,i,s){var a="",o=t.f("f97",e,n,r,t.s(ps,e)),c=t.s(Zf,e);if(a+=Li(i),yr.exists(t.n(Lo,c)))if("precise"==o||"regional"==o){var l="",u={a:{}};Ci(t.n(t_,yr.object2nodeset(s)))?(l+=Li(u),l+=yr.externals["n-delivery-time-precise"](c)):(l+=Li(u),l+=yr.externals["n-delivery-time"](c));var d=l;a+='<span class="n-delivery__time">',a+=", ","сегодня"==Bi(d)||"завтра"==Bi(d)?(a+='<span class="n-delivery__feature">',a+=d,a+="</span>"):a+=d,a+="</span>"}else Ri("inStock",e)||(a+=", на заказ");return a},zi.t208.j=So,zi.t208.a=0,zi.t209=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-stickers__content",c,s);var l=o;if(a+=Li(i),l){if(a+="<div",i.a={class:new yr.scalarAttr("stickers")},i.s="div",Ci(t.n(e_,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem");var o="",c={a:{}};o+='{"stickers":{}}',i.a["data-bem"]=new yr.xmlAttr(o)}a+=Li(i),a+=l,a+="</div>"}return a},zi.t209.j=Hp,zi.t209.a=0,zi.t210=function(t,e,n,r,i,s){var a="",o=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),c=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));return a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_new",i,Ii(t.n(Ta,yr.object2nodeset(s)))),!Ci(t.n(n_,yr.object2nodeset(s)))&&yr.externals["n-has-shop-promo"](t.s(ps,e))?a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promo",i,s):c||o||(a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_discount",i,Ii(t.n(Ta,yr.object2nodeset(s))))),a},zi.t210.j=Hi,zi.t210.a=0,zi.t211=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=yr.exists(t.n(lc,yr.object2nodeset(s)))?Ii(t.n(lc,yr.object2nodeset(s))):"promo";var l=o,o="",c={a:{}};o+="count: ",o+=Ii(t.s(i_,e)),o+="\r",o+="type: ",o+=Ii(t.s(s_,e)),o+="\r",o+="key: ",o+=Ii(t.s(a_,e)),o+="\r",o+="startDate: ",o+=Ii(t.s(o_,e)),o+="\r",o+="endDate: ",o+=Ii(t.s(c_,e)),o+="\r",o+="description: ",o+=Ii(t.s(l_,e)),o+="\r",o+="termsAndConditions: ",o+=Ii(t.s(u_,e)),o+="\r",o+="bonusItems count: ",o+=t.s(d_,e).length;var u=o;if(a+=Li(i),Ci(t.s(i_,e))){var o={},c={a:{}},d={},p={},h={};h.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),h.element="labelPromo",h.event="show",p.promo=h,d.onInit=p;var p={},h={};h.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),h.element="labelPromo",p.promo=h,d.onClick=p,o.metrika=d;var d={},p=[];p.push("filters"),d.subscriptions=p,o["n-smart-link"]=d;var f=o;a+="<a",i.a={class:new yr.scalarAttr("stickers__sticker stickers__sticker_type_promo n-smart-link metrika i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers",c,function(){var n={};return n["filter-promo"]="1",Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(f))),Ai("development",t.s(ff,e.doc.root))&&(i.a.title=new yr.scalarAttr(u)),a+=Li(i),a+="Акция",a+="</a>"}else if(yr.externals["n-has-shop-promo"](t.s(ps,e))){var o={},c={a:{}},d={},p={},h={};h.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),h.element="labelPromo",h.event="show",p.promo=h,d.onInit=p;var p={},h={};h.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),h.element="labelPromo",p.promo=h,d.onClick=p,o.metrika=d;var _=o;if(a+="<div",i.a={class:new yr.scalarAttr("stickers__sticker stickers__sticker_type_promo metrika i-bem")},i.s="div",Ci(t.n(p_,yr.object2nodeset(s)))){var m=yr.externals["n-merge-objects"](_,function(){var n={},r={};return r.entityType=l,r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.openTab="promo",n["n-i-offer-details-button"]=r,n}()),v=i.a.class;v?i.a.class=v.addscalar(" n-i-offer-details-button"):i.a.class=new yr.scalarAttr(" n-i-offer-details-button"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(m)))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(_)));Ai("development",t.s(ff,e.doc.root))&&(i.a.title=new yr.scalarAttr(u)),a+=Li(i),a+="Акция",a+="</div>"}return a},zi.t211.j=r_,zi.t211.a=0,zi.t212=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("stickers__sticker stickers__sticker_type_discount")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"i-link__product-offers",c,function(){var t={};return s&&(t.track=s),t.how="aprice",t}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),Ci(t.s(fl,e))||(a+="до "),a+="−"+Ti(t.s(f_,e))+"%",a+="</a>"},zi.t212.j=h_,zi.t212.a=0,zi.t213=function(t,e,n,r,i,s){var a="",o=!1;return a+=Li(i),a+='<div class="stickers__sticker stickers__sticker_type_discount">',o&&!Ci(t.s(m_,e))||(a+="-"+Ti(t.s(f_,e))+"%"),a+="</div>"},zi.t213.j=__,zi.t213.a=0,zi.t214=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="stickers__sticker stickers__sticker_type_new">',s+="Новинка",s+="</div>"},zi.t214.j=v_,zi.t214.a=0,zi.t215=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("stickers stickers_type_promoted")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted-inner",i,function(){var e={};return e.href=yr.nodeset2data(t.n(b_,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"},zi.t215.j=y_,zi.t215.a=0,zi.t216=function(t,e,n,r,i,s){var a="",o="",c={a:{}};Ai("none",t.n(b_,yr.object2nodeset(s)))?(o+=Li(c),o+=""):Ci(t.n(b_,yr.object2nodeset(s)))?(o+=Li(c),o+=Ti(t.n(b_,yr.object2nodeset(s)))):Ai("product",Ni("entity",e,[]))?o+=t.a(t,0,t.s(ps,e),"i-link__product",c):Ai("offer",Ni("entity",e,[]))&&t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e))&&(o+=t.a(t,0,t.s(ps,e),"i-link__offer-card",c));var l=o;return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("stickers__sticker n-stickers__sticker_type_promoted")},i.s="a",l&&(i.a.href=new yr.xmlAttr(l)),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker-text_type_promoted",i),a+=Li(i),a+="</a>"},zi.t216.j=y_,zi.t216.a=0,zi.t217=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Товар от производителя"},zi.t217.j=Hi,zi.t217.a=0,zi.t218=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Акция"},zi.t218.j=k_,zi.t218.a=0,zi.t219=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}};c+=t.a(t,0,s,"i-link__offer",l),i.a.href=new yr.xmlAttr(c);var c="",l={a:{}};c+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_to_shop "+Ii(t.n(dc,yr.object2nodeset(a)))+"_theme_blue",c+=" shop-history__link",c+=" metrika",c+=" b-zone",c+=" b-spy-visible",c+=" b-spy-events",c+=" at-offer-button-cpc";var u=i.a.class;return u?i.a.class=u.addscalar(c):i.a.class=new yr.scalarAttr(c),i.a.target=new yr.scalarAttr("_blank"),i.a.rel=new yr.scalarAttr("nofollow noopener"),o+=t.a(t,0,t.s(ps,e),"n-offer__button-bemparams",i,s,a)},zi.t219.j=w_,zi.t219.a=0,zi.t220=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+=Ci(t.n(ra,yr.object2nodeset(a)))?Ti(t.n(ra,yr.object2nodeset(a))):"В магазин"},zi.t220.j=w_,zi.t220.a=0,zi.t221=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="";c+=yr.exists(t.n(La,s))?Ai("cluster",t.n(La,s))?"cluster":"model":"offer";var l=c,c={},u={},d={},p={};p.place=yr.nodeset2data(t.n(na,yr.object2nodeset(a))),p.modelType=l,d.cpcOfferToShop=p,u.onInit=d;var d={},p={};p.place=yr.nodeset2data(t.n(na,yr.object2nodeset(a))),p.modelType=l,p.event="click",d.cpcOfferToShop=p,u.onClick=d,c.metrika=u;var u={};u.name="to-shop",c["b-zone"]=u,c["b-spy-visible"]="",c["b-spy-events"]="";var h=c;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h))),o},zi.t221.j=w_,zi.t221.a=0,zi.t222=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.n(x_,yr.object2nodeset(a)),l=!1;l=!!Ci(t.n(M_,c))&&Ci(t.n(M_,c));var u=l,l=(t.n(_c,c),!1);l=yr.nodeset2data(t.n(A_,c))!==!1;var d=l,l="";l+=d?"action":"normal";var p=l;Ci(t.n(T_,c))||(i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:cart"))),i.a.target=new yr.scalarAttr("_parent");var l="";l+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_to_cart offer__button offer__pusher offer__pusher_type_cart-button",l+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_theme_"+p,l+=" metrika",l+=" b-zone",l+=" b-spy-visible",l+=" b-spy-events",l+=" at-offer-button-cpa";var h=i.a.class;return h?i.a.class=h.addscalar(l):i.a.class=new yr.scalarAttr(l),o+=t.a(t,0,t.s(ps,e),"n-offer__button-bemparams",i,s,a),o+=Li(i),u&&(o+='<img class="b-icon image image_name_market" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt="/"/>'),o},zi.t222.j=E_,zi.t222.a=0,zi.t223=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+=Ci(t.n(ra,yr.object2nodeset(a)))?Ti(t.n(ra,yr.object2nodeset(a))):"В корзину"},zi.t223.j=E_,zi.t223.a=0,zi.t224=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.n(x_,yr.object2nodeset(a)),l=t.n(C_,c),u=t.n(S_,c),d="";d+=yr.exists(t.n(La,s))?Ai("cluster",t.n(La,s))?"cluster":"model":"offer";var p=d,d={};if(Ci(t.n(O_,yr.object2nodeset(a))))d.metrika=yr.nodeset2data(t.n(j_,yr.object2nodeset(a)));else{var h={},f={},_={};_.place=yr.nodeset2data(t.n(na,yr.object2nodeset(a))),_.modelType=p,_.event="view",f.buttonOfferBuy=_,h.onInit=f;var f={},_={};if(_.place=yr.nodeset2data(t.n(na,yr.object2nodeset(a))),_.modelType=p,_.event="click",Ci(t.n(fc,yr.object2nodeset(a)))&&(_.dynamicGoal=yr.nodeset2data(t.n(fc,yr.object2nodeset(a)))),f.buttonOfferBuy=_,h.onClick=f,Ci(t.n(I_,yr.object2nodeset(a)))){var f={},_={};_.target=yr.nodeset2data(t.n(I_,yr.object2nodeset(a))),f.mbolayoutWidgets=_,h.onVisible=f}d.metrika=h}var h={};h.buttonClass=yr.nodeset2data(t.n(dc,yr.object2nodeset(a))),h.withoutAdditionalTheme=yr.nodeset2data(l),h.metrikaParams=yr.nodeset2data(t.n(P_,yr.object2nodeset(a))),Ci(u)&&(h.inCartText=yr.nodeset2data(u)),d.offer__pusher=h;var h={};h.name="to-cart",d["b-zone"]=h,d["b-spy-visible"]="",d["b-spy-events"]="";var m=d;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(m))),o},zi.t224.j=E_,zi.t224.a=0,zi.t225=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}};c+=t.a(t,0,s,"i-link__geo-book-now",l),i.a.href=new yr.xmlAttr(c);var c="",l={a:{}};c+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_theme_action",c+=" offer__button",c+=" n-smart-link",c+=" metrika",c+=" at-offer-button-book-now";var u=i.a.class;return u?i.a.class=u.addscalar(c):i.a.class=new yr.scalarAttr(c),o+=t.a(t,0,t.s(ps,e),"n-offer__button-bemparams",i,s,a)},zi.t225.j=B_,zi.t225.a=0,zi.t226=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+="Забрать сегодня"},zi.t226.j=B_,zi.t226.a=0,zi.t227=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="",l={a:{}};return c+=Li(l),c+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(c),o},zi.t227.j=B_,zi.t227.a=0,zi.t228=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c="";c+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_to_booking-checkout "+Ii(t.n(dc,yr.object2nodeset(a)))+"_theme_action",c+=" offer__button",c+=" booking-button",c+=" metrika",c+=" at-offer-button-book-now-checkout";var l=i.a.class;return l?i.a.class=l.addscalar(c):i.a.class=new yr.scalarAttr(c),o+=t.a(t,0,t.s(ps,e),"n-offer__button-bemparams",i,s,a)},zi.t228.j=D_,zi.t228.a=0,zi.t229=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+="Забрать сегодня"},zi.t229.j=D_,zi.t229.a=0,zi.t230=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.n(Pa,yr.object2nodeset(a)),l={},u={};u.live=!1,u.outletId=yr.nodeset2data(t.n(bc,c)),u.regionId=yr.nodeset2data(t.n(R_,c)),l["booking-button"]=u;var d=l;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(d))),o},zi.t230.j=D_,zi.t230.a=0,zi.t231=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.n(x_,yr.object2nodeset(a)),l=!1;l=!!Ci(t.n(M_,c))&&Ci(t.n(M_,c));var u=l,l=(t.n(_c,c),!1);l=yr.nodeset2data(t.n(A_,c))!==!1;var d=l,l="";l+=d?"action":"normal";var p=l;i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:checkout",function(){var e={};return e.offerid=yr.nodeset2data(t.n(tc,s)),e.fee=yr.nodeset2data(t.n(L_,s)),e["promoted-by-vendor"]=1,e}())),i.a.target=new yr.scalarAttr("_parent");var l="";l+=" offer__button",l+=" "+Ii(t.n(dc,yr.object2nodeset(a)))+"_theme_"+p,l+=" metrika";var h=i.a.class;return h?i.a.class=h.addscalar(l):i.a.class=new yr.scalarAttr(l),o+=t.a(t,0,t.s(ps,e),"n-offer__button-bemparams",i,s,a),o+=Li(i),u&&(o+='<img class="b-icon image image_name_market" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt="/"/>'),o},zi.t231.j=N_,zi.t231.a=0,zi.t232=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="";return o+=Li(i),o+=Ci(t.n(ra,yr.object2nodeset(a)))?Ti(t.n(ra,yr.object2nodeset(a))):"Купить сейчас"},zi.t232.j=N_,zi.t232.a=0,zi.t233=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=(t.n(x_,yr.object2nodeset(a)),"");c+=yr.exists(t.n(La,s))?Ai("cluster",t.n(La,s))?"cluster":"model":"offer";var c={},l={};l.onInit="",l.onClick="",c.metrika=l;var u=c;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),o},zi.t233.j=N_,zi.t233.a=0,zi.t234=function(t,e,n,r,i,s){var a="",o={},c={a:{}};o.viewType=yr.nodeset2data(t.n(Np,yr.object2nodeset(s))),o.size=yr.nodeset2data(t.n(is,yr.object2nodeset(s))),o.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s)));var l=o;a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-toolbar i-bem")},i.s="div";var u=i.a.class;u?i.a.class=u.addscalar(" "+Ii(t.n(F_,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(F_,yr.object2nodeset(s))));var o="",c={a:{}};if(o+=Li(c),o+='{"n-product-toolbar": {}}',i.a["data-bem"]=new yr.xmlAttr(o),Ci(t.n(U_,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-product-toolbar_label_no"):i.a.class=new yr.scalarAttr(" n-product-toolbar_label_no")}return Ci(t.n(z_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_back",i)),Ci(t.n(q_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_labels",i,l)),Ci(t.n(H_,yr.object2nodeset(s)))||(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_wishlist",i,l)),Ci(t.n(V_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",i)),Ci(t.n(G_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_compare",i,l)),Ci(t.n($_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_remove",i,l)),Ci(t.n(W_,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_complain",i,l)),a+=Li(i),a+="</div>"},zi.t234.j=qd,zi.t234.a=0,zi.t235=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<label",i.a={},i.s="label",a+=t.f("f2",e,n,r,i,"n-product-toolbar",yr.array2nodeset(function(){var i=[];return i.push(t.f("f115",e,n,r,s)),i}())),a+=Li(i),a+="</label>"},zi.t235.j=Hi,zi.t235.a=0,zi.t236=function(t,e,n,r,i,s){var a="",o={},c={},l={};l.classifierMagicId=yr.nodeset2data(Ni("classifierMagicId",e,[])),l.session=yr.nodeset2data(t.s(Y_,e.doc.root)),l.offerId=yr.nodeset2data(Ni("wareId",e,[])),l.shopId=yr.nodeset2data(t.s(ic,e)),c.offerData=l,o["n-popup-complain"]=c;var u=o,o="";o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var d=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-popup-complain i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),a+=Li(i),Ai("button",t.n(Np,yr.object2nodeset(s)))){if(a+="<button",i.a={class:new yr.scalarAttr("n-popup-complain__switcher button2 button2_theme_normal button2_size_"+d)},i.s="button",Ci(t.n(K_,yr.object2nodeset(s)))){var p=i.a.class;p?i.a.class=p.addscalar(" n-hint i-bem"):i.a.class=new yr.scalarAttr(" n-hint i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["n-hint"]="",t}()))),i.a["data-title"]=new yr.scalarAttr("Пожаловаться")}a+=Li(i),a+="</button>"}else{if(a+="<div",i.a={class:new yr.scalarAttr("n-popup-complain__switcher")},i.s="div",Ci(t.n(K_,yr.object2nodeset(s)))){var p=i.a.class;p?i.a.class=p.addscalar(" n-hint i-bem"):i.a.class=new yr.scalarAttr(" n-hint i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.zIndexAuto=!0,t["n-hint"]=e,t}()))),i.a["data-title"]=new yr.scalarAttr("Пожаловаться")}a+=Li(i),a+="</div>"}return a+="</div>"},zi.t236.j=_p,zi.t236.a=0,zi.t237=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-popup2",i,function(){var t={},e={};e.name="n-popup-complain__popup",t.mix=e;var e={};e.target="anchor",e.theme="normal",e.autoclosable="yes",e.closer="yes",t.mods=e;var e={};e.secondaryOffset=-16;var n=[];return n.push("top-left"),n.push("bottom-left"),n.push("top-right"),n.push("bottom-right"),e.directions=n,t.data=e,t.tail=!0,t}())},zi.t237.j=Hi,zi.t237.a=0,zi.t238=function(t,e,n,r,i,s){var a="",o=!1;o=!!Ci(t.n(Cc,yr.object2nodeset(s)));var c=o,o=!1;o=!!Ci(t.n(X_,yr.object2nodeset(s)));var l=o,u=!(yr.exists(t.n(Sc,yr.object2nodeset(s)))&&0==Ci(t.n(Sc,yr.object2nodeset(s)))),d=t.n(Ic,yr.object2nodeset(s)),p=Di("type",e),h=yr.externals["n-picture-url"](t.s(ps,e),100),o={},f={},_={},m=[0,"categories",3,0,0,"id"],v="";if(v+="group"==p||"cluster"==p?p:"model",_.type=v,_.itemId=""+yr.nodeset2scalar(Ni("id",e,[])),_.hid=""+yr.nodeset2scalar(t.s(m,e)),_.displayName=yr.nodeset2data(t.s(Ba,e)),_.modelId=""+yr.nodeset2scalar(Ni("id",e,[])),c&&(_.addSign=!0),f.item=_,h){var _={};_.url=h,f.image=_}if(o["wishlist-control"]=f,!c||u){var f={};Ci(d)&&(f.to=yr.nodeset2data(d));var _="";_+=l?"Удалить из отложенных":"Добавить в отложенные",f.content=_,o.hint=f}o["pseudo-checkbox"]="",o.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s)));var f={};f.name="to-wishlist",o["b-zone"]=f;var y=o;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(y))),a},zi.t238.j=Wp,zi.t238.a=0,zi.t239=function(t,e,n,r,i,s){var a="",o=!1;o=!!Ci(t.n(Cc,yr.object2nodeset(s)));var c=o,l=yr.externals["n-picture-url"](t.s(ps,e),100),o={},u={},d={},p=[0,"categories",3,0,0,"id"];d.type="offer",d.itemId=yr.nodeset2data(Ni("wareId",e,[])),d.hid=yr.nodeset2data(t.s(p,e)),d.displayName=yr.nodeset2data(t.s(Ba,e));var h="";if(h+=Ci(t.s(Vp,e))?Ii(t.s(Vp,e)):"-1",d.modelId=h,c&&(d.addSign=!0),u.item=d,l){var d={};d.url=l,u.image=d}o["wishlist-control"]=u,c&&(o.sign=!0),o["pseudo-checkbox"]="";var u={};u.to=yr.nodeset2data(t.n(Ic,yr.object2nodeset(s))),u.content="Добавить в отложенные",o.hint=u,o.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s)));var u={};u.name="to-wishlist",o["b-zone"]=u;var f=o;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(f))),a},zi.t239.j=_p,zi.t239.a=0,zi.t240=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var l=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_compare-text-normal",c);var u=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_compare-text-done",c);var d=o,p=[0,"categories",3,0],h=t.s(p,e),o={},c={a:{}},f={};f.id=""+yr.nodeset2scalar(Ni("id",e,[])),f.name=yr.externals["n-str-castrator"](Ii(t.s(Ba,e)),70),f.hid=""+yr.nodeset2scalar(t.n(ao,h)),f.catname=yr.nodeset2data(t.n(Os,h));var _={};_.url=yr.externals["n-picture-url"](t.s(ps,e),100),f.image=_,f.link=yr.externals["n-build-url"]("market:compare",function(){var t={};return t.track="rmmbr",t}()),f.inComparison=yr.nodeset2data(Ni("inComparison",e,[])),o["n-user-lists_type_compare"]=f;var f={};f.to="top",o.hint=f,Ai("button",t.n(Np,yr.object2nodeset(s)))&&(o.button2="");var m=o;if(a+=Li(i),Ai("button",t.n(Np,yr.object2nodeset(s)))){a+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_"+l+" button2_theme_normal button2_mode_sharp")},i.s="a";var v=i.a.class;if(v?i.a.class=v.addscalar(" n-product-toolbar__item hint n-user-lists_type_compare i-bem"):i.a.class=new yr.scalarAttr(" n-product-toolbar__item hint n-user-lists_type_compare i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(m))),Ci(Ni("inComparison",e,[]))){var v=i.a.class;v?i.a.class=v.addscalar(" n-user-lists_type_compare_in-list_yes"):i.a.class=new yr.scalarAttr(" n-user-lists_type_compare_in-list_yes")}a+=Li(i),a+='<i class="icon button2__icon button2__icon_side_left image image_name_compare"></i>',a+='<i class="icon button2__icon button2__icon_side_left image image_name_compare-in-list"></i>',a+='<span class="button2__text">',a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_no">'+u+"</span>",a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_yes">'+d+"</span>",
a+="</span>",a+="</a>"}else{if(a+="<div",i.a={class:new yr.scalarAttr("n-product-toolbar__item link link_theme_minor hint n-user-lists_type_compare i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(m))),Ci(Ni("inComparison",e,[]))){var v=i.a.class;v?i.a.class=v.addscalar(" n-user-lists_type_compare_in-list_yes"):i.a.class=new yr.scalarAttr(" n-user-lists_type_compare_in-list_yes")}a+=Li(i),a+='<i class="image image_name_compare"></i>',a+='<i class="image image_name_compare-in-list"></i>',a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_no">'+u+"</span>",a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_yes">'+d+"</span>",a+="</div>"}return a},zi.t240.j=Q_,zi.t240.a=0,zi.t241=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_COMPARE")},zi.t241.j=Hi,zi.t241.a=0,zi.t242=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_COMPARE_DONE")},zi.t242.j=Hi,zi.t242.a=0,zi.t243=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_COMPARE_EXPERIMENT")},zi.t243.j=J_,zi.t243.a=0,zi.t244=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_COMPARE_EXPERIMENT")},zi.t244.j=tm,zi.t244.a=0,zi.t245=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-toolbar__item")},i.s="div",a+=Ai("button",t.n(Np,yr.object2nodeset(s)))?t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.viewType="button",t}()):t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.hasHint=!0,t}()),a+=Li(i),a+="</div>"},zi.t245.j=Hi,zi.t245.a=0,zi.t246=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-toolbar__item link link_theme_minor n-wishlist-tags-control i-bem")},i.s="div",i.a["data-wish-id"]=new yr.scalarAttr(Ii(t.s(df,e))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.id="tagscontrol"+Ii(t.s(df,e));var i={};return i.id=Ii(t.s(df,e)),r.item=i,n["n-wishlist-tags-control"]=r,n}()))),t.s(em,e).length>0){var a=i.a.class;a?i.a.class=a.addscalar(" n-wishlist-tags-control_full_yes"):i.a.class=new yr.scalarAttr(" n-wishlist-tags-control_full_yes")}return s+=Li(i),s+='<i class="image image_name_labels"></i>',s+='<span class="n-product-toolbar__item-label">',s+="Метки",s+="</span>",s+="</div>"},zi.t246.j=qd,zi.t246.a=0,zi.t247=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-toolbar__item link link_theme_minor wishlist-control pseudo-checkbox wishlist-control_type_remove hint i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.item=yr.nodeset2data(Ni("wish",e,[])),n.image="",t["wishlist-control"]=n;var n={};return n.content="Удалить из отложенных",n.to="top",t.hint=n,t["pseudo-checkbox"]="",t}()))),s+=Li(i),s+='<i class="image image_name_remove"></i>',s+='<span class="n-product-toolbar__item-label">',s+="Удалить",s+="</span>",s+="</div>"},zi.t247.j=qd,zi.t247.a=0,zi.t248=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var c=o,o={},l={};l.gate=yr.externals["n-build-url"]("api:faq-table-sizes",function(){var n={},r=[0,"categories",3,0,0,"id"];return n.hid=yr.nodeset2data(t.s(r,e)),n}()),o["tablesizes-link"]=l;var u=o;if(a+=Li(i),Ai("button",t.n(Np,yr.object2nodeset(s)))){a+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_"+c+" button2_theme_normal button2_mode_sharp")},i.s="a";var d=i.a.class;d?i.a.class=d.addscalar(" n-product-toolbar__item tablesizes-link i-bem"):i.a.class=new yr.scalarAttr(" n-product-toolbar__item tablesizes-link i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),a+=Li(i),a+='<span class="button2__text">',a+='<span class="n-product-toolbar__item-label">Таблица размеров</span>',a+="</span>",a+="</a>"}else a+="<span",i.a={class:new yr.scalarAttr("n-product-toolbar__item link n-link_theme_blue tablesizes-link i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),a+=Li(i),a+='<span class="n-product-toolbar__item-label">Таблица размеров</span>',a+="</span>";return a},zi.t248.j=qd,zi.t248.a=0,zi.t249=function(t,e,n,r,i,s){var a="",o={},c={a:{}};o.addSign=!0,o.hasHint=!0,o.hintTo="top",o.metrika=yr.nodeset2data(t.n(nm,yr.object2nodeset(s)));var l=o,o="",c={a:{}};o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var u=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_wishlist-text-normal",c);var d=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-product-toolbar__item_type_wishlist-text-done",c);var p=o;if(a+=Li(i),Ai("button",t.n(Np,yr.object2nodeset(s)))){a+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_"+u+" button2_theme_normal button2_mode_sharp")},i.s="a";var h=i.a.class;if(h?i.a.class=h.addscalar(" n-product-toolbar__item wishlist-control wishlist-control_type_toggle pseudo-checkbox hint b-zone b-spy-events i-bem"):i.a.class=new yr.scalarAttr(" n-product-toolbar__item wishlist-control wishlist-control_type_toggle pseudo-checkbox hint b-zone b-spy-events i-bem"),Ci(Ni("inWishlist",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" pseudo-checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" pseudo-checkbox_checked_yes")}a+=t.a(t,0,t.s(ps,e),"n-wishlist-control__params",i,l),a+=Li(i),a+='<i class="icon button2__icon button2__icon_side_left image image_name_favorite"></i>',a+='<i class="icon button2__icon button2__icon_side_left image image_name_favorite-activated"></i>',a+='<span class="button2__text">',a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_no">'+d+"</span>",a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_yes">'+p+"</span>",a+="</span>",a+="</a>"}else{if(a+="<a",i.a={class:new yr.scalarAttr("n-product-toolbar__item link link_theme_minor wishlist-control wishlist-control_type_toggle pseudo-checkbox hint b-zone b-spy-events i-bem")},i.s="a",Ci(Ni("inWishlist",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" pseudo-checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" pseudo-checkbox_checked_yes")}a+=t.a(t,0,t.s(ps,e),"n-wishlist-control__params",i,l),a+=Li(i),a+='<i class="image image_name_favorite"></i>',a+='<i class="image image_name_favorite-activated"></i>',a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_no">'+d+"</span>",a+='<span class="n-product-toolbar__item-label n-product-toolbar__item-label_activated_yes">'+p+"</span>",a+="</a>"}return a},zi.t249.j=qd,zi.t249.a=0,zi.t250=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST")},zi.t250.j=Hi,zi.t250.a=0,zi.t251=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST_DONE")},zi.t251.j=Hi,zi.t251.a=0,zi.t252=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST_EXPERIMENT")},zi.t252.j=J_,zi.t252.a=0,zi.t253=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST_DONE_EXPERIMENT")},zi.t253.j=J_,zi.t253.a=0,zi.t254=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST_EXPERIMENT")},zi.t254.j=tm,zi.t254.a=0,zi.t255=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_WISHLIST_DONE_EXPERIMENT")},zi.t255.j=tm,zi.t255.a=0,zi.t256=function(t,e,n,r,i){var s="";s+=Li(i),s+="<a",i.a={class:new yr.scalarAttr("n-product-toolbar__item_type_back button2 button2_type_link button2_size_s button2_theme_normal button2_mode_sharp back-control n-smart-link i-bem")},i.s="a";var a=i.a.class;a?i.a.class=a.addscalar(" n-product-toolbar__item i-bem"):i.a.class=new yr.scalarAttr(" n-product-toolbar__item i-bem"),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:product",function(){var t={};return t.productId=yr.nodeset2data(Ni("id",e,[])),t}()));var o="",c={a:{}};return o+=Li(c),o+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),s+=Li(i),s+='<span class="button2__text">',s+='<span class="n-product-toolbar__item-label">',s+=yr.externals["n-i18n"]("PRODUCT_TOOLBAR_CONTROL_GO_BACK"),s+="</span>",s+="</span>",s+="</a>"},zi.t256.j=Hi,zi.t256.a=0,zi.t257=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(im,yr.object2nodeset(s)))?Ii(t.n(im,yr.object2nodeset(s))):13662432e5;var c=o,l=yr.externals["n-moment"](c,"X"),u=13661568e5;if(a+=Li(i),Ai("anonymous",t.n(sm,yr.object2nodeset(s))))a+="Пользователь скрыл свои данные";else if(Ai("deleted",t.n(sm,yr.object2nodeset(s))))a+="Пользователь удален";else if(Ai("login-forced",t.n(sm,yr.object2nodeset(s))))a+=Ti(Ni("login",e,[]));else if(yr.externals["n-moment-call-scalar"](l,"isBefore",u)||"uid-"==yr.externals["n-str-substr"](Di("login",e),0,4))a+=Ti(Ni("displayName",e,[]));else if(Ri("firstName",e)&&Ri("lastName",e)){var d=yr.externals["n-str-length"](yr.externals["n-str-replace"](Di("firstName",e),"[a-zA-Zа-яА-ЯёЁ]","")),p=yr.externals["n-str-length"](yr.externals["n-str-replace"](Di("lastName",e),"[a-zA-Zа-яА-ЯёЁ]",""));a+=Bi(d)>0||Bi(p)>0?Ti(Ni("login",e,[])):Bi(yr.externals["n-str-length"](Di("firstName",e)))<2||Bi(yr.externals["n-str-length"](Di("lastName",e)))<2?Ti(Ni("login",e,[])):Ti(Ni("lastName",e,[]))+" "+Ti(Ni("firstName",e,[]))}else a+=Ti(Bi(yr.externals["n-str-length"](Di("displayName",e)))>0?Ni("displayName",e,[]):Ni("login",e,[]));return a},zi.t257.j=rm,zi.t257.a=0,zi.t258=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Ai("anonymous",Ni("uid",e,[]))?"Пользователь скрыл свои данные":Ai("0",Ni("uid",e,[]))||Ri("isNotAuth",e)?"Пользователь удален":Ti(Ci(Ni("displayName",e,[]))?Ni("displayName",e,[]):Ni("login",e,[]))},zi.t258.j=rm,zi.t258.a=0,zi.t259=function(t,e,n,r,i,s,a){function o(t,e,n,r){return e.name==a||""==e.name}s=void 0===s?[]:s,a=void 0===a?"":a;var c="",l=yr.exists(t.n(Hi,s)),u=Ii(t.s($a,e))>0||Ii(t.s(po,e))>0,d=l&&Ai("0",t.n(No,s)),p=yr.externals["n-i18n"](u?"SUBSCRIBE_ON_PRICE":"SUBSCRIBE_ON_STOCK"),h="",f={a:{}};u?(h+=Li(f),h+=yr.externals["n-i18n"](d?"SUBSCRIPTION_ON_STOCK":"SUBSCRIPTION_ON_PRICE")):(h+=Li(f),h+=yr.externals["n-i18n"]("SUBSCRIPTION_ON_STOCK"));var _=h,h={},f={a:{}};h.big="button_theme_action button_size_m",h.small="button_theme_blue button_size_s",h.xsmall="button_theme_blue button_size_xs",h[""]="button_theme_blue button_pseudo_yes button_size_s";var m=h,h="",f={a:{}};h+=d||!u?"stock":"price";var v=h,y=[0,"*",2,o];c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("n-product-subscribe-button i-bem")},i.s="div";var h="",f={a:{}};l&&(h+=" n-product-subscribe-button_subscribed_yes");var b=i.a.class;b?i.a.class=b.addscalar(h):i.a.class=new yr.scalarAttr(h),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.subscribeText=p,n.activeSubscriptionText=_,n.modelId=yr.nodeset2data(Ni("id",e,[])),t["n-product-subscribe-button"]=n,t}()))),c+=Li(i),c+="<button",i.a={class:new yr.scalarAttr("button button_offer_price n-product-subscribe-button__button i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button";var b=i.a.class;return b?i.a.class=b.addscalar(" "+Ii(t.n(y,yr.object2nodeset(m)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(y,yr.object2nodeset(m)))),c+=Li(i),c+='<span class="button__text">',c+=l?_:p,c+="</span>",c+="</button>",c+="<div",i.a={class:new yr.scalarAttr("n-product-subscribe-button__form g-hidden")},i.s="div",c+=t.a(t,0,t.s(ps,e),"n-product-subscribe",i,function(){var t={};return t.subscription=yr.nodeset2data(s),t.type=v,t.live=!0,t}()),c+=Li(i),c+="</div>",c+="</div>"},zi.t259.j=Wp,zi.t259.a=0,zi.t260=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<form",i.a={},i.s="form",a+=t.f("f1",e,n,r,i,t.f("f127",e,n,r,s)),a+=Li(i),a+="</form>"},zi.t260.j=Wp,zi.t260.a=0,zi.t261=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f1",e,n,r,i,t.f("f129",e,n,r,s)),a+=Li(i),a+="</div>"},zi.t261.j=Hi,zi.t261.a=0,zi.t262=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={role:new yr.scalarAttr("button")},i.s="span",a+=t.f("f1",e,n,r,i,t.f("f130",e,n,r,s)),a+=Li(i),a+="</span>"},zi.t262.j=Hi,zi.t262.a=0,zi.t263=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(t.n(xa,yr.object2nodeset(s)))?(a+="<a",i.a={href:new yr.scalarAttr(Ii(t.n(xa,yr.object2nodeset(s))))},i.s="a",Ci(t.n(am,yr.object2nodeset(s)))&&(i.a.rel=new yr.scalarAttr(Ii(t.n(am,yr.object2nodeset(s))))),a+=t.f("f1",e,n,r,i,t.f("f131",e,n,r,s)),a+=Li(i),a+="</a>"):(a+="<span",i.a={},i.s="span",a+=t.f("f1",e,n,r,i,t.f("f131",e,n,r,s)),a+=Li(i),a+="</span>"),a},zi.t263.j=Hi,zi.t263.a=0,zi.t264=function(t,e,n,r,i,s){var a="",o=Ii(t.n(Su,yr.object2nodeset(s)));return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f1",e,n,r,i,t.f("f132",e,n,r,s)),"subscribe"==o||"change-subscribe"==o?a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe_state_subscribe",i,s):"subscribed"!=o&&"updated"!=o&&"unsubscribe"!=o||(a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe_state_subscribed",i,s)),a+=Li(i),a+="</div>"},zi.t264.j=Hi,zi.t264.a=0,zi.t265=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__title",i,s),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__desc",i,"Подпишитесь и узнайте о появлении товара"),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__form",i,function(){var i={},a="",o={a:{}};return Ci(t.n(om,yr.object2nodeset(s)))||(a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var i={};return i.label="Как к Вам обратиться?",i.name="userName",i.for="userName",i.value=yr.nodeset2data(t.n(cm,yr.object2nodeset(s))),i.js=!0,i.clear=!0,i.mix=t.f("f129",e,n,r,function(){var t={};return t.directionTo="top",t}()),i}())),a+=t.a(t,0,t.s(ps,e),"n-input",o,function(){var i={};return i.label="Электронная почта",i.name="email",i.for="email",i.value=yr.nodeset2data(t.n(lm,yr.object2nodeset(s))),i.js=!0,i.clear=!0,i.mix=t.f("f129",e,n,r,function(){var t={};return t.directionTo="top",t}()),i}()),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__error",o),i.content=a,i}())},zi.t265.j=Hi,zi.t265.a=0,zi.t266=function(t,e,n,r,i,s){var a="";Ci(t.n(ao,yr.object2nodeset(s)));return a+=t.a(t,0,t.s(ps,e),"n-input",i,function(){var e={};return e.type="hidden",e.name="userName",e.value=Ii(t.n(cm,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-input",i,function(){var e={};return e.type="hidden",e.name="email",e.value=Ii(t.n(lm,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__title",i,s),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__desc",i,"Как только товар появится в продаже,<br/>мы пришлём Вам письмо на электронную почту"),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__desc-info",i,Ii(t.n(lm,yr.object2nodeset(s)))),a+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__form",i,function(){var n={},r="",i={a:{}};return r+=t.a(t,0,t.s(ps,e),"n-product-summary-subscribe__error",i),n.content=r,n}())},zi.t266.j=Hi,zi.t266.a=0,zi.t267=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return i.push(t.f("f133",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t267.j=Hi;zi.t267.a=0;zi.t268=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return i.push(t.f("f134",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t268.j=Hi,zi.t268.a=0,zi.t269=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return i.push(t.f("f134",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t269.j=Hi,zi.t269.a=0,zi.t270=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={},i.s="div",s+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return i.push(t.f("f136",e,n,r)),i}()));var a=i.a.class;return a?i.a.class=a.addscalar(" n-product-subscribe__error"):i.a.class=new yr.scalarAttr(" n-product-subscribe__error"),s+=Li(i),s+="</div>"},zi.t270.j=Hi,zi.t270.a=0,zi.t271=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={},i.s="span",a+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return"subscribe"==s?i.push(t.f("f137",e,n,r)):i.push(t.f("f138",e,n,r)),i}())),a+=Li(i),a+="</span>"},zi.t271.j=Hi,zi.t271.a=0,zi.t272=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"n-product-summary-subscribe",yr.array2nodeset(function(){var i=[];return i.push(t.f("f139",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t272.j=Hi,zi.t272.a=0,zi.t273=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var t=[];return t.push("error"),t}()))},zi.t273.j=Hi,zi.t273.a=0,zi.t274=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var i=[],a={};a.name="desc";var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"n-product-subscribe__input",c,function(){var i={};return i.name=yr.nodeset2data(t.n(Os,yr.object2nodeset(s))),i.for=yr.nodeset2data(t.n(Os,yr.object2nodeset(s))),i.value=yr.nodeset2data(t.n(to,yr.object2nodeset(s))),i.mix=t.f("f129",e,n,r),i}()),a.content=o,i.push(a),i}()))},zi.t274.j=Hi,zi.t274.a=0,zi.t275=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={},i.s="div",s+=t.f("f2",e,n,r,i,"n-product-subscribe",yr.array2nodeset(function(){var t=[],e={};e.name="footer";var n={};return n.name="clearfix",e.mix=n,t.push(e),t}())),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe_type_stock__footer-content",i),s+=Li(i),s+="</div>"},zi.t275.j=um,zi.t275.a=0,zi.t276=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var t=[],e={};return e.name="title",e.content=s,t.push(e),t}()))},zi.t276.j=Hi,zi.t276.a=0,zi.t277=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var i=[];i.push("signin");var s={};s.name="desc";var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"n-domik-opener",o,function(){var i={};return i.type="domik",i.retpathParams="showPopup="+Ii(t.s(dm,e)),i.mix=t.f("f131",e,n,r,function(){var t={};return t.content="У меня есть аккаунт на Яндексе",t}()),i}()),s.content=a,i.push(s),i}()))},zi.t277.j=Hi,zi.t277.a=0,zi.t278=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var t=[],e={};return e.name="item",e.content=s,t.push(e),t}()))},zi.t278.j=Hi,zi.t278.a=0,zi.t279=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var t=[],e={};return e.name="value",e.content=s,t.push(e),t}()))},zi.t279.j=Hi,zi.t279.a=0,zi.t280=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var n=[],r={};r.name="change-mail";var i="",s={a:{}};return i+=t.a(t,0,t.s(ps,e),"n-link",s,function(){var t={};return t.url="https://validator.yandex.ru/",t.content="Изменить адрес",t}()),r.content=i,n.push(r),n}()))},zi.t280.j=Hi,zi.t280.a=0,zi.t281=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f128",e,n,r,i,yr.array2nodeset(function(){var t=[],e={};return e.name="text",e.content=s,t.push(e),t}()))},zi.t281.j=Hi,zi.t281.a=0,zi.t282=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={},i.s="div",s+=t.f("f2",e,n,r,i,"n-product-subscribe",yr.array2nodeset(function(){var t=[];return t.push("wrapper"),t}())),s+=t.a(t,0,t.s(ps,e),"n-input",i,function(){var n={};return n.type="hidden",n.name="modelId",n.value=yr.nodeset2data(t.s(dm,e)),n}()),s+=t.a(t,0,t.s(ps,e),"n-input",i,function(){var n={};return n.type="hidden",n.name="id",n.value=yr.nodeset2data(t.s(pm,e)),n}()),s+=t.a(t,0,t.s(ps,e),"n-input",i,function(){var t={};return t.type="hidden",t.name="price",t.value="0",t}()),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe_type_stock__wrapper-content",i),s+=Li(i),s+="</div>"},zi.t282.j=um,zi.t282.a=0,zi.t283=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__title",i,"Электронная почта"),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__desc",i,function(){var n={};return n.name="email",n.value=yr.nodeset2data(t.s(fm,e)),n}()),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__title",i,"Имя"),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__desc",i,function(){var n={};return n.name="userName",n.value=yr.nodeset2data(t.s(_m,e)),n}()),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__title",i),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__signin",i),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__error",i)},zi.t283.j=hm,zi.t283.a=0,zi.t284=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<input type="hidden" name="email" value="'+Si(t.s(fm,e))+'"/>'},zi.t284.j=vm,zi.t284.a=0,zi.t285=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<input type="hidden" name="email" value="'+Si(t.s(fm,e))+'"/>',s+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.size="18",t.content="Мы сообщим вам о появлении товара",t}()),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__item",i,"Электронная почта"),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__value",i,Ii(t.s(fm,e))),Ci(t.s(mm,e))?s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__change-mail",i):(s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__item",i,"Как обратиться"),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__value",i,Ii(t.s(_m,e)))),s},zi.t285.j=ym,zi.t285.a=0,zi.t286=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<input type="hidden" name="email" value="'+Si(t.s(fm,e))+'"/>',s+='<input type="hidden" name="userName" value="'+Si(t.s(_m,e))+'"/>',s+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.size="18",t.content="Ошибка сервера",t}()),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__text",i,"Что-то пошло не так."),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__text",i,"Попробуйте ещё раз сейчас или через некоторое время.")},zi.t286.j=bm,zi.t286.a=0,zi.t287=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__text",i,"Товар будет добавлен в отложенные"),s+=t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.theme="action",t.for="add",t.content="Подписаться";var e={};return e.action="subscribed",t.data=e,t}())},zi.t287.j=gm,zi.t287.a=0,zi.t288=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.place="left",t.content="Отменить изменения";var e={};return e.action="unsubscribe",t.data=e,t}()),s+=t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.theme="action",t.for="update",t.content="Сохранить";var e={};return e.action="updated",t.data=e,t}())},zi.t288.j=km,zi.t288.a=0,zi.t289=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Товар в",s+=t.a(t,0,t.s(ps,e),"n-link",i,function(){var t={};return t.url=yr.externals["n-build-url"]("market:wishlist"),t.content="отложенных",t}()),s+=Ci(t.s(mm,e))?t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.place="right",t.for="remove",t.content="Отменить подписку";var e={};return e.action="subscribe",t.data=e,t}()):t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.place="right",t.content="Изменить условия";var e={};return e.action="change-subscribe",t.data=e,t}())},zi.t289.j=wm,zi.t289.a=0,zi.t290=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-image",o,function(){var t={};return t.name="heart",t.alt="#",t}()),a+=Li(o),a+="Товар добавлен в",a+=t.a(t,0,t.s(ps,e),"n-link",o,function(){var t={};return t.url=yr.externals["n-build-url"]("market:wishlist"),t.content="отложенные",t}());var c=a;return s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__text",i,c),s+=Ci(t.s(mm,e))?t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.size="m",t.place="right",t.for="remove",t.content="Отменить подписку";var e={};return e.action="subscribe",t.data=e,t}()):t.a(t,0,t.s(ps,e),"button",i,function(){var t={};t.size="m",t.place="right",t.content="Изменить условия";var e={};return e.action="change-subscribe",t.data=e,t}())},zi.t290.j=Em,zi.t290.a=0,zi.t291=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"button",i,function(){var n={};n.size="m",n.theme="action";var r="";r+=Ci(t.s(pm,e))?"remove":"add",n.for=r,n.content="Попробовать ещё";var r={},i="";return i+=Ci(t.s(pm,e))?"subscribe":"subscribed",r.action=i,n.data=r,n}())},zi.t291.j=bm,zi.t291.a=0,zi.t292=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-warning")},i.s="div",Ai("adult",Ni("type",e,[]))||Ai("age",Ni("type",e,[]))||Ai("age_18",Ni("type",e,[]))||Ai("age_17",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_age"):i.a.class=new yr.scalarAttr(" n-warning_type_age"),i.a.age=new yr.scalarAttr("18")}else if(Ai("age_16",Ni("type",e,[]))||Ai("age_15",Ni("type",e,[]))||Ai("age_14",Ni("type",e,[]))||Ai("age_13",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_age"):i.a.class=new yr.scalarAttr(" n-warning_type_age"),i.a.age=new yr.scalarAttr("16")}else if(Ai("age_12",Ni("type",e,[]))||Ai("age_11",Ni("type",e,[]))||Ai("age_10",Ni("type",e,[]))||Ai("age_9",Ni("type",e,[]))||Ai("age_8",Ni("type",e,[]))||Ai("age_7",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_age"):i.a.class=new yr.scalarAttr(" n-warning_type_age"),i.a.age=new yr.scalarAttr("12")}else if(Ai("age_6",Ni("type",e,[]))||Ai("age_5",Ni("type",e,[]))||Ai("age_4",Ni("type",e,[]))||Ai("age_3",Ni("type",e,[]))||Ai("age_2",Ni("type",e,[]))||Ai("age_1",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_age"):i.a.class=new yr.scalarAttr(" n-warning_type_age"),i.a.age=new yr.scalarAttr("6")}else if(Ai("age_0",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_age"):i.a.class=new yr.scalarAttr(" n-warning_type_age"),i.a.age=new yr.scalarAttr("0")}else if(Ai("drugs",Ni("type",e,[]))||Ai("drugs_with_delivery",Ni("type",e,[]))||Ai("medicine",Ni("type",e,[]))||Ai("medicine_bad",Ni("type",e,[]))||Ai("medicine_recipe",Ni("type",e,[]))||Ai("medicine_specification",Ni("type",e,[]))||Ai("supplements",Ni("type",e,[]))||Ai("tobacco",Ni("type",e,[]))||Ai("zoo_medicine",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-warning_type_medicine"):i.a.class=new yr.scalarAttr(" n-warning_type_medicine")}return a+=Li(i),s||(a+=Ti(t.s(xm,e))),a+="</div>"},zi.t292.j=Hi,zi.t292.a=0,zi.t293=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-prepayment n-prepayment_with_modal n-prepayment_context_default i-bem")},i.s="div";var a="";return a+='{"n-prepayment": ""}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<div class="n-prepayment__content n-prepayment__modal-opener">',s+='<span class="n-prepayment__icon image image_name_safe-small"></span>',s+='<span class="n-prepayment__text">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_DEFAULT_PART_1"),s+="<br/>",s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_DEFAULT_PART_2"),s+="</span>",s+="</div>",s+=t.f("f141",e,n,r,i),s+="</div>"},zi.t293.j=Mm,zi.t293.a=0,zi.t294=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-prepayment n-prepayment_with_modal n-prepayment_context_default-offer i-bem")},i.s="div";var a="";return a+='{"n-prepayment": ""}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<div class="n-prepayment__content n-prepayment__content_context_default-offer n-prepayment__modal-opener">',s+='<span class="n-prepayment__icon image image_name_safe-small"></span>',s+='<span class="n-prepayment__text">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_DEFAULT_PART_1"),s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_DEFAULT_PART_2"),s+="</span>",s+="</div>",s+=t.f("f141",e,n,r,i),s+="</div>"},zi.t294.j=Am,zi.t294.a=0,zi.t295=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-prepayment n-prepayment_context_offer-info-card">',s+='<div class="n-prepayment__content n-prepayment__content_context_offer-info-card">',s+='<span class="n-prepayment__icon n-prepayment__icon_context_offer-info-card image image_name_safe-large"></span>',s+='<span class="n-prepayment__text">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_CARD_PART_1"),s+="<br/>",s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_CARD_PART_2"),s+=t.f("f140",e,n,r,i),s+="</span>",s+="</div>",s+="</div>"},zi.t295.j=Am,zi.t295.a=0,zi.t296=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-prepayment n-prepayment_context_my-order">',s+='<div class="n-prepayment__content n-prepayment__content_context_my-order">',s+='<span class="n-prepayment__icon n-prepayment__icon_context_my-order image image_name_safe-small"></span>',s+='<p class="n-prepayment__text">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_MY_ORDER_PART_1"),s+="</p>",s+='<p class="n-prepayment__text n-prepayment__text_type_subtext">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_MY_ORDER_PART_2"),s+=t.f("f140",e,n,r,i),s+="</p>",s+="</div>",s+="</div>"},zi.t296.j=Hi,zi.t296.a=0,zi.t297=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-prepayment n-prepayment_context_checkout">',s+='<div class="n-prepayment__content n-prepayment__content_context_checkout">',s+='<div class="n-prepayment__text">',s+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_CHECKOUT"),s+=t.f("f140",e,n,r,i,function(){var t={};return t.theme="minor",t}()),s+="</div>",s+="</div>",s+="</div>"},zi.t297.j=Hi,zi.t297.a=0,zi.t298=function(t,e,n,r,i){var s="",a=t.s(Vu,e),o=Ii(t.n(Gu,a))>0;if(s+=Li(i),s+='<div class="n-prepayment n-prepayment_context_filter">',s+="<p",i.a={class:new yr.scalarAttr("n-prepayment__text")},i.s="p",!o){var c=i.a.class;c?i.a.class=c.addscalar(" n-prepayment__text_type_muted"):i.a.class=new yr.scalarAttr(" n-prepayment__text_type_muted")}return s+=Li(i),s+="Вы получите товар ",s+="<br/>",s+="или вам вернут деньги.",s+="</p>",s+=t.f("f140",e,n,r,i,function(){var t={};return t.theme="ghost",t}()),s+="</div>"},zi.t298.j=Tm,zi.t298.a=0,zi.t299=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-prepayment n-prepayment_context_snippet n-prepayment_with_modal i-bem")},i.s="div";var o="";return o+='{"n-prepayment": ""}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<div class="n-prepayment__content n-prepayment__modal-opener">',a+='<span class="n-prepayment__icon image image_name_safe-small"></span>',a+='<span class="n-prepayment__text">',a+=yr.externals["n-i18n"]("PREPAYMENT_TEXT_SHORT"),a+="</span>",a+="</div>",a+=t.f("f141",e,n,r,i),a+="</div>"},zi.t299.j=Mm,zi.t299.a=0,zi.t300=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("external:returns-promo",function(){var t={};return t.track="arbitrage_snippet",t}());return s+=Li(i),s+='<div class="n-protection-modal">',s+='<div class="n-protection-modal__header">',s+='<span class="n-protection-modal__icon image image_name_safe-xlarge"></span>',s+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.content="Защита покупателя",t.size="22",t.tag="h2",t}()),s+='<p class="n-protection-modal__description">',s+="Если вы оплатите заказ банковской картой или Яндекс.Деньгами, ",s+="<br/>",s+="Маркет гарантирует: вы получите товар или вам вернут деньги.",s+="</p>",s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-protection-modal__content")},i.s="div",s+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.content="Если что-то пойдёт не так",t.size="18",t.tag="h2",t}()),s+=Li(i),s+='<div class="n-protection-modal__steps">',s+='<div class="n-protection-modal__step">',s+="<img",i.a={class:new yr.scalarAttr("n-protection-modal__step-image")},i.s="img",i.a.src=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step1.png"),i.a.srcset=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step1-2x.png 2x"),s+=Li(i),s+="",s+='<p class="n-protection-modal__step-description">',
s+="Напишите в магазин ",s+="<br/>",s+="из раздела «Мои заказы»",s+="</p>",s+="</div>",s+='<div class="n-protection-modal__step">',s+="<img",i.a={class:new yr.scalarAttr("n-protection-modal__step-image")},i.s="img",i.a.src=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step2.png"),i.a.srcset=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step2-2x.png 2x"),s+=Li(i),s+="",s+='<p class="n-protection-modal__step-description">',s+="Подайте заявку ",s+="<br/>",s+="на возврат платежа",s+="</p>",s+="</div>",s+='<div class="n-protection-modal__step">',s+="<img",i.a={class:new yr.scalarAttr("n-protection-modal__step-image")},i.s="img",i.a.src=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step3.png"),i.a.srcset=new yr.scalarAttr("//yastatic.net/market-export/_/i/desktop/buyer-protection/step3-2x.png 2x"),s+=Li(i),s+="",s+='<p class="n-protection-modal__step-description">',s+="Сообщите о проблеме ",s+="<br/>",s+="Яндекс.Маркету",s+="</p>",s+="</div>",s+="</div>",s+="</div>",s+='<div class="n-protection-modal__bottom">',s+="<a",i.a={href:new yr.scalarAttr(a),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.class=new yr.scalarAttr("link link_theme_normal i-bem metrika"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n={};return n.arbitrageSnippetPopupClick="",e.onClick=n,t.metrika=e,t.link="",t}()))),s+=Li(i),s+="Подробнее про защиту покупателя",s+="</a>",s+="</div>",s+="</div>"},zi.t300.j=Hi,zi.t300.a=0,zi.t301=function(t,e,n,r,i,s){var a="",o=[0,"warnings",3,0,0,"type"],c=t.s(o,e),l="";Ai("adult",c)||Ai("age",c)||Ai("age_18",c)||Ai("age_17",c)?l+="18":Ai("age_16",c)||Ai("age_15",c)||Ai("age_14",c)||Ai("age_13",c)?l+="16":Ai("age_12",c)||Ai("age_11",c)||Ai("age_10",c)||Ai("age_9",c)||Ai("age_8",c)||Ai("age_7",c)?l+="12":Ai("age_6",c)||Ai("age_5",c)||Ai("age_4",c)||Ai("age_3",c)||Ai("age_2",c)||Ai("age_1",c)?l+="6":Ai("age_0",c)&&(l+="0");var u=l;return a+=Li(i),a+=t.f("f142",e,n,r,i,u,s)},zi.t301.j=Cm,zi.t301.a=0,zi.t302=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("n-complain n-complain_type_cluster i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.productId=yr.nodeset2data(Ni("id",e,[])),r.catalogerBaseId=yr.nodeset2data(t.s(Om,e.doc.root)),n["n-complain"]=r,n}()))),s+=Li(i),s+='<a class="n-complain__clust" href="http://mbo.market.yandex.ru/gwt/#cluster/clusterId='+Si(Ni("id",e,[]))+'" target="_blank" rel="nofollow noopener">',s+="[CLUST]",s+="</a>",s+='<span class="n-complain__mimo">[MIMO]</span>',s+="</span>"},zi.t302.j=Im,zi.t302.a=0,zi.t303=function(t,e,n,r,i){var s="";s+=Li(i),s+='<span class="n-complain n-complain_type_offer i-bem">',s+="[",s+="<a",i.a={class:new yr.scalarAttr("n-complain__mbo"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var a="";return a+="http://mbo.market.yandex.ru/simple_classifier/MboClassifier.xml?",a+="classifier_magic_id="+Ii(Ni("classifierMagicId",e,[])),i.a.href=new yr.scalarAttr(a),s+=Li(i),s+="MBO",s+="</a>",s+="]",s+="</span>"},zi.t303.j=jm,zi.t303.a=0,zi.t304=function(t,e,n,r,i){var s="",a={},o={},c={};c.name=Ii(t.s(Bm,e)),c.url=Ii(t.s(Dm,e)),c.id=Ii(t.s(nc,e)),o.vendor=c,a["shop-bonus"]=o;var o={},c={};c.vendorRecomended="click",o.onClick=c;var c={};c.vendorRecomended="",o.onHit=c,a.metrika=o;var l=a;return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("shop-bonus shop-bonus_type_recommend metrika i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(l))),s+=Li(i),s+="</div>"},zi.t304.j=Pm,zi.t304.a=0,zi.t305=function(t,e,n,r,i){var s="",a=t.f("f100",e,n,r,t.s(ps,e));return s+=Li(i),s+='<div class="n-offer-one-click-purchase">',s+='<form method="post" action="'+Oi(yr.externals["n-build-url"]("market:checkout-post"))+'" class="n-offer-one-click-purchase__form">',s+='<input type="hidden" name="offer" value="'+Oi(yr.externals["n-serialize"](t.n(Rm,yr.object2nodeset(a))))+'"/>',s+='<button type="submit" class="button2 button2_size_m button2_theme_action button2_mode_sharp i-bem n-offer-one-click-purchase__button i-bem">',s+='<span class="button2__text">',s+="Оформить заказ",s+="</span>",s+="</button>",s+="</form>",s+="</div>"},zi.t305.j=_p,zi.t305.a=0,zi.t306=function(t,e,n,r,i){var s="";return s},zi.t306.j=Hi,zi.t306.a=0,zi.t307=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<dl",i.a={},i.s="dl",i.a.class=new yr.scalarAttr("n-product-spec"),Ci(t.n(Gd,yr.object2nodeset(s)))){var o=i.a.class;o?i.a.class=o.addscalar(" n-product-spec_view_"+Ii(t.n(Gd,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" n-product-spec_view_"+Ii(t.n(Gd,yr.object2nodeset(s))))}if(Ai("color",Ni("subType",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" product-spec_type_color"):i.a.class=new yr.scalarAttr(" product-spec_type_color")}if(a+=Li(i),a+='<dt class="n-product-spec__name">',a+='<span class="n-product-spec__name-inner">',a+=Di("name",e),Ci(t.n(Gd,yr.object2nodeset(s)))&&(a+=": "),Ci(Ni("desc",e,[]))){var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"n-hint-button-content",l);var u=c,c=[],l={a:{}},d={};d.to="bottom",d.axis="left";var p={};p.top=4,p.left=-30,d.offset=p,c.push(d);var h=c,c={},l={a:{}};c.close=!0;var f=c;a+=t.f("f144",e,n,r,i,u,yr.array2nodeset(h),yr.object2nodeset(f))}return a+="</span>",a+="</dt>",a+='<dd class="n-product-spec__value">',a+="<span",i.a={class:new yr.scalarAttr("n-product-spec__value-inner")},i.s="span",Ci(Ni("value",e,[]))?(a+=Li(i),a+=Ii(Ni("value",e,[]))+" "+Ii(Ni("unit",e,[]))):a+=t.a(t,0,t.s(ps,e),"n-product-spec-value",i,s),a+=Li(i),a+="</span>",a+="</dd>",a+="</dl>"},zi.t307.j=Nm,zi.t307.a=0,zi.t308=function(t,e,n,r,i){var s="",a=[0,"tasks",0,"ProductInfo",0,"categories",3,0,0,"name"];s+=Li(i),s+=Di("desc",e),s+="<a",i.a={class:new yr.scalarAttr("link n-hint-button__dictionary-link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.s(ts,e.doc.root),"i-link__faq",c),i.a.href=new yr.xmlAttr(o),s+=Li(i),s+="Словарь терминов по категории ",s+=Ti(t.s(a,e.doc.root)),s+="</a>"},zi.t308.j=Hi,zi.t308.a=0,zi.t309=function(t,e,n,r,i,s){var a="",o={},c={},l=[],u={};if(Ai("bottom",t.n(Um,yr.object2nodeset(s)))){u.to="bottom",u.axis="right";var d={};d.top=4,d.left=30,u.offset=d;var d={},p={};p.right=2,d.offset=p,u.tail=d}else{u.to="right",u.axis="top";var d={};d.top=-30,d.left=4,u.offset=d}l.push(u),c.directions=l,o.popup=c;var h=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-hint-button i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["n-hint-button"]="",t}()))),a+=Li(i),a+='<span class="link link_pseudo_yes n-hint-button__handle i-bem" role="button" tabindex="0">',a+='<span class="link__inner">?</span>',a+="</span>",a+=t.f("f25",e,n,r,i,t.f("f143",e,n,r,i),yr.object2nodeset(function(){var t={};return t.additionalClasses="n-hint-button__popup",t.autoclosable="yes",t.animate="yes",t.adaptive="yes",t.theme="hint",t.dataBemParams=h,t.hasTail=!0,t.hasClose=!0,t}())),a+="</div>"},zi.t309.s=[Lm,Fm],zi.t309.a=[0,0],zi.t310=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-hint-button n-hint-button_place_filter i-bem")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-hint-button__bem-params_place_filter",i),s+=t.a(t,0,t.s(ps,e),"n-hint-button__class_place_filter",i),s+=Li(i),s+='<span class="link link_pseudo_yes n-hint-button__handle i-bem" role="button" tabindex="0">',s+='<span class="link__inner">?</span>',s+="</span>",s+="</div>"},zi.t310.j=Hi,zi.t310.a=0,zi.t311=function(t,e,n,r,i){var s="";return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.hid=yr.nodeset2data(t.v("v11",e.doc.root)),r.filterId=yr.nodeset2data(Ni("id",e,[])),r.filterName=yr.nodeset2data(Ni("name",e,[])),r.categoryName=yr.nodeset2data(t.n(Os,t.v("v10",e.doc.root))),r.isGuru=Ai("guru",t.n(zm,t.v("v14",e.doc.root))),n["n-hint-button"]=r,n}()))),s},zi.t311.j=Hi,zi.t311.a=0,zi.t312=function(t,e,n,r,i){var s="";return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.filterId=yr.nodeset2data(Ni("id",e,[])),n.filterName=yr.nodeset2data(Ni("name",e,[])),n.isGuru=!1,t["n-hint-button"]=n,t}()))),s},zi.t312.j=qm,zi.t312.a=0,zi.t313=function(t,e,n,r,i){var s="",a=i.a.class;return a?i.a.class=a.addscalar(" n-hint-button_visible_yes"):i.a.class=new yr.scalarAttr(" n-hint-button_visible_yes"),s},zi.t313.j=qm,zi.t313.a=0,zi.t314=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,Ni("values",e,[]),"n-product-spec-value__item",i,function(){var e={};return e.withoutNo=yr.nodeset2data(t.n(Vm,yr.object2nodeset(s))),e}())},zi.t314.j=Hm,zi.t314.a=0,zi.t315=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ai(1,t.s($m,e))?a+="да":Ci(t.n(Vm,yr.object2nodeset(s)))||(a+="нет"),a},zi.t315.j=Gm,zi.t315.a=0,zi.t316=function(t,e,n,r,i){var s="",a=t.s(Ru,e);return s+=Li(i),s+=Ii(t.n(Lu,a))>Ii(t.n(Fu,a))?Ti(t.n(Lu,a))+"…"+Ti(t.n(Fu,a)):Ti(t.n(Lu,a)),s+=" "+Ti(Ni("unit",e,[]))},zi.t316.j=Wm,zi.t316.a=0,zi.t317=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-product-color-set",i,function(){var e={};e.colorWithText=yr.nodeset2data(t.n(Km,yr.object2nodeset(s))),e.countMax=yr.nodeset2data(t.n(Xm,yr.object2nodeset(s)));var n=[];return Ai("mini",t.n(Gd,yr.object2nodeset(s)))&&(n+=yr.nodeset2data(t.n(Gd,yr.object2nodeset(s)))),e.view=n,e}())},zi.t317.j=Ym,zi.t317.a=0,zi.t318=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("unitId",e,[]),l)}var o="",c=[];c=Ci(Ni("userUnits",e,[]))?Ni("userUnits",e,[]):Ni("defaultUnit",e,[]);var l=c,u=[0,"units",2,a],d=t.s(u,e);return o+=t.a(t,0,d,"n-product-spec-value__unit",i),o+=Li(i),o+=" ("+Ti(l)+")",Ci(t.n(Jm,yr.object2nodeset(s)))&&(o+=" ",o+=t.a(t,0,t.n(Zm,yr.object2nodeset(s)),"n-product-toolbar__item_type_table-of-sizes",i)),o},zi.t318.j=Qm,zi.t318.a=0,zi.t319=function(t,e,n,r,i,s){var a="";return a+=Li(i),n>0&&(a+=", "),Ai("yes",Ni("value",e,[]))?a+="есть":Ai("1",Ni("value",e,[]))?a+="да":Ai("no",Ni("value",e,[]))?Ci(t.n(Vm,yr.object2nodeset(s)))||(a+="нет"):Ai("-",Ni("value",e,[]))?Ci(t.n(Vm,yr.object2nodeset(s)))||(a+="нет"):a+=Ai("optional",Ni("value",e,[]))?"опционально":Ti(Ni("value",e,[])),a},zi.t319.j=vu,zi.t319.a=0,zi.t320=function(t,e,n,r,i){var s="";return s+=Li(i),n>0&&(s+=", "),s+=t.a(t,0,Ni("values",e,[]),"n-product-spec-value__unit-values",i)},zi.t320.j=Hi,zi.t320.a=0,zi.t321=function(t,e,n,r,i){var s="";return s+=Li(i),n>0&&(s+=", "),s+=Ti(Ni("value",e,[]))},zi.t321.j=Hi,zi.t321.a=0,zi.t322=function(t,e,n,r,i,s){function a(t,e,n,r){return n<Ii(t.n(tv,yr.object2nodeset(s)))}var o="",c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"n-product-color-set__more",l,s);var u=c,c=[];if(u){var d=[0,"values",2,a];c=t.s(d,e)}else c=Ni("values",e,[]);var p=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("product-color-set")},i.s="div",Ci(t.n(Gd,yr.object2nodeset(s)))){var h=i.a.class;h?i.a.class=h.addscalar(" n-product-color-set_view_"+Ii(t.n(Gd,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" n-product-color-set_view_"+Ii(t.n(Gd,yr.object2nodeset(s))))}return o+=t.a(t,0,p,"n-product-color-set-value",i,s),o+=Li(i),o+=u,o+="</div>"},zi.t322.j=Ym,zi.t322.a=0,zi.t323=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={},i.s="div",i.a.style=new yr.scalarAttr("background-color: "+Ii(Ni("code",e,[])));var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"n-product-color-set-value-class",c),i.a.class=new yr.xmlAttr(o),i.a.title=new yr.scalarAttr(Di("value",e)),a+=Li(i),a+="</div>",Ci(t.n(Km,yr.object2nodeset(s)))&&(a+='<span class="product-color__value">'+Ti(Ni("value",e,[]))+"</span>"),a},zi.t323.j=Hi,zi.t323.a=0,zi.t324=function(t,e,n,r,i){var s="";return s+=Li(i),s+="product-color",Ai("разноцветный",Ni("value",e,[]))||Ai("разноцветный",Ni("tag",e,[]))?s+=" product-color_color_multi":("#ffffff"==yr.externals["n-str-to-lower"](Di("code",e))||Ai("белый",Ni("tag",e,[])))&&(s+=" product-color_color_white"),s},zi.t324.j=Hi,zi.t324.a=0,zi.t325=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ci(t.n(tv,yr.object2nodeset(s)))&&Ni("values",e,[]).length>Ii(t.n(tv,yr.object2nodeset(s)))){var o=Ni("values",e,[]).length-Ii(t.n(tv,yr.object2nodeset(s)));a+='<span class="n-product-color-set__more link">',a+="ещё ",a+=Pi(o),a+=" ",a+=Pi(yr.externals["n-str-plural"](o,"цвет","цвета","цветов")),a+="</span>"}return a},zi.t325.j=Hi,zi.t325.a=0,zi.t326=function(t,e,n,r,i,s){var a="",o={};o.pretty=yr.nodeset2data(t.s(rv,e)),o.clean=yr.nodeset2data(t.s(iv,e));var c=o;if(a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("n-phone i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.link=yr.nodeset2data(t.s(sv,e)),r.phone=c,n["n-phone"]=r,n}()))),yr.exists(t.n(na,yr.object2nodeset(s)))){var l=i.a.class;l?i.a.class=l.addscalar(" n-phone_place_"+Ii(t.n(na,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" n-phone_place_"+Ii(t.n(na,yr.object2nodeset(s))))}return a+=Li(i),a+='<span class="n-phone__content">',a+=t.f("f146",e,n,r,i,yr.object2nodeset(c),function(){var e={};return e.isFull=!1,e.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),e}()),a+="</span>",a+="</span>"},zi.t326.j=nv,zi.t326.a=0,zi.t327=function(t,e,n,r,i,s){var a="",o=[0,"outlet",0,"telephones",3,0],c=t.s(o,e),l=[0,"outlet",0,"telephones",3,1],u=t.s(l,e),d={};d.pretty=yr.externals["n-phone-format-pretty"](c),d.clean=yr.externals["n-phone-format-clean"](c);var p=d;if(a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("n-phone i-bem")},i.s="span",Ci(t.n(cv,yr.object2nodeset(s)))&&Ci(u)){var h=i.a.class;h?i.a.class=h.addscalar(" n-phone_multiple_yes"):i.a.class=new yr.scalarAttr(" n-phone_multiple_yes")}return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};if(r.link=yr.nodeset2data(t.s(sv,e)),r.phone=p,Ci(t.n(cv,yr.object2nodeset(s)))&&Ci(u)){var i={};i.pretty=yr.externals["n-phone-format-pretty"](u),i.clean=yr.externals["n-phone-format-clean"](u),r.additionalPhone=i}return n["n-phone"]=r,n}()))),a+=Li(i),a+='<span class="n-phone__content">',a+=t.f("f146",e,n,r,i,yr.object2nodeset(p),function(){var t={};return t.isFull=!1,t}()),a+="</span>",a+="</span>"},zi.t327.j=ov,zi.t327.a=0,zi.t328=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-phone">',s+='<span class="n-phone__content n-phone__content_additional_yes">',s+=t.f("f146",e,n,r,i,Ni("phone",e,[]),function(){var t={};return t.isFull=!0,t}()),s+="</span>",s+="</span>"},zi.t328.j=Hi,zi.t328.a=0,zi.t329=function(t,e,n,r,i,s){var a="",o="";o+=Ai("real",Ni("cpa",e,[]))?"cpa":"cpc";var c=o,o={},l={};l.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),l.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),l.userCountryId=yr.nodeset2data(t.n(il,yr.object2nodeset(s))),o["n-offer-info"]=l;var u=o;a+=Li(i),a+="<div",i.a={},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u)));var o="";o+="n-offer-info n-offer-info_in-cart_no n-offer-info_type_"+c+" ",yr.exists(Ni("benefit",e,[]))||(o+="n-offer-info_headless_yes "),Ci(Ni("shouldShowCpcInPopup",e,[]))&&(o+=" n-offer-info_should-show-cpc-in-popup_yes "),i.a.class=new yr.scalarAttr(o),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("b-zone i-bem")},i.s="div";var o="";return o+='{"b-zone": {"name": "offer-info"}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=t.a(t,0,t.s(ps,e),"n-offer-info__card",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__footer",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__content",i,s),a+=Li(i),a+="</div>",a+="</div>"},zi.t329.j=_p,zi.t329.a=0,zi.t330=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-offer-info__action">',a+="<div",i.a={class:new yr.scalarAttr("n-offer-info__action-container n-offer-info__action-container_justify_left")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-offer-info__complain",i),a+=Li(i),a+=t.f("f117",e,n,r,i,t.s(ps,e)),"checkout"!==yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-to-cart",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-cpa",i,s)),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-offer-info__action-container n-offer-info__action-container_justify_right")},i.s="div","checkout"!==yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))?((Ai("real",Ni("cpa",e,[]))&&Ri("shouldShowCpcInPopup",e)||!Ai("real",Ni("cpa",e,[]))&&t.f("f40",e,n,r,t.s(ps,e)))&&(a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-cpc",i)),a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-checkout",i)):(a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-to-cart",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__action-cpa",i,s)),a+=Li(i),a+="</div>",a+="</div>"},zi.t330.j=_p,zi.t330.a=0,zi.t331=function(t,e,n,r,i){var s="";s+=Li(i),s+="<button",i.a={class:new yr.scalarAttr("button2 button2_size_m button2_mode_sharp button2_theme_action i-bem")},i.s="button";var a=i.a.class;return a?i.a.class=a.addscalar(" n-offer-info__action-checkout client-events client-events_add-to-cart"):i.a.class=new yr.scalarAttr(" n-offer-info__action-checkout client-events client-events_add-to-cart"),s+=Li(i),s+='<span class="button2__text">Оформить заказ</span>',s+="</button>"},zi.t331.j=lv,zi.t331.a=0,zi.t332=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var e={};return e.hasDetailsButton=!1,e.entityType="offer-info",e.offerActionMod="n-offer-action_theme_normal",e.offerActionMix="n-offer-info__action-cpa","checkout"===yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))?(e.text="Добавить к заказу",e.noPopup=!0):e.actionTheme=!1,e}())},zi.t332.j=uv,zi.t332.a=0,zi.t333=function(t,e,n,r,i){var s="";s+=Li(i),s+="<a",i.a={class:new yr.scalarAttr("button2 button2_size_m button2_theme_blue button2_mode_sharp b-zone b-spy-events b-spy-visible i-bem"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var a=i.a.class;a?i.a.class=a.addscalar(" n-offer-info__action-cpc at-offer-button-cpc"):i.a.class=new yr.scalarAttr(" n-offer-info__action-cpc at-offer-button-cpc");var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.name="to-shop",t["b-zone"]=e,t["b-spy-events"]="",t["b-spy-visible"]="",t}()))),s+=Li(i),s+='<span class="button2__text">В магазин</span>',s+="</a>"},zi.t333.j=_p,zi.t333.a=0,zi.t334=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp n-offer-info__action-to-cart i-bem")},i.s="a",a+=t.a(t,0,yr.object2nodeset(s),"n-offer-info__action-to-cart-params",i),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("button2__text")},i.s="span",a+=t.a(t,0,yr.object2nodeset(s),"n-offer-info__action-to-cart-text",i),a+=Li(i),a+="</span>",a+="</a>"},zi.t334.j=uv;zi.t334.a=0;zi.t335=function(t,e,n,r,i){var s="";return i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:cart")),s},zi.t335.j=Hi,zi.t335.a=0,zi.t336=function(t,e,n,r,i){var s="",a=i.a.class;return a?i.a.class=a.addscalar(" button2_disabled_yes"):i.a.class=new yr.scalarAttr(" button2_disabled_yes"),s},zi.t336.j=dv,zi.t336.a=0,zi.t337=function(t,e,n,r,i){var s="";return s+=Li(i),s+="В корзине"},zi.t337.j=Hi,zi.t337.a=0,zi.t338=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Добавлено"},zi.t338.j=dv,zi.t338.a=0,zi.t339=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-offer-info__actualization n-offer-info__actualization_status_progress">',s+='<i class="image image_name_spinner"></i>',s+='<p class="n-offer-info__actualization-text">',s+="<span>Проверяем наличие товара</span>",s+="</p>",s+="</div>",s+='<div class="n-offer-info__actualization n-offer-info__actualization_status_fail">',s+='<i class="image image_name_cross"></i>',s+='<p class="n-offer-info__actualization-text">',s+="<span>Товара нет в наличии. Но ничего не мешает вам</span>",s+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp")},i.s="a";var a=i.a.class;a?i.a.class=a.addscalar(" n-smart-link i-bem"):i.a.class=new yr.scalarAttr(" n-smart-link i-bem");var o="",c={a:{}};return o+=Li(c),o+='{"n-smart-link": {"subscriptions": ["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:product-offers",function(){var n={};return n.productId=yr.nodeset2data(t.s(Vp,e)),n}())),s+=Li(i),s+='<span class="button2__text">Найти другой магазин</span>',s+="</a>",s+="</p>",s+="</div>"},zi.t339.j=_p,zi.t339.a=0,zi.t340=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-offer-info__card")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-title",i),a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-price",i),a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-info",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-bundle-limit",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-image",i),a+=Li(i),a+="</div>"},zi.t340.j=_p,zi.t340.a=0,zi.t341=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<h4 class="n-offer-info__card-title">',s+=Ti(t.s(Ba,e)),s+="</h4>"},zi.t341.j=_p,zi.t341.a=0,zi.t342=function(t,e,n,r,i){var s="";if(s+=Li(i),s+='<div class="n-offer-info__card-price">',s+=t.f("f69",e,n,r,i,t.s(ps,e)),yr.externals["n-has-shop-discount"](t.s(Wa,e))){var a=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),o=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));s+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withoutPromo=!0,t}()),o||a||(s+=t.f("f78",e,n,r,i,function(){var n={};return n.value=yr.nodeset2data(t.s(fo,e)),n.currency=yr.nodeset2data(t.s(ho,e)),n}(),!1,!0))}return s+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),s+="</div>"},zi.t342.j=_p,zi.t342.a=0,zi.t343=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",c);var l=o;if(a+=Li(i),a+='<ul class="n-offer-info__card-info">',a+='<li class="n-offer-info__card-info-item">',Ci(Ni("isRecommendedByVendor",e,[]))&&(a+='<i class="icon shop-bonus_type_recommend"></i>'),t.f("f40",e,n,r,t.s(ps,e))&&"checkout"!==yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))){a+="<a",i.a={class:new yr.scalarAttr("link link_outer_yes link_theme_outer link_type_shop-name shop-history__link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(Ya,e)),a+="</a>"}else a+="<span>",a+=Ti(t.s(Ya,e)),a+="</span>";return a+=t.f("f7",e,n,r,i,function(){var n={};return n.grade=yr.nodeset2data(t.s(pv,e)),n.size="s",n.class="n-rating-stars_theme_gray",n}()),a+="</li>",a+="<li",i.a={class:new yr.scalarAttr("n-offer-info__card-info-item")},i.s="li",a+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i,function(){var t={};return t.withIcon=!0,t}()),a+=Li(i),a+="</li>",l&&(a+='<li class="n-offer-info__card-info-item">',a+=l,a+="</li>"),a+="</ul>"},zi.t343.j=_p,zi.t343.a=0,zi.t344=function(t,e,n,r,i,s){var a="",o=t.n(lc,yr.object2nodeset(s));return a+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var i={};if(i.class="n-offer-info__card-bundle-limit",i.metrikaEvent="onInit",Ci(o)&&(i.place=yr.nodeset2data(o)),t.f("f101",e,n,r)){var s={};s.intentType="do",i.metrikaOptions=s}return i}())},zi.t344.j=_p,zi.t344.a=0,zi.t345=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-offer-info__card-image">',s+=t.f("f66",e,n,r,i,t.s(ps,e),100),s+="</div>"},zi.t345.j=_p,zi.t345.a=0,zi.t346=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-offer-info__complain")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.viewType="button",t}()),s+=Li(i),s+="</div>"},zi.t346.j=_p,zi.t346.a=0,zi.t347=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-offer-info__content")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-offer-info__details",i,s),a+=Li(i),a+="</div>"},zi.t347.j=_p,zi.t347.a=0,zi.t348=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-offer-info__delivery")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-offer-card-delivery",i),s+=Li(i),s+="</div>"},zi.t348.j=_p,zi.t348.a=0,zi.t349=function(t,e,n,r,i){var s="",a="Доставка",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-card-delivery__delivery",c);var l=o,u="Самовывоз",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-card-delivery__pickup",c);var d=o;return s+=Li(i),s+='<div class="n-offer-card-delivery">',s+=t.f("f148",e,n,r,i,a,l),s+=t.f("f148",e,n,r,i,u,d),s+="</div>"},zi.t349.j=_p,zi.t349.a=0,zi.t350=function(t,e,n,r,i){var s="",a=t.f("f97",e,n,r,Ni("delivery",e,[]));return"pickup"!=a&&("precise"==a?(s+=Li(i),s+=t.f("f82",e,n,r,i,t.s(ps,e),"delivery")):s+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i),s+=Li(i),s+=Bi(t.f("f91",e,n,r,i,t.s(ps,e)))),s},zi.t350.j=_p,zi.t350.a=0,zi.t351=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f82",e,n,r,i,t.s(ps,e),"pickup"),s+=t.f("f84",e,n,r,i,t.s(ps,e),"pickup")},zi.t351.j=_p,zi.t351.a=0,zi.t352=function(t,e,n,r,i,s){var a="";return Ci(t.n(hv,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-offer-info__desc-pane-spec",i,s)),a+=Li(i),a+='<h3 class="n-offer-info__desc-title">Описание товара</h3>',a+='<div class="n-offer-info__desc-text n-users-markup n-users-markup_theme_normal"></div>',a+=t.a(t,0,t.s(ps,e),"n-offer-info__desc-pane-purchase",i),a+=t.a(t,0,t.s(ps,e),"n-prepayment_context_offer-info-card",i)},zi.t352.j=_p,zi.t352.a=0,zi.t353=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__spec",c,t.n(Cu,yr.object2nodeset(s)));var l=o;return a+=Li(i),l&&(a+='<h3 class="n-offer-info__desc-title">Спецификация</h3>',a+='<div class="n-offer-info__paragraph n-offer-info__paragraph_type_spec">',a+=l,a+="</div>"),a},zi.t353.j=Hi,zi.t353.a=0,zi.t354=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-offer-info__photo-list",i)},zi.t354.j=_p,zi.t354.a=0,zi.t355=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,Ni("pictures",e,[]),"n-offer-info__photo-item",o,function(){var t={};return t.isSingle=1==Ni("pictures",e,[]).length,t}());var c=a;return s+=Li(i),c&&(s+='<ul class="n-offer-info__photo-list">',s+=c,s+="</ul>"),s},zi.t355.j=Hi,zi.t355.a=0,zi.t356=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<li",i.a={class:new yr.scalarAttr("n-offer-info__photo-item")},i.s="li",Ci(t.n(_v,yr.object2nodeset(s)))){var o=i.a.class;o?i.a.class=o.addscalar(" n-offer-info__photo-item_single_yes"):i.a.class=new yr.scalarAttr(" n-offer-info__photo-item_single_yes")}return a+=Li(i),a+='<img class="n-offer-info__photo-item-image image" src="'+Si(t.n(xa,yr.object2nodeset(yr.externals["n-get-closest-image"](Ni("thumbnails",e,[]),390,390))))+'"/>',a+="</li>"},zi.t356.j=Hi,zi.t356.a=0,zi.t357=function(t,e,n,r,i,s){var a="",o="",c={a:{}};yr.externals["n-has-shop-promo"](t.s(ps,e))&&(o+=t.a(t,0,t.s(ps,e),"n-offer-info__promo",c,s));var l=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__purchase",c);var u=o,d=Ai("group",t.n(mv,yr.object2nodeset(s))),p=Ai("promo",t.n(vv,yr.object2nodeset(s))),o="",c={a:{}};d&&(o+=t.a(t,0,t.s(ps,e),"n-offer-info__spec",c,t.n(Cu,yr.object2nodeset(s))));var h=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__desc-pane",c,function(){var e={};return e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.withSpec=!d,e}());var f=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__photo-pane",c);var _=o,m=Ai("photo",t.n(vv,yr.object2nodeset(s)))&&_,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__delivery",c);var v=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__purchase-conditions",c,s);var y=o,b=t.f("f149",e,n,r,function(){var n={};return n.offer=yr.nodeset2data(t.s(ps,e)),n.userCountryId=yr.nodeset2data(t.n(il,yr.object2nodeset(s))),n}());a+=Li(i),a+='<div class="n-offer-info__details">',a+="<div",i.a={},i.s="div";var o="",c={a:{}};o+="n-offer-info__tabs tabs tabs_control_menu tabs_size_m tabs_theme_normal tabs_layout_horiz tabs-panes ",o+="i-bem",i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};t.tabs="";var e={};return e.id="n-offer-info__details",t["tabs-panes"]=e,t}()))),a+=Li(i),a+="<ul",i.a={class:new yr.scalarAttr("tabs-menu tabs-menu_size_m tabs-menu_theme_normal tabs-menu_layout_horiz tabs__control i-bem")},i.s="ul";var o="",c={a:{}};if(o+=Li(c),o+='{"tabs-menu": ""}',i.a["data-bem"]=new yr.xmlAttr(o),i.a.role=new yr.scalarAttr("tablist"),a+=Li(i),l){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("true")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes n-offer-info__details-tab-promo"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes n-offer-info__details-tab-promo"),p){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_active_yes")}i.a.id=new yr.scalarAttr("n-offer-info__details-tab-promo"),a+=Li(i),a+='<span class="tabs-menu__text">',a+='<img class="image image_name_gift" src="//yastatic.net/market-export/_/i/0.gif"/>',a+="Акция",a+="</span>",a+="</li>"}if(h){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-spec"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-spec"),!l){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes")}if(d&&!p&&!m){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_active_yes")}i.a.id=new yr.scalarAttr("n-offer-info__details-tab-spec"),a+=Li(i),a+='<span class="tabs-menu__text">Спецификация</span>',a+="</li>"}if(f){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-desc"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-desc"),i.a.id=new yr.scalarAttr("n-offer-info__details-tab-desc"),!l&&!h){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes")}if(!(p||m||h&&d)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_active_yes")}a+=Li(i),a+='<span class="tabs-menu__text">Описание от продавца</span>',a+="</li>"}if(_){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-photo"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-photo"),i.a.id=new yr.scalarAttr("n-offer-info__details-tab-photo"),!l&&!h&&!f){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes")}if(m||!l&&!h&&!f){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_active_yes")}a+=Li(i),a+='<span class="tabs-menu__text">Фото</span>',a+="</li>"}if(v){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),
"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-delivery"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-delivery"),i.a.id=new yr.scalarAttr("n-offer-info__details-tab-delivery"),!(l||h||f||_)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes "):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes ")}a+=Li(i),a+='<span class="tabs-menu__text">Доставка и самовывоз</span>',a+="</li>"}if(b){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-purchaseConditions"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-purchaseConditions"),i.a.id=new yr.scalarAttr("n-offer-info__details-tab-purchaseConditions"),!h&&!f&&!_){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes")}a+=Li(i),a+='<span class="tabs-menu__text">Условия покупки</span>',a+="</li>"}if(Ai("real",Ni("cpa",e,[]))&&"checkout"!==yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))){a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab link"),role:new yr.scalarAttr("tab"),"aria-selected":new yr.scalarAttr("false")},i.s="li";var g=i.a.class;if(g?i.a.class=g.addscalar(" n-offer-info__details-tab-recommendations n-offer-info__details-tab_visible_no"):i.a.class=new yr.scalarAttr(" n-offer-info__details-tab-recommendations n-offer-info__details-tab_visible_no"),i.a.id=new yr.scalarAttr("n-offer-info__details-tab-recommendations"),!(l||h||f||_||v||u)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes tabs-menu__tab_active_yes")}a+=Li(i),a+='<span class="tabs-menu__text n-offer-info__details-tab-text-recommendations">Рекомендации</span>',a+="</li>"}a+="</ul>",a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("tabs-panes i-bem")},i.s="div";var o="",c={a:{}};if(o+=Li(c),o+='{"tabs-panes": {"id": "n-offer-info__details"}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),l){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane n-offer-info__promo-pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-promo"),p){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=l,a+="</div>"}if(h){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane n-offer-info__spec-pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-spec"),d&&!p&&!m){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=h,a+="</div>"}if(f){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane n-offer-info__desc-pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-desc"),!(p||d&&h||m)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=f,a+="</div>"}if(_){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane n-offer-info__photo-pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-photo"),m||!l&&!h&&!f){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=_,a+="</div>"}if(v){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-delivery"),!(l||h||f||_)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=v,a+="</div>"}if(b){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-purchase-conditions"),!h&&!f&&!_){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=Li(i),a+=y,a+="</div>"}if(Ai("real",Ni("cpa",e,[]))&&"checkout"!==yr.nodeset2data(t.n(yp,yr.object2nodeset(s)))){if(a+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane n-offer-info__recommendations"),role:new yr.scalarAttr("tabpanel"),"aria-expanded":new yr.scalarAttr("true")},i.s="div",i.a["aria-labelledby"]=new yr.scalarAttr("n-offer-info__details-tab-purchase"),!(l||h||f||_||u||v)){var g=i.a.class;g?i.a.class=g.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}a+=t.a(t,0,t.s(ps,e),"n-w-recommendations",i,function(){var n={},r=[0,"categories",3,0,0,"id"];n.context="offer-info",n.type="accessories",n.widgetType="carousel",n.layout="popup",n.columnsCount=3,n.noHeader=!0,n.fesh=yr.nodeset2data(t.s(ic,e)),n.shopName=yr.nodeset2data(t.s(Ya,e)),n.price=yr.nodeset2data(t.s(po,e)),n.hyperid=yr.nodeset2data(t.s(Vp,e)),n.hid="-"+Ii(t.s(r,e)),n.offerid=yr.nodeset2data(Ni("wareId",e,[])),n.pp="POPUP_OFFER_ACCESSORIES";var i={};return i.track="info_popup_accessory_snippet",i.groupClick="info_popup_accessory_filters",i.groupShow="info_popup_accessory_filters_show",i.onPixelsVisible="info_popup_accessory_snippet_show",i.onCellClick="info_popup_accessory_snippet_click",i.onCellWishlistButtonClick="info_popup_accessory_add_to_wishlist",i.onCellCpaButtonClick="info_popup_accessory_add_to_cart",i.onPagerClick="info_popup_accessory_arrow",i.showMoreTrack="info_popup_accessory_link_show_more",n.metrika=i,n}()),a+=t.a(t,0,t.s(ps,e),"n-w-recommendations",i,function(){var n={},r=[0,"categories",3,0,0,"id"];n.context="offer-info",n.type="personal-offers",n.widgetType="carousel",n.layout="popup",n.columnsCount=3,n.noHeader=!0,n.shopName=yr.nodeset2data(t.s(Ya,e)),n.fesh=yr.nodeset2data(t.s(ic,e)),n.hid="-"+Ii(t.s(r,e)),n.pp="POPUP_OFFER_ACCESSORIES_SHOP",n.showMore=!0;var i={};return i.track="info_popup_personalrecom_snippet",i.onPixelsVisible="info_popup_personalrecom_snippet_show",i.onCellClick="info_popup_personalrecom_snippet_click",i.onCellWishlistButtonClick="info_popup_personalrecom_add_to_wishlist",i.onCellCpaButtonClick="info_popup_personalrecom_add_to_cart",i.onPagerClick="info_popup_personalrecom_arrow",i.showMoreTrack="info_popup_personalrecom_link_show_more",n.metrika=i,n}()),a+=Li(i),a+="</div>"}return a+="</div>",a+="</div>"},zi.t357.j=_p,zi.t357.a=0,zi.t358=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-offer-info__action",i,s),a+=t.a(t,0,t.s(ps,e),"n-offer-info__actualization",i,s)},zi.t358.j=_p,zi.t358.a=0,zi.t359=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-promo-deal",i,yr.externals["n-merge-objects"](s,function(){var t={};return t.place="popupTab",t}()))},zi.t359.j=_p,zi.t359.a=0,zi.t360=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-offer-card-purchase__content",i,function(){var t={};return t.showWarnings=!0,t}())},zi.t360.j=_p,zi.t360.a=0,zi.t361=function(t,e,n,r,i){var s="",a="Дополнительно",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-card-purchase__content",c);var l=o;return s+=Li(i),s+=t.f("f148",e,n,r,i,a,l)},zi.t361.j=_p,zi.t361.a=0,zi.t362=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ci(t.s(Xa,e))&&(a+="<div>"+Ii(t.s(Xa,e))+"</div>"),Ci(t.s(Qa,e))&&(a+="<div>Гарантия производителя.</div>"),Ci(t.s(Ja,e))&&(a+="<div>Страна производства — "+Ti(t.s(Ja,e))+"</div>"),Ci(t.n(yv,yr.object2nodeset(s)))){var o="",c={a:{}};o+=t.a(t,0,Ni("warnings",e,[]),"n-warning",c);var l=o;l&&(a+='<div class="n-offer-card-purchase__warnings">',a+=l,a+="</div>")}return a+=t.a(t,0,t.s(ps,e),"n-foreign-shop-jur",i,function(){var t={};return t.type="offer",t}())},zi.t362.j=_p,zi.t362.a=0,zi.t363=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("id",e,[]),p)}s=void 0===s?[]:s;for(var o="",c=Ni("filters",e,[]),l=0,u=c.length;l<u;l++){var d=c[l],p=Ni("id",d,[]),h=[2,a];t.n(h,s).length>0&&(o+=t.a(t,0,t.s(ps,d),"n-product-spec",i,function(){var t={};return t.view="simple",t.colorWithText=!0,t}()))}return o},zi.t363.j=_p,zi.t363.a=0,zi.t364=function(t,e,n,r,i,s){var a="",o=225;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-offer-info__purchase-conditions")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-offer-info__purchase-content",i),(Ci(t.s(bv,e))||Ri("returnPolicy",e)&&Ai(o,t.n(il,yr.object2nodeset(s))))&&(a+=t.a(t,0,t.s(ps,e),"n-offer-info__returns-content",i,function(){var e={};return e.userCountryId=yr.nodeset2data(t.n(il,yr.object2nodeset(s))),e}())),a+=Li(i),a+="</div>"},zi.t364.j=_p,zi.t364.a=0,zi.t365=function(t,e,n,r,i){var s="",a="Условия покупки в магазине",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-offer-info__purchase",c);var l=o;return s+=Li(i),s+=t.f("f148",e,n,r,i,a,l)},zi.t365.j=Hi,zi.t365.a=0,zi.t366=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-content-block")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-offer-card-returns",i,s),a+=Li(i),a+="</div>"},zi.t366.j=Hi,zi.t366.a=0,zi.t367=function(t,e,n,r,i,s){var a="",o=225;return a+=Li(i),a+='<div class="n-offer-card-returns">',a+='<h3 class="n-offer-card-returns__title">Возврат товара</h3>',Ai(o,t.n(il,yr.object2nodeset(s)))&&(a+="<p",i.a={class:new yr.scalarAttr("n-offer-card-returns__text")},i.s="p",a+=t.a(t,0,t.s(ps,e),"n-offer-card-returns__return-term",i),a+=Li(i),a+="</p>"),Ci(t.s(kv,e))&&(a+='<p class="n-offer-card-returns__text">',a+="Возвраты принимаются по адресу: ",a+=Ti(t.s(kv,e)),a+="</p>"),a+="</div>"},zi.t367.j=gv,zi.t367.a=0,zi.t368=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("external:support-returns");return s+=t.a(t,0,t.s(ps,e),"n-return-term",i),s+=Li(i),s+=" ",s+='<a class="link link_theme_normal n-link n-link_theme_blue" href="'+Oi(a)+'" target="_blank" rel="nofollow noopener">',s+="Подробнее",s+="</a>"},zi.t368.j=Hi,zi.t368.a=0,zi.t369=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("RETURN_TERM_NO_RETURN")},zi.t369.j=Hi,zi.t369.a=0,zi.t370=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f150",e,n,r,i,7)},zi.t370.j=wv,zi.t370.a=0,zi.t371=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f150",e,n,r,i,14)},zi.t371.j=Ev,zi.t371.a=0,zi.t372=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f150",e,n,r,i,28)},zi.t372.j=xv,zi.t372.a=0,zi.t373=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("RETURN_TERM_WITH_PROBLEMS")},zi.t373.j=Mv,zi.t373.a=0,zi.t374=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.externals["n-i18n"]("RETURN_TERM_GLOBAL")},zi.t374.j=Av,zi.t374.a=0,zi.t375=function(t,e,n,r,i,s){var a="",o="";o+=Ai("full",t.n(cs,yr.object2nodeset(s)))?"22":"18";var c=o,l=t.s(d_,e).length;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-promo-deal"),id:new yr.scalarAttr("promo-deal")},i.s="div",Ai("full",t.n(cs,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-promo-deal_type_full"):i.a.class=new yr.scalarAttr(" n-promo-deal_type_full"),a+=Li(i),a+='<h2 class="n-promo-deal__title title_size_10 text-gray text-uppercase">',a+="Акция",a+="</h2>"}return a+=Li(i),a+='<div class="layout layout_display_flex">',a+='<div class="layout__col">',a+='<h3 class="title title_size_'+Oi(c)+'">',a+=l?yr.externals["n-i18n-map"]("PROMO_TYPE",Ii(t.s(s_,e))):"Акция закончилась",a+="</h3>",l&&(a+='<div class="n-promo-deal__text">',a+=Ii(t.s(l_,e)),a+="</div>"),a+="</div>",a+='<div class="layout__col">',a+='<img class="image image_name_gift2" src="//yastatic.net/market-export/_/i/0.gif" alt=""/>',a+="</div>",a+="</div>",l>0&&(a+=t.a(t,0,t.s(ps,e),"n-promo-deal__roll",i,s)),a+="</div>"},zi.t375.j=Tv,zi.t375.a=0,zi.t376=function(t,e,n,r,i,s){function a(t,e,n,r){return n%u==0}var o="",c="",l={a:{}};c+=Ai("full",t.n(cs,yr.object2nodeset(s)))?4:3;var u=c,d=[0,"promo",0,"bonusItems",2,a];o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-roll-more i-bem")},i.s="div";var c="",l={a:{}};return c+=Li(l),c+='{"n-roll-more": {}}',i.a["data-bem"]=new yr.xmlAttr(c),o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-roll-more__list")},i.s="div",o+=t.a(t,0,t.s(d,e),"n-promo-deal__offer-list",i,t.s(d_,e),s),o+=Li(i),o+="</div>",t.s(d_,e).length>u&&(o+=t.a(t,0,t.s(ps,e),"n-promo-deal__pager-more",i,s)),o+="</div>"},zi.t376.j=_p,zi.t376.a=0,zi.t377=function(t,e,n,r,i,s,a){function o(t,e,n,r){return n==p||n==p+1||n==p+2||n==p+3}function c(t,e,n,r){return n==p||n==p+1||n==p+2}s=void 0===s?[]:s;var l="",u="";u+=Ai("full",t.n(cs,yr.object2nodeset(a)))?4:3;var d=u,p=n*d,h=yr.externals["n-merge-objects"](a,function(){var t={};return t.itemOrderId=p,t.rowOrderId=n,t}());if(l+=Li(i),l+="<div",i.a={class:new yr.scalarAttr("n-roll-more__page snippet-list snippet-list_size_"+d+" snippet-list_type_grid")},i.s="div",p){var f=i.a.class;f?i.a.class=f.addscalar(" n-roll-more__page_hidden_yes"):i.a.class=new yr.scalarAttr(" n-roll-more__page_hidden_yes")}if(Ai("full",t.n(cs,yr.object2nodeset(a)))){var _=[2,o];l+=t.a(t,0,t.n(_,s),"n-promo-deal__offer",i,h)}else{var m=[2,c];l+=t.a(t,0,t.n(m,s),"n-promo-deal__offer",i,h)}return l+=Li(i),l+="</div>"},zi.t377.j=Cv,zi.t377.a=0,zi.t378=function(t,e,n,r,i,s){var a="",o=Ii(t.n(Sv,yr.object2nodeset(s)))+n,c={},l={a:{}},u={};u.type="offer",c["snippet-cell"]=u;var u={},d={},p={};p.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),p.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),p.element="PromoOffer",p.event="show",p.offerId="["+(o+1)+"-"+Ii(Ni("wareId",e,[]))+"]",d.promo=p,u.onInit=d;var d={},p={};p.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),p.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),p.element="PromoOfferClick",p.offerId="["+(o+1)+"-"+Ii(Ni("wareId",e,[]))+"]",d.promo=p,u.onClick=d,c.metrika=u;var h=c;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-list__item island metrika")},i.s="div",Ai(0,t.n(Iv,yr.object2nodeset(s)))){var f=i.a.class;f?i.a.class=f.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem")}if(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h))),a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("snippet-cell__image link i-bem"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",Ci(t.s(ka,e))){var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer-card",l),i.a.href=new yr.xmlAttr(c)}if(i.a.title=new yr.scalarAttr(Ii(t.s(Ba,e))),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),350),a+="</a>",Ci(t.s(f_,e))&&(a+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withoutPromo=!0,t}())),a+=t.a(t,0,t.s(Ca,e),"n-warning",i,function(){var t={};return t.onlyIcon=!0,t}()),a+="<a",i.a={class:new yr.scalarAttr("snippet-cell__header link i-bem"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",Ci(t.s(ka,e))){var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer-card",l),i.a.href=new yr.xmlAttr(c)}return i.a.title=new yr.scalarAttr(Ii(t.s(Ba,e))),a+=Li(i),a+='<h4 class="title title_size_15">',a+=t.f("f64",e,n,r,i,t.s(ps,e),!0),a+="</h4>",a+="</a>",a+='<div class="snippet-cell__content snippet-cell__content_type_small">',a+='<div class="snippet-cell__price">',a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+=t.f("f76",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>",a+="</div>"},zi.t378.j=Cv,zi.t378.a=0,zi.t379=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<button",i.a={class:new yr.scalarAttr("button2 button2_theme_normal button2_size_xl button2_width_max n-promo-deal__more n-roll-more__pager-more i-bem"),type:new yr.scalarAttr("button"),autocomplete:new yr.scalarAttr("off"),tabindex:new yr.scalarAttr("0")},i.s="button",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={};e.button2="";var n={},r={},i={};return i.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),i.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s))),i.element="PromoShowMore",r.promo=i,n.onClick=r,e.metrika=n,e}()))),a+=Li(i),a+='<span class="button2__text">Показать ещё</span>',a+="</button>"},zi.t379.j=_p,zi.t379.a=0,zi.t380=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-w-recommendations__params-title",o);var c=a,a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-w-recommendations__params-description",o);var l=a;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.type=yr.nodeset2data(Ni("type",e,[])),n.widgetType=yr.nodeset2data(Ni("widgetType",e,[])),n.cellType=yr.nodeset2data(Ni("cellType",e,[])),n.layout=yr.nodeset2data(Ni("layout",e,[])),n.columnsCount=yr.nodeset2data(Ni("columnsCount",e,[])),n.pagerPlace=yr.nodeset2data(Ni("pagerPlace",e,[])),n.title=c,n.description=l,n.noHeader=yr.nodeset2data(Ni("noHeader",e,[])),n.pp=yr.nodeset2data(Ni("pp",e,[])),n.metrika=yr.nodeset2data(Ni("metrika",e,[])),n.fesh=yr.nodeset2data(Ni("fesh",e,[])),n.shopName=yr.nodeset2data(Ni("shopName",e,[])),n.price=yr.nodeset2data(Ni("price",e,[])),n.hyperid=yr.nodeset2data(Ni("hyperid",e,[])),n.offerid=yr.nodeset2data(Ni("offerid",e,[])),n.hid=yr.nodeset2data(Ni("hid",e,[])),t["n-w-recommendations"]=n;var n={};return n.name="recommendations-accessories",t["b-zone"]=n,t}()))),s},zi.t380.j=kp,zi.t380.a=0,zi.t381=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-w-recommendations__params-title",o);var c=a,a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-w-recommendations__params-description",o);var l=a;return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.type=yr.nodeset2data(Ni("type",e,[])),n.widgetType=yr.nodeset2data(Ni("widgetType",e,[])),n.layout=yr.nodeset2data(Ni("layout",e,[])),n.cellType=yr.nodeset2data(Ni("cellType",e,[])),n.columnsCount=yr.nodeset2data(Ni("columnsCount",e,[])),n.pagerPlace=yr.nodeset2data(Ni("pagerPlace",e,[])),n.title=c,n.description=l,n.noHeader=yr.nodeset2data(Ni("noHeader",e,[])),n.metrika=yr.nodeset2data(Ni("metrika",e,[])),n.fesh=yr.nodeset2data(Ni("fesh",e,[])),n.hid=yr.nodeset2data(Ni("hid",e,[])),n.pp=yr.nodeset2data(Ni("pp",e,[])),t["n-w-recommendations"]=n;var n={};return n.name="recommendations-personal-offers",t["b-zone"]=n,t}()))),s},zi.t381.j=Ep,zi.t381.a=0,zi.t382=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-w-recommendations__extra">',s+="<a",i.a={class:new yr.scalarAttr("n-w-recommendations__link link")},i.s="a";var a="",o={a:{}};return a+=t.a(t,0,t.s(ps,e),"i-link__search",o,function(){var n={};return n.fesh=yr.nodeset2data(Ni("fesh",e,[])),n.cpa="real",n.priceto="10000",Ci(t.s(jv,e))&&(n.track=yr.nodeset2data(t.s(jv,e))),n}()),i.a.href=new yr.xmlAttr(a),s+=Li(i),s+="Посмотреть все предложения из этого магазина",s+="</a>",s+="</div>"},zi.t382.j=Ov,zi.t382.a=0,zi.t383=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var c=o,o="";o+=Ci(t.n(Pv,yr.object2nodeset(s)))?"button2_mode_sharp button2_pin_round-clear":"button2_mode_sharp";var l=o;a+=Li(i),a+='<div class="n-offer-action">',a+="<div",i.a={class:new yr.scalarAttr("offer i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e))))),a+=Li(i),a+="<button",i.a={class:new yr.scalarAttr("button2 button2_size_"+c+" "+l+" b-zone b-spy-visible i-bem")},i.s="button",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.name="to-cart",t["b-zone"]=e,t["b-spy-visible"]="",t}())));var u=i.a.class;if(u?i.a.class=u.addscalar(" button2_to_shop button2_theme_disabled"):i.a.class=new yr.scalarAttr(" button2_to_shop button2_theme_disabled"),a+=Li(i),a+='<span class="button2__text">',a+="В корзину",a+="</span>",a+="</button>",a+="</div>",Ci(t.n(Pv,yr.object2nodeset(s)))){a+="<button",i.a={class:new yr.scalarAttr("n-offer-action__details")},i.s="button";var u=i.a.class;u?i.a.class=u.addscalar(" button2 button2_size_"+c+" button2_theme_disabled button2_mode_sharp button2_pin_clear-round"):i.a.class=new yr.scalarAttr(" button2 button2_size_"+c+" button2_theme_disabled button2_mode_sharp button2_pin_clear-round"),a+=Li(i),a+='<span class="button2__text">',a+='<i class="icon button2__icon"></i>',a+="</span>",a+="</button>"}return a+="</div>"},zi.t383.j=Hi,zi.t383.a=0,zi.t384=function(t,e,n,r,i,s){var a="",o="";o+=Ci(t.n(is,yr.object2nodeset(s)))?Ii(t.n(is,yr.object2nodeset(s))):"m";var c=o,l=!Ci(t.n(gc,yr.object2nodeset(s)))&&"real"===yr.nodeset2data(Ni("cpa",e,[])),o="";o+=l?"action":"blue";var u=o,o="";o+=Ci(t.n(Pv,yr.object2nodeset(s)))?"button2_mode_sharp button2_pin_round-clear":"button2_mode_sharp";var d=o,p=t.n(Bv,yr.object2nodeset(s)),h=t.n(Dv,yr.object2nodeset(s)),o=!1;o=yr.nodeset2data(t.n(Rv,yr.object2nodeset(s)))!==!1;var f=o,o={};o.place=yr.nodeset2data(t.n(na,yr.object2nodeset(s)));var _="";_+=Ci(t.n(dc,yr.object2nodeset(s)))?Ii(t.n(dc,yr.object2nodeset(s))):"button2",o.buttonClass=_,o.action=f,o.size=c,o.class=d,o.withoutAdditionalTheme=!0,o.forceCpc=yr.nodeset2data(t.n(gc,yr.object2nodeset(s))),o.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),Ci(t.n(ra,yr.object2nodeset(s)))&&(o.text=yr.nodeset2data(t.n(ra,yr.object2nodeset(s)))),Ci(t.n(S_,yr.object2nodeset(s)))&&(o.inCartText=yr.nodeset2data(t.n(S_,yr.object2nodeset(s)))),Ci(t.n(_c,yr.object2nodeset(s)))&&(o.icon=!0);var m=o,v=t.f("f104",e,n,r,t.s(ps,e),m);a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-offer-action offer shop-history offer__out-stock offer__out-stock-message i-bem")},i.s="div";var o="";Ci(p)&&(o+=" "+Ii(p));var y=i.a.class;y?i.a.class=y.addscalar(o):i.a.class=new yr.scalarAttr(o);var o="";Ci(h)&&(o+=" "+Ii(h));var y=i.a.class;y?i.a.class=y.addscalar(o):i.a.class=new yr.scalarAttr(o);var o="";Ci(Ni("isPromotedByVendor",e,[]))&&(o+=" offer_ignore-state_yes");var y=i.a.class;y?i.a.class=y.addscalar(o):i.a.class=new yr.scalarAttr(o);var o="";Ci(t.n(Nv,yr.object2nodeset(s)))&&(o+=" offer_action_no-popup");var y=i.a.class;if(y?i.a.class=y.addscalar(o):i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e))))),a+=Li(i),a+=t.f("f102",e,n,r,i,t.s(ps,e),m),Ci(t.n(Pv,yr.object2nodeset(s)))&&!Ri("isPromotedByVendor",e)){a+="<button",i.a={class:new yr.scalarAttr("n-offer-action__details n-i-offer-details-button i-bem")},i.s="button";var y=i.a.class;if(y?i.a.class=y.addscalar(" button2 button2_size_"+c+" button2_theme_"+u+" button2_mode_sharp"):i.a.class=new yr.scalarAttr(" button2 button2_size_"+c+" button2_theme_"+u+" button2_mode_sharp"),v){var y=i.a.class;y?i.a.class=y.addscalar(" button2_pin_clear-round"):i.a.class=new yr.scalarAttr(" button2_pin_clear-round")}i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.entityType=yr.nodeset2data(t.n(lc,yr.object2nodeset(s))),n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+='<span class="button2__text">',a+='<i class="icon button2__icon"></i>',a+="</span>",a+="</button>"}return a+="</div>"},zi.t384.j=_p,zi.t384.a=0,zi.t385=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<i",i.a={},i.s="i",a+=t.f("f2",e,n,r,i,"button2",yr.array2nodeset(function(){var i=[];return i.push(t.f("f151",e,n,r,s)),i}())),a+=Li(i),a+="</i>"},zi.t385.j=Hi,zi.t385.a=0,zi.t386=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("n-shop-name i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-shop-name"]=r,n}()))),Ci(t.n(Lv,yr.object2nodeset(s)))&&Ri("isRecommendedByVendor",e)&&(a+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i)),Ci(t.n(zs,yr.object2nodeset(s)))){var o=i.a.class;o?i.a.class=o.addscalar(" "+Ii(t.n(zs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(zs,yr.object2nodeset(s))))}return a+=t.a(t,0,t.s(ps,e),"n-shop-name__name",i,function(){var e={};return e.isCpa2=yr.nodeset2data(t.n(Fv,yr.object2nodeset(s))),e}()),a+=Li(i),Ci(t.n(Uv,yr.object2nodeset(s)))&&(a+="<span",i.a={class:new yr.scalarAttr("n-shop-name__rating i-shop-rating i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.shop=yr.nodeset2data(Ni("shop",e,[])),n.cpc=yr.nodeset2data(Ni("cpc",e,[])),n.cmid=yr.nodeset2data(Ni("wareId",e,[])),t["i-shop-rating"]=n,t}()))),a+=Li(i),a+=t.f("f7",e,n,r,i,function(){var n={};return n.grade=yr.nodeset2data(t.s(pv,e)),n.size=Ci(t.n(zv,yr.object2nodeset(s)))||"s",n.class=Ci(t.n(qv,yr.object2nodeset(s)))||"n-rating-stars_theme_gray",n}()),a+="</span>"),a+="</span>"},zi.t386.j=_p,zi.t386.a=0,zi.t387=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-shop-name__name">',s+=Ti(t.s(Ya,e)),s+="</span>"},zi.t387.j=Hi,zi.t387.a=0,zi.t388=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-shop-name__name link link_theme_outer"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",Ci(t.n(Fv,yr.object2nodeset(s))))if(Ci(Ni("isCpa20",e,[])))i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:articles",function(){var t={};return t.semanticId="pokupka-na-markete",t}()));else if(Ai(0,t.s(Mc,e))){var o="",c={a:{}};o+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews-add",c,function(){var t={};return t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("wareId",e,[])),t}()),i.a.href=new yr.xmlAttr(o)}else{var o="",c={a:{}};o+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews",c,function(){var t={};return t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("wareId",e,[])),t}()),i.a.href=new yr.xmlAttr(o)}else{var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o)}return a+=Li(i),a+=Ti(t.s(Ya,e)),a+="</a>"},zi.t388.j=Hv,zi.t388.a=0,zi.t389=function(t,e,n,r,i,s){var a="",o="",c={a:{}};if(o+=Li(c),Ii(t.s(Mc,e))>0){o+="<a",c.a={class:new yr.scalarAttr("link")},c.s="a";var l="",u={a:{}};l+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews",u,function(){var t={};return t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("cmid",e,[])),t}()),c.a.href=new yr.xmlAttr(l),o+=Li(c),o+=Ti(t.s(Mc,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(Mc,e)),"отзыв","отзыва","отзывов")),o+="</a>"}else if(Ai("oldshop",t.s(xc,e)))o+="<span>Магазин не размещается</span>";else{o+="<a",c.a={class:new yr.scalarAttr("link")},c.s="a";var l="",u={a:{}};l+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews-add",u,function(){var t={};return t.retpath=s,t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("cmid",e,[])),t}()),c.a.href=new yr.xmlAttr(l),o+=Li(c),o+="Отзывов на магазин еще нет",o+="</a>"}var d=o,o={},c={a:{}},l={},u={a:{}},p={},h=[],f={};f.to="bottom",h.push(f),p.directions=h,l.popup=p,l["n-shop-rating-popup"]="",o.dataBemParams=l,o.additionalClasses="n-shop-rating-popup",o.animate="yes",o.autoclosable="yes",o.hasTail=!0;var _=o;return a+=Li(i),a+=t.f("f25",e,n,r,i,d,yr.object2nodeset(_))},zi.t389.j=Hi,zi.t389.a=0,zi.t390=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-foreign-shop-country">',s+=yr.externals["n-i18n"]("FOREIGN_SHOP_COUNTRY_TEXT"),s+=" ",s+=Ti(t.s(Wo,e)),s+="</div>"},zi.t390.j=Vv,zi.t390.a=0,zi.t391=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-adult-snippet n-adult-snippet_type_"+s+" i-bem")},i.s="div","cell"==s){var o=i.a.class;o?i.a.class=o.addscalar(" island"):i.a.class=new yr.scalarAttr(" island")}var c="";c+='{"n-adult-snippet": {}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+='<div class="n-adult-snippet__wrapper">',a+='<div class="n-adult-snippet__content">',a+='<div class="n-adult-snippet__title">',a+="Найдены товары для взрослых",a+="</div>",a+='<div class="n-adult-snippet__sub-title">',a+="Чтобы посмотреть их, подтвердите, что вам уже исполнилось 18 лет",a+="</div>",a+="</div>",a+='<div class="n-adult-snippet__action">',a+="<button",i.a={class:new yr.scalarAttr("button button_size_s button_theme_normal button_adult_accept i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button";var c="";return c+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+='<span class="button__text">',a+="Мне есть 18 лет",a+="</span>",a+="</button>",a+="</div>",a+="</div>",a+='<div class="n-adult-snippet__close"></div>',a+="</div>"},zi.t391.j=Hi,zi.t391.a=0,zi.t392=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<details",i.a={},i.s="details",Ci(t.n($v,yr.object2nodeset(s)))&&(i.a.open=new yr.scalarAttr("open")),a+=Li(i),a+="<summary>",a+=Pi(e.name),a+="</summary>";for(var o=Ni("*",e,[]),c=0,l=o.length;c<l;c++){var u=o[c];a+=t.a(t,0,t.s(ps,u),"n-debug-info__item",i,s)}return a+="</details>"},zi.t392.j=Gv,zi.t392.a=0,zi.t393=function(t,e,n,r,i){var s="",a=0==Bi(yr.externals["n-str-length"](""+yr.nodeset2scalar(t.s(ps,e))));if(s+=Li(i),s+='<div class="n-debug-info__item">',s+="<span",i.a={class:new yr.scalarAttr("n-debug-info__item-name")},i.s="span",a){var o=i.a.class;o?i.a.class=o.addscalar(" n-debug-info__item-name_empty_yes"):i.a.class=new yr.scalarAttr(" n-debug-info__item-name_empty_yes")}return s+=Li(i),s+=Pi(e.name),a||(s+=": "),s+="</span>",s+='<span class="n-debug-info__item-value">',s+=Ti(t.s(ps,e)),s+="</span>",s+="</div>"},zi.t393.j=Wv,zi.t393.a=0,zi.t394=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<details>",s+="<summary>",s+="requestPath",s+="</summary>",s+='<div class="n-debug-info__item">',s+=Ti(t.s(ps,e)),s+="</div>",s+="</details>"},zi.t394.j=Yv,zi.t394.a=0,zi.t395=function(t,e,n,r,i){var s="",a="/wombat/exp_info";s+=Li(i),s+='<details class="n-debug-info__details_bold_yes">',s+="<summary>",s+="abt",s+="</summary>",s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a",i.a.href=new yr.scalarAttr(a),s+=Li(i),s+=Pi(a),s+="</a>";for(var o=Ni("*",e,[]),c=0,l=o.length;c<l;c++){var u=o[c];s+=t.a(t,0,t.s(ps,u),"n-debug-info__item",i,function(){var t={};return t.open=!0,t}())}return s+="</details>"},zi.t395.j=Kv,zi.t395.a=0,zi.t396=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-debug-info__item">',s+='<span class="n-debug-info__item-name">',s+=Ti(Ni("name",e,[])),s+=": ",s+="</span>",s+='<span class="n-debug-info__item-value">',s+="width: ",s+=Ti(Ni("width",e,[])),s+=" value: ",s+=Ti(Ni("value",e,[])),s+="</span>",s+="</div>"},zi.t396.j=Xv,zi.t396.a=0,zi.t397=function(t,e,n,r,i,s){var a="",o=Ai("real",Ni("cpa",e,[])),c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"getClickActionType",l,s);var u=c,c={},l={a:{}},d={},p="";p+=Ai("offer",Ni("entity",e,[]))?t.f("f44",e,n,r,Bi(u),t.s(ps,e))?"offer-card":"offer":Ci(Ni("type",e,[]))?Di("type",e):"",d.type=p,d.clickActionType=u,c["n-snippet-card2"]=d;var d={};d.name="snippet-card",c["b-zone"]=d;var h=c;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2 b-zone i-bem")},i.s="div",Ai("offer",Ni("entity",e,[]))){var f=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(t.f("f99",e,n,r,t.s(ps,e)))),_=yr.externals["n-merge-nodes"](f,yr.object2nodeset(h)),m=i.a.class;if(m?i.a.class=m.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),
o){var m=i.a.class;m?i.a.class=m.addscalar(" snippet-card_cpa_yes offer metrika"):i.a.class=new yr.scalarAttr(" snippet-card_cpa_yes offer metrika")}if(Ci(Ni("isPromotedByVendor",e,[]))){var m=i.a.class;m?i.a.class=m.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}if(i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[]))),Ai("offer",t.n(hf,yr.object2nodeset(s)))){var m=i.a.class;m?i.a.class=m.addscalar(" snippet-card_type_offer"):i.a.class=new yr.scalarAttr(" snippet-card_type_offer")}if(o){var v=yr.externals["n-merge-nodes"](_,yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](v))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](_))}else if(Ai("product",Ni("entity",e,[])))if(i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),Ci(t.n(pf,yr.object2nodeset(s)))){var y=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(h));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](y))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(h)));return a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__hover",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__stickers",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__complain",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__part_type_left",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__part_type_center",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__part_type_right",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>",a+=t.a(t,0,Ni("bdebug",e,[]),"n-snippet-card2__debug-info",i)},zi.t397.j=qd,zi.t397.a=0,zi.t398=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__stickers")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_new",i),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted-inner",i),Ci(Ni("promo",e,[]))&&(a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promo",i,yr.externals["n-merge-objects"](s,function(){var t={};return t.withPopupOfferInfo=!0,t.entityType="snippet",t}()))),a+=Li(i),a+="</div>"},zi.t398.j=qd,zi.t398.a=0,zi.t399=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__part n-snippet-card2__part_type_left")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__image",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__colors",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"},zi.t399.j=qd,zi.t399.a=0,zi.t400=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-snippet-card2__shop-comment",c,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}());var l=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__part n-snippet-card2__part_type_center")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-mbo-toolbar",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__header",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__content")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__desc",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),l&&(a+='<div class="n-snippet-card2__shop-comments">',a+=l,a+="</div>"),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__center-bottom",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+="</div>"},zi.t400.j=qd,zi.t400.a=0,zi.t401=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+='<div class="n-snippet-card2__part n-snippet-card2__part_type_right">',a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__top")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__price",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e.track="srchlink",e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__delivery",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__prepayment",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__bundle-limit",i),Ci(t.n(Jv,t.v("v23",e.doc.root)))?Ai("do-price-with-link",t.n(Jv,t.v("v23",e.doc.root)))&&(a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__more-prices-link-with-from",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e.track="srchbtn",e}())):a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__more-prices-link",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e.track="srchbtn",e}()),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__bottom")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__shop-info",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>",Ai("development",t.s(ff,e.doc.root))){if(a+="<span",i.a={class:new yr.scalarAttr("n-snippet-card2__document-type")},i.s="span",Ai("offer",Ni("entity",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-card2__document-type_offer"):i.a.class=new yr.scalarAttr(" n-snippet-card2__document-type_offer")}else if(Ai("cluster",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-card2__document-type_cluster"):i.a.class=new yr.scalarAttr(" n-snippet-card2__document-type_cluster")}else if(Ai("model",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-card2__document-type_product"):i.a.class=new yr.scalarAttr(" n-snippet-card2__document-type_product")}else if(Ai("modification",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-card2__document-type_modification"):i.a.class=new yr.scalarAttr(" n-snippet-card2__document-type_modification")}else if(Ai("group",Ni("type",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-card2__document-type_group"):i.a.class=new yr.scalarAttr(" n-snippet-card2__document-type_group")}a+=Li(i),a+=Pi(Ci(Ni("type",e,[]))?yr.externals["n-str-to-upper"](Di("type",e)):yr.externals["n-str-to-upper"](Di("entity",e))),a+="</span>"}return a+="</div>"},zi.t401.j=qd;zi.t401.a=0;zi.t402=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ii(t.s(hl,e))>0){a+='<div class="n-snippet-card2__more-prices-link">',a+="<a",i.a={class:new yr.scalarAttr("link n-link_theme_blue link_type_prices i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>",a+="</div>"}return a},zi.t402.j=Wp,zi.t402.a=0,zi.t403=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ii(t.s(hl,e))>0){a+='<div class="n-snippet-card2__more-prices-link">',a+="<a",i.a={class:new yr.scalarAttr("link n-link_theme_blue link_type_prices i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>",Mi(t.s($a,e),t.s(Ga,e))||(a+=" ",a+=t.f("f70",e,n,r,i,t.s(ps,e))),a+="</div>"}return a},zi.t403.j=Wp,zi.t403.a=0,zi.t404=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__prepayment")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-prepayment_context_snippet",i),a+=Li(i),a+="</div>"},zi.t404.j=Am,zi.t404.a=0,zi.t405=function(t,e,n,r,i,s){var a="",o="";o+=Ai("offer",t.n(hf,yr.object2nodeset(s)))?50:200;var c=o,l=Ai("offer",t.n(hf,yr.object2nodeset(s))),u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e))),o="";o+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var d=o,o=!1;o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var p=o;return a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s)))?(a+="<span",i.a={class:new yr.scalarAttr("n-snippet-card2__image link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),r.entityType="snippet",n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</span>"):d?(a+="<a",i.a={class:new yr.scalarAttr("n-snippet-card2__image shop-history__link link"),href:new yr.scalarAttr(d),title:new yr.scalarAttr(u)},i.s="a",p||(i.a.target=new yr.scalarAttr("_blank")),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</a>"):(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__image")},i.s="div",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</div>"),a},zi.t405.j=_p,zi.t405.a=0,zi.t406=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o,u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e)));return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-snippet-card2__image link"),href:new yr.scalarAttr(Bi(l))},i.s="a",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),350,!1,!0),a+="</a>"},zi.t406.j=Wp,zi.t406.a=0,zi.t407=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ii(t.s(hl,e))>0){a+='<div class="n-snippet-card2__more-prices-link">',a+="<a",i.a={class:new yr.scalarAttr("link n-smart-link n-link_theme_blue link_type_prices i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o);var o="",c={a:{}};o+=Li(c),o+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>",a+="</div>"}return a},zi.t407.j=Wp,zi.t407.a=0,zi.t408=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-snippet-card2__hover">',a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__toolbar")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-toolbar",i,function(){var n={};return Ai("offer",Ni("entity",e,[]))&&!Ri("outdated",e)&&(n.withComplain=!0),n.withoutLabel=!0,n.withCompare=!0,n.withComplain=!1,n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),n.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),n}()),a+=Li(i),a+="</div>",a+="</div>"},zi.t408.j=qd,zi.t408.a=0,zi.t409=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-snippet-card2__rating",c,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}());var l=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__header")},i.s="div",l){var u=i.a.class;u?i.a.class=u.addscalar(" n-snippet-card2__header_has_rating"):i.a.class=new yr.scalarAttr(" n-snippet-card2__header_has_rating")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__title",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+=l,a+="</div>"},zi.t409.j=qd,zi.t409.a=0,zi.t410=function(t,e,n,r,i,s){var a="",o=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e)),c=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__title")},i.s="div",Ci(t.n(Zv,t.v("v23",e.doc.root)))){var l=i.a.class;l?i.a.class=l.addscalar(" n-snippet-card2__title_decor_underline"):i.a.class=new yr.scalarAttr(" n-snippet-card2__title_decor_underline")}return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link n-link_theme_blue"),href:new yr.scalarAttr(o)},i.s="a",c||(i.a.target=new yr.scalarAttr("_blank")),a+=Li(i),a+=t.f("f64",e,n,r,i,t.s(ps,e),!0),a+="</a>",a+="</div>"},zi.t410.j=_p,zi.t410.a=0,zi.t411=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__title")},i.s="div",Ci(t.n(Zv,t.v("v23",e.doc.root)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-snippet-card2__title_decor_underline"):i.a.class=new yr.scalarAttr(" n-snippet-card2__title_decor_underline")}return a+=Li(i),a+='<a class="link n-link_theme_blue" href="'+ji(l)+'">',a+=t.f("f64",e,n,r,i,t.s(ps,e),!0),a+="</a>",a+="</div>"},zi.t411.j=Wp,zi.t411.a=0,zi.t412=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",c);var l=o,o="",c={a:{}};if(yr.exists(t.s(ty,e))&&!Ai("group",Ni("type",e,[]))){var u=[0,"offers",0,"items",3,0];o+=t.a(t,0,t.s(u,e),"n-stickers__sticker_type_discount",c)}else o+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_discount",c);var d=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__price")},i.s="div",l){var p=i.a.class;p?i.a.class=p.addscalar(" n-snippet-card2__price_with_promocode"):i.a.class=new yr.scalarAttr(" n-snippet-card2__price_with_promocode")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__main-price",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__sub-price",i,s),a+=Li(i),d&&(a+='<div class="n-snippet-card2__price-stickers stickers">',a+=d,a+="</div>"),a+=l,a+="</div>"},zi.t412.j=qd,zi.t412.a=0,zi.t413=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__main-price")},i.s="div",Ai("real",Ni("cpa",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}if(Ci(Ni("outdated",e,[])))a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());else if(Ai("details",t.n(Sa,yr.object2nodeset(s))))a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.entityType="snippet",r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),n["n-i-offer-details-button"]=r,n}()))),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</span>";else if(t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e))){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer-card",l),i.a.href=new yr.xmlAttr(c),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</a>"}else if(Ai("real",Ni("cpa",e,[]))){var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer",l);a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var o=i.a.class;o?i.a.class=o.addscalar(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"):i.a.class=new yr.scalarAttr(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:cart")),i.a.target=new yr.scalarAttr("_self"),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</a>"}else if(t.f("f40",e,n,r,t.s(ps,e))){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop_history__link")},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer",l),i.a.href=new yr.xmlAttr(c),i.a.target=new yr.scalarAttr("_blank"),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</a>"}else a+=Li(i),a+="<span>",a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</span>";return a+=Li(i),a+="</div>"},zi.t413.j=_p,zi.t413.a=0,zi.t414=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__main-price")},i.s="div",Ii(t.s(hl,e))>0){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link n-smart-link i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track="srchlink"),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o);var o="",c={a:{}};if(o+=Li(c),o+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),yr.exists(t.s(ty,e))&&!Ai("group",Ni("type",e,[]))){var l=[0,"offers",0,"items",3,0];a+=t.f("f81",e,n,r,i,t.s(l,e),function(){var t={};return t.discount=!1,t}())}else a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());a+=Li(i),a+="</a>"}else a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());return a+=Li(i),a+="</div>"},zi.t414.j=Wp,zi.t414.a=0,zi.t415=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-snippet-card2__sub-price">',a+='<div class="price price_unactual_yes">',a+=t.f("f76",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>"},zi.t415.j=ey,zi.t415.a=0,zi.t416=function(t,e,n,r,i,s){var a="",o=!1;o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var c=o,o="",l={a:{}};o+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var u=o;if(a+=Li(i),a+='<div class="n-snippet-card2__shop-info">',a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__shop-name")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i),a+=Li(i),t.f("f40",e,n,r,t.s(ps,e))||c?(a+='<a class="link link_theme_gray link_type_shop-name shop-history__link" href="'+Oi(u)+'" target="_blank">',a+=Ti(t.s(Ya,e)),a+="</a>"):(a+='<span class="snippet-card__shop-name n-snippet-card__shop-name">',a+=Ti(t.s(Ya,e)),a+="</span>"),a+="</div>",a+='<div class="n-snippet-card2__shop-rating">',a+=t.f("f10",e,n,r,i,Ni("shop",e,[]),function(){var t={};return t.class="n-rating-stars_theme_gold",t}()),a+=" ",Ii(t.s(Mc,e))>0){var o="",l={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__shop__reviews",l,function(){var t={};return t.track="srchlink",t}());var d=o,p="("+Ii(t.s(Mc,e))+")";a+='<a class="link link_theme_gray link_type_shop-reviews" href="'+ji(d)+'">',a+=Pi(p),a+="</a>"}else if(!Ai("oldshop",t.s(xc,e))){var o="",l={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__shop__reviews-add",l,function(){var t={};return t.track="srchlink",t}());var h=o,f="Пока нет отзывов";a+='<a class="link link_theme_gray" href="'+ji(h)+'">',a+=Pi(f),a+="</a>"}return a+=t.f("f110",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>"},zi.t416.j=_p,zi.t416.a=0,zi.t417=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__warning")},i.s="div",a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+=Li(i),a+="</div>"},zi.t417.j=ny,zi.t417.a=0,zi.t418=function(t,e,n,r,i,s){var a="",o=[0,"filters",2,R,3,0],c=t.s(o,e);return a+=Li(i),t.n(vu,c).length>1&&(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__colors")},i.s="div",a+=t.a(t,0,c,"n-snippet-color-set",i,function(){var n={};return n.product=yr.nodeset2data(t.s(ps,e)),n.limit="6",Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),n}()),a+=Li(i),a+="</div>"),a},zi.t418.j=qd,zi.t418.a=0,zi.t419=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Ri("opinions",e)?Di("opinions",e):0;var l=o;if(a+=Li(i),l>0){a+="<a",i.a={class:new yr.scalarAttr("n-snippet-card2__rating link link_theme_gray link_type_reviews")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-reviews_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(t.n(iy,yr.object2nodeset(s)))&&(n.cpaofferId=yr.nodeset2data(t.n(iy,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),Di("rating",e)>0&&(a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}())),a+="<span>",a+=Pi(l)+" "+Pi(yr.externals["n-str-plural"](l,"отзыв","отзыва","отзывов")),a+="</span>",a+="</a>"}else Di("rating",e)>0&&(a+='<div class="n-snippet-card2__rating">',a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}()),a+="</div>");return a},zi.t419.j=ry,zi.t419.a=0,zi.t420=function(t,e,n,r,i,s){var a="";return a+=Li(i),t.s(Ca,e).length&&(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__bottom")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__warning",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"),a},zi.t420.j=Wp,zi.t420.a=0,zi.t421=function(t,e,n,r,i,s){var a="";return a+=Li(i),t.s(Ca,e).length&&(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__bottom")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-card2__warning",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"),a},zi.t421.j=_p,zi.t421.a=0,zi.t422=function(t,e,n,r,i){var s="";if(s+=Li(i),Ri("delivery",e)&&!Ci(t.s(Ka,e))){var a="",o={a:{}};a+=Li(o),a+=t.f("f95",e,n,r,o,t.s(ps,e),function(){var t={};return t.appendPlus=!0,t}()),a+=t.a(t,0,Ni("delivery",e,[]),"n-delivery__time",o);var c=a,a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-delivery-popup",o);var l=a;s+='<div class="n-snippet-card2__delivery">',s+="<div",i.a={class:new yr.scalarAttr("n-delivery i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.place="snippet",t["n-delivery"]=e,t}()))),s+=Li(i),""!=Bi(c)&&(s+='<div class="n-delivery__info">',s+='<span class="n-delivery__text">',s+=c,s+="</span>",s+="</div>"),"pickup"!=t.f("f97",e,n,r,Ni("delivery",e,[]))&&(s+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var t={};return t.text="Есть самовывоз",t.withIcon=!1,t}())),l&&(s+='<div class="n-delivery__popup">',s+=l,s+="</div>"),s+="</div>",s+="</div>"}return s},zi.t422.j=_p,zi.t422.a=0,zi.t423=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-snippet-card2__complain")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.hasHint=!0,t}()),s+=Li(i),s+="</div>"},zi.t423.j=sy,zi.t423.a=0,zi.t424=function(t,e,n,r,i,s){function a(t,e,n,r){return""!=yr.externals["n-normalize-space"](Ii(t.s(ps,e)))}function o(t,e,n,r){return n<d}var c="",l=!1;l=!!yr.exists(t.s(Cf,e));var u=l,d=t.f("f46",e,n,r,!1,u),p=[0,"specs",0,"friendly",2,a,2,o];c+=Li(i),c+='<ul class="n-snippet-card2__desc n-snippet-card2__desc_type_list">';for(var h=t.s(p,e),f=0,_=h.length;f<_;f++){var m=h[f];c+='<li class="n-snippet-card2__desc-item">',c+=yr.externals["n-str-castrator"](Ii(t.s(ps,m)),85),c+="</li>"}return c+="</ul>"},zi.t424.j=Wp,zi.t424.a=0,zi.t425=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-snippet-card2__desc n-snippet-card2__desc_type_text">',a+=Ti(t.s(If,e)),a+="</div>"},zi.t425.j=Of,zi.t425.a=0,zi.t426=function(t,e,n,r,i,s){function a(t,e,n,r){return n<d}var o="",c=!1;c=!!yr.exists(t.s(Cf,e));var l=c,u=t.f("f46",e,n,r,!1,l),c="";c+=Ai("offer",Ni("entity",e,[]))?u-2:u;var d=c,p=Ni("filters",e,[]).length;if(o+=Li(i),p>0){var h=[0,"filters",2,D,2,a];o+="<ul",i.a={class:new yr.scalarAttr("n-snippet-card2__desc n-snippet-card2__desc_type_list")},i.s="ul";for(var f=t.s(h,e),_=0,m=f.length;_<m;_++){var v=f[_];o+=t.a(t,0,t.s(ps,v),"n-product-kind-params",i)}o+=t.a(t,0,Ni("filters",e,[]),"n-product-kind-params-size",i),o+=Li(i),o+="</ul>"}else Ci(Ni("description",e,[]))&&(o+='<div class="n-snippet-card2__desc n-snippet-card2__desc_type_text">',o+=yr.externals["n-str-castrator"](Di("description",e),230),o+="</div>");return o},zi.t426.j=jf,zi.t426.a=0,zi.t427=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(t.s(Ka,e))&&(a+='<div class="n-snippet-card2__shop-comment">',a+="Загрузка через интернет",a+="</div>"),Ci(t.s(Xa,e))&&(a+='<div class="n-snippet-card2__shop-comment">',a+=Ti(t.s(Xa,e)),a+="</div>"),(Ci(t.s(Qa,e))||Ci(t.s(Ja,e)))&&(a+='<div class="n-snippet-card2__shop-comment">',Ci(t.s(Qa,e))&&(a+="Гарантия производителя",Ci(t.s(Ja,e))&&(a+=". ")),Ci(t.s(Ja,e))&&(a+="Производство: ",a+=Ti(t.s(Ja,e))),a+="</div>"),a},zi.t427.j=_p,zi.t427.a=0,zi.t428=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class="n-snippet-card2__bundle-limit",t}())},zi.t428.j=_p,zi.t428.a=0,zi.t429=function(t,e,n,r,i,s){var a="",o=!Ai(213,t.n(bd,yr.object2nodeset(s)))&&Ai("details",t.n(Sa,yr.object2nodeset(s))),c=Ni("isPromotedByVendor",e,[]);return a+=Li(i),a+=Ci(c)?"offer-card":o?"clickout":Ti(t.n(Sa,yr.object2nodeset(s)))},zi.t429.j=Hi,zi.t429.a=0,zi.t430=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-adult-snippet",i,"card2")},zi.t430.j=bf,zi.t430.a=0,zi.t431=function(t,e,n,r,i){var s="";return s+=Li(i),Ri("isInternal",e.doc.root)&&Ai("1",t.s(Pf,e.doc.root))&&(s+='<div class="n-snippet-card2__debug-info">',s+="<div",i.a={class:new yr.scalarAttr("n-debug-info")},i.s="div",s+=t.a(t,0,Ni("*",e,[]),"n-debug-info__item",i),s+=Li(i),s+="</div>",s+="</div>"),s},zi.t431.j=vf,zi.t431.a=0,zi.t432=function(t,e,n,r,i){var s="",a=Ai("1",t.n(ay,t.v("v25",e.doc.root))),o=Ni("classifierMagicId",e,[]),c=t.s(Vp,e);if(s+=Li(i),(Ci(o)||Ci(c))&&a){if(s+='<div class="n-mbo-toolbar">',Ci(o)){s+="<a",i.a={class:new yr.scalarAttr("n-mbo-toolbar__link link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var l="";l+="//mbo.market.yandex.ru/simple_classifier/MboClassifier.xml?classifier_magic_id=",l+=Ii(o),i.a.href=new yr.scalarAttr(l),s+=Li(i),s+="[mbo]",s+="</a>"}Ci(c)&&(s+="<a",i.a={class:new yr.scalarAttr("n-mbo-toolbar__link link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/tt/kd/edit.xml?entity-id="+Ii(c)),s+=Li(i),s+=Ti(c),s+="</a>"),s+=t.f("f154",e,n,r,i,function(){var t={};return t.id=yr.nodeset2data(o),t}()),s+="</div>"}return s},zi.t432.j=_p,zi.t432.a=0,zi.t433=function(t,e,n,r,i){var s="",a=Ai("1",t.n(ay,t.v("v25",e.doc.root))),o=Ni("id",e,[]);return s+=Li(i),Ci(o)&&a&&(s+='<div class="n-mbo-toolbar">',s+="<a",i.a={class:new yr.scalarAttr("n-mbo-toolbar__link link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/gwt/#cluster/clusterId="+Ii(o)),s+=Li(i),s+=Ti(o),s+="</a>",s+=t.f("f154",e,n,r,i,function(){var t={};return t.id=yr.nodeset2data(o),t}()),s+="</div>"),s},zi.t433.j=oy,zi.t433.a=0,zi.t434=function(t,e,n,r,i,s){function a(t,e,n,r){return n<p}var o="",c="",l={a:{}};c+=Ci(t.n(Ta,yr.object2nodeset(s)))?Ii(t.n(Ta,yr.object2nodeset(s))):"clrbtn";var u=c,c="",l={a:{}};c+=t.a(t,0,t.n(Qd,yr.object2nodeset(s)),"i-link__product",l,function(){var t={};return t.track=u,t}());var d=c,c="",l={a:{}};c+=Ci(t.n(Mu,yr.object2nodeset(s)))?Ii(t.n(Mu,yr.object2nodeset(s))):8;var p=c;if(o+=Li(i),o+='<div class="n-snippet-color-set">',o+="<div",i.a={class:new yr.scalarAttr("n-snippet-color-set__items")},i.s="div",p&&Ni("values",e,[]).length>p){var h=[0,"values",2,a];o+=t.a(t,0,t.s(h,e),"n-snippet-color-set__item",i,function(){var e={};return e.showName=yr.nodeset2data(t.n($d,yr.object2nodeset(s))),e}())}else o+=t.a(t,0,Ni("values",e,[]),"n-snippet-color-set__item",i,function(){var e={};return e.showName=yr.nodeset2data(t.n($d,yr.object2nodeset(s))),e}());return o+=Li(i),o+="</div>",Ni("values",e,[]).length>p&&(o+="<a",i.a={class:new yr.scalarAttr("link i-bem")},i.s="a",i.a.href=new yr.xmlAttr(Bi(d)),o+=Li(i),o+="+"+Pi(Ni("values",e,[]).length-p),o+="</a>"),o+="</div>"},zi.t434.j=Jd,zi.t434.a=0,zi.t435=function(t,e,n,r,i,s){var a="",o=yr.externals["n-str-to-lower"](Di("code",e));return a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("n-snippet-color-set__item"),title:new yr.scalarAttr(Ii(Ni("value",e,[]))),style:new yr.scalarAttr("background-color: "+Ii(Ni("code",e,[])))},i.s="span",Ai("разноцветный",Ni("value",e,[]))||Ai("разноцветный",Ni("group",e,[]))?i.a["data-color"]=new yr.scalarAttr("multi"):i.a["data-color"]=new yr.scalarAttr(o),a+=Li(i),a+="</span>"},zi.t435.j=Hi,zi.t435.a=0,zi.t436=function(t,e,n,r,i){var s="";return s+=Li(i),Ci(Ni("awapsUrl",e,[]))&&(s+='<img width="0" height="0" src="'+Si(Ni("awapsUrl",e,[]))+'"/>'),Ci(Ni("adfoxUrl",e,[]))&&(s+='<img class="i-banner__stats" width="0" height="0" src="'+Si(Ni("adfoxUrl",e,[]))+'"/>'),Ci(Ni("clientUrl",e,[]))&&(s+='<img width="0" height="0" src="'+Si(Ni("clientUrl",e,[]))+'"/>'),s},zi.t436.j=cy,zi.t436.a=0,zi.t437=function(t,e,n,r,i,s){var a="",o=Ai("real",Ni("cpa",e,[])),c=!1;c=!yr.exists(t.n(ly,yr.object2nodeset(s)))||Ci(t.n(ly,yr.object2nodeset(s)));var l=c,u=yr.externals["n-merge-nodes"](yr.object2nodeset(function(){var i={};if(i["n-snippet-cell"]=yr.nodeset2data(yr.externals["n-merge-nodes"](yr.object2nodeset(function(){var i={},a="";return a+=Ai("offer",Ni("entity",e,[]))?t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e))?"offer-card":"offer":Ci(Ni("type",e,[]))?Di("type",e):"",i.type=a,i}()),t.n(pf,yr.object2nodeset(s)))),Ci(t.n(uf,yr.object2nodeset(s)))&&!Ri("outdated",e)){var a={},o={};o.id=yr.externals["n-js-path"](Ii(t.n(uf,yr.object2nodeset(s))),yr.externals["n-nodeset-to-object"](t.s(ps,e))),a.item=o,i["selectable-item"]=a}if(Ci(Ni("wish",e,[]))){var a={},o={};o.id=yr.nodeset2data(t.s(df,e)),a.item=o,i["n-wish"]=a}return i}()),t.n(uy,yr.object2nodeset(s))),d=Ai("models-only",t.n(Va,t.v("v23",e.doc.root)))&&!Ai("offer",Ni("entity",e,[])),p=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-list__item island i-bem")},i.s="div",Ci(t.n(gs,yr.object2nodeset(s)))){var h=i.a.class;h?i.a.class=h.addscalar(" "+Ii(t.n(gs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(gs,yr.object2nodeset(s))))}if(Ri("wish",e)&&Ri("outdated",e)&&(i.a["data-is-outdated"]=new yr.scalarAttr("true")),Ci(Ni("isPromotedByVendor",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" n-snippet-cell_type_promoted"):i.a.class=new yr.scalarAttr(" n-snippet-cell_type_promoted")}if(Ai("offer",Ni("entity",e,[]))){var f=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(t.f("f99",e,n,r,t.s(ps,e)))),_=yr.externals["n-merge-nodes"](f,u),h=i.a.class;
if(h?i.a.class=h.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),o){var h=i.a.class;h?i.a.class=h.addscalar(" snippet-cell_cpa_yes offer metrika"):i.a.class=new yr.scalarAttr(" snippet-cell_cpa_yes offer metrika")}if(Ci(Ni("isPromotedByVendor",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}if(i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[]))),Ai("real",Ni("cpa",e,[]))){var m=yr.externals["n-merge-nodes"](_,yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](m))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](_))}else Ai("product",Ni("entity",e,[]))&&(i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](u)));return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("stickers")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted-inner",i),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_new",i,t.n(Ta,yr.object2nodeset(s))),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promo",i,yr.externals["n-merge-objects"](s,function(){var t={};return t.withPopupOfferInfo=!0,t.entityType="snippet",t}())),p||d||(a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_discount",i,Ii(t.n(Ta,yr.object2nodeset(s))))),a+=Li(i),a+="</div>",a+=t.f("f166",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e.isFullHeader=!0,e}())),Ci(t.n(Oa,yr.object2nodeset(s)))&&(a+=t.f("f159",e,n,r,i,t.s(ps,e),Ii(t.n(dy,yr.object2nodeset(s))))),a+=t.f("f161",e,n,r,i,t.s(ps,e),Ii(t.n(Ta,yr.object2nodeset(s))),yr.object2nodeset(function(){var e={};return e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s))),e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}())),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__footer")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__action",i,function(){var e={};return e.subscriptions=yr.nodeset2data(t.n(_f,yr.object2nodeset(s))),e.showSubscriptions=yr.nodeset2data(t.n(mf,yr.object2nodeset(s))),e.shouldPassFilters=l,e.track=yr.nodeset2data(t.n(py,yr.object2nodeset(s))),e.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),e}()),a+=Li(i),a+="</div>",Ci(t.n(uf,yr.object2nodeset(s)))&&!Ri("outdated",e)&&(a+=t.a(t,0,t.s(ps,e),"selectable-item",i)),a+="</div>"},zi.t437.j=qd,zi.t437.a=0,zi.t438=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-adult-snippet",i,"cell")},zi.t438.j=bf,zi.t438.a=0,zi.t439=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.entity=yr.nodeset2data(Ni("type",e,[])),t.id=yr.nodeset2data(Ni("id",e,[])),t}())))},zi.t439.j=hy,zi.t439.a=0,zi.t440=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={};return n.entity=yr.nodeset2data(Ni("entity",e,[])),n.id=yr.nodeset2data(Ni("id",e,[])),n.minPrice=yr.nodeset2data(t.s($a,e)),n}())))},zi.t440.j=Wp,zi.t440.a=0,zi.t441=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.entity=yr.nodeset2data(Ni("entity",e,[])),t.id=yr.nodeset2data(Ni("id",e,[])),t}())))},zi.t441.j=Sh,zi.t441.a=0,zi.t442=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.entity=yr.nodeset2data(Ni("entity",e,[])),t.wareId=yr.nodeset2data(Ni("wareId",e,[])),Ci(Ni("meta",e,[]))&&(t.meta=yr.nodeset2data(Ni("meta",e,[]))),t}())))},zi.t442.j=_p,zi.t442.a=0,zi.t443=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.entity=yr.nodeset2data(Ni("entity",e,[])),t.id=yr.nodeset2data(Ni("id",e,[])),t.type=yr.nodeset2data(Ni("type",e,[])),t}())))},zi.t443.j=Ch,zi.t443.a=0,zi.t444=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={};n.entity=yr.nodeset2data(Ni("entity",e,[]));var r=[],i=[0,"tags",3,0];r.push(Ii(t.s(i,e))),n.tags=r;var r={};return r.entity=yr.nodeset2data(t.s(_y,e)),r.id=yr.nodeset2data(t.s(my,e)),n.subEntity=r,n}())))},zi.t444.j=fy,zi.t444.a=0,zi.t445=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Pi(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.entity=yr.nodeset2data(Ni("entity",e,[])),t}())))},zi.t445.j=vy,zi.t445.a=0,zi.t446=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Ti(t.s(ps,e))},zi.t446.j=Hi,zi.t446.a=0,zi.t447=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<p",i.a={class:new yr.scalarAttr("mbo-page-text__paragraph"),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="p",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</p>"},zi.t447.j=yy,zi.t447.a=0,zi.t448=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr(Ii(t.s(ky,e)))},i.s="a",Ci(t.n(Ey,yr.object2nodeset(s)))){i.a.href=new yr.scalarAttr(Ii(t.s(wy,e)));var o=i.a.class;o?i.a.class=o.addscalar(" metrika i-bem"):i.a.class=new yr.scalarAttr(" metrika i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f156",e,n,r,function(){var e={},n={};return n.target=yr.nodeset2data(t.n(Ey,yr.object2nodeset(s))),e.mbolayoutWidgets=n,e}()))))}else i.a.href=new yr.scalarAttr(t.f("f41",e,n,r,Ii(t.s(wy,e)),"track",Ii(t.n(Ta,yr.object2nodeset(s)))));return a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</a>"},zi.t448.j=gy,zi.t448.a=0,zi.t449=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<b",i.a={class:new yr.scalarAttr("mbo-page-text__bold")},i.s="b",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</b>"},zi.t449.j=xy,zi.t449.a=0,zi.t450=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<br/>"},zi.t450.j=My,zi.t450.a=0,zi.t451=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<h1",i.a={class:new yr.scalarAttr("title title_size_32 mbo-header"),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="h1",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</h1>"},zi.t451.j=Ay,zi.t451.a=0,zi.t452=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<h2",i.a={class:new yr.scalarAttr("title title_size_22 mbo-header"),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="h2",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</h2>"},zi.t452.j=Ty,zi.t452.a=0,zi.t453=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<h3",i.a={class:new yr.scalarAttr("title title_size_18 mbo-header"),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="h3",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</h3>"},zi.t453.j=Cy,zi.t453.a=0,zi.t454=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<strong",i.a={class:new yr.scalarAttr("mbo-page-text__bold")},i.s="strong",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</strong>"},zi.t454.j=Sy,zi.t454.a=0,zi.t455=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<em",i.a={class:new yr.scalarAttr("mbo-page-text__italic")},i.s="em",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</em>"},zi.t455.j=Iy,zi.t455.a=0,zi.t456=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<i",i.a={class:new yr.scalarAttr("mbo-page-text__italic")},i.s="i",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</i>"},zi.t456.j=Oy,zi.t456.a=0,zi.t457=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("mbo-page-text__underline")},i.s="span",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</span>"},zi.t457.j=jy,zi.t457.a=0,zi.t458=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<sup",i.a={},i.s="sup",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</sup>"},zi.t458.j=Py,zi.t458.a=0,zi.t459=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<ul",i.a={class:new yr.scalarAttr("mbo-page-text__list mbo-page-text__list_type_bullet")},i.s="ul",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</ul>"},zi.t459.j=By,zi.t459.a=0,zi.t460=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<ol",i.a={class:new yr.scalarAttr("mbo-page-text__list mbo-page-text__list_type_numeric"),type:new yr.scalarAttr("1")},i.s="ol",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</ol>"},zi.t460.j=Dy,zi.t460.a=0,zi.t461=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<li",i.a={},i.s="li",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</li>"},zi.t461.j=Ry,zi.t461.a=0,zi.t462=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<table",i.a={class:new yr.scalarAttr("mbo-table")},i.s="table",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</table>"},zi.t462.j=Ny,zi.t462.a=0,zi.t463=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<caption",i.a={class:new yr.scalarAttr("mbo-table__caption")},i.s="caption",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</caption>"},zi.t463.j=Ly,zi.t463.a=0,zi.t464=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<thead",i.a={class:new yr.scalarAttr("mbo-table__head")},i.s="thead",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</thead>"},zi.t464.j=Fy,zi.t464.a=0,zi.t465=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<tbody",i.a={class:new yr.scalarAttr("mbo-table__body")},i.s="tbody",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</tbody>"},zi.t465.j=Uy,zi.t465.a=0,zi.t466=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<tr",i.a={class:new yr.scalarAttr("mbo-table__row"),colspan:new yr.scalarAttr(Ii(t.s(qy,e))),rowspan:new yr.scalarAttr(Ii(t.s(Hy,e))),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="tr",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</tr>"},zi.t466.j=zy,zi.t466.a=0,zi.t467=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<td",i.a={class:new yr.scalarAttr("mbo-table__col"),colspan:new yr.scalarAttr(Ii(t.s(qy,e))),rowspan:new yr.scalarAttr(Ii(t.s(Hy,e))),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="td",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</td>"},zi.t467.j=Vy,zi.t467.a=0,zi.t468=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<th",i.a={class:new yr.scalarAttr("mbo-table__col_type_row-head"),colspan:new yr.scalarAttr(Ii(t.s(qy,e))),rowspan:new yr.scalarAttr(Ii(t.s(Hy,e))),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="th",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</th>"},zi.t468.j=Gy;zi.t468.a=0;zi.t469=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<td",i.a={class:new yr.scalarAttr("mbo-table__col_type_head"),colspan:new yr.scalarAttr(Ii(t.s(qy,e))),rowspan:new yr.scalarAttr(Ii(t.s(Hy,e))),style:new yr.scalarAttr(Ii(t.s(by,e)))},i.s="td",a+=t.a(t,0,Ni("content",e,[]),"n-wysiwyg-text",i,s),a+=Li(i),a+="</td>"},zi.t469.j=Wy,zi.t469.a=0,zi.t470=function(t,e,n,r,i,s,a){function o(t,e,n,r){return Mi(Ni("modelId",e,[]),h)}var c="",l=!1;l=!yr.exists(t.n(mf,yr.object2nodeset(s)))||Ci(t.n(mf,yr.object2nodeset(s)));var u=l;if(c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("snippet-cell__action i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={};return e["snippet-cell__action"]="",e.metrika=yr.nodeset2data(t.n(Yy,yr.object2nodeset(s))),e}()))),Ii(t.s(hl,e))>0){c+=Li(i),c+="<a",i.a={class:new yr.scalarAttr("button button_size_xs button_to_prices button_theme_normal i-bem")},i.s="a";var l="",d={a:{}};if(l+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",d,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(l),Ci(t.n(ly,yr.object2nodeset(s)))){var l="",d={a:{}};l+=Li(d),l+='{"button":{}, "n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(l);var p=i.a.class;p?i.a.class=p.addscalar(" n-smart-link "):i.a.class=new yr.scalarAttr(" n-smart-link ")}c+=Li(i),c+='<span class="button__text">',c+="Цены ",c+='<span class="small">'+Ti(t.s(hl,e))+"</span>",c+="</span>",c+="</a>"}else if(u){var h=Ni("id",e,[]),f=[0,"subscriptions",2,o],_=t.n(f,yr.object2nodeset(s));c+=t.a(t,0,t.s(ps,e),"n-product-subscribe-button",i,_,"small")}return c+=Li(i),c+="</div>",c+=t.f("f158",e,n,r,i,t.s(ps,e),a,t.n(Ky,yr.object2nodeset(s)))},zi.t470.j=Wp,zi.t470.a=0,zi.t471=function(t,e,n,r,i,s,a){var o="";if(Ci(t.s(po,e))||Ci(t.s($a,e))){var c={};c.place="snippet",Ci(t.n(Pa,yr.object2nodeset(s)))&&(c.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),Ci(t.n(pc,yr.object2nodeset(s)))&&(c.spinner=yr.nodeset2data(t.n(hc,yr.object2nodeset(s))),c.needSpinner=yr.nodeset2data(t.n(pc,yr.object2nodeset(s)))),c.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s)));var l=c;o+=Li(i),o+='<div class="snippet-cell__action">',o+=t.f("f102",e,n,r,i,t.s(ps,e),l),o+="</div>"}else o+=t.a(t,0,t.s(ps,e),"n-find-in-other-shop",i,"snippet","short");return o+=Li(i),o+=t.f("f158",e,n,r,i,t.s(ps,e),a,t.n(mc,yr.object2nodeset(s)))},zi.t471.j=_p,zi.t471.a=0,zi.t472=function(t,e,n,r,i){var s="",a=yr.externals["n-str-plural"](Di("categoriesCount",e),"категория","категории","категорий");s+=Li(i),s+='<div class="n-snippet-cell__category">',s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"i-link__vendor",c),i.a.href=new yr.xmlAttr(o),s+=Li(i),s+=Ti(Ni("categoriesCount",e,[]))+" "+Pi(a),s+="</a>",s+="</div>"},zi.t472.j=Xy,zi.t472.a=0,zi.t473=function(t,e,n,r,i){var s="",a=[0,"categories",3,0,0,"name"];s+=Li(i),s+='<div class="n-snippet-cell__category">',s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"i-link__category",c),i.a.href=new yr.xmlAttr(o),s+=Li(i),s+=Ti(t.s(a,e)),s+="</a>",s+="</div>"},zi.t473.j=Qy,zi.t473.a=0,zi.t474=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-snippet-cell__complain-control">',s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("classifierMagicId",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("classifierMagicId",e,[]))+'">мимо</label>',s+="</span>",s+="</div>"},zi.t474.j=Mf,zi.t474.a=0,zi.t475=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-snippet-cell__complain-control">',s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_cluster-complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("id",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("id",e,[]))+'">мимо</label>',s+="</span>",s+="</div>"},zi.t475.j=Af,zi.t475.a=0,zi.t476=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Ri("opinions",e)?Di("opinions",e):0;var l=o;if(a+=Li(i),a+='<div class="snippet-cell__details">',l>0){a+="<a",i.a={class:new yr.scalarAttr("link link_type_reviews")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-reviews_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(t.n(iy,yr.object2nodeset(s)))&&(n.cpaofferId=yr.nodeset2data(t.n(iy,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Pi(l)+" "+Pi(yr.externals["n-str-plural"](l,"отзыв","отзыва","отзывов")),a+="</a>"}if(Ii(t.s(hl,e))>0){a+="<a",i.a={class:new yr.scalarAttr("link link_type_noffers")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>"}return a+="</div>"},zi.t476.j=Wp,zi.t476.a=0,zi.t477=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="snippet-cell__content">',a+=t.f("f164",e,n,r,i,t.s(ps,e)),Ii(t.s(hl,e))>0&&(a+=t.f("f165",e,n,r,i,t.s(ps,e),Ii(t.n(Ta,yr.object2nodeset(s))))),a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+="</div>"},zi.t477.j=Wp,zi.t477.a=0,zi.t478=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content")},i.s="div",Ai("real",Ni("cpa",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__price",i,s),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__promocode")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),a+=Li(i),a+="</div>",a+='<div class="snippet-cell__shop">',a+="<a",i.a={class:new yr.scalarAttr("link link_outer_yes link_theme_gray link_type_shop-name shop-history__link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var c="",l={a:{}};return c+=t.a(t,0,t.s(ps,e),"i-link__offer",l),i.a.href=new yr.xmlAttr(c),a+=Li(i),a+=Ti(t.s(Ya,e)),a+="</a>",a+="</div>",a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__bundle-limit",i,function(){var t={};return t.metrikaEvent="onPixelsVisible",t}()),a+="</div>"},zi.t478.j=_p,zi.t478.a=0,zi.t479=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content")},i.s="div",Ai("real",Ni("cpa",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__price",i,s),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__promocode")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-product-kind-params-list",i,function(){var t={};return t.mix="snippet-cell__desc-list",t.showColorName=!1,t.count=3,t}()),a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__bundle-limit",i,function(){var t={};return t.metrikaEvent="onPixelsVisible",t}()),a+="</div>"},zi.t479.j=_p,zi.t479.a=0,zi.t480=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content")},i.s="div",Ai("real",Ni("cpa",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__price")},i.s="div",Ci(t.s($a,e))&&(i.a["data-min-price"]=new yr.scalarAttr(Ii(t.s($a,e)))),a+=t.a(t,0,Ni("prices",e,[]),"n-price__html-wrapper",i,function(){var t={},e={},n={};n.required=!0,e.currency=n,t.price=e;var e={};return e.required=!1,t.discount=e,t}()),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__promocode")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),a+=Li(i),a+="</div>",a+='<div class="snippet-cell__shop">',a+=Ti(t.s(Ya,e)),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-product-kind-params-list",i,function(){var t={};return t.mix="snippet-cell__desc-list",t.showColorName=!1,t.count=3,t}()),a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__bundle-limit",i),a+="</div>"},zi.t480.j=_p,zi.t480.a=0,zi.t481=function(t,e,n,r,i,s){var a="",o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e)),c=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__shop")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i),Ci(Ni("shop",e,[]))&&(a+=t.a(t,0,t.s(ps,e),"n-foreign-shop-country",i),a+=Li(i),t.f("f40",e,n,r,t.s(ps,e))||o?(a+='<a class="link link_outer_yes link_theme_outer link_type_shop-name shop-history__link" href="'+Oi(c)+'" target="_blank" rel="nofollow noopener">',a+=Ii(t.s(Ya,e)),a+="</a>"):(a+="<span>",a+=Ii(t.s(Ya,e)),a+="</span>"),a+=t.f("f113",e,n,r,i,t.s(ps,e)),Ii(t.s(Jy,e))>=1&&Ci(t.s(ch,e)))){a+='<div class="snippet-cell__shop__geo">',a+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a";var l="",u={a:{}};l+=t.a(t,0,t.s(ps,e),"i-link__offer__geo",u),i.a.href=new yr.xmlAttr(l),a+=Li(i),a+="Посмотреть на карте",a+="</a>",a+="</div>"}return a+=Li(i),a+="</div>"},zi.t481.j=_p,zi.t481.a=0,zi.t482=function(t,e,n,r,i,s){function a(t,e,n,r){return n<d}var o="",c=!1;c=t.s(Tf,e).length>0;var l=c,c=!1;c=!!yr.exists(t.s(Cf,e));var u=c,d=t.f("f46",e,n,r,l,u),p=[0,"specs",0,"friendly",2,a];o+=Li(i),o+='<ul class="snippet-cell__desc-list">';for(var h=t.s(p,e),f=0,_=h.length;f<_;f++){var m=h[f];o+='<li class="snippet-cell__desc-item">',o+=yr.externals["n-str-castrator"](Ii(t.s(ps,m)),85),o+="</li>",o+=t.a(t,0,Ni("filters",m,[]),"n-product-kind-params-size",i)}return l&&(o+=t.a(t,0,t.s(Sf,e),"n-color-set",i,function(){var n={};return n.limit=4,n.class="snippet-cell__desc-item",n.product=yr.nodeset2data(t.s(ps,e)),s&&(n.track=s),n}())),o+="</ul>"},zi.t482.j=Wp,zi.t482.a=0,zi.t483=function(t,e,n,r,i,s){function a(t,e,n,r){return n<d}var o="",c=!1;c=t.s(Tf,e).length>0;var l=c,c=!1;c=!!yr.exists(t.s(Cf,e));var u=c,d=t.f("f46",e,n,r,l,u),p=Ni("filters",e,[]).length,h=[0,"filters",2,D,2,a];o+=Li(i),o+="<ul",i.a={class:new yr.scalarAttr("snippet-cell__desc-list")},i.s="ul";for(var f=t.s(h,e),_=0,m=f.length;_<m;_++){var v=f[_];o+=t.a(t,0,t.s(ps,v),"n-product-kind-params",i)}return o+=t.a(t,0,Ni("filters",e,[]),"n-product-kind-params-size",i),l&&(o+=t.a(t,0,t.s(Sf,e),"n-color-set",i,function(){var n={};return n.limit=4,n.class="snippet-cell__desc-item",n.product=yr.nodeset2data(t.s(ps,e)),s&&(n.track=s),n}())),o+=Li(i),o+="</ul>",p<1&&Ri("description",e)&&(o+='<div class="snippet-cell__desc snippet-cell__desc_nowrap_yes">',o+=yr.externals["n-str-castrator"](Di("description",e),150),o+="</div>"),o},zi.t483.j=jf,zi.t483.a=0,zi.t484=function(t,e,n,r,i){var s="",a=i.a.class;a?i.a.class=a.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem");var o="";return o+='{"snippet-cell__header":{}}',i.a["data-bem"]=new yr.xmlAttr(o),s},zi.t484.j=Wp,zi.t484.a=0,zi.t485=function(t,e,n,r,i){var s="",a=Ni("classifierMagicId",e,[]),o=t.s(Vp,e);return s+=Li(i),Ci(a)&&(s+="<a",i.a={class:new yr.scalarAttr("snippet-cell__header-extra link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/simple_classifier/MboClassifier.xml?classifier_magic_id="+Ii(a)),s+=Li(i),s+="[mbo]",s+="</a>"),Ci(o)&&(s+="<a",i.a={class:new yr.scalarAttr("snippet-cell__header-extra link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/tt/kd/edit.xml?entity-id="+Ii(o)),s+=Li(i),s+=Ti(o),s+="</a>"),s},zi.t485.j=Mf,zi.t485.a=0,zi.t486=function(t,e,n,r,i){var s="",a=Ni("id",e,[]);return s+=Li(i),Ci(a)&&(s+="<a",i.a={class:new yr.scalarAttr("snippet-cell__header-extra link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr("//mbo.market.yandex.ru/gwt/#cluster/clusterId="+Ii(a)),s+=Li(i),s+=Ti(a),s+="</a>"),s},zi.t486.j=Af,zi.t486.a=0,zi.t487=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,s))&&(n.track=yr.nodeset2data(t.n(Ta,s))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o,o="",c={a:{}};o+=Ai("small",t.n(is,s))?75:200;var u=o;return a+=Li(i),a+='<a class="snippet-cell__image link" href="'+ji(l)+'">',a+=t.f("f66",e,n,r,i,t.s(ps,e),u,!1,Ai("small",t.n(is,s))),Di("rating",e)>0&&(a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}())),a+="</a>"},zi.t487.j=Zy,zi.t487.a=0,zi.t488=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<span class="snippet-cell__image">',a+=t.f("f66",e,n,r,i,t.s(ps,e),200),a+="</span>"},zi.t488.j=tb,zi.t488.a=0,zi.t489=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var t={};return Ci(s)&&(t.track=yr.nodeset2data(s)),Ci(Ni("showUid",e,[]))&&(t["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),t}());var l=o;return a+=Li(i),a+='<a class="snippet-cell__image link" href="'+ji(l)+'">',a+=t.f("f66",e,n,r,i,t.s(ps,e),350),Di("rating",e)>0&&(a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}())),a+="</a>"},zi.t489.j=Zy,zi.t489.a=0,zi.t490=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+='<span class="snippet-cell__image">',a+=t.f("f66",e,n,r,i,t.s(ps,e),350),a+="</span>"},zi.t490.j=tb,zi.t490.a=0,zi.t491=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",o);var c=a;return s+=Li(i),s+=t.f("f4",e,n,r,i,Bi(c))},zi.t491.j=Hi,zi.t491.a=0,zi.t492=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__price")},i.s="div",Ci(t.s($a,e))&&(i.a["data-min-price"]=new yr.scalarAttr(Ii(t.s($a,e)))),a+=t.f("f81",e,n,r,i,t.s(ps,e),s),a+=Li(i),a+="</div>"},zi.t492.j=qd,zi.t492.a=0,zi.t493=function(t,e,n,r,i,s){var a="",o=[0,"categories",3,0],c=t.s(o,e);a+=Li(i),a+='<div class="snippet-cell__subheader">',a+="<a",i.a={class:new yr.scalarAttr("link "),title:new yr.scalarAttr(Ii(t.n(Os,c)))},i.s="a";var l="",u={a:{}};return l+=t.a(t,0,t.s(ps,e),"i-link__category",u,function(){var e={};return Ci(t.n(Rh,yr.object2nodeset(s)))&&(e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s)))),e}()),i.a.href=new yr.xmlAttr(l),a+=Li(i),a+=Ti(t.n(Os,c)),a+="</a>",a+="</div>"},zi.t493.j=nb,zi.t493.a=0,zi.t494=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var e={};return e.class="snippet-cell__bundle-limit",Ci(t.n(mp,yr.object2nodeset(s)))&&(e.metrikaEvent=yr.nodeset2data(t.n(mp,yr.object2nodeset(s)))),e}())},zi.t494.j=_p,zi.t494.a=0,zi.t495=function(t,e,n,r,i,s,a){var o="";return o+="tagged"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_tagged",i,a):"cpaBig"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_cpa-big",i,a):"simple"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_simple",i,a):"small"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_small",i,a):"recommendation"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_recommendation",i,a):"cheaper"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_cheaper",i,a):"section"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_section",i,a):"recommendation-small"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_recommendation-small",i,a):"list"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_list",i,a):t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_big",i,a)},zi.t495.j=Hi,zi.t495.a=0,zi.t496=function(t,e,n,r,i,s){var a="",o=t.s(rb,e);if(a+=Li(i),Ci(o)){a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-list__item snippet-cell_border_off "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_big__metrika",i,s),a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("mbo-entrypoint-banner"),style:new yr.scalarAttr("background-color: "+Ii(t.n(ib,o)))},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__cms-page",l,function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}()),i.a.href=new yr.xmlAttr(c),a+=Li(i),a+='<div class="mbo-entrypoint-banner__title">';for(var u=t.n(sb,o),d=0,p=u.length;d<p;d++){var h=u[d];a+="<div",i.a={},i.s="div",a+=t.a(t,0,t.s(ps,h),"n-wysiwyg-text",i),a+=Li(i),a+="</div>"}a+="</div>",a+='<div class="mbo-entrypoint-banner__image">',a+=t.f("f68",e,n,r,i,t.n(ab,o),function(){var e={};return e.defaultSrc=yr.nodeset2data(t.n(Sd,o)),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+="</div>",a+="</a>",a+="</div>"}return a},zi.t496.j=Ah,zi.t496.a=0,zi.t497=function(t,e,n,r,i,s){var a="",o=t.s(ob,e);if(a+=Li(i),Ci(o)){a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-list__item snippet-cell_border_off snippet-cell_type_collection "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_big__metrika",i,s),a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("mbo-entrypoint-banner"),style:new yr.scalarAttr("background-color: "+Ii(t.n(ib,o)))},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__cms-page",l,function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}()),i.a.href=new yr.xmlAttr(c),a+=Li(i),a+='<div class="mbo-entrypoint-banner__title">';for(var u=t.n(sb,o),d=0,p=u.length;d<p;d++){var h=u[d];a+="<div",i.a={},i.s="div",a+=t.a(t,0,t.s(ps,h),"n-wysiwyg-text",i),a+=Li(i),a+="</div>"}a+="</div>",a+=t.f("f68",e,n,r,i,t.n(ab,o),function(){var e={};return e.defaultSrc=yr.nodeset2data(t.n(Sd,o)),e.class="mbo-entrypoint-banner__banner",e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+="</a>",a+="</div>"}return a},zi.t497.j=Th,zi.t497.a=0,zi.t498=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell island "+Ii(t.n(gs,yr.object2nodeset(s)))+" i-bem b-zone")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};if(r.name="snippet",n["b-zone"]=r,Ci(t.n(cb,yr.object2nodeset(s)))){var r={};r.type=yr.nodeset2data(Ni("type",e,[]));var i={},a={},o={};o.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s)));var c=[],u={};u.content=yr.externals["n-parse"](Bi(l)),c.push(u),o.params=c,a.mbolayoutWidgets=o,i.click=a,r.goalPoints=i,n["snippet-cell"]=r}return n}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__head b-zone b-spy-events i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.name="head",t["b-zone"]=e,t["b-spy-events"]="",t}()))),a+=t.a(t,0,t.s(ps,e),"n-stickers",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=t.f("f171",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}())),a+=t.f("f170",e,n,r,i,t.s(ps,e),t.n(Rh,yr.object2nodeset(s))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__subheader",i,s),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content snippet-cell__content_type_small")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__price",i,function(){var e={};return e.convertCurrency=yr.nodeset2data(t.n(lb,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>",a+="</div>"},zi.t498.j=Wp,zi.t498.a=0,zi.t499=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o;if(Ci(t.n(cb,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" metrika i-bem"):i.a.class=new yr.scalarAttr(" metrika i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}()))))}return a},zi.t499.j=Hi,zi.t499.a=0,zi.t500=function(t,e,n,r,i,s){
var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_cpa-big snippet-list__item island i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",Ci(t.n(mc,yr.object2nodeset(s)))){var o=i.a.class;o?i.a.class=o.addscalar(" metrika"):i.a.class=new yr.scalarAttr(" metrika")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_cpa-big-attrs",i,s),a+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var e={},n={};return n.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e.metrika=n,e}()),a+=Li(i),a+=t.f("f166",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}())),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__content_cpa-big",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__footer")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__action",i,s,t.n(Rh,yr.object2nodeset(s))),a+=Li(i),a+="</div>",a+="</div>"},zi.t500.j=Hi,zi.t500.a=0,zi.t501=function(t,e,n,r,i,s){var a="",o={},c={};c.type="offer",o["snippet-cell"]=c;var c={},l={},u={};u.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),l.mbolayoutWidgets=u,c.onClick=l,o.metrika=c;var d=o,p=yr.externals["n-merge-nodes"](yr.object2nodeset(t.f("f99",e,n,r,t.s(ps,e))),yr.object2nodeset(d)),h=i.a.class;if(h?i.a.class=h.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),Ai("real",Ni("cpa",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" snippet-cell_cpa_yes offer metrika"):i.a.class=new yr.scalarAttr(" snippet-cell_cpa_yes offer metrika")}return i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[]))),Ai("real",Ni("cpa",e,[]))?i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.externals["n-merge-nodes"](p,yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet"))))):i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](p)),a},zi.t501.j=_p,zi.t501.a=0,zi.t502=function(t,e,n,r,i,s){var a="";return i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={},i="";i+=Ai("cluster",Ni("type",e,[]))||Ai("model",Ni("type",e,[]))?Di("type",e):"",r.type=i,n["snippet-cell"]=r;var r={},i={},a={};return a.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),i.mbolayoutWidgets=a,r.onClick=i,n.metrika=r,n}()))),a},zi.t502.j=Wp,zi.t502.a=0,zi.t503=function(t,e,n,r,i,s){var a="",o=t.s(ub,e),c="countdown-"+Ii(Ni("id",e,[]));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_section snippet-cell_type_collection i-bem metrika "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",Ci(o)&&Ci(t.n(Qv,o))&&Ci(t.n(c_,o))&&(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.counterId=c,t["n-snippet-cell"]=e,t}())))),Ii(t.s(f_,e))>0&&!Ci(t.s(fl,e))&&(a+=t.a(t,0,t.s(ps,e),"n-stickers",i,Ii(t.n(Rh,yr.object2nodeset(s))))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__head")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers",i),a+=Li(i),a+=t.f("f173",e,n,r,i,t.s(ps,e),Ii(t.n(Rh,yr.object2nodeset(s)))),a+=t.f("f170",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return Ci(t.n(Rh,yr.object2nodeset(s)))&&(e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s)))),e}())),a+=t.f("f159",e,n,r,i,t.s(ps,e),Ii(t.n(Rh,yr.object2nodeset(s)))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_section-price",i,s),a+="</div>",Ci(t.n(Ya,o))){var l=!1;l=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),o);var u=l,l="";l+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),o);var d=l;a+='<div class="snippet-cell__content">',a+='<div class="snippet-cell__shop">',t.f("f40",e,n,r,o)||u?(a+='<a class="link link_theme_outer" target="_blank" href="'+Oi(d)+'" rel="nofollow noopener">',a+=Ii(t.n(Ya,o)),a+="</a>"):a+=Ii(t.n(Ya,o)),a+="</div>",a+="</div>"}return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_section-footer",i),Ci(t.n(Va,t.v("v23",e.doc.root)))||(a+=t.f("f174",e,n,r,i,o)),Ci(o)&&Ci(t.n(Qv,o))&&Ci(t.n(c_,o))&&(a+='<div class="n-snippet-cell__countdown">',a+=t.f("f157",e,n,r,i,function(){var e={},n={};return n.endTime=yr.nodeset2data(t.n(c_,o)),n.counterId=c,e.params=n,e}()),a+="</div>"),a+="</div>"},zi.t503.j=Wp,zi.t503.a=0,zi.t504=function(t,e,n,r,i){var s="",a=t.s(ub,e);return s+=Li(i),s+='<div class="snippet-cell__footer">',s+="<div",i.a={class:new yr.scalarAttr("snippet-cell__action")},i.s="div",s+=t.a(t,0,a,"n-offer-action",i,function(){var i={},s={a:{}};return i.place="card",i.filters=yr.nodeset2data(Ni("filters",e,[])),i.entityType="intent",i.hasDetailsButton=!1,i.icon=!0,i.size="m",i.class="offer__pusher_state_in-cart",i.buttonClass="button",i.text=t.f("f69",e,n,r,s,a),i}()),s+=Li(i),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("snippet-cell__toolbar")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-toolbar",i,function(){var t={};return t.withCompare=!0,t.withoutLabel=!0,t}()),s+=Li(i),s+="</div>",s+="</div>"},zi.t504.j=Wp,zi.t504.a=0,zi.t505=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=t.s(hl,e);if(a+=Li(i),a+='<div class="snippet-cell__price">',Ii(o)>0){a+="<a",i.a={class:new yr.scalarAttr("link snippet-cell__noffers")},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__product-offers",l,function(){var n={};return Ci(t.n(Rh,s))&&(n.track=yr.nodeset2data(t.n(Rh,s))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(c),a+=Li(i),a+=Ti(o)+" "+Pi(yr.externals["n-str-plural"](Ii(o),"предложение","предложения","предложений"))+" от "+Ti(t.s($a,e))+" "+Pi(yr.externals["n-str-currency"](Ii(t.s(ho,e)))),a+="</a>"}return a+="</div>"},zi.t505.j=Wp,zi.t505.a=0,zi.t506=function(t,e,n,r,i,s){var a="",o={},c={a:{}};Ci(t.n(Rh,yr.object2nodeset(s)))&&(o.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))));var l=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__vendor",c,l);var u=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-images-set__item island metrika i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",Ci(t.n(cb,yr.object2nodeset(s)))&&(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={},r={},i={};return i.mbolayoutWidgets=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),r.click=i,n.goalPoints=r,e["snippet-cell"]=n,e}())))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=Li(i),a+='<a href="'+ji(u)+'" class="n-images-set__content link link_theme_minor" title="'+Si(Ni("name",e,[]))+'">',Ci(t.s(db,e))?(a+='<span class="n-images-set__image">',a+='<img src="'+Si(t.s(db,e))+'" class="image" alt="'+Si(Ni("name",e,[]))+'"/>',a+="</span>"):(a+='<span class="n-images-set__caption">',a+=Di("name",e),a+="</span>"),a+="</a>",Ci(t.n(pb,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__category",i)),a+="</div>"},zi.t506.j=Sh,zi.t506.a=0,zi.t507=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell island n-snippet-cell_cms_small i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",Ci(t.n(cb,yr.object2nodeset(s)))&&(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={},r={},i={};return i.mbolayoutWidgets=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),r.click=i,n.goalPoints=r,e["snippet-cell"]=n,e}())))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=t.f("f171",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.size="small",e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}())),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__content")},i.s="div",a+=t.f("f170",e,n,r,i,t.s(ps,e),t.n(Rh,yr.object2nodeset(s))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__price",i,function(){var e={};e.convertCurrency=yr.nodeset2data(t.n(lb,yr.object2nodeset(s)));var n={};return n.required=!1,e.discount=n,e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__subheader",i,s),a+=Li(i),a+="</div>",a+="</div>"},zi.t507.j=qd,zi.t507.a=0,zi.t508=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_simple metrika snippet-list__item i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={},r={},i={};return i.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),r.mbolayoutWidgets=i,n.onClick=r,e.metrika=n,e}()))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__head")},i.s="div",a+=t.f("f171",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e}())),a+=t.f("f170",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return Ci(t.n(Rh,yr.object2nodeset(s)))&&(e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s)))),Ci(t.n(Sa,yr.object2nodeset(s)))&&(e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s)))),e}())),a+=Li(i),a+="</div>",a+='<div class="snippet-cell__content">',a+='<div class="snippet-cell__price" data-min-price="'+Si(t.s($a,e))+'">',a+=Ii(t.s(hl,e))>0?t.f("f69",e,n,r,i,t.s(ps,e)):"Нет в продаже",a+="</div>",a+="</div>",a+="</div>"},zi.t508.j=qd,zi.t508.a=0,zi.t509=function(t,e,n,r,i,s){var a="",o=t.n(Rh,yr.object2nodeset(s)),c="",l={a:{}};c+=t.a(t,0,Ni("subEntity",e,[]),"i-link__product_place_search",l,function(){var t={};return Ci(o)&&(t.track=yr.nodeset2data(o)),t}());var u=c;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-cell_cms_tagged snippet-list__item i-bem")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_tagged__metrika",i,s),a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell__inner link"),href:new yr.scalarAttr(Bi(u))},i.s="a",Ni("tags",e,[]).length>0){var d=[0,"tags",3,0];Ci(t.n(Va,t.v("v23",e.doc.root)))&&Ai("discount",t.s(d,e))||(a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_tagged__headline",i))}else{var p=i.a.class;p?i.a.class=p.addscalar(" n-snippet-cell__inner_no_headline"):i.a.class=new yr.scalarAttr(" n-snippet-cell__inner_no_headline")}return a+=t.a(t,0,Ni("subEntity",e,[]),"n-snippet-cell_cms_tagged__main",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=Li(i),a+="</a>",a+=t.a(t,0,Ni("subEntity",e,[]),"n-snippet-cell_cms_tagged__navnode",i,o),a+="</div>"},zi.t509.j=fy,zi.t509.a=0,zi.t510=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-cell_cms_tagged snippet-list__item b-zone b-spy-visible b-spy-events i-bem snippet-cell_margin-bottom_none")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.name="snippet";var i={},s={};s.entity=yr.nodeset2data(Ni("entity",e,[]));var a=[];return a+=yr.exists(Ni("id",e,[]))?yr.nodeset2data(Ni("id",e,[])):yr.nodeset2data(Ni("wareId",e,[])),s.id=a,s.cheapestPrice=yr.nodeset2data(t.s(hb,e)),s.externalPrice=yr.nodeset2data(t.s(fb,e)),s.minCpaOfferPrice=yr.nodeset2data(t.s(_b,e)),i.entity=s,i.type="cheapRecommendations",r.data=i,n["b-zone"]=r,n["b-spy-visible"]="",n["b-spy-events"]="",n}()))),a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell__inner link n-snippet-cell__inner_no_headline")},i.s="a";var o="",c={a:{}};if(o+=t.a(t,0,t.s(ps,e),"i-link__product",c,function(){var t={};return t.track="index_cheaprecommendations",t}()),i.a.href=new yr.xmlAttr(o),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_tagged__main",i,function(){var t={},e={};return e.track="index_cheaprecommendations",t.metrika=e,t}()),a+=Li(i),a+="</a>",Ni("navnodes",e,[]).length>0){var l=[0,"navnodes",3,0],u=t.s(l,e);a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell__category link"),title:new yr.scalarAttr(Ii(t.n(Os,u)))},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__list",c,function(){var t={};return t.track="index_cheaprecommendations",t}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(Ci(t.n(mb,u))?t.n(mb,u):t.n(Os,u)),a+="</a>"}return a+="</div>"},zi.t510.j=Wp,zi.t510.a=0,zi.t511=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_big",i,function(){var e={};e.class="snippet-cell_cms_tagged snippet-list__item";var n={};return n.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),n.onSnippetClick=yr.nodeset2data(t.n(cb,yr.object2nodeset(s))),e.metrika=n,e}())},zi.t511.j=Ch,zi.t511.a=0,zi.t512=function(t,e,n,r,i,s){var a="",o=t.s(vb,e),c=[3,0,0,"densities"],l=[3,0,0,"densities",3,0,0,"url"],u=[3,0,0,"url"],d=[];d=yr.exists(t.n(c,o))?t.n(l,o):t.n(u,o);var p=d,h=[3,1,0,"densities"],f=[3,1,0,"densities",3,0,0,"url"],_=[3,1,0,"url"],d=[];d=yr.exists(t.n(h,o))?t.n(f,o):t.n(_,o);var m=d;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell snippet-cell_cms_tagged snippet-cell_type_banner snippet-list__item i-bem")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_tagged__metrika",i,s),a+=Li(i),a+='<a class="mbo-entrypoint-banner" href="'+Si(Ni("link",e,[]))+'">',a+="<img",i.a={class:new yr.scalarAttr("mbo-entrypoint-banner__banner"),src:new yr.scalarAttr(Ii(p))},i.s="img",Ci(m)&&(i.a.srcset=new yr.scalarAttr(Ii(m)+" 2x")),a+=Li(i),a+="",a+="</a>",a+=t.a(t,0,Ni("stats",e,[]),"i-banner__stats",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+="</div>"},zi.t512.j=vy,zi.t512.a=0,zi.t513=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=[0,"navnodes",3,0],c=t.s(o,e);a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell__category link"),title:new yr.scalarAttr(Ii(t.n(Os,c)))},i.s="a";var l="",u={a:{}};return l+=t.a(t,0,t.s(ps,e),"i-link__list",u,function(){var t={};return Ci(s)&&(t.track=yr.nodeset2data(s)),t}()),i.a.href=new yr.xmlAttr(l),a+=Li(i),a+=Ti(Ci(t.n(mb,c))?t.n(mb,c):t.n(Os,c)),a+="</a>"},zi.t513.j=yb,zi.t513.a=0,zi.t514=function(t,e,n,r,i){var s="",a=[0,"tags",3,0],o=t.s(a,e);return s+=Li(i),s+='<div class="n-snippet-cell__headline">',Ai("suggested",o)?s+="рекомендуем":Ai("nbo",o)?s+="рекомендуем":Ai("discount",o)?s+="скидки":Ai("bestseller",o)?s+="хит продаж":Ai("trend",o)&&(s+="товар недели"),Ci(t.s(bb,e))&&!Ci(t.n(Va,t.v("v23",e.doc.root)))&&(s+=t.a(t,0,t.s(bb,e),"n-snippet-cell__discount",i,o)),s+="</div>"},zi.t514.j=Hi,zi.t514.a=0,zi.t515=function(t,e,n,r,i,s){var a="",o=t.n(Rh,yr.object2nodeset(s)),c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",l,function(){var t={};return Ci(o)&&(t.track=yr.nodeset2data(o)),t}());return i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={},r="";return r+=Ai("cluster",Ni("type",e,[]))||Ai("model",Ni("type",e,[]))?Di("type",e):"",n.type=r,t["snippet-cell"]=n,t}()))),a+=Li(i),a+='<div class="snippet-cell__image link">',a+=t.f("f66",e,n,r,i,t.s(ps,e),200),a+="</div>",a+='<div class="snippet-cell__header">',a+=t.f("f168",e,n,r,i,t.s(ps,e)),a+="</div>",a+='<div class="n-snippet-cell__footer">',a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__price")},i.s="div",a+=t.a(t,0,Ni("prices",e,[]),"n-price__html-wrapper",i,function(){var t={},e={},n={};return n.required=!0,e.currency=n,t.price=e,t}()),a+=Li(i),a+="</div>",a+="</div>"},zi.t515.j=Wp,zi.t515.a=0,zi.t516=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o;if(Ci(t.n(cb,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" metrika"):i.a.class=new yr.scalarAttr(" metrika"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}()))))}return a},zi.t516.j=Hi,zi.t516.a=0,zi.t517=function(t,e,n,r,i){var s="",a={},o={},c="",l={a:{}};c+=Li(l),c+="Рейтинг модели ",c+=Ti(t.s(ps,e)),c+=" из 5",o.content=c,o.offset=15,a.hint=o;var u=a;return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell__rating hint i-bem")},i.s="div",i.a["date-rate"]=new yr.scalarAttr(t.f("f122",e,n,r,Ii(t.s(ps,e)))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u))),s+=Li(i),s+='<div class="n-snippet-cell__rating-text">',s+=Pi(yr.externals["n-math-to-fixed"](Ii(t.s(ps,e)),1)),s+="</div>",s+="</div>"},zi.t517.j=Ma,zi.t517.a=0,zi.t518=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";if(a+=Li(i),yr.externals["n-has-shop-discount"](t.s(ps,e))){if(a+="<span",i.a={class:new yr.scalarAttr("n-snippet-cell__discount")},i.s="span",!Ai("discount",s)){var o=i.a.class;o?i.a.class=o.addscalar(" n-snippet-cell__discount_with_dot"):i.a.class=new yr.scalarAttr(" n-snippet-cell__discount_with_dot")}a+=Li(i),a+=" до -"+Ti(Ni("percent",e,[]))+"%",a+="</span>"}return a},zi.t518.j=yo,zi.t518.a=0,zi.t519=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o,o={},c={a:{}};o.needSpinner=!0;var u={};Ci(t.n(gb,yr.object2nodeset(s)))&&(u.wishlist=t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(gb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}())),Ci(t.n(kb,yr.object2nodeset(s)))&&(u.cpa=t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(kb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}())),o.metrika=u;var d=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_recommendation island i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_recommendation-attrs",i,s),a+=Li(i),a+='<span class="snippet-cell__source">'+Ti(t.s(wb,e))+"</span>",a+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var e={},n={};return n.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e.metrika=n,e.showPromocode=!0,e}()),a+=t.f("f166",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var e={};return e.track=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),e.clickActionType="offer-card",e}())),a+=t.f("f159",e,n,r,i,t.s(ps,e),Ii(t.n(Rh,yr.object2nodeset(s)))),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__content_recommendation",i,s),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__footer")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__action",i,d,t.n(Rh,yr.object2nodeset(s))),a+=Li(i),a+="</div>",a+="</div>"},zi.t519.j=Hi,zi.t519.a=0,zi.t520=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o,u=t.f("f99",e,n,r,t.s(ps,e)),d=t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}());i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[])));var p=i.a.class;if(p?i.a.class=p.addscalar(" metrika shop-history"):i.a.class=new yr.scalarAttr(" metrika shop-history"),Ai("real",Ni("cpa",e,[]))){var p=i.a.class;p?i.a.class=p.addscalar(" snippet-cell_cpa_yes offer offer_action_no-popup"):i.a.class=new yr.scalarAttr(" snippet-cell_cpa_yes offer offer_action_no-popup")}if(Ai("real",Ni("cpa",e,[]))){var h=yr.externals["n-merge-nodes"](yr.object2nodeset(u),yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));Ci(t.n(cb,yr.object2nodeset(s)))?i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.externals["n-merge-nodes"](h,yr.object2nodeset(d)))):i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](h))}else Ci(t.n(cb,yr.object2nodeset(s)))?i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.externals["n-merge-nodes"](yr.object2nodeset(u),yr.object2nodeset(d)))):i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(u)));return a},zi.t520.j=_p,zi.t520.a=0,zi.t521=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o;if(i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),Ci(t.n(cb,yr.object2nodeset(s)))){var u=i.a.class;u?i.a.class=u.addscalar(" metrika"):i.a.class=new yr.scalarAttr(" metrika"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(cb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}()))))}return a},zi.t521.j=Wp,zi.t521.a=0,zi.t522=function(t,e,n,r,i,s){var a="",o=yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};if(r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(Ni("filters",e,[])),r.entityType="snippet",r.context="checkout",Ci(t.n(Rh,yr.object2nodeset(s)))){var i={},a={},o={};o.target=yr.nodeset2data(t.n(Rh,yr.object2nodeset(s))),a.mbolayoutWidgets=o,i.onClick=a,r.metrika=i}return n["n-i-offer-details-button"]=r,n}()));return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_recommendation-small i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_recommendation-attrs",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__pixel",i),a+=Li(i),a+='<span class="snippet-cell__image n-i-offer-details-button i-bem" data-bem="'+Oi(o)+'">',a+=t.f("f66",e,n,r,i,t.s(ps,e),350),a+="</span>",a+='<div class="snippet-cell__content">',a+='<span class="snippet-cell__title">',a+='<span class="link link_theme_black n-i-offer-details-button i-bem" data-bem="'+Oi(o)+'">',a+=t.f("f64",e,n,r,i,t.s(ps,e)),a+="</span>",a+="</span>",a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__action")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_recommendation-small-offer-button",i,s),a+=Li(i),a+="</div>",a+="</div>",a+="</div>"},zi.t522.j=_p,zi.t522.a=0,zi.t523=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",c);var l=o;return a+=Li(i),a+=t.f("f102",e,n,r,i,t.s(ps,e),function(){var i={};i.needSpinner=!0;var a={};a.text="Проверяем",i.spinner=a,i.showPrice=!0,i.place="snippet",i.class="snippet-cell__offer-button",i.text="+",i.inCartText="Добавлено",i.action=!1,i.withoutUrl=!0,Ci(t.n(Pa,yr.object2nodeset(s)))&&(i.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s))));var a={};return Ci(t.n(kb,yr.object2nodeset(s)))&&(a.cpa=t.f("f156",e,n,r,function(){var e={},n={};n.target=yr.nodeset2data(t.n(kb,yr.object2nodeset(s)));var r=[],i={};return i.content=yr.externals["n-parse"](Bi(l)),r.push(i),n.params=r,e.mbolayoutWidgets=n,e}())),i.metrika=a,i}())},zi.t523.j=uv,zi.t523.a=0,zi.t524=function(t,e,n,r,i,s){var a="",o={};o.inProgress=!0;var c=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell n-snippet-cell_cms_cheaper island b-zone b-spy-visible b-spy-events i-bem "+Ii(t.n(gs,yr.object2nodeset(s))))},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell_cms_cheaper-attrs",i,s),a+=Li(i),a+=t.f("f166",e,n,r,i,t.s(ps,e),yr.object2nodeset(function(){var t={};return t.track="index_cheaprecommendations",t.clickActionType="offer-card",t}())),a+=t.f("f159",e,n,r,i,t.s(ps,e),"index_cheaprecommendations"),Ci(t.n(Eb,t.v("v23",e.doc.root)))&&(a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__discount-percent",i)),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__content_cheaper",i,s),a+="<div",i.a={class:new yr.scalarAttr("snippet-cell__footer")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__action",i,c,"index_cheaprecommendations"),a+=Li(i),a+="</div>",a+="</div>"},zi.t524.j=Hi,zi.t524.a=0,zi.t525=function(t,e,n,r,i,s){var a="",o=t.f("f99",e,n,r,t.s(ps,e)),c={},l={};l.name="snippet";var u={},d={};d.entity=yr.nodeset2data(Ni("entity",e,[]));var p=[];p+=yr.exists(Ni("id",e,[]))?yr.nodeset2data(Ni("id",e,[])):yr.nodeset2data(Ni("wareId",e,[])),d.id=p,d.cheapestPrice=yr.nodeset2data(t.s(hb,e)),d.externalPrice=yr.nodeset2data(t.s(fb,e)),d.minCpaOfferPrice=yr.nodeset2data(t.s(_b,e)),u.entity=d,u.type="cheapRecommendations",l.data=u,c["b-zone"]=l,c["b-spy-visible"]="",c["b-spy-events"]="";var h=c;i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[])));var f=i.a.class;if(f?i.a.class=f.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),Ai("real",Ni("cpa",e,[]))){var f=i.a.class;f?i.a.class=f.addscalar(" snippet-cell_cpa_yes offer"):i.a.class=new yr.scalarAttr(" snippet-cell_cpa_yes offer")}if(Ai("real",Ni("cpa",e,[]))){var _=yr.externals["n-merge-nodes"](yr.object2nodeset(o),yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.externals["n-merge-nodes"](_,yr.object2nodeset(h))))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.externals["n-merge-nodes"](yr.object2nodeset(o),yr.object2nodeset(h))));return a},zi.t525.j=_p,zi.t525.a=0,zi.t526=function(t,e,n,r,i,s){var a="";return i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),a},zi.t526.j=Wp,zi.t526.a=0,zi.t527=function(t,e,n,r,i){var s="",a=t.f("f80",e,n,r,i,Ni("prices",e,[]));return s+=Li(i),Bi(a)>0&&Bi(a)<100&&(s+='<div class="n-snippet-cell__discount-percent">',s+="-"+a+"%",s+="</div>"),s},zi.t527.j=Mb,zi.t527.a=0,zi.t528=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell n-snippet-cell_cms_cheaper-lite b-zone b-spy-visible b-spy-events i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.name="snippet";var i={},s={};s.entity=yr.nodeset2data(Ni("entity",e,[]));var a=[];return a+=yr.exists(Ni("id",e,[]))?yr.nodeset2data(Ni("id",e,[])):yr.nodeset2data(Ni("wareId",e,[])),s.id=a,s.cheapestPrice=yr.nodeset2data(t.s(hb,e)),s.externalPrice=yr.nodeset2data(t.s(fb,e)),s.minCpaOfferPrice=yr.nodeset2data(t.s(_b,e)),i.entity=s,i.type="cheapRecommendations",r.data=i,n["b-zone"]=r,n["b-spy-visible"]="",n["b-spy-events"]="",n}()))),s+=Li(i),s+='<canvas class="image" width="286" height="400"></canvas>',s+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell_cms_cheaper-lite__content")},i.s="a",Ai("product",Ni("entity",e,[]))){var a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"i-link__product",o,function(){var t={};return t.track="index_cheaprecommendations",t}()),i.a.href=new yr.xmlAttr(a)}else if(Ai("offer",Ni("entity",e,[]))){var a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"i-link__offer-card",o,function(){var t={};return t.track="index_cheaprecommendations",t}()),i.a.href=new yr.xmlAttr(a)}if(s+=Li(i),s+='<div class="n-snippet-cell_cms_cheaper-lite__description">',yr.exists(t.s(Ab,e))&&Ci(t.n(Eb,t.v("v23",e.doc.root)))&&!Ai("product",Ni("entity",e,[]))?(s+="Дешевле, чем вы",s+="<br/>",s+="смотрели на ",s+='<span class="n-snippet-cell_cms_cheaper-lite__description-value">',s+=Pi(yr.externals["n-str-format-price"](Ii(t.s(Ab,e)))),s+=" "+yr.externals["n-i18n"](Ii(t.s(ho,e))),s+="</span>"):(s+="Дешевле,",s+="<br/>",s+="чем вы смотрели"),s+="</div>",s+='<div class="n-snippet-cell_cms_cheaper-lite__image">',s+=t.f("f66",e,n,r,i,t.s(ps,e),200),s+="</div>",s+='<div class="n-snippet-cell_cms_cheaper-lite__our-price">',Ai("product",Ni("entity",e,[]))&&(s+="от "),s+=Pi(yr.externals["n-str-format-price"](Ii(t.s(hb,e)))),s+=" "+yr.externals["n-i18n"](Ii(t.s(ho,e))),s+="</div>",yr.exists(t.s(fb,e))&&Ci(t.n(Eb,t.v("v23",e.doc.root)))&&!Ai("product",Ni("entity",e,[]))){var c=t.f("f80",e,n,r,i,Ni("prices",e,[]));s+='<div class="n-snippet-cell_cms_cheaper-lite__discount">',s+='<div class="n-snippet-cell_cms_cheaper-lite__their-price">',s+=Pi(yr.externals["n-str-format-price"](Ii(t.s(fb,e)))),s+=" "+yr.externals["n-i18n"](Ii(t.s(ho,e))),s+="</div>",Bi(c)>0&&Bi(c)<100&&(s+='<div class="n-snippet-cell_cms_cheaper-lite__discount-percent">',s+="-"+c+"%",s+="</div>"),s+="</div>"}return s+="</a>",s+="</div>"},zi.t528.j=qd,zi.t528.a=0,zi.t529=function(t,e,n,r,i,s){var a="",o=t.n(mc,yr.object2nodeset(s)),c=t.n(Ta,o),l="",u={a:{}};l+=t.a(t,0,t.s(ps,e),"i-metrika__pixel",u);var d=l,p=yr.externals["n-parse"](Bi(d));return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell",i,function(){var i={};i.class="i-slider__item metrika",i.shouldPassFilters=!1,i.track=yr.nodeset2data(c),i.btnTrack=yr.nodeset2data(c),i.categoryLinkTrack=yr.nodeset2data(c),i.showSubHeaderCategory=yr.nodeset2data(t.n(Tb,yr.object2nodeset(s)));var a={};a.snippet=t.f("f156",e,n,r,t.f("f175",e,n,r,Ii(t.n(Cb,o)),p));var l={};return l.wishlist=t.f("f156",e,n,r,t.f("f175",e,n,r,Ii(t.n(Sb,o)),p)),a.toolbar=l,i.metrika=a,i}())},zi.t529.j=Hi,zi.t529.a=0,zi.t530=function(t,e,n,r,i,s){var a="",o=Ai("real",Ni("cpa",e,[])),c=!1;c=!yr.exists(t.n(ly,yr.object2nodeset(s)))||Ci(t.n(ly,yr.object2nodeset(s)));var l=c,c="",u={a:{}};c+=t.a(t,0,t.s(ps,e),"getClickActionType",u,s);var d=c,p=yr.externals["n-merge-nodes"](yr.object2nodeset(function(){var i={};return i["n-snippet-cell2"]=yr.nodeset2data(yr.externals["n-merge-nodes"](yr.object2nodeset(function(){var i={},s="";return s+=Ai("offer",Ni("entity",e,[]))?t.f("f44",e,n,r,Bi(d),t.s(ps,e))?"offer-card":"offer":Ci(Ni("type",e,[]))?Di("type",e):"",i.type=s,i}()),t.n(pf,yr.object2nodeset(s)))),i}()),t.n(uy,yr.object2nodeset(s)));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2 i-bem")},i.s="div",Ai("product",Ni("entity",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" n-snippet-cell2_type_product"):i.a.class=new yr.scalarAttr(" n-snippet-cell2_type_product")}if(Ai("offer",Ni("entity",e,[]))){var f=yr.externals["n-merge-nodes"](t.n(pf,yr.object2nodeset(s)),yr.object2nodeset(t.f("f99",e,n,r,t.s(ps,e)))),_=yr.externals["n-merge-nodes"](f,p),h=i.a.class;if(h?i.a.class=h.addscalar(" shop-history"):i.a.class=new yr.scalarAttr(" shop-history"),o){var h=i.a.class;h?i.a.class=h.addscalar(" snippet-cell_cpa_yes offer metrika"):i.a.class=new yr.scalarAttr(" snippet-cell_cpa_yes offer metrika")}if(Ci(Ni("isPromotedByVendor",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}if(i.a["data-id"]=new yr.scalarAttr("offer-"+Ii(Ni("wareId",e,[]))),Ai("real",Ni("cpa",e,[]))){var m=yr.externals["n-merge-nodes"](_,yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"snippet")));i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](m))}else i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](_))}else Ai("product",Ni("entity",e,[]))&&(i.a["data-id"]=new yr.scalarAttr("model-"+Ii(Ni("id",e,[]))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](p)));return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__hover",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__stickers",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__image",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-mbo-toolbar",i),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__header",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__body")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__price",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__delivery",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__prepayment",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__rating",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e.track="srchlink",e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__bundle-limit",i),Ci(t.n(Jv,t.v("v23",e.doc.root)))?Ai("do-price-with-link",t.n(Jv,t.v("v23",e.doc.root)))&&(a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__more-prices-link-with-from",i,function(){var e={};return e.shouldPassFilters=l,e.track=yr.nodeset2data(t.n(py,yr.object2nodeset(s))),
e.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),e}())):a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__more-prices-link",i,function(){var e={};return e.shouldPassFilters=l,e.track=yr.nodeset2data(t.n(py,yr.object2nodeset(s))),e.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(e.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),e}()),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__footer",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+="</div>"},zi.t530.j=qd,zi.t530.a=0,zi.t531=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__stickers")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_new",i),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted-inner",i),Ci(Ni("promo",e,[]))&&(a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promo",i,yr.externals["n-merge-objects"](s,function(){var t={};return t.withPopupOfferInfo=!0,t.entityType="snippet",t}()))),a+=Li(i),a+="</div>"},zi.t531.j=qd,zi.t531.a=0,zi.t532=function(t,e,n,r,i,s){var a="",o="";o+=Ai("offer",t.n(hf,yr.object2nodeset(s)))?50:200;var c=o,l=Ai("offer",t.n(hf,yr.object2nodeset(s))),u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e))),o="";o+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var d=o,o=!1;o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var p=o;return a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s)))?(a+="<span",i.a={class:new yr.scalarAttr("n-snippet-cell2__image link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Ia,yr.object2nodeset(s))),r.entityType="snippet",n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</span>"):d?(a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell2__image shop-history__link link"),href:new yr.scalarAttr(d),title:new yr.scalarAttr(u)},i.s="a",p||(i.a.target=new yr.scalarAttr("_blank")),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</a>"):(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__image")},i.s="div",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),c,!1,l),a+="</div>"),a},zi.t532.j=_p,zi.t532.a=0,zi.t533=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o,u=t.f("f65",e,n,r,t.s(ps,e),Ii(t.s(kf,e)));return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-snippet-cell2__image link"),href:new yr.scalarAttr(Bi(l))},i.s="a",i.a.title=new yr.scalarAttr(u),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),350,!1,!0),a+="</a>"},zi.t533.j=Wp,zi.t533.a=0,zi.t534=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__prepayment")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-prepayment_context_snippet",i),a+=Li(i),a+="</div>"},zi.t534.j=Am,zi.t534.a=0,zi.t535=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-snippet-cell2__hover">',a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__toolbar")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-toolbar",i,function(){var n={};return Ai("offer",Ni("entity",e,[]))&&!Ri("outdated",e)&&(n.withComplain=!0),n.withoutLabel=!0,n.withCompare=!0,n.withComplain=!1,n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),n.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),n}()),a+=Li(i),a+="</div>",a+="</div>"},zi.t535.j=qd;zi.t535.a=0;zi.t536=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__header")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__colors",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__title",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"},zi.t536.j=qd,zi.t536.a=0,zi.t537=function(t,e,n,r,i,s){var a="",o=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e)),c=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__title")},i.s="div",Ci(t.n(Zv,t.v("v23",e.doc.root)))){var l=i.a.class;l?i.a.class=l.addscalar(" n-snippet-cell2__title_decor_underline"):i.a.class=new yr.scalarAttr(" n-snippet-cell2__title_decor_underline")}return a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link n-link_theme_blue"),href:new yr.scalarAttr(o)},i.s="a",c||(i.a.target=new yr.scalarAttr("_blank")),a+=Li(i),a+=t.f("f64",e,n,r,i,t.s(ps,e),!0),a+="</a>",a+="</div>"},zi.t537.j=_p,zi.t537.a=0,zi.t538=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}());var l=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__title")},i.s="div",Ci(t.n(Zv,t.v("v23",e.doc.root)))){var u=i.a.class;u?i.a.class=u.addscalar(" n-snippet-cell2__title_decor_underline"):i.a.class=new yr.scalarAttr(" n-snippet-cell2__title_decor_underline")}return a+=Li(i),a+='<a class="link n-link_theme_blue" href="'+ji(l)+'">',a+=t.f("f64",e,n,r,i,t.s(ps,e),!0),a+="</a>",a+="</div>"},zi.t538.j=Wp,zi.t538.a=0,zi.t539=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",c);var l=o,o="",c={a:{}};if(yr.exists(t.s(ty,e))&&!Ai("group",Ni("type",e,[]))){var u=[0,"offers",0,"items",3,0];o+=t.a(t,0,t.s(u,e),"n-stickers__sticker_type_discount",c)}else o+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_discount",c);var d=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__price")},i.s="div",l){var p=i.a.class;p?i.a.class=p.addscalar(" n-snippet-cell2__price_with_promocode"):i.a.class=new yr.scalarAttr(" n-snippet-cell2__price_with_promocode")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__main-price",i,s),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__sub-price",i,s),a+=Li(i),d&&(a+='<div class="n-snippet-cell2__price-stickers stickers">',a+=d,a+="</div>"),a+=l,a+="</div>"},zi.t539.j=qd,zi.t539.a=0,zi.t540=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__main-price")},i.s="div",Ai("real",Ni("cpa",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}if(Ci(Ni("outdated",e,[])))a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());else if(Ai("details",t.n(Sa,yr.object2nodeset(s))))a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.entityType="snippet",r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),n["n-i-offer-details-button"]=r,n}()))),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</span>";else if(t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e))){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer-card",l),i.a.href=new yr.xmlAttr(c),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</a>"}else if(Ai("real",Ni("cpa",e,[]))){var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer",l);a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop-history__link")},i.s="a";var o=i.a.class;o?i.a.class=o.addscalar(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"):i.a.class=new yr.scalarAttr(" offer__pusher offer__pusher_type_text offer__price_visibility_toggle"),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:cart")),i.a.target=new yr.scalarAttr("_self"),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</a>"}else if(t.f("f40",e,n,r,t.s(ps,e))){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link shop_history__link")},i.s="a";var c="",l={a:{}};c+=t.a(t,0,t.s(ps,e),"i-link__offer",l),i.a.href=new yr.xmlAttr(c),i.a.target=new yr.scalarAttr("_blank"),a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}()),a+=Li(i),a+="</a>"}else a+=Li(i),a+="<span>",a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</span>";return a+=Li(i),a+="</div>"},zi.t540.j=_p,zi.t540.a=0,zi.t541=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__main-price")},i.s="div",Ii(t.s(hl,e))>0){a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link n-smart-link i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track="srchlink"),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o);var o="",c={a:{}};if(o+=Li(c),o+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),yr.exists(t.s(ty,e))&&!Ai("group",Ni("type",e,[]))){var l=[0,"offers",0,"items",3,0];a+=t.f("f81",e,n,r,i,t.s(l,e),function(){var t={};return t.discount=!1,t}())}else a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());a+=Li(i),a+="</a>"}else a+=t.f("f81",e,n,r,i,t.s(ps,e),function(){var t={};return t.discount=!1,t}());return a+=Li(i),a+="</div>"},zi.t541.j=Wp,zi.t541.a=0,zi.t542=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-snippet-cell2__sub-price">',a+='<div class="price price_unactual_yes">',a+=t.f("f76",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>"},zi.t542.j=Ib,zi.t542.a=0,zi.t543=function(t,e,n,r,i,s){var a="",o=!1;o=t.f("f44",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var c=o,o="",l={a:{}};o+=t.f("f45",e,n,r,Ii(t.n(Sa,yr.object2nodeset(s))),t.s(ps,e));var u=o;if(a+=Li(i),a+='<div class="n-snippet-cell2__shop-info">',a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__shop-name")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i),a+=Li(i),t.f("f40",e,n,r,t.s(ps,e))||c?(a+='<a class="link link_theme_gray link_type_shop-name shop-history__link" href="'+Oi(u)+'" target="_blank">',a+=Ti(t.s(Ya,e)),a+="</a>"):(a+='<span class="snippet-card__shop-name n-snippet-card__shop-name">',a+=Ti(t.s(Ya,e)),a+="</span>"),a+="</div>",a+='<div class="n-snippet-cell2__shop-rating">',a+=t.f("f10",e,n,r,i,Ni("shop",e,[]),function(){var t={};return t.class="n-rating-stars_theme_gold",t}()),a+=" ",Ii(t.s(Mc,e))>0){var o="",l={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__shop__reviews",l,function(){var t={};return t.track="srchlink",t}());var d=o,p="("+Ii(t.s(Mc,e))+")";a+='<a class="link link_theme_gray link_type_shop-reviews" href="'+ji(d)+'">',a+=Pi(p),a+="</a>"}else if(!Ai("oldshop",t.s(xc,e))){var o="",l={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__shop__reviews-add",l,function(){var t={};return t.track="srchlink",t}());var h=o,f="Пока нет отзывов";a+='<a class="link link_theme_gray" href="'+ji(h)+'">',a+=Pi(f),a+="</a>"}return a+=t.f("f110",e,n,r,i,t.s(ps,e)),a+="</div>",a+="</div>"},zi.t543.j=_p,zi.t543.a=0,zi.t544=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__warning")},i.s="div",a+=t.a(t,0,t.s(Ca,e),"n-warning",i),a+=Li(i),a+="</div>"},zi.t544.j=ny,zi.t544.a=0,zi.t545=function(t,e,n,r,i,s){var a="",o=[0,"filters",2,R,3,0],c=t.s(o,e);return a+=Li(i),t.n(vu,c).length>1&&(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__colors")},i.s="div",a+=t.a(t,0,c,"n-snippet-color-set",i,function(){var n={};return n.product=yr.nodeset2data(t.s(ps,e)),n.limit="6",Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),n}()),a+=Li(i),a+="</div>"),a},zi.t545.j=qd,zi.t545.a=0,zi.t546=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Ri("opinions",e)?Di("opinions",e):0;var l=o;if(a+=Li(i),l>0){a+="<a",i.a={class:new yr.scalarAttr("n-snippet-card2__rating link link_theme_gray link_type_reviews")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-reviews_place_search",c,function(){var n={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),Ci(t.n(iy,yr.object2nodeset(s)))&&(n.cpaofferId=yr.nodeset2data(t.n(iy,yr.object2nodeset(s)))),Ci(Ni("showUid",e,[]))&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),Di("rating",e)>0&&(a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}())),a+="<span>",a+=Pi(l)+" "+Pi(yr.externals["n-str-plural"](l,"отзыв","отзыва","отзывов")),a+="</span>",a+="</a>"}else Di("rating",e)>0&&(a+='<div class="n-snippet-card2__rating">',a+=t.f("f121",e,n,r,i,Di("rating",e),function(){var t={};return t.outline=!0,t}()),a+="</div>");return a},zi.t546.j=ry,zi.t546.a=0,zi.t547=function(t,e,n,r,i,s){var a="";return a+=Li(i),t.s(Ca,e).length&&(a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__footer")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__warning",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"),a},zi.t547.j=Wp,zi.t547.a=0,zi.t548=function(t,e,n,r,i,s){var a="",o=t.s(Ca,e).length>0;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__footer")},i.s="div",o){var c=i.a.class;c?i.a.class=c.addscalar(" n-snippet-cell2__footer_type_multi"):i.a.class=new yr.scalarAttr(" n-snippet-cell2__footer_type_multi")}else{var c=i.a.class;c?i.a.class=c.addscalar(" n-snippet-cell2__footer_type_single"):i.a.class=new yr.scalarAttr(" n-snippet-cell2__footer_type_single")}return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__shop-info",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),o?(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__footer-part")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__warning",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__complain",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"):a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__complain",i,function(){var e={};return e.clickActionType=yr.nodeset2data(t.n(Sa,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-snippet-cell2__mbo-control",i),a+=Li(i),a+="</div>"},zi.t548.j=_p,zi.t548.a=0,zi.t549=function(t,e,n,r,i){var s="";if(s+=Li(i),Ri("delivery",e)&&!Ci(t.s(Ka,e))){var a="",o={a:{}};a+=Li(o),a+=t.f("f95",e,n,r,o,t.s(ps,e),function(){var t={};return t.appendPlus=!0,t}()),a+=t.a(t,0,Ni("delivery",e,[]),"n-delivery__time",o);var c=a,a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-delivery-popup",o);var l=a;s+='<div class="n-snippet-cell2__delivery">',s+="<div",i.a={class:new yr.scalarAttr("n-delivery i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.place="snippet",t["n-delivery"]=e,t}()))),s+=Li(i),""!=Bi(c)&&(s+='<div class="n-delivery__info">',s+='<span class="n-delivery__text">',s+=c,s+="</span>",s+="</div>"),"pickup"!=t.f("f97",e,n,r,Ni("delivery",e,[]))&&(s+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var t={};return t.text="Есть самовывоз",t.withIcon=!1,t}())),l&&(s+='<div class="n-delivery__popup">',s+=l,s+="</div>"),s+="</div>",s+="</div>"}return s},zi.t549.j=_p,zi.t549.a=0,zi.t550=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-snippet-cell2__complain")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-popup-complain",i,function(){var t={};return t.hasHint=!0,t}()),s+=Li(i),s+="</div>"},zi.t550.j=sy,zi.t550.a=0,zi.t551=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class="n-snippet-cell2__bundle-limit",t}())},zi.t551.j=_p,zi.t551.a=0,zi.t552=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-snippet-cell2__mbo-control">',s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("classifierMagicId",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("classifierMagicId",e,[]))+'">мимо</label>',s+="</span>",s+="</div>"},zi.t552.j=Mf,zi.t552.a=0,zi.t553=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-snippet-cell2__mbo-control">',s+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_type_cluster-complain checkbox_size_s checkbox_theme_normal i-bem")},i.s="span";var a="";return a+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="checkbox__box">',s+='<input class="checkbox__control" type="checkbox" autocomplete="off" id="'+Si(Ni("id",e,[]))+'"/>',s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("id",e,[]))+'">мимо</label>',s+="</span>",s+="</div>"},zi.t553.j=Af,zi.t553.a=0,zi.t554=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-adult-snippet",i,"cell2")},zi.t554.j=bf,zi.t554.a=0,zi.t555=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ii(t.s(hl,e))>0){a+='<div class="n-snippet-cell2__more-prices-link">',a+="<a",i.a={class:new yr.scalarAttr("link n-smart-link n-link_theme_blue link_type_prices i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o);var o="",c={a:{}};o+=Li(c),o+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>",a+="</div>"}return a},zi.t555.j=Wp,zi.t555.a=0,zi.t556=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ii(t.s(hl,e))>0){a+='<div class="n-snippet-cell2__more-prices-link">',a+="<a",i.a={class:new yr.scalarAttr("link n-link_theme_blue link_type_prices i-bem")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__product-offers_place_search",c,function(){var n={};return n.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s))),Ri("showUid",e)&&(n["show-uid"]=yr.nodeset2data(Ni("showUid",e,[]))),Ci(t.n(Pa,yr.object2nodeset(s)))&&(n.requestParams=yr.nodeset2data(t.n(Pa,yr.object2nodeset(s)))),n}()),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(hl,e))+" "+Pi(yr.externals["n-str-plural"](Ii(t.s(hl,e)),"предложение","предложения","предложений")),a+="</a>",Mi(t.s($a,e),t.s(Ga,e))||(a+=" ",a+=t.f("f70",e,n,r,i,t.s(ps,e))),a+="</div>"}return a},zi.t556.j=Wp,zi.t556.a=0,zi.t557=function(t,e,n,r,i){var s="",a=t.s(jb,e);return s+=a.length>=2?t.a(t,0,t.s(ps,e),"n-entrypoint-carousel__carousel",i):t.a(t,0,t.s(ps,e),"n-entrypoint-carousel__big-banners",i)},zi.t557.j=Ob,zi.t557.a=0,zi.t558=function(t,e,n,r,i){var s="",a=t.s(Pb,e);if(s+=Li(i),yr.exists(a)){s+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-carousel i-bem")},i.s="div";var o="",c={a:{}};o+=Li(c),o+='{"n-entrypoint-carousel":{}}',i.a["data-bem"]=new yr.xmlAttr(o);for(var l=Ni("data",e,[]),u=0,d=l.length;u<d;u++){var p=l[u],o="",c={a:{}};o+=t.a(t,0,t.s(ps,p),"i-link__cms-page",c);var h=o,f=Ii(Ni("showUid",p,[]));s+=t.a(t,0,t.s(Bb,p),"n-entrypoint-banner_size_big",i,h,f)}s+=Li(i),s+="</div>"}return s},zi.t558.j=Hi,zi.t558.a=0,zi.t559=function(t,e,n,r,i){var s="",a=Ni("data",e,[]);s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-carousel i-bem")},i.s="div";var o="",c={a:{}};o+=Li(c),o+='{"n-entrypoint-carousel":{}}',i.a["data-bem"]=new yr.xmlAttr(o),s+=Li(i),a.length>2&&(s+='<div class="n-entrypoint-carousel__arrow n-entrypoint-carousel__arrow_side_left"></div>'),s+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-carousel__inner")},i.s="div";for(var l=Ni("data",e,[]),u=0,d=l.length;u<d;u++){var p=l[u],o="",c={a:{}};o+=t.a(t,0,t.s(ps,p),"i-link__cms-page",c);var h=o,f=Ii(Ni("showUid",p,[]));s+=t.a(t,0,t.s(Db,p),"n-entrypoint-banner",i,h,f)}return s+=Li(i),s+="</div>",a.length>2&&(s+='<div class="n-entrypoint-carousel__arrow n-entrypoint-carousel__arrow_side_right "></div>'),s+="</div>"},zi.t559.j=Hi,zi.t559.a=0,zi.t560=function(t,e,n,r,i,s,a){var o="",c=t.f("f41",e,n,r,s,"track",Ii(t.s(Rh,e))),l=t.f("f41",e,n,r,c,"show-uid",a);return o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("n-entrypoint-banner"),style:new yr.scalarAttr("background: "+Ii(Ni("backgroundColor",e,[]))+";")},i.s="a",i.a.href=new yr.scalarAttr(l),o+=Li(i),o+='<div class="n-entrypoint-banner__image">',o+=t.f("f68",e,n,r,i,t.s(ab,e),function(){var t={};return t.defaultSrc=yr.nodeset2data(Ni("image",e,[])),t}()),o+="</div>",o+='<div class="n-entrypoint-banner__content">',o+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-banner__title")},i.s="div",o+=t.a(t,0,Ni("title",e,[]),"n-entrypoint-banner__text",i),o+=Li(i),o+="</div>",o+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-banner__subtitle")},i.s="div",o+=t.a(t,0,Ni("subtitle",e,[]),"n-entrypoint-banner__text",i),o+=Li(i),o+="</div>",o+="</div>",o+="</a>"},zi.t560.j=Rb,zi.t560.a=0,zi.t561=function(t,e,n,r,i,s,a){var o="",c=t.f("f41",e,n,r,s,"track",Ii(t.s(Rh,e))),l=t.f("f41",e,n,r,c,"show-uid",a);return o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("n-entrypoint-banner n-entrypoint-banner_type_banner"),style:new yr.scalarAttr("background: "+Ii(Ni("background_color",e,[]))+";")},i.s="a",i.a.href=new yr.scalarAttr(l),o+=Li(i),o+='<div class="n-entrypoint-banner__image">',o+=t.f("f68",e,n,r,i,t.s(ab,e),function(){var t={};return t.defaultSrc=yr.nodeset2data(Ni("image",e,[])),t}()),o+="</div>",o+='<div class="n-entrypoint-banner__content">',o+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-banner__title")},i.s="div",o+=t.a(t,0,Ni("title",e,[]),"n-entrypoint-banner__text",i),o+=Li(i),o+="</div>",o+="</div>",o+="</a>"},zi.t561.j=Nb,zi.t561.a=0,zi.t562=function(t,e,n,r,i,s,a){var o="",c=t.f("f41",e,n,r,s,"track",Ii(t.s(Rh,e))),l=t.f("f41",e,n,r,c,"show-uid",a);return o+=Li(i),o+="<a",i.a={class:new yr.scalarAttr("n-entrypoint-banner n-entrypoint-banner_size_big"),style:new yr.scalarAttr("background: "+Ii(Ni("backgroundColor",e,[]))+";")},i.s="a",i.a.href=new yr.scalarAttr(l),o+=Li(i),o+='<div class="n-entrypoint-banner__image">',o+=t.f("f68",e,n,r,i,t.s(ab,e),function(){var t={};return t.defaultSrc=yr.nodeset2data(Ni("image",e,[])),t}()),o+="</div>",o+='<div class="n-entrypoint-banner__content">',o+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-banner__title")},i.s="div",o+=t.a(t,0,Ni("title",e,[]),"n-entrypoint-banner__text",i),o+=Li(i),o+="</div>",o+="<div",i.a={class:new yr.scalarAttr("n-entrypoint-banner__subtitle")},i.s="div",o+=t.a(t,0,Ni("subtitle",e,[]),"n-entrypoint-banner__text",i),o+=Li(i),o+="</div>",o+="</div>",o+="</a>"},zi.t562.j=Rb,zi.t562.a=0,zi.t563=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-wysiwyg-text",i)},zi.t563.j=Hi,zi.t563.a=0,zi.t564=function(t,e,n,r,i,s,a){var o="";return o+="big"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder_type_big",i,a):"small"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder_type_small",i,a):"recommendation-small"==s?t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder_type_recommendation-small",i,a):t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder_type_big",i,a)},zi.t564.j=Hi,zi.t564.a=0,zi.t565=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="snippet-cell snippet-cell_placeholder_yes snippet-list__item island '+Si(t.n(gs,yr.object2nodeset(s)))+'">',a+='<div class="snippet-cell__head">',a+='<div class="snippet-cell__image">',a+='<div class="image"></div>',a+="</div>",a+='<div class="snippet-cell__header">',a+='<div class="title"></div>',a+="</div>",a+='<div class="snippet-cell__subheader">',a+='<div class="snippet-cell__category"></div>',a+="</div>",a+="</div>",a+='<div class="snippet-cell__content">',a+='<div class="snippet-cell__price"></div>',a+="</div>",a+="</div>"},zi.t565.j=Hi,zi.t565.a=0,zi.t566=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="snippet-cell-mini snippet-cell-mini_placeholder_yes island '+Si(t.n(gs,yr.object2nodeset(s)))+'">',a+='<div class="snippet-cell-mini__image">',a+='<div class="image"></div>',a+="</div>",a+='<div class="snippet-cell-mini__text">',a+='<div class="snippet-cell-mini__name"></div>',a+='<div class="snippet-cell-mini__price"></div>',a+='<div class="snippet-cell-mini__category"></div>',a+="</div>",a+="</div>"},zi.t566.j=Hi,zi.t566.a=0,zi.t567=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(t.n(Lb,t.v("v23",e.doc.root)))&&(a+='<div class="snippet-cell n-snippet-cell_cms_recommendation-small n-snippet-cell_placeholder_yes '+Si(t.n(gs,yr.object2nodeset(s)))+'">',a+='<span class="snippet-cell__image"></span>',a+='<div class="snippet-cell__content">',a+='<span class="snippet-cell__title">',a+="<span></span>",a+="<span></span>",a+="</span>",a+='<div class="snippet-cell__action">',a+="<span></span>",a+="</div>",a+="</div>",a+="</div>"),a},zi.t567.j=Hi,zi.t567.a=0,zi.t568=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<picture",i.a={class:new yr.scalarAttr("n-box__background")},i.s="picture",Ii(t.s(zb,e))>300){var a=i.a.class;a?i.a.class=a.addscalar(" n-box__background_decorate"):i.a.class=new yr.scalarAttr(" n-box__background_decorate")}return Ci(Ni("backgroundColor",e,[]))&&(i.a.style=new yr.scalarAttr("color:"+Ii(Ni("backgroundColor",e,[]))+";")),s+=t.a(t,0,Ni("backgroundPicture",e,[]),"n-box__picture",i),s+=Li(i),s+="</picture>"},zi.t568.j=Ub,zi.t568.a=0,zi.t569=function(t,e,n,r,i){var s="",a=t.f("f67",e,n,r,t.s(ps,e),"1",1920,3840),o=t.f("f67",e,n,r,t.s(ps,e),"1",1440,2280);return s+=Li(i),a&&(s+='<source srcset="'+Oi(a)+' 2x" media=""></source>'),o&&(s+="<img",i.a={class:new yr.scalarAttr("n-box__picture image"),src:new yr.scalarAttr(o),height:new yr.scalarAttr("1440"),width:new yr.scalarAttr("2280")},i.s="img",Ci(Ni("alt",e,[]))&&(i.a.alt=new yr.scalarAttr(Di("alt",e))),s+=Li(i),s+=""),s},zi.t569.j=Fb,zi.t569.a=0,zi.t570=function(t,e,n,r,i){var s="";if(s+=Li(i),Ni("preset",e,[]).length){var a=t.s(qb,e),o=t.n(Hb,a),c=Ii(t.n(Vb,a))*Ii(t.n(Gb,a));s+="<div",i.a={class:new yr.scalarAttr("n-roll n-box metrika i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};if(r.cellType=yr.nodeset2data(o),r.stateKey=yr.nodeset2data(Ni("stateKey",e,[])),r.columnCount=yr.nodeset2data(t.n(Gb,a)),r.rowsCount=yr.nodeset2data(t.n(Vb,a)),r.itemsPerPage=c,r.metrika=yr.nodeset2data(Ni("metrika",e,[])),n["n-roll"]=r,Ci(Ni("metrika",e,[]))){var r={};if(Ci(t.s($b,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s($b,e)),r.onPixelsVisible=i}if(Ci(t.s(Wb,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s(Wb,e)),r.onInit=i}if(Ci(t.s(Yb,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s(Yb,e)),r.onVisible=i}n.metrika=r}return n}()))),Ci(Ni("anchor",e,[]))&&(i.a.id=new yr.scalarAttr(Di("anchor",e))),Ci(t.s(Sp,e))&&(s+=t.a(t,0,t.s(Kb,e),"n-w-roll__header",i)),s+=t.a(t,0,t.s(qb,e),"n-w-roll__snippets",i,Ni("preset",e,[]),function(){var t={};return t.itemsPerPage=c,t.metrika=yr.nodeset2data(Ni("metrika",e,[])),t}()),Ni("preset",e,[]).length>=c&&(s+=t.a(t,0,t.s(Xb,e),"n-w-roll__pager-more",i,function(){var t={};return t.metrika=yr.nodeset2data(Ni("metrika",e,[])),t}())),s+=Li(i),s+="</div>"}return s},zi.t570.j=Ap,zi.t570.a=0,zi.t571=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-roll__title")},i.s="div",Ci(t.s(Jb,e))){var a=i.a.class;a?i.a.class=a.addscalar(" n-roll__title_align_"+Ii(t.s(Jb,e))):i.a.class=new yr.scalarAttr(" n-roll__title_align_"+Ii(t.s(Jb,e)))}return s+=Li(i),Ci(t.s(Zb,e))&&(s+='<h3 class="n-roll__subtitle">',s+=Ti(t.s(Zb,e)),s+="</h3>"),s+='<h2 class="title title_size_22 title_indent_bottom">',Ci(t.s(eg,e))?(s+='<a href="'+Si(t.s(eg,e))+'" class="link link_theme_black">',s+=Ti(t.s(tg,e)),s+="</a>"):s+=Ti(t.s(tg,e)),s+="</h2>",Ci(Ni("description",e,[]))&&(s+='<p class="n-roll__description">',s+=Ti(Ni("description",e,[])),s+="</p>"),s+="</div>"},zi.t571.j=Qb,zi.t571.a=0,zi.t572=function(t,e,n,r,i,s,a){s=void 0===s?[]:s;var o="",c=t.s(Hb,e),l=Ni("align",e,[]);if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-roll__list snippet-list snippet-list_type_grid snippet-list_size_"+Ii(t.s(Gb,e)))},i.s="div",s.length<Ii(t.s(Gb,e))&&(!yr.exists(l)||Ai("center",l))){var u=i.a.class;u?i.a.class=u.addscalar(" n-roll__list_center"):i.a.class=new yr.scalarAttr(" n-roll__list_center")}for(var d=s,p=0,h=d.length;p<h;p++){var f=d[p];o+=t.a(t,0,t.s(ps,f),"n-snippet-cell_cms",i,Ii(c),function(){var e={};return e.class="snippet-list__item island"+(p>=Ii(t.n(Gl,yr.object2nodeset(a)))?" g-hidden":""),e.metrika=yr.externals["n-pick"](yr.externals["n-nodeset-to-object"](t.n(mc,yr.object2nodeset(a))),function(){var t=[];return t.push("track"),t.push("inCartClick"),t.push("inCartShow"),t.push("toCartClick"),t.push("toCartShow"),t.push("onCellClick"),t.push("onSnippetClick"),t.push("onCellWishlistButtonClick"),t.push("onCellCpaButtonClick"),t}()),e}())}return o+=Li(i),o+="</div>"},zi.t572.j=ng,zi.t572.a=0,zi.t573=function(t,e,n,r,i,s){var a="",o="";o+=yr.exists(t.s(ig,e))?Ii(t.s(ig,e)):"pseudo";var c=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-roll__pager-more pager-more")},i.s="div",Ci(t.n(sg,yr.object2nodeset(s)))){var l=i.a.class;l?i.a.class=l.addscalar(" metrika i-bem"):i.a.class=new yr.scalarAttr(" metrika i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.type=yr.nodeset2data(Ni("entity",e,[]));var i={};return i.mbolayoutWidgets=yr.nodeset2data(t.n(sg,yr.object2nodeset(s))),r.onClick=i,n.metrika=r,n}())))}return a+=Li(i),a+='<a class="button button_size_m button_theme_'+Oi(c)+' button_disabled_yes" role="button">',a+='<span class="button__text">Показать ещё</span>',a+="</a>",a+="</div>"},zi.t573.j=rg,zi.t573.a=0,zi.t574=function(t,e,n,r,i,s){var a="",o=t.s(cg,e).length>1,c=t.s(lg,e),l=t.s(ug,e),u=t.s(dg,e),d={},p={a:{}};d.columns=+Ii(t.s(Op,e)),d.rows=+Ii(t.s(Tp,e)),d.rewind=yr.nodeset2data(t.s(pg,e)),d.pager=yr.nodeset2data(t.s(Xb,e)),d.type=yr.nodeset2data(t.s(jp,e)),d.cellParams=yr.nodeset2data(t.s(hg,e));var h=d,f=[0,"carousels",3,0],d="",p={a:{}};d+=t.a(t,0,t.s(f,e),"n-carousel__item",p,h,Ni("metrika",e,[]),t.s(fg,e));var _=d;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-carousel metrika n-carousel_size_"+Ii(t.n(_g,yr.object2nodeset(h)))+" n-box i-bem "+Ii(t.n(gs,yr.object2nodeset(s)))+" b-zone")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.name="carousel",n["b-zone"]=r;var r={};if(r.top=yr.nodeset2data(c),r.view=h,r.metrika=yr.nodeset2data(Ni("metrika",e,[])),n["n-carousel"]=r,Ci(Ni("metrika",e,[]))){
var r={};if(Ci(t.s($b,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s($b,e)),r.onPixelsVisible=i}if(Ci(t.s(Wb,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s(Wb,e)),r.onInit=i}if(Ci(t.s(Yb,e))){var i={};i.mbolayoutWidgets=yr.nodeset2data(t.s(Yb,e)),r.onVisible=i}n.metrika=r}return n}()))),o){var m=i.a.class;m?i.a.class=m.addscalar(" n-carousel_with_filters"):i.a.class=new yr.scalarAttr(" n-carousel_with_filters")}if(Ci(u)){var m=i.a.class;m?i.a.class=m.addscalar(" n-carousel_align_"+Ii(u)):i.a.class=new yr.scalarAttr(" n-carousel_align_"+Ii(u))}if(Ci(l)){var m=i.a.class;m?i.a.class=m.addscalar(" n-carousel_with_promo"):i.a.class=new yr.scalarAttr(" n-carousel_with_promo")}return a+=t.a(t,0,Ni("anchor",e,[]),"n-w-carousel__anchor",i),a+=t.a(t,0,t.s(Kb,e),"n-w-carousel__header",i),o?(Ai("top",c)&&(a+=t.a(t,0,t.s(ps,e),"n-w-carousel__filters",i,c)),a+=Li(i),a+='<div class="n-carousel__items">',a+=_,a+="</div>",Ci(c)||(a+=t.a(t,0,t.s(ps,e),"n-w-carousel__filters",i))):(a+=Li(i),a+=_),a+=t.a(t,0,t.s(mg,e),"n-w-carousel__footer",i),a+=Li(i),a+="</div>"},zi.t574.j=og,zi.t574.a=0,zi.t575=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<a class="n-carousel__anchor" name="'+Si(t.s(ps,e))+'"></a>'},zi.t575.j=vg,zi.t575.a=0,zi.t576=function(t,e,n,r,i){var s="";if(s+=Li(i),Ci(t.s(Zb,e))){if(s+="<h1",i.a={class:new yr.scalarAttr("title title_subtitle_yes")},i.s="h1",Ci(t.s(Jb,e))){var a=i.a.class;a?i.a.class=a.addscalar(" title_align_"+Ii(t.s(Jb,e))):i.a.class=new yr.scalarAttr(" title_align_"+Ii(t.s(Jb,e)))}s+=Li(i),s+=Ti(t.s(Zb,e)),s+="</h1>"}if(s+="<h2",i.a={class:new yr.scalarAttr("title title_size_22 title_indent_bottom")},i.s="h2",Ci(t.s(Jb,e))){var a=i.a.class;a?i.a.class=a.addscalar(" title_align_"+Ii(t.s(Jb,e))):i.a.class=new yr.scalarAttr(" title_align_"+Ii(t.s(Jb,e)))}if(s+=Li(i),Ci(t.s(eg,e))?(s+='<a class="link link_theme_black" href="'+Si(t.s(eg,e))+'">',s+=Ti(t.s(tg,e)),s+="</a>"):s+=Ti(t.s(tg,e)),s+="</h2>",Ci(Ni("description",e,[]))){if(s+="<p",i.a={class:new yr.scalarAttr("n-carousel__description")},i.s="p",Ci(t.s(Jb,e))){var a=i.a.class;a?i.a.class=a.addscalar(" n-carousel__description_align_"+Ii(t.s(Jb,e))):i.a.class=new yr.scalarAttr(" n-carousel__description_align_"+Ii(t.s(Jb,e)))}s+=Li(i),s+=Ti(Ni("description",e,[])),s+="</p>"}return s},zi.t576.j=yg,zi.t576.a=0,zi.t577=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-carousel__filters metrika i-bem")},i.s="div",s){var o=i.a.class;o?i.a.class=o.addscalar(" n-carousel__filters_group_top"):i.a.class=new yr.scalarAttr(" n-carousel__filters_group_top")}return i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={},i={},s={};s.target=yr.nodeset2data(t.s(bg,e));var a={};return a.count=t.s(cg,e).length,s.params=a,i.mbolayoutWidgets=s,r.onVisible=i,n.metrika=r,n}()))),a+=t.a(t,0,t.s(cg,e),"n-w-carousel__filter",i),a+=Li(i),a+="</div>"},zi.t577.j=Hi,zi.t577.a=0,zi.t578=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("button button_theme_normal button_size_s button_rounded_yes n-carousel__filter-item"),role:new yr.scalarAttr("button")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.stateKey=yr.nodeset2data(Ni("stateKey",e,[])),n.preset=yr.nodeset2data(Ni("preset",e,[])),t["n-carousel__filter-item"]=n,t}()))),s+=Li(i),s+='<span class="button__text">'+Ti(Ni("title",e,[]))+"</span>",s+="</div>"},zi.t578.j=gg,zi.t578.a=0,zi.t579=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="mbo-link">',s+='<a href="'+Si(t.s(kg,e))+'" class="link link_theme_minor">'+Ti(t.s(Eg,e))+"</a>",s+="</div>"},zi.t579.j=wg,zi.t579.a=0,zi.t580=function(t,e,n,r,i){var s="",a="";a+=Ii(t.s(Op,e))>0?Ii(t.s(Op,e)):4;var o=a,a="";a+=Ii(t.s(Tp,e))>0?Ii(t.s(Tp,e)):2;var c=a;s+=Li(i),s+='<div class="animator_placeholder_yes animator_placeholder_flash">',s+="<div",i.a={class:new yr.scalarAttr("n-carousel n-carousel_size_"+o+" n-box i-bem")},i.s="div",s+=t.a(t,0,Ni("anchor",e,[]),"n-w-carousel__anchor",i),s+=t.a(t,0,t.s(Kb,e),"n-w-carousel__header",i),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-carousel__item")},i.s="div";var l=i.a.class;if(l?i.a.class=l.addscalar(" i-slider i-slider_flex_yes i-slider_size_"+o):i.a.class=new yr.scalarAttr(" i-slider i-slider_flex_yes i-slider_size_"+o),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("i-slider__inner")},i.s="div",Ai("small",t.s(jp,e))){var l=i.a.class;l?i.a.class=l.addscalar(" n-images-set"):i.a.class=new yr.scalarAttr(" n-images-set")}return s+=t.a(t,0,t.s(ps,e),"widgets__placeholder_column",i,o,c),s+=Li(i),s+="</div>",s+="</div>",s+="</div>",s+="</div>"},zi.t580.j=xg,zi.t580.a=0,zi.t581=function(t,e,n,r,i,s,a){var o="";return 1==a?o+=t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder",i,Ii(t.s(jp,e)),function(){var t={};return t.class=" i-slider__item",t}()):(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("i-slider__item n-carousel__column")},i.s="div",o+=t.a(t,0,t.s(ps,e),"widgets__placeholder_row",i,a),o+=Li(i),o+="</div>"),s-1>0&&(o+=t.a(t,0,t.s(ps,e),"widgets__placeholder_column",i,s-1,a)),o},zi.t581.j=xg,zi.t581.a=0,zi.t582=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-snippet-cell__placeholder",i,Ii(t.s(jp,e)),function(){var t={};return t.class=" n-carousel__row",t}()),s-1>0&&(a+=t.a(t,0,t.s(ps,e),"widgets__placeholder_row",i,s-1)),a},zi.t582.j=xg,zi.t582.a=0,zi.t583=function(t,e,n,r,i,s,a,o){a=void 0===a?[]:a,o=void 0===o?[]:o;var c="",l=t.n(_g,yr.object2nodeset(s)),u=t.n(Mg,yr.object2nodeset(s)),d="";d+=Ai("onSides",t.n(Ag,yr.object2nodeset(s)))?"on-sides":"";var p=d,h=Ii(t.n(cs,yr.object2nodeset(s))),d="";d+=Ai("full",t.n(Tg,yr.object2nodeset(s)))?Ii(l):Ii(l)-1;var f=d,_=t.n(lb,yr.object2nodeset(s)),m=t.n(Cg,yr.object2nodeset(s));c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("n-carousel__item i-bem "+Ii(t.n(gs,yr.object2nodeset(s)))+" n-carousel__item_internal_"+Ii(Ni("isInternalNetwork",e,[])))},i.s="div";var v=i.a.class;v?i.a.class=v.addscalar(" i-slider i-slider_async_yes i-slider_with_nav i-slider_custom-arrows i-slider_flex_yes"):i.a.class=new yr.scalarAttr(" i-slider i-slider_async_yes i-slider_with_nav i-slider_custom-arrows i-slider_flex_yes");var v=i.a.class;if(v?i.a.class=v.addscalar(" i-slider_size_"+Ii(l)):i.a.class=new yr.scalarAttr(" i-slider_size_"+Ii(l)),Di("presetCount",e)<Ii(l)){var v=i.a.class;v?i.a.class=v.addscalar(" i-slider_static_yes"):i.a.class=new yr.scalarAttr(" i-slider_static_yes")}if(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.loop=!1,n.rewind=!1,n.disableItemWrapping=!0,n.slideBy=+f,n.items=yr.nodeset2data(l),n.navPosition=p,n.cellType=h,n.stateKey=yr.nodeset2data(Ni("stateKey",e,[])),n.metrika=yr.nodeset2data(a),n.rows=yr.nodeset2data(u),n.convertCurrency=yr.nodeset2data(_),n.cellParams=yr.nodeset2data(m),t["i-slider"]=n,t}()))),c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("i-slider__inner")},i.s="div","small"==h){var v=i.a.class;v?i.a.class=v.addscalar(" n-images-set"):i.a.class=new yr.scalarAttr(" n-images-set")}return c+=t.a(t,0,Ni("preset",e,[]),"n-carousel__column",i,h,yr.externals["n-nodeset-to-object"](a),s),c+=Li(i),c+="</div>",c+=t.a(t,0,o,"n-carousel__promo",i),c+="</div>"},zi.t583.j=gg,zi.t583.a=0,zi.t584=function(t,e,n,r,i,s,a,o){var c="";return c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("i-slider__item n-carousel__column")},i.s="div",c+=t.a(t,0,Ni("rows",e,[]),"n-snippet-cell_cms",i,s,function(){var e={};return e.class="n-carousel__row",e.metrika=a,e.convertCurrency=yr.nodeset2data(t.n(lb,yr.object2nodeset(o))),e.cellParams=yr.nodeset2data(t.n(Cg,yr.object2nodeset(o))),e}()),c+=Li(i),c+="</div>"},zi.t584.j=Sg,zi.t584.a=0,zi.t585=function(t,e,n,r,i,s,a,o){var c="";return c+=t.a(t,0,Ni("rows",e,[]),"n-snippet-cell_cms",i,s,function(){var e={};return e.class="i-slider__item",e.metrika=a,e.convertCurrency=yr.nodeset2data(t.n(lb,yr.object2nodeset(o))),e.cellParams=yr.nodeset2data(t.n(Cg,yr.object2nodeset(o))),e}())},zi.t585.j=Ig,zi.t585.a=0,zi.t586=function(t,e,n,r,i,s){var a="",o="";o+=Ai("onRight",Ni("place",e,[]))?"right":"";var c=o,l="R-I-97693-5",u="yandex_rtb_"+l+"_"+Bi(yr.externals["n-math-random"]());if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-carousel__promo n-promo-block")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.nid=yr.nodeset2data(t.v("v15",e.doc.root)),r.blockId=l,r.placeId=u,n["n-carousel__promo"]=r,n}()))),c){var d=i.a.class;d?i.a.class=d.addscalar(" n-carousel__promo_on_"+c):i.a.class=new yr.scalarAttr(" n-carousel__promo_on_"+c)}return a+=Li(i),a+='<span class="n-promo-block__title">Реклама</span>',a+='<div class="n-promo-block__place" id="'+Oi(u)+'"></div>',a+="</div>"},zi.t586.j=Og,zi.t586.a=0,zi.t587=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__wrapper",i),s+=t.a(t,0,t.s(ps,e),"n-product-subscribe__footer",i)},zi.t587.j=Hi,zi.t587.a=0,zi.t588=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-input",i,s)},zi.t588.j=Hi,zi.t588.a=0,zi.t589=function(t,e,n,r,i,s){var a="";return a+=Li(i),Ci(t.n(xa,yr.object2nodeset(s)))?a+=Ii(t.n(hs,yr.object2nodeset(s))):(a+="<span",i.a={},i.s="span",a+=t.f("f2",e,n,r,i,"link",yr.array2nodeset(function(){var i=[];return i.push(t.f("f176",e,n,r,s)),i}())),a+=Li(i),a+="</span>"),a},zi.t589.j=Hi,zi.t589.a=0,zi.t590=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"footer-subscription__form",i,function(){var t={};t.text="Узнавайте о выгодных предложениях и получайте личные рекомендации";var e={};e.class="button_for_mail",e.text="Подписаться",t.button=e;var e={};return e.class="footer-subscription__form_action_addEmail",t.form=e,t}())},zi.t590.j=jg,zi.t590.a=0,zi.t591=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"footer-subscription__form",i,function(){var t={};t.text="Узнавайте о выгодных предложениях и получайте личные рекомендации";var e={};e.class="footer-subscription__control_name_email input_for_mail",e.placeholder="Электронная почта",t.input=e;var e={};e.class="button_for_mail",e.text="Подписаться",t.button=e;var e={};return e.class="footer-subscription__form_action_addEmail",t.form=e,t}())},zi.t591.j=Pg,zi.t591.a=0,zi.t592=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"footer-subscription__greeting",i,function(){var n={};return n.text=Ii(t.s(Dg,e))+", теперь вы подписаны на рассылку об акциях, скидках и рекомендациях",n}())},zi.t592.j=Bg,zi.t592.a=0,zi.t593=function(t,e,n,r,i){var s="";return s+=""!=Ii(t.s(Ng,e))?t.a(t,0,t.s(ps,e),"footer-subscription__greeting",i,function(){var n={};return n.text=Ii(t.s(Ng,e))+", в почте вас ждёт письмо, где вы сможете подтвердить подписку",n}()):t.a(t,0,t.s(ps,e),"footer-subscription__form",i,function(){var t={};t.text="Вы подписаны на рассылку Маркета. Представьтесь, пожалуйста";var e={};e.class="footer-subscription__control_name_userName input_for_name",e.placeholder="Имя",t.input=e;var e={};e.class="button_for_name",e.text="Отправить",t.button=e;var e={};return e.class="footer-subscription__form_action_addUserName",t.form=e,t}())},zi.t593.j=Rg,zi.t593.a=0,zi.t594=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<form",i.a={class:new yr.scalarAttr("footer-subscription__form"),action:new yr.scalarAttr("#")},i.s="form";var o=i.a.class;if(o?i.a.class=o.addscalar(" "+Ii(t.n(Fg,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(Fg,yr.object2nodeset(s)))),a+=Li(i),a+='<img class="image image_name_subscribe" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt=""/>',a+='<div class="footer-subscription__text">'+Ti(t.n(ra,yr.object2nodeset(s)))+"</div>",Ni("emails",e,[]).length)a+=t.a(t,0,t.s(ps,e),"footer-subscription__select",i);else{var c=Bi(yr.externals["str-length"](Ii(t.n(Ug,yr.object2nodeset(s)))))>0;a+="<span",i.a={class:new yr.scalarAttr("input input_size_m input_theme_normal input_type_load i-bem")},i.s="span";var o=i.a.class;o?i.a.class=o.addscalar(" footer-subscription__control"):i.a.class=new yr.scalarAttr(" footer-subscription__control");var l="";l+=c?" "+Ii(t.n(Ug,yr.object2nodeset(s))):" footer-subscription__control_name_email";var o=i.a.class;o?i.a.class=o.addscalar(l):i.a.class=new yr.scalarAttr(l);var o=i.a.class;o?i.a.class=o.addscalar(" manotice manotice_type_popup"):i.a.class=new yr.scalarAttr(" manotice manotice_type_popup"),i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(function(){var t={},e={};e.live=!1,t.input=e;var e={};return e.directions="top",t.manotice=e,t}()))),a+=Li(i),a+='<span class="input__box">',a+='<input class="input__control" name="" placeholder="'+Si(t.n(zg,yr.object2nodeset(s)))+'"/>',a+='<span class="input__clear" unselectable="on"></span>',a+="</span>",a+='<div class="spin2 spin2_size_xxs"></div>',a+="</span>"}a+="<button",i.a={class:new yr.scalarAttr("button button_theme_normal button_size_m button_side_right i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("submit")},i.s="button";var o=i.a.class;return o?i.a.class=o.addscalar(" "+Ii(t.n(Hg,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" "+Ii(t.n(Hg,yr.object2nodeset(s)))),i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(function(){var t={};return t.button="",t}()))),a+=Li(i),a+='<span class="button__text">'+Ti(t.n(Vg,yr.object2nodeset(s)))+"</span>",a+="</button>",a+="</form>"},zi.t594.j=Lg,zi.t594.a=0,zi.t595=function(t,e,n,r,i){var s="",a=t.s(Gg,e);s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("select select_size_m select_theme_normal i-bem select_for_mail")},i.s="span";var o=i.a.class;return o?i.a.class=o.addscalar(" footer-subscription__control footer-subscription__control_name_email"):i.a.class=new yr.scalarAttr(" footer-subscription__control footer-subscription__control_name_email"),i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(function(){var t={},n={},r={};r.block="link";var i={};return i.block="footer-subscription",i.elem="select-link",r.mix=i,r.url=Ii(Ni("emailEditLink",e,[])),r.content="Редактирование адресов",n.footer=r,n.live=!1,t.select=n,t}()))),s+=Li(i),s+="<button",i.a={class:new yr.scalarAttr("button button_theme_normal button_arrow_down button_size_m select__button i-bem"),type:new yr.scalarAttr("button"),role:new yr.scalarAttr("listbox"),"aria-haspopup":new yr.scalarAttr("true"),"aria-expanded":new yr.scalarAttr("false")},i.s="button",i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(function(){var t={};return t.button="",t}()))),s+=Li(i),s+='<span class="button__text">'+Ti(t.s($g,e))+"</span>",s+="</button>",s+='<select class="select__control" name="mail" tabindex="-1" aria-hidden="true">',Ci(a)||(s+='<option class="select__option" value="">Выберите адрес</option>'),s+=t.a(t,0,Ni("emails",e,[]),"footer-subscription__select-option",i),s+="</select>",s+="</span>"},zi.t595.j=Lg,zi.t595.a=0,zi.t596=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<option",i.a={class:new yr.scalarAttr("select__option"),value:new yr.scalarAttr(Ii(Ni("email",e,[])))},i.s="option",Ri("active",e)&&(i.a.selected=new yr.scalarAttr("selected")),s+=Li(i),s+=Ti(Ni("email",e,[])),s+="</option>"},zi.t596.j=qg,zi.t596.a=0,zi.t597=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="footer-subscription__greeting">',a+='<img class="image image_name_subscribed" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt=""/>',Ci(t.s(mm,e))&&(a+='<div class="footer-subscription__text footer-subscription__text_for_change-subscribe">',a+='<a class="link" href="'+Si(Ni("settingsLink",e,[]))+'">Настройки уведомлений</a>',a+="</div>"),a+='<div class="footer-subscription__text footer-subscription__text_for_subscribed">'+Ti(t.n(ra,yr.object2nodeset(s)))+"</div>",a+="</div>"},zi.t597.j=Lg,zi.t597.a=0,zi.t598=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("header2-user user i-bem")},i.s="div",s+=t.a(t,0,t.s(ps,e),"header2-user__button",i),s+=Li(i),s+="</div>"},zi.t598.j=Hi,zi.t598.a=0,zi.t599=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,Ni("page",e.doc.root,[]),"header2-user__origin",o);var c=a,a="",o={a:{}};return a+='{"user": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<a class="button button2 button2_pseudo_yes button2_size_ml button2_theme_gray user__enter" href="https://'+Si(Ni("passportHost",e,[]))+"/passport?mode=passport&amp;origin="+ji(c)+'" role="button">',s+='<span class="button2__text">',s+='<span class="user__enter-label">Войти</span>',s+="</span>",s+="</a>"},zi.t599.j=Hi,zi.t599.a=0,zi.t600=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,Ni("page",e.doc.root,[]),"header2-user__origin",o);var c=a,l=i.a.class;return l?i.a.class=l.addscalar(" user_login_passport"):i.a.class=new yr.scalarAttr(" user_login_passport"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.loginType=yr.nodeset2data(t.n(Wg,t.v("v23",e.doc.root))),r.passportHost=yr.nodeset2data(Ni("passportHost",e,[])),r.origin=c,n.user=r,n}()))),s+=Li(i),s+='<a class="button button2 button2_pseudo_yes button2_size_ml button2_theme_gray user__login" href="https://'+Si(Ni("passportHost",e,[]))+"/auth?origin="+ji(c)+"&amp;retpath="+Si(Ni("retpath",e,[]))+'" role="button">',s+='<span class="button2__text">',s+='<span class="user__enter-label">Войти</span>',s+="</span>",s+="</a>"},zi.t600.j=Yg,zi.t600.a=0,zi.t601=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,Ni("page",e.doc.root,[]),"header2-user__origin",o);var c=a;return s+=Li(i),s+='<a class="button button2 button2_pseudo_yes button2_size_ml button2_theme_gray user__login" href="https://'+Si(Ni("passportHost",e,[]))+"/auth?origin="+ji(c)+"&amp;retpath="+Si(Ni("retpath",e,[]))+'" role="button">',s+='<span class="button2__text">',s+='<span class="user__enter-label">Войти</span>',s+="</span>",s+="</a>"},zi.t601.j=Kg,zi.t601.a=0,zi.t602=function(t,e,n,r,i){var s="",a=[];a=yr.exists(t.s(Dg,e))?t.s(Dg,e):t.s(Bl,e);var o=a,c=yr.externals["n-moment-call-scalar"](yr.externals["n-moment"](),"format","X");return s+=Li(i),s+="<a",i.a={class:new yr.scalarAttr("header2-user user i-bem"),href:new yr.scalarAttr("https://"+Ii(Ni("passportHost",e,[]))+"/passport?mode=passport")},i.s="a",i.a["data-bem"]=new yr.scalarAttr('{ "user": { } }'),s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("user__icon"),style:new yr.scalarAttr("background-image: url(//"+Ii(Ni("avatarHost",e,[]))+"/get-yapic/"+Ii(t.s(Qg,e))+"/islands-middle?rnd="+c+");")},i.s="span",i.a["data-bem"]=new yr.scalarAttr('{"user__icon": {"avatarId": "'+Ii(t.s(Qg,e))+'" } }'),s+=Li(i),s+="</span>",s+='<span class="user__name">',s+='<span class="user__first-letter">'+Pi(yr.externals["n-str-substr"](Ii(o),0,1))+"</span>",s+=Pi(t.f("f177",e,n,r,yr.externals["n-str-substr"](Ii(o),1,Bi(yr.externals["n-str-length"](Ii(o)))-1),16,3)),s+="</span>",s+="</a>"},zi.t602.j=Xg;zi.t602.a=0;zi.t603=function(t,e,n,r,i){var s="";return s+=Li(i),s+="market_desktop_header"},zi.t603.j=Hi,zi.t603.a=0,zi.t604=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("header2-user-menu i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.user=yr.nodeset2data(Ni("user",e,[])),n.domain=yr.nodeset2data(Ni("domain",e,[])),t["header2-user-menu"]=n,t}()))),s+=t.a(t,0,t.s(ps,e),"header2-user-menu-market",i),s+=t.a(t,0,t.s(ps,e),"header2-user-menu-common",i),s+=Li(i),s+="</div>"},zi.t604.j=Hi,zi.t604.a=0,zi.t605=function(t,e,n,r,i){var s="";if(s+=Li(i),s+='<ul class="header2-user-menu__list">',Ai("ru",t.s(Jg,e))||Ai("ua",t.s(Jg,e))){s+='<li class="header2-user-menu__item header2-user-menu__item_type_cart">',s+='<a class="link" href="/cart?track=menu">',s+="Корзина",s+="<span",i.a={class:new yr.scalarAttr("header2-user-menu__count personal-counter personal-counter_provider_cart i-bem")},i.s="span";var a="";a+='{"personal-counter": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="</span>",s+="</a>",s+="</li>"}s+='<li class="header2-user-menu__item header2-user-menu__item_type_orders">',s+='<a class="link" href="/my/orders?track=menu">',s+="Мои заказы",s+="</a>",s+="</li>",s+='<li class="header2-user-menu__item header2-user-menu__item_type_wishlist">',s+='<a class="link" href="/my/wishlist?track=menu">',s+="Отложенные",s+="<span",i.a={class:new yr.scalarAttr("header2-user-menu__count personal-counter personal-counter_provider_wishlist i-bem")},i.s="span";var a="";a+='{"personal-counter": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="</span>",s+="</a>",s+="</li>",s+='<li class="header2-user-menu__item header2-user-menu__item_type_compare">',s+='<a class="link" href="/compare?track=menu">',s+="Сравнение",s+="<span",i.a={class:new yr.scalarAttr("header2-user-menu__count personal-counter personal-counter_provider_comparison i-bem")},i.s="span";var a="";return a+='{"personal-counter": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="</span>",s+="</a>",s+="</li>",s+='<li class="header2-user-menu__item header2-user-menu__item_type_reviews">',s+='<a class="link" href="/my/reviews?track=menu">',s+="Мои отзывы",s+="</a>",s+="</li>",s+='<li class="header2-user-menu__item header2-user-menu__item_type_options">',s+='<a class="link" href="/my/settings?track=menu&amp;from='+Si(Ni("retpath",e,[]))+'">',s+="Настройки Маркета",s+="</a>",s+="</li>",s+="</ul>"},zi.t605.j=Hi,zi.t605.a=0,zi.t606=function(t,e,n,r,i){var s="";s+=Li(i),s+='<ul class="header2-user-menu__list">',s+='<li class="header2-user-menu__item">',s+='<a class="link" href="https://mail.yandex.'+Si(Ni("domain",e,[]))+'">',s+="<span",i.a={class:new yr.scalarAttr("link__text user-menu-update i-bem")},i.s="span";var a="";a+='{"user-menu-update": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="Новых писем нет",s+="</span>",s+="</a>",s+="</li>",s+='<li class="header2-user-menu__item">',s+='<a class="link" href="https://mail.yandex.'+Si(Ni("domain",e,[]))+'/compose">Написать письмо</a>',s+="</li>",s+='<li class="header2-user-menu__item">',s+='<a class="link" href="https://mail.yandex.'+Si(Ni("domain",e,[]))+'/neo2/#disk/from_upload_main">Мой Диск</a>',s+="</li>",s+='<li class="header2-user-menu__item">',s+='<a class="link" href="https://tune.yandex.'+Si(Ni("domain",e,[]))+'">Настройки Яндекса</a>',s+="</li>",s+='<li class="header2-user-menu__item">',s+='<a class="link" href="https://passport.yandex.'+Si(Ni("domain",e,[]))+'">Паспорт</a>',s+="</li>",s+='<li class="header2-user-menu__item">',s+="<a",i.a={class:new yr.scalarAttr("link user user__logout i-bem"),href:new yr.scalarAttr("https://"+Ii(Ni("passportHost",e,[]))+"/passport?mode=logout&yu="+Ii(t.s(Zg,e))+"&retpath="+Ii(Ni("retpath",e,[])))},i.s="a";var a="";return a+='{"user": {"_uniqId": "user__logout"}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="Выйти",s+="</a>",s+="</li>",s+="</ul>"},zi.t606.j=Hi,zi.t606.a=0,zi.t607=function(t,e,n,r,i){var s="",a={},o="";o+=1==Ci(t.s(tk,e))?Ii(t.s(ek,e)):"",a.input=o;var o="";o+=1==Ci(t.s(tk,e))?Ii(t.s(nk,e)):"",a.value=o;var c=a;s+=Li(i),s+="<form",i.a={class:new yr.scalarAttr("region-select-form b-zone i-bem")},i.s="form",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.detectedName=yr.nodeset2data(t.s(rk,e)),r.regionId=yr.nodeset2data(t.s(nk,e)),n["region-select-form"]=r;var r={};return r.name="region-select-form",n["b-zone"]=r,n}()))),s+=Li(i),s+='<div class="header2-region-popup">',s+='<h3 class="header2-region-popup__title">',s+=yr.externals["n-i18n"]("REGION_SETTINGS_OFFERS_AVAILABLE_IN_REGION"),s+=" в ",s+='<span class="header2-region-popup__title-region">',s+=Ti(t.s(ik,e)),s+="</span>",s+="</h3>",s+="<div",i.a={class:new yr.scalarAttr("region-select-form__suggest manotice manotice_type_popup manotice_local-context_true")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n={};return n.to="top",e.directions=n,e.autoclosable="no",t.manotice=e,t}()))),s+=t.a(t,0,yr.object2nodeset(c),"region-suggest",i),s+=Li(i),s+="</div>",1==Ci(t.s(sk,e))&&(s+="<div",i.a={class:new yr.scalarAttr("checkbox checkbox_theme_normal checkbox_size_m i-bem region-select-form__reg-set")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.live=!1,t.checkbox=e,t}()))),s+=Li(i),s+='<span class="checkbox__box">',s+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox"),id:new yr.scalarAttr("id-02")},i.s="input",1==Ci(t.s(ak,e))&&(i.a.checked=new yr.scalarAttr("checked")),s+=Li(i),s+="",s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="id-02">Показывать предложения из других регионов</label>',s+="</div>"),s+="<button",i.a={class:new yr.scalarAttr("button region-select-form__continue-with-new i-bem"),type:new yr.scalarAttr("submit"),role:new yr.scalarAttr("button")},i.s="button";var l=i.a.class;return l?i.a.class=l.addscalar(" button_theme_action button_size_m"):i.a.class=new yr.scalarAttr(" button_theme_action button_size_m"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.button="",t}()))),s+=Li(i),s+='<span class="button__text">',s+=yr.externals["n-i18n"]("REGION_SETTINGS_CONTINUE_WITH_NEW_REGION"),s+="</span>",s+="</button>",s+='<a class="link region-select-form__auto-definition">',s+=yr.externals["n-i18n"]("REGION_SETTINGS_AUTO_DEFINITION"),s+="</a>",s+="</div>",s+="</form>"},zi.t607.j=Hi,zi.t607.a=0,zi.t608=function(t,e,n,r,i){var s="",a=yr.externals["n-i18n"]("REGION_SETTINGS_CHOOSE_ANOTHER_REGION");return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("region-suggest i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["region-suggest"]="",t}()))),s+=Li(i),s+='<div class="input input_size_l input_theme_normal i-bem">',s+='<span class="input__box">',s+='<span class="input__clear"></span>',s+='<input class="input__control" value="'+Si(Ni("input",e,[]))+'" placeholder="'+ji(a)+'"/>',s+="</span>",s+="</div>",s+='<input type="hidden" class="suggestick-value" value="'+Si(Ni("value",e,[]))+'"/>',s+='<div class="suggestick-list"></div>',s+="</div>"},zi.t608.j=Hi,zi.t608.a=0,zi.t609=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("region-suggest__list suggest2__content suggest2__content_theme_normal")},i.s="div",s+=t.a(t,0,Ni("items",e,[]),"region-suggest__list-item",i),s+=Li(i),s+="</div>"},zi.t609.j=Hi,zi.t609.a=0,zi.t610=function(t,e,n,r,i){var s="";if(s+=Li(i),s+='<div class="region-suggest__list-item suggestick-list__item suggest2-item suggest2-item_type_text">',4==Ni("splittedText",e,[]).length){var a=[0,"splittedText",3,1],o=[0,"splittedText",3,2],c=[0,"splittedText",3,3];s+=Ti(t.s(a,e)),s+="<strong>",s+=Ti(t.s(o,e)),s+="</strong>",s+=Ti(t.s(c,e))}else s+=Ti(Ni("text",e,[]));return Ci(Ni("needSubHint",e,[]))&&(s+='<span class="region-suggest__subtext">',s+=Ti(Ni("subText",e,[])),s+="</span>"),s+="</div>"},zi.t610.j=Hi,zi.t610.a=0,zi.t611=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"region-select-form",o);var c=a,a={},o={a:{}};a.theme="normal",a.background="paranja",a.closer="content";var l=a;return s+=t.a(t,0,t.s(ps,e),"n-modal",i,function(){var t={};return t.mods=l,t.content=Bi(c),t}())},zi.t611.j=Hi,zi.t611.a=0,zi.t612=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Li(c),o+="<div",c.a={class:new yr.scalarAttr("n-region-notification b-zone i-bem")},c.s="div",c.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={};n["n-region-notification"]=yr.nodeset2data(t.s(ps,e));var r={};return r.name="region-notification",n["b-zone"]=r,n}()))),"init"===yr.nodeset2data(t.n(bp,yr.object2nodeset(s)))?o+=t.a(t,0,Ni("region",e,[]),"n-region-notification_layout_init",c):"auto"===yr.nodeset2data(t.n(bp,yr.object2nodeset(s)))?o+=t.a(t,0,Ni("region",e,[]),"n-region-notification_layout_auto",c,function(){var e={};return e.previousRegionName=yr.nodeset2data(t.n(ck,yr.object2nodeset(s))),e}()):"manual"===yr.nodeset2data(t.n(bp,yr.object2nodeset(s)))&&(o+=t.a(t,0,Ni("region",e,[]),"n-region-notification_layout_manual",c,function(){var e={};return e.previousRegionName=yr.nodeset2data(t.n(ck,yr.object2nodeset(s))),e}())),o+=Li(c),o+="</div>";var l=o;return a+=t.a(t,0,t.s(ps,e),"n-popup2",i,function(){var e={},n={};n.autoclosable="yes",n.adaptive="yes",n.animate="yes",n.target="anchor",n.theme="normal",n.region="notification";var r="";r+="manual"===yr.nodeset2data(t.n(bp,yr.object2nodeset(s)))?"yes":"",n.closer=r,e.mods=n;var n={},r=[];return r.push("bottom-center"),n.directions=r,n.mainOffset=-18,e.data=n,e.tail=!0,e.content=l,e}())},zi.t612.j=ok,zi.t612.a=0,zi.t613=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-region-notification__header">',a+=s,a+="</div>"},zi.t613.j=ok,zi.t613.a=0,zi.t614=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-region-notification__actions layout layout_display_flex">',s+="<div",i.a={class:new yr.scalarAttr("n-region-notification__actions-cell")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-button2",i,function(){var t={};t.theme="action",t.size="m",t.width="max";var e=[],n={};n.name="n-region-notification__actions-btn",e.push(n);var n={};return n.name="n-region-notification__ok",e.push(n),t.mix=e,t.content=yr.externals["n-i18n"]("REGION_NOTIFICATION_OK"),t}()),s+=Li(i),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-region-notification__actions-cell")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-button2",i,function(){var n={};n.size="m",n.width="max";var r=[],i={};i.name="n-region-notification__actions-btn",r.push(i);var i={};i.name="n-region-notification__change",r.push(i);var i={};i.name="region-form-opener";var s={};return s.region=yr.nodeset2data(t.s(ps,e)),i.data=s,r.push(i),n.mix=r,n.content=yr.externals["n-i18n"]("REGION_NOTIFICATION_CHANGE"),n}()),s+=Li(i),s+="</div>",s+="</div>"},zi.t614.j=ok,zi.t614.a=0,zi.t615=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<a class="link i-bem n-region-notification__back-to">',a+=yr.externals["n-i18n"]("REGION_NOTIFICATION_BACK_TO",function(){var e={};return e.locationName=yr.nodeset2data(t.n(ck,yr.object2nodeset(s))),e}()),a+="</a>"},zi.t615.j=ok,zi.t615.a=0,zi.t616=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Li(c),o+='<div class="n-region-notification__header-location">',o+=Ti(Ni("name",e,[])),o+="</div>";var l=o,u=Bi(yr.externals["n-i18n"]("REGION_NOTIFICATION_YOUR_REGION"))+" "+Bi(l);return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-region-notification_layout_init")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-region-notification__header",i,u),a+=t.a(t,0,t.s(ps,e),"n-region-notification__actions",i),a+=Li(i),a+="</div>"},zi.t616.j=ok,zi.t616.a=0,zi.t617=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Li(c),o+='<div class="n-region-notification__header-location">',o+=Ti(Ni("name",e,[])),o+="</div>";var l=o,u=Bi(yr.externals["n-i18n"]("REGION_NOTIFICATION_NOW_YOUR_REGION"))+" "+Bi(l);return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-region-notification_layout_auto")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-region-notification__header",i,u),a+=t.a(t,0,t.s(ps,e),"n-region-notification__actions",i),a+=t.a(t,0,t.s(ps,e),"n-region-notification__back-to",i,function(){var e={};return e.previousRegionName=yr.nodeset2data(t.n(ck,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"},zi.t617.j=ok,zi.t617.a=0,zi.t618=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Li(c),o+='<span class="n-region-notification__header-location">',o+=Ti(t.s(lk,e)),o+="</span>";var l=o,u=Bi(yr.externals["n-i18n"]("REGION_NOTIFICATION_NOW_YOU_SEE"))+" "+Bi(l);return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-region-notification_layout_manual")},
i.s="div",a+=t.a(t,0,t.s(ps,e),"n-region-notification__header",i,u),a+=t.a(t,0,t.s(ps,e),"n-region-notification__back-to",i,function(){var e={};return e.previousRegionName=yr.nodeset2data(t.n(ck,yr.object2nodeset(s))),e}()),a+=Li(i),a+="</div>"},zi.t618.j=ok,zi.t618.a=0,zi.t619=function(t,e,n,r,i,s){var a="";return a+=t.a(t,0,t.s(ps,e),"n-w-reviews",i,s)},zi.t619.j=uk,zi.t619.a=0,zi.t620=function(t,e,n,r,i,s){function a(t,e,n,r){return 1==Ci(t.s(ml,e))}var o="",c=!1;c=!yr.exists(t.n(pk,yr.object2nodeset(s)))||Ci(t.n(pk,yr.object2nodeset(s)));var l=c,c=!1;c=!!yr.exists(t.n(hk,yr.object2nodeset(s)))&&Ci(t.n(hk,yr.object2nodeset(s)));var u=c,d=[0,"sorts",2,a],p=t.s(d,e),c="";c+=yr.exists(Ni("shop",e,[]))?"shop":"product";var h=c,c={};c.distributionTitle=Di("distributionTitle",e),c.sortBy=yr.nodeset2data(t.n(yl,p)),c.sortDesc=yr.nodeset2data(t.n(vl,p)),c.currentGrade=yr.nodeset2data(t.s(_k,e)),c.showAllGradesLink=yr.nodeset2data(Ni("showAllGradesLink",e,[])),c.size="l";var f=c;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("layout"),id:new yr.scalarAttr("n-w-reviews")},i.s="div",o+=t.a(t,0,t.s(ps,e),"n-reviews-toolbar",i),o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("layout layout_type_maya reviews-layout reviews-layout_indent_bottom")},i.s="div",u){var _=i.a.class;_?i.a.class=_.addscalar(" reviews-layout_place_product"):i.a.class=new yr.scalarAttr(" reviews-layout_place_product")}return o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p75")},i.s="div",o+=t.a(t,0,Ni("opinions",e,[]),"n-product-review-item",i,function(){var n={};return n.retpath=yr.nodeset2data(Ni("retpath",e,[])),n.showMicromarkup=yr.nodeset2data(t.n(vk,yr.object2nodeset(s))),n}()),o+=t.a(t,0,t.s(ps,e),"n-w-reviews__pager",i),o+=Li(i),o+="</div>",o+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p25")},i.s="div",yr.exists(Ni("offer",e,[]))&&(o+=t.a(t,0,Ni("offer",e,[]),"n-w-last-viewed-offer",i,function(){var t={};return t.title="Вы смотрели",t.place="last-viewed-offer",t}())),o+=t.a(t,0,Ni("summary",e,[]),"n-review-factors-summary",i,h),Ii(t.s(yk,e))>1&&(o+=yr.exists(Ni("shop",e,[]))?t.a(t,0,Ni("gradesDistribution",e,[]),"n-product-rating-stat",i,f,Ni("shop",e,[])):t.a(t,0,Ni("gradesDistribution",e,[]),"n-product-rating-stat",i,f,Ni("product",e,[]))),o+=t.a(t,0,Ni("shop",e,[]),"n-w-shop-jur-info__shop",i),!yr.exists(Ni("shop",e,[]))&&yr.exists(Ni("product",e,[]))&&l&&(o+=t.a(t,0,t.s(gk,e.doc.root),"widgets",i,function(){var t={};return t.viewType="mini",t}())),o+=Li(i),o+="</div>",o+="</div>",o+="</div>"},zi.t620.j=dk,zi.t620.a=0,zi.t621=function(t,e,n,r,i,s){var a="",o=!1;o=!yr.exists(t.n(pk,yr.object2nodeset(s)))||Ci(t.n(pk,yr.object2nodeset(s)));var c=o;return a+=Li(i),a+='<div class="layout">',a+='<div class="layout layout_type_maya reviews-layout reviews-layout_empty_yes">',a+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p75")},i.s="div",Di("totalReviews",e)>0?a+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.content="Отзывов нет!",t.size="22",t.tag="h2",t}()):Ci(Ni("product",e,[]))?(a+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.content="Отзывов ещё нет — ваш может стать первым.",t.size="22",t.tag="h2",t}()),a+=Li(i),a+='<p style="font-size: 15px; line-height: 1.4em;">',a+="Расскажите о своём опыте использования товара.",a+="<br/>",a+="Обратите внимание на качество, удобство и соответствие заявленным характеристикам.",a+="</p>"):Ci(Ni("shop",e,[]))&&(a+=t.a(t,0,t.s(ps,e),"title",i,function(){var t={};return t.content="Отзывов ещё нет — ваш может стать первым.",t.size="22",t.tag="h2",t}()),a+=Li(i),a+='<p style="font-size: 15px; line-height: 1.4em;">',a+="Расскажите, понравился ли вам этот магазин.",a+="<br/>",a+="Обратите внимание на время обработки заказа, вежливость сотрудников, скорость и качество доставки.",a+="</p>"),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p25")},i.s="div",Ci(Ni("product",e,[]))?(a+=t.a(t,0,Ni("product",e,[]),"n-reviews-add-button",i,Di("retpath",e)),c&&(a+=t.a(t,0,t.s(gk,e.doc.root),"widgets",i,function(){var t={};return t.viewType="mini",t}()))):a+=t.a(t,0,Ni("shop",e,[]),"n-reviews-add-button",i,Di("retpath",e)),a+=Li(i),a+="</div>",a+="</div>",a+="</div>"},zi.t621.j=kk,zi.t621.a=0,zi.t622=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-w-reviews__pager")},i.s="div",yr.exists(t.s(Ek,e))&&(s+=t.a(t,0,Ni("pager",e,[]),"n-pager-more",i)),s+=t.a(t,0,Ni("pager",e,[]),"n-pager",i),s+=Li(i),s+="</div>"},zi.t622.j=wk,zi.t622.a=0,zi.t623=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:product-reviews",function(){var n={};return n.productId=yr.nodeset2data(t.s(rc,e)),n.track="rev_mc",n}()),o={},c={},l=[];l.push("filters"),c.subscriptions=l,o["n-smart-link"]=c;var u=o,d=t.f("f156",e,n,r,function(){var t={},e={};return e.element="showMoreButton",e.action="click",t.reviews=e,t}());return s+=Li(i),s+='<div class="pager-more metrika i-bem">',s+="<a",i.a={role:new yr.scalarAttr("button"),class:new yr.scalarAttr("button button_size_m button_theme_pseudo n-smart-link metrika i-bem"),href:new yr.scalarAttr(a)},i.s="a",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(yr.externals["n-merge-objects"](u,d)))),s+=Li(i),s+='<span class="button__text">Перейти к отзывам</span>',s+="</a>",s+="</div>"},zi.t623.j=xk,zi.t623.a=0,zi.t624=function(t,e,n,r,i){var s="",a=Di("retpath",e),o=[];o=Ci(Ni("product",e,[]))?Ni("product",e,[]):Ni("shop",e,[]);var c=o,o="";o+=Ci(Ni("hasReviewFromCurrentUser",e,[]))?"Изменить отзыв":"Написать отзыв";var l=o;s+=Li(i),s+='<div class="layout layout_type_maya">',s+="<div",i.a={class:new yr.scalarAttr("review-toolbar reviews-layout n-reviews-toolbar i-bem")},i.s="div";var o="";return o+='{"review-toolbar": {}, "n-reviews-toolbar": {}}',i.a["data-bem"]=new yr.xmlAttr(o),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p75")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-reviews-toolbar__title",i),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-reviews-toolbar__inner")},i.s="div",Ai("reviews",Ni("reviewPlace",e,[]))&&(Ci(Ni("product",e,[]))?(s+=Li(i),s+=t.f("f178",e,n,r,i,function(){var t={};return t.sorts=yr.nodeset2data(Ni("sorts",e,[])),t.product=yr.nodeset2data(c),t.filters=yr.nodeset2data(Ni("filters",e,[])),t.pager=yr.nodeset2data(Ni("pager",e,[])),t}()),s+=t.a(t,0,Ni("filters",e,[]),"n-reviews-toolbar__filter",i)):(s+=t.a(t,0,t.s(ps,e),"n-reviews-toolbar__sort",i),s+=t.a(t,0,Ni("filters",e,[]),"n-reviews-toolbar__filter",i))),s+=Li(i),s+="</div>",s+='<div class="review-gallery"></div>',s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p25")},i.s="div",s+=t.a(t,0,c,"n-reviews-add-button",i,a,l),s+=Li(i),s+="</div>",s+="</div>",s+="</div>"},zi.t624.j=Hi,zi.t624.a=0,zi.t625=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<h2 class="title title_size_22">Все отзывы</h2>',s+="<span",i.a={class:new yr.scalarAttr("metrika i-bem")},i.s="span",t.f("f0",e,n,r,i,yr.object2nodeset(t.f("f156",e,n,r,function(){var t={},e={};return e.element="showNumAllLink",e.action="click",t.reviews=e,t}()))),s+=t.a(t,0,t.s(ps,e),"n-reviews-toolbar__title-count",i),s+=Li(i),s+="</span>"},zi.t625.j=Hi,zi.t625.a=0,zi.t626=function(t,e,n,r,i){var s="",a=t.s(Zi,e.doc.root),o=yr.externals["n-build-url"]("market:product-reviews",function(){var n={};return n.productId=yr.nodeset2data(t.s(rc,e)),n}());return s+=Li(i),"market:product"===yr.nodeset2data(a)?(s+="<a",i.a={class:new yr.scalarAttr("review-toolbar-link link link_theme_black n-smart-link i-bem"),href:new yr.scalarAttr(o)},i.s="a",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[];n.push("how"),n.push("local-offers-first"),n.push("deliveryincluded"),e.paramsBlacklist=n;var n=[];return n.push("filters"),e.subscriptions=n,t["n-smart-link"]=e,t}()))),s+=Li(i),s+='<h2 class="title title_size_22">Все отзывы</h2>',s+="<span",i.a={class:new yr.scalarAttr("metrika i-bem")},i.s="span",t.f("f0",e,n,r,i,yr.object2nodeset(t.f("f156",e,n,r,function(){var t={},e={};return e.element="showNumAllLink",e.action="click",t.reviews=e,t}()))),s+=Li(i),s+='<span class="review-toolbar__count">',s+=Ti(Ni("totalReviews",e,[])),s+="</span>",s+="</span>",s+="</a>"):(s+='<h2 class="title title_size_22">Все отзывы</h2>',s+="<span",i.a={class:new yr.scalarAttr("metrika i-bem")},i.s="span",t.f("f0",e,n,r,i,yr.object2nodeset(t.f("f156",e,n,r,function(){var t={},e={};return e.element="showNumAllLink",e.action="click",t.reviews=e,t}()))),s+=Li(i),s+='<span class="review-toolbar__count">',s+=Ti(Ni("totalReviews",e,[])),s+="</span>",s+="</span>"),s},zi.t626.j=Mk,zi.t626.a=0,zi.t627=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<h2 class="title title_size_22">Отзывы с оценкой</h2>',s+='<span class="review-toolbar__info">',s+=Ti(t.s(Tk,e)),s+="</span>"},zi.t627.j=Ak,zi.t627.a=0,zi.t628=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="review-toolbar__count">',s+=Ti(Ni("totalReviews",e,[])),s+="</span>"},zi.t628.j=Ck,zi.t628.a=0,zi.t629=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:product-reviews",function(){var n={};return n.productId=yr.nodeset2data(t.s(rc,e)),n}());return s+=Li(i),s+='<a class="link review-toolbar__count" href="'+Oi(a)+'">',s+=Ti(Ni("totalReviews",e,[])),s+="</a>"},zi.t629.j=Sk,zi.t629.a=0,zi.t630=function(t,e,n,r,i){var s="",a=Ni("link",e,[]);s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("sort i-bem")},i.s="div";var o="";o+='{ "sort": {} }',i.a["data-bem"]=new yr.xmlAttr(o),s+=Li(i),s+='<div class="sort__label">',s+="Сортировать: ",s+="</div>";for(var c=Ni("sorts",e,[]),l=0,u=c.length;l<u;l++){var d=c[l];s+=t.a(t,0,t.s(ps,d),"n-reviews-toolbar__sort-item",i,a)}return s+="</div>"},zi.t630.j=Hi,zi.t630.a=0,zi.t631=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";if(Ai("rank",t.s(yl,e))&&Ci(t.s(ml,e))){a+=Li(i),a+="<span",i.a={},i.s="span";var o="";o+="sort__item sort__item_selected_yes",i.a.class=new yr.scalarAttr(o),a+=Li(i),a+=Ti(Ni("text",e,[])),a+="</span>"}else a+=t.a(t,0,s,"n-reviews-toolbar__sort-link",i,t.s(ps,e));return a},zi.t631.j=Hi,zi.t631.a=0,zi.t632=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=yr.externals["n-build-url"](Di("target",e),yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](Ni("params",e,[])),function(){var e={};if(e.sort_by=yr.nodeset2data(t.n(yl,s)),Ci(t.n(ml,s))){var n="";n+=Ai("desc",t.n(vl,s))?"asc":"desc",e.sort_desc=n}return!Ai("grade",t.n(yl,s))&&Ci(t.n(Ik,s))&&(e.grade_value=yr.nodeset2data(t.n(Ik,s))),e}()));a+=Li(i),a+="<a",i.a={href:new yr.scalarAttr(o)},i.s="a";var c="";return c+="sort__item",Ci(t.n(ml,s))&&(c+=" sort__item_selected_yes"),Ci(t.n(vl,s))&&(c+=" sort__item_order_"+Ii(t.n(vl,s))),i.a.class=new yr.scalarAttr(c),a+=Li(i),a+=Ti(t.n(ra,s)),a+="</a>"},zi.t632.j=Yl,zi.t632.a=0,zi.t633=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f181",e,n,r,i,function(){var t={};return t.type="photo",t.desc="С фото",t}())},zi.t633.j=Ok,zi.t633.a=0,zi.t634=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f181",e,n,r,i,function(){var t={};return t.type="cpa",t.desc="От проверенных покупателей",t}())},zi.t634.j=jk,zi.t634.a=0,zi.t635=function(t,e,n,r,i,s){var a="",o=Ai("market:offer",t.s(Zi,e.doc.root))?"fr_offer_card":"rev_mc_write";a+=Li(i),a+="<a",i.a={type:new yr.scalarAttr("button metrika i-bem"),role:new yr.scalarAttr("button")},i.s="a";var c="",l={a:{}};return c+=t.a(t,0,t.s(ps,e),"i-link__product-reviews-add",l,function(){var n={},r="";return r+=s?s:Ii(t.s($p,e.doc.root)),n.retpath=r,n.track=o,n}()),i.a.href=new yr.xmlAttr(c),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f155",e,n,r,function(){var t={},e={},n={};n.element="writeButton",n.action="click",e.reviews=n,t.onClick=e;var e={},n={};return n.element="writeButton",n.action="show",e.reviews=n,t.onVisible=e,t}())))),i.a.class=new yr.scalarAttr("button button_size_l button_theme_action review-add-button i-bem"),a+=Li(i),a+='<span class="button__text">Написать отзыв</span>',a+="</a>"},zi.t635.j=Wp,zi.t635.a=0,zi.t636=function(t,e,n,r,i,s,a){var o="",c="",l={a:{}};c+=a?a:"Написать отзыв";var u=c,c="",l={a:{}};c+=Ai("market:offer",t.s(Zi,e.doc.root))?"fr_offer_card":Ai("market:shop-reviews",t.s(Zi,e.doc.root))?"rev_sh":"rev_mc_write";var d=c;o+=Li(i),o+="<a",i.a={type:new yr.scalarAttr("button metrika i-bem"),role:new yr.scalarAttr("button")},i.s="a";var c="",l={a:{}};return c+=t.a(t,0,t.s(ps,e),"i-link__shop__reviews-add",l,function(){var n={},r="";return r+=s?s:Ii(t.s($p,e.doc.root)),n.retpath=r,n.track=d,n}()),i.a.href=new yr.xmlAttr(c),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f155",e,n,r,function(){var t={},e={},n={};n.element="writeButton",n.action="click",e.reviews=n,t.onClick=e;var e={},n={};return n.element="writeButton",n.action="show",e.reviews=n,t.onVisible=e,t}())))),i.a.class=new yr.scalarAttr("button button_size_l button_theme_action review-add-button i-bem"),o+=Li(i),o+='<span class="button__text">'+Pi(u)+"</span>",o+="</a>"},zi.t636.j=Pk,zi.t636.a=0,zi.t637=function(t,e,n,r,i,s){var a="",o=Mi(t.s(Dk,e.doc.root),t.s(Rk,e)),c={};c.showCaption=!1,c.showUser=!0,c.markOwnReview=!0,c.retpath=yr.nodeset2data(t.s($p,e.doc.root)),c.showOrderId=!1;var l=c,u=yr.externals["n-merge-objects"](l,s),d=Ii(t.n(Nk,yr.object2nodeset(u)));a+=Li(i),a+="<div",i.a={},i.s="div";var c="";if(c+="n-product-review-item",c+=" i-bem",c+=" n-product-review-item_collapsed_yes",o&&Ci(t.n(Lk,yr.object2nodeset(u)))&&(c+=" n-product-review-item_author_yes"),Ci(Ni("resolved",e,[]))&&(c+=" n-product-review-item_state_resolved"),i.a.class=new yr.scalarAttr(c),Ai(4,Ni("moderationState",e,[]))||Ai(6,Ni("moderationState",e,[]))||Ai(7,Ni("moderationState",e,[]))||Ri("spam",e)){var p=i.a.class;p?i.a.class=p.addscalar(" n-product-review-item_state_rejected"):i.a.class=new yr.scalarAttr(" n-product-review-item_state_rejected")}var c="";c+='{"n-product-review-item":{}}',i.a["data-bem"]=new yr.xmlAttr(c),i.a["data-review-id"]=new yr.scalarAttr(Di("id",e)),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.gradeId=yr.nodeset2data(Ni("id",e,[])),t["n-product-review-item"]=n,t}()))),a+=Li(i),Ci(t.n(vk,yr.object2nodeset(s)))&&(a+=t.f("f190",e,n,r,i,t.s(ps,e))),Ci(t.n(Fk,yr.object2nodeset(u)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__caption",i,o)),o&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__decline",i)),Ci(t.n(Uk,yr.object2nodeset(u)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__user",i)),a+=t.a(t,0,t.s(ps,e),"n-product-review-item__rating",i,d),a+="<div",i.a={},i.s="div";var c="";return c+="n-product-review-item__resolved",o&&(c+=" n-product-review-item__resolved_type_clickable",c+=" hint",c+=" hint_type_clickable",c+=" i-bem"),i.a.class=new yr.scalarAttr(c),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.content="Проблема решена",n.delay=0,t.hint=n;var n={};return n.gradeId=yr.nodeset2data(Ni("id",e,[])),t["n-product-review-item__resolved"]=n,t}()))),a+=Li(i),a+='<img class="image image_name_voting-plus-green" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" alt=""/>',a+="Проблема решена",a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-product-review-item__verdict",i),Ni("photos",e,[]).length>0&&(a+=t.a(t,0,t.s(ps,e),"n-review-photos",i)),a+=t.a(t,0,t.s(ps,e),"n-product-review-item__footer",i,o),a+=t.f("f186",e,n,r,i,function(){var n={},r={};return r.author=yr.nodeset2data(Ni("user",e.doc.root,[])),r.rootId="root-9-0-"+Ii(Ni("id",e,[])),r.anonymous=yr.nodeset2data(Ni("anonymous",e,[])),n.comment=r,n.productId=yr.nodeset2data(t.s(rc,e)),n.mode="create",n.replyToUser=yr.nodeset2data(Ni("user",e,[])),n}()),Ai(1,Ni("type",e,[]))||Ai(2,Ni("type",e,[]))?a+=t.a(t,0,t.s(ps,e),"n-comments-list",i):Ai(0,Ni("type",e,[]))&&Ni("comments",e,[]).length>0&&(a+=t.a(t,0,t.s(ps,e),"n-shop-review-comments",i)),a+="</div>"},zi.t637.j=Bk,zi.t637.a=0,zi.t638=function(t,e,n,r,i,s){var a="",o="";o+=yr.externals["n-date-is-today"](Di("created",e)/1e3)?"сегодня":yr.externals["n-date-is-yesterday"](Di("created",e)/1e3)?"вчера":yr.externals["n-moment-print-date-hr"](Di("created",e),"",1,0);var c=o,l=Ii(t.s(qk,e).concat(t.s(Hk,e)))>0;return a+=Li(i),a+='<div class="n-product-review-item__footer">',!s&&Ri("product",e)&&(a+='<a class="link n-product-review-item__reply n-product-review-item__footer-link">',a+="Ответить",a+="</a>"),s&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__footer-links",i)),a+='<span class="n-product-review-item__date-region">',a+=Pi(c),Ci(t.s(ek,e))&&(a+=", "+Ti(t.s(ek,e))),a+="</span>",(!s||s&&l)&&(a+=t.a(t,0,Ni("votes",e,[]),"n-review-voting",i,l)),s&&!l&&(a+="Оценка полезности отсутствует"),a+="</div>"},zi.t638.j=Bk,zi.t638.a=0,zi.t639=function(t,e,n,r,i,s){var a="",o="";o+=s?s:Ii(t.s($p,e.doc.root));var c=o,o=[];Ai(0,Ni("type",e,[]))?o=t.s(ic,e):(Ai(1,Ni("type",e,[]))||Ai(2,Ni("type",e,[])))&&(o=t.s(rc,e));var l=o,o="";o+=Ai(0,Ni("type",e,[]))?yr.externals["n-build-url"]("market:shop-reviews-add",function(){var t={};return t.shopId=yr.nodeset2data(l),t.retpath=c,t}()):yr.externals["n-build-url"]("market:product-reviews-add",function(){var t={};return t.productId=yr.nodeset2data(l),t.retpath=c,t}());var u=o;if(a+=Li(i),Ai(yr.externals["n-constants-get"]("reviews.TYPE_SHOP"),Ni("type",e,[]))&&!Ri("resolved",e)){a+="<a",i.a={class:new yr.scalarAttr("link n-product-review-item__footer-link")},i.s="a",i.a.href=new yr.scalarAttr(u);var o="";o+=Ni("comments",e,[]).length>0?1:0,i.a["data-hasanswer"]=new yr.scalarAttr(o),a+=Li(i),a+="Изменить",a+="</a>"}return(Ai(yr.externals["n-constants-get"]("reviews.TYPE_PRODUCT"),Ni("type",e,[]))||Ai(yr.externals["n-constants-get"]("reviews.TYPE_CLUSTER"),Ni("type",e,[])))&&yr.nodeset2data(Ni("hasProduct",e,[]))!==!1&&0==Ni("comments",e,[]).length&&(a+="<a",i.a={class:new yr.scalarAttr("link n-product-review-item__footer-link")},i.s="a",i.a.href=new yr.scalarAttr(u),a+=Li(i),a+="Изменить",a+="</a>"),a+=t.a(t,0,t.s(ps,e),"n-product-review-item__remove-form",i,function(){var n={};return Ai(yr.externals["n-constants-get"]("reviews.TYPE_SHOP"),Ni("type",e,[]))&&(n.shopId=yr.nodeset2data(t.s(ic,e))),Ai(yr.externals["n-constants-get"]("reviews.TYPE_PRODUCT"),Ni("type",e,[]))&&(n.modelId=yr.nodeset2data(t.s(rc,e))),n}())},zi.t639.j=Bk,zi.t639.a=0,zi.t640=function(t,e,n,r,i,s){var a="",o=[];Ci(t.n(Ud,yr.object2nodeset(s)))?o=t.n(Ud,yr.object2nodeset(s)):Ci(t.n(zd,yr.object2nodeset(s)))&&(o=t.n(zd,yr.object2nodeset(s)));var c=o,l=t.s(Dk,e.doc.root),u=t.s(Gk,e.doc.root),d=Ni("id",e,[]);a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("product-review-delete i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr('{ "product-review-delete": {} }'),a+=Li(i),a+='<a class="link n-product-review-item__footer-link owner">',a+="Удалить",a+="</a>",a+="<div",i.a={class:new yr.scalarAttr("popup popup_theme_ffffff popup_autoclosable_yes popup_adaptive_yes popup_animate_yes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[],r={};r.to="right",r.axis="middle";var i={};return i.left=10,r.offset=i,n.push(r),e.directions=n,t.popup=e,t}()))),a+=Li(i),a+="<div",i.a={},i.s="div";var o="",p={a:{}};o+="popup__under popup__under popup__under_theme_ffffff popup__under_autoclosable_yes ",o+="popup__under_adaptive_yes popup__under_animate_yes",i.a.class=new yr.scalarAttr(o),a+=Li(i),a+="</div>",a+="<div",i.a={},i.s="div";var o="",p={a:{}};o+="popup__content popup__content_theme_ffffff popup__content_autoclosable_yes ",o+="popup__content_adaptive_yes popup__content_animate_yes product-review-delete__popup",i.a.class=new yr.scalarAttr(o),a+=Li(i),a+="Действительно хотите удалить отзыв?",a+="<form",i.a={method:new yr.scalarAttr("post"),class:new yr.scalarAttr("product-review-delete__form")},i.s="form",i.a.action=new yr.scalarAttr(yr.externals["n-build-url"]("api:grades-delete-review")),i.a["data-review-id"]=new yr.scalarAttr(Ii(d)),i.a["data-storage-id"]=new yr.scalarAttr(Ii(c)),i.a["data-uid"]=new yr.scalarAttr(Ii(l)),a+=Li(i),Ci(t.n(Ud,yr.object2nodeset(s)))?a+='<input name="shopId" type="hidden" value="'+Si(t.n(Ud,yr.object2nodeset(s)))+'"/>':Ci(t.n(zd,yr.object2nodeset(s)))&&(a+='<input name="modelId" type="hidden" value="'+Si(t.n(zd,yr.object2nodeset(s)))+'"/>'),a+='<input name="sk" type="hidden" value="'+Si(u)+'"/>',a+='<input name="reviewId" type="hidden" value="'+Si(d)+'"/>',a+='<input name="action" type="hidden" value="kill"/>',a+="<button",i.a={type:new yr.scalarAttr("submit"),role:new yr.scalarAttr("button"),class:new yr.scalarAttr("button button_size_s button_theme_normal i-bem")},i.s="button";var o="",p={a:{}};o+=Li(p),o+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button__text">Да, удалить</span>',a+="</button>",a+="<button",i.a={type:new yr.scalarAttr("button"),role:new yr.scalarAttr("button")},i.s="button";var o="",p={a:{}};return o+='{ "button":{} }',i.a["data-bem"]=new yr.xmlAttr(o),i.a.class=new yr.scalarAttr("button button_size_s button_theme_normal i-bem button-no"),a+=Li(i),a+='<span class="button__text">Нет, не удалять</span>',a+="</button>",a+="</form>",a+="</div>",a+="</div>",a+="</div>"},zi.t640.j=Bk,zi.t640.a=0,zi.t641=function(t,e,n,r,i,s){var a="",o=[];o=Ai(yr.externals["n-constants-get"]("reviews.TYPE_SHOP"),Ni("type",e,[]))?t.s(Ya,e):t.s($k,e);var c=o,l=yr.externals["n-str-castrator"](Ii(c),70);if(a+=Li(i),a+='<div class="n-product-review-item__caption">',Ai(0,Ni("type",e,[]))){a+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor")},i.s="a";var o="",u={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__shop-reviews",u),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+="Магазин "+l,a+="</a>"}else if(Ai(1,Ni("type",e,[]))||Ai(2,Ni("type",e,[]))){if(a+="<a",i.a={class:new yr.scalarAttr("link link_theme_minor")},i.s="a",yr.nodeset2data(Ni("hasProduct",e,[]))!==!1){var o="",u={a:{}};o+=t.a(t,0,Ni("product",e,[]),"i-link__product",u),i.a.href=new yr.xmlAttr(o)}else{var d=i.a.class;d?i.a.class=d.addscalar(" link_disabled_yes"):i.a.class=new yr.scalarAttr(" link_disabled_yes")}a+=Li(i),a+=l,a+="</a>"}return s&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__status",i)),a+="</div>"},zi.t641.j=Bk,zi.t641.a=0,zi.t642=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-review-item__status")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-review-item__status-text",i),s+=Li(i),s+="</div>"},zi.t642.j=Bk,zi.t642.a=0,zi.t643=function(t,e,n,r,i){var s="";return s+=Li(i),s+="ожидает публикации"},zi.t643.j=Wk,zi.t643.a=0,zi.t644=function(t,e,n,r,i){var s="";return s+=Li(i),s+="опубликован"},zi.t644.j=Yk,zi.t644.a=0,zi.t645=function(t,e,n,r,i){var s="";return s+=Li(i),s+="отклонён"},zi.t645.j=Kk,zi.t645.a=0,zi.t646=function(t,e,n,r,i){var s="";return s+=Li(i),s+="отклонён"},zi.t646.j=Xk,zi.t646.a=0,zi.t647=function(t,e,n,r,i){var s="";return s+=Li(i),s+="отклонён"},zi.t647.j=Qk,zi.t647.a=0,zi.t648=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Оценка учтена"},zi.t648.j=Jk,zi.t648.a=0,zi.t649=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-review-item__decline">',s+='<span class="n-product-review-item__decline-title">Отзыв отклонён: </span>',s+=Ti(Ni("moderationReasonRecommendation",e,[])),s+="</div>"},zi.t649.j=Zk,zi.t649.a=0,zi.t650=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-review-item__decline">',s+="Ваш отзыв не опубликован и виден только вам.",s+="</div>"},zi.t650.j=tw,zi.t650.a=0,zi.t651=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-review-item__decline">',s+="Ваш отзыв отклонён системой автоматической фильтрации, которая борется с накрутками и спамом. Принципы работы системы не разглашаются, просим Вас отнестись с пониманием.",s+="</div>"},zi.t651.j=ew,zi.t651.a=0,zi.t652=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-review-item-resolved-status-hint i-bem")},i.s="div";var a="",o={a:{}};return a+=Li(o),a+='{"n-product-review-item-resolved-status-hint": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="n-product-review-item-resolved-status-hint__text">',s+="Отзыв не учитывается в рейтинге магазина",s+="</span>",s+="</div>"},zi.t652.j=nw,zi.t652.a=0,zi.t653=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-review-item__stat")},i.s="div",Ri("resolved",e)||(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__rating-badge",i),a+=Li(i),a+='<span class="n-product-review-item__rating-label">',a+=Ti(t.s(rw,e)),a+="</span>"),a+=Li(i),Ci(Ni("usage",e,[]))?(a+='<span class="n-product-review-item__delivery">',a+="Опыт использования: "+Ti(Ni("usage",e,[])),a+="</span>"):Ci(Ni("delivery",e,[]))&&(a+='<span class="n-product-review-item__delivery">',a+="Способ покупки: "+Ti(Ni("delivery",e,[])),a+="</span>"),s&&(a+=t.a(t,0,t.s(ps,e),"n-product-review-item__order-number",i)),a+="</div>"},zi.t653.j=Bk,zi.t653.a=0,zi.t654=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f7",e,n,r,i,function(){var n={};return n.grade=Ii(t.s(Ll,e)),n}())},zi.t654.j=iw,zi.t654.a=0,zi.t655=function(t,e,n,r,i){var s="";return s+=Li(i),s+=t.f("f121",e,n,r,i,Ii(t.s(Ll,e)),function(){var t={};return t.size="m",t.border=!0,t.int=!0,t.title="Оценка пользователя ",t}())},zi.t655.j=sw,zi.t655.a=0,zi.t656=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-review-user i-bem")},i.s="div";var a="";return a+='{"n-product-review-user": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=t.a(t,0,Ni("user",e,[]),"n-product-review-item__user-img",i),s+=t.a(t,0,Ni("user",e,[]),"n-product-review-item__user-name",i),s+=t.a(t,0,Ni("user",e,[]),"n-product-review-item__user-social-icons",i),s+=t.a(t,0,t.s(ps,e),"n-product-review-item__user-cpa",i),s+=t.a(t,0,Ni("user",e,[]),"n-product-review-item__user-reviews",i),s+=Li(i),s+="</div>"},zi.t656.j=Bk,zi.t656.a=0,zi.t657=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-review-user">',s+="<span",i.a={class:new yr.scalarAttr("n-product-review-user__name")},i.s="span",s+=t.a(t,0,Ni("user",e,[]),"n-user-data__name",i,function(){var t={};return t.specialName="deleted",t.date=Di("created",e),t}()),s+=Li(i),s+="</span>",s+="</div>"},zi.t657.j=aw,zi.t657.a=0,zi.t658=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-review-user">',s+="<span",i.a={class:new yr.scalarAttr("n-product-review-user__name")},i.s="span",s+=t.a(t,0,Ni("user",e,[]),"n-user-data__name",i,function(){var t={};return t.specialName="anonymous",t.date=Di("created",e),t}()),s+=Li(i),s+="</span>",s+=t.a(t,0,t.s(ps,e),"n-product-review-item__user-cpa",i),s+="</div>"},zi.t658.j=ow,zi.t658.a=0,zi.t659=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("n-product-review-user__name")},i.s="span",s+=t.a(t,0,t.s(ps,e),"n-user-data__name",i,function(){var t={};return t.date=Di("created",e),t}()),s+=Li(i),s+="</span>"},zi.t659.j=rm,zi.t659.a=0,zi.t660=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:user-reviews",function(){var t={};return t.login=yr.nodeset2data(Ni("login",e,[])),t}());return s+=Li(i),s+="<a",i.a={class:new yr.scalarAttr("link n-product-review-user__name"),href:new yr.scalarAttr(a)},i.s="a",s+=t.a(t,0,t.s(ps,e),"n-user-data__name",i,function(){var t={};return t.date=Di("created",e),t}()),s+=Li(i),s+="</a>"},zi.t660.j=lw,zi.t660.a=0,zi.t661=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:user-reviews",function(){var t={};return t.login=yr.nodeset2data(Ni("login",e,[])),t}());return s+=Li(i),s+='<a class="link n-product-review-user__reviews" href="'+Oi(a)+'">',s+="Автор "+Ti(Ni("grades",e,[]))+" отзывов",s+="</a>"},zi.t661.j=lw,zi.t661.a=0,zi.t662=function(t,e,n,r,i){var s="";return s+=Li(i),s+=yr.exists(Ni("avatar",e,[]))?'<img class="n-product-review-user__avatar" src="'+Si(Ni("avatar",e,[]))+'" alt=""/>':'<div class="n-product-review-user__avatar n-product-review-user__avatar_empty_yes"></div>'},zi.t662.j=rm,zi.t662.a=0,zi.t663=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("social-icon-wrap social-icon-wrap_size_xs")},i.s="div",s+=t.a(t,0,Ni("social",e,[]),"n-product-review-item__user-social-icon",i),s+=Li(i),s+="</div>"},zi.t663.j=uw,zi.t663.a=0,zi.t664=function(t,e,n,r,i){var s="",a="link js-social-connect social-icon-wrap__item",o=[0,"addresses",3,0];s+=Li(i),s+="<a",i.a={href:new yr.scalarAttr(Ii(t.s(o,e))),class:new yr.scalarAttr(a),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var c=i.a.class;return c?i.a.class=c.addscalar(" js-social-add-to-profile_"+t.f("f182",e,n,r,Ii(t.s(pw,e)))):i.a.class=new yr.scalarAttr(" js-social-add-to-profile_"+t.f("f182",e,n,r,Ii(t.s(pw,e)))),i.a["data-social-provider-code"]=new yr.scalarAttr(Ii(t.s(hw,e))),i.a["data-reload-page"]=new yr.scalarAttr("1"),s+=Li(i),s+='<span class="social-icon social-icon_size_xs social-icon_type_'+Oi(t.f("f182",e,n,r,Ii(t.s(pw,e))))+'"></span>',s+="</a>"},zi.t664.j=dw,zi.t664.a=0,zi.t665=function(t,e,n,r,i){var s="",a="";a+=yr.exists(Ni("shop",e,[]))?"Пользователь сделал покупку на Яндекс.Маркете":"Пользователь купил этот товар на Яндекс.Маркете";var o=a;return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-review-item__user-cpa n-hint i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.to="right",e.content=o,t["n-hint"]=e,t}()))),s+=Li(i),s+='<span class="n-product-review-item__user-cpa-image">',s+=t.f("f183",e,n,r,i),s+="</span>",s+='<span class="n-product-review-item__user-cpa-text">Проверенный покупатель</span>',s+="</div>"},zi.t665.j=fw,zi.t665.a=0,zi.t666=function(t,e,n,r,i){var s="",a=yr.externals["n-normalize-space"](Di("pro",e)),o=yr.externals["n-normalize-space"](Di("contra",e));if(s+=Li(i),""!=a){if(s+="<dl",i.a={class:new yr.scalarAttr("n-product-review-item__stat")},i.s="dl",yr.externals["n-str-contains"](Di("pro",e),"\n")){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-review-item__stat_type_inline"):i.a.class=new yr.scalarAttr(" n-product-review-item__stat_type_inline")}s+=Li(i),s+='<dt class="n-product-review-item__title">Достоинства: </dt>',s+='<dd class="n-product-review-item__text">',s+=Ti(Ni("pro",e,[])),s+="</dd>",s+="</dl>"}if(""!=o){if(s+="<dl",i.a={class:new yr.scalarAttr("n-product-review-item__stat")},i.s="dl",yr.externals["n-str-contains"](Di("contra",e),"\n")){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-review-item__stat_type_inline"):i.a.class=new yr.scalarAttr(" n-product-review-item__stat_type_inline")}s+=Li(i),s+='<dt class="n-product-review-item__title">Недостатки: </dt>',s+='<dd class="n-product-review-item__text">',s+=Ti(Ni("contra",e,[])),s+="</dd>",s+="</dl>"}if(""!=yr.externals["n-normalize-space"](Di("comment",e))){if(s+="<dl",i.a={class:new yr.scalarAttr("n-product-review-item__stat")},i.s="dl",yr.externals["n-str-contains"](Di("comment",e),"\n")){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-review-item__stat_type_inline"):i.a.class=new yr.scalarAttr(" n-product-review-item__stat_type_inline")}s+=Li(i),(a||o)&&(s+='<dt class="n-product-review-item__title">Комментарий: </dt>'),s+='<dd class="n-product-review-item__text">',s+=Ti(Ni("comment",e,[])),s+="</dd>",s+="</dl>"}return s},zi.t666.j=Bk,zi.t666.a=0,zi.t667=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-product-review-item__order-number">',s+="Номер заказа: "+Ti(Ni("orderId",e,[])),s+="</span>"},zi.t667.j=_w,zi.t667.a=0,zi.t668=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-review-voting manotice manotice_type_popup i-bem")},i.s="div",Ci(Ni("isActive",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-review-voting_active_yes"):i.a.class=new yr.scalarAttr(" n-review-voting_active_yes"),
i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};t["n-review-voting"]="";var e={};return e.directions="right",e.autoclosable="yes",t.manotice=e,t}())))}if(a+=Li(i),a+='<div class="n-review-voting__spin spin2 spin2_size_xs"></div>',a+='<span class="n-review-voting__tip">',a+="Полезно?",a+="</span>",a+="<div",i.a={class:new yr.scalarAttr("n-review-voting__plus")},i.s="div",!Ri("isActive",e)&&Ai(1,Ni("value",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-review-voting__plus_pressed_yes"):i.a.class=new yr.scalarAttr(" n-review-voting__plus_pressed_yes")}if(a+=Li(i),a+='<span class="image"></span>',a+='<span class="n-review-voting__num">',a+=s||!Ri("isActive",e)?Ti(Ni("agree",e,[])):Pi(0),a+="</span>",a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-review-voting__minus")},i.s="div",!Ri("isActive",e)&&Ai(0,Ni("value",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-review-voting__minus_pressed_yes"):i.a.class=new yr.scalarAttr(" n-review-voting__minus_pressed_yes")}return a+=Li(i),a+='<span class="image"></span>',a+='<span class="n-review-voting__num">',a+=s||!Ri("isActive",e)?Ti(Ni("reject",e,[])):Pi(0),a+="</span>",a+="</div>",a+="</div>"},zi.t668.j=Vk,zi.t668.a=0,zi.t669=function(t,e,n,r,i){var s="",a={},o={},c={};c.entity="widget",c.id="PictureGallery",c.pictures=yr.nodeset2data(Ni("photos",e,[])),o.data=c,a["n-review-photos"]=o;var o={},c={};c.reviewPhotoVisible=!0,o.onVisible=c,a.metrika=o;var l=a;return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-review-photos metrika i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(l))),s+=t.a(t,0,Ni("photos",e,[]),"n-review-photos__item",i),s+=Li(i),s+="</div>"},zi.t669.j=Bk;zi.t669.a=0;zi.t670=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-review-photos__item")},i.s="div",i.a["data-image-index"]=new yr.scalarAttr(n),s+=Li(i),s+='<img src="'+Si(t.s(mw,e))+'" height="60px"/>',s+="</div>"},zi.t670.j=zk,zi.t670.a=0,zi.t671=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-gallery-popup-review i-bem")},i.s="div";var a="",o={a:{}};return a+=Li(o),a+='{"n-gallery-popup-review": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=t.a(t,0,t.s(ps,e),"n-gallery-popup",i),s+=Li(i),s+="</div>"},zi.t671.j=qi,zi.t671.a=0,zi.t672=function(t,e,n,r,i){var s="",a=t.s(vw,e).length,o={},c={};c.itemsCount=a,c.animateOut="fadeOut",a>1&&(c.thumbs=!0,c.thumbsPrerendered=!0),c.nav=!1,c.startPosition=yr.nodeset2data(Ni("currentSlide",e,[])),o["n-gallery-popup"]=c;var l=o;if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-gallery-popup n-gallery-popup_visible_no i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(l))),a>1){var u=i.a.class;u?i.a.class=u.addscalar(" n-gallery-popup_thumbs_yes"):i.a.class=new yr.scalarAttr(" n-gallery-popup_thumbs_yes")}if(Ci(t.n(yw,t.v("v23",e.doc.root)))&&Ci(t.s(bw,e))){var u=i.a.class;u?i.a.class=u.addscalar(" n-gallery-popup_branded"):i.a.class=new yr.scalarAttr(" n-gallery-popup_branded")}return s+=Li(i),s+='<div class="n-gallery-popup__image-container">',s+="<div",i.a={class:new yr.scalarAttr("n-gallery-popup__inner"),"data-slider-id":new yr.scalarAttr(Ii(t.s(gw,e)))},i.s="div",s+=t.a(t,0,t.s(kw,e),"n-gallery-popup__item",i),s+=Li(i),s+="</div>",s+="</div>",a>1&&(s+='<div class="n-gallery-popup__thumbs-container">',s+="<ul",i.a={class:new yr.scalarAttr("n-gallery-popup__thumbs"),"data-slider-id":new yr.scalarAttr(Ii(t.s(gw,e)))},i.s="ul",s+=t.a(t,0,t.s(kw,e),"n-gallery-popup__thumb-item",i),s+=Li(i),s+="</ul>",s+="</div>"),s+='<div class="n-gallery-popup__close-button"></div>',s+='<div class="n-gallery-popup__nav">',s+='<div class="n-gallery-popup__nav-item n-gallery-popup__nav-item_action_prev"></div>',s+='<div class="n-gallery-popup__nav-item n-gallery-popup__nav-item_action_next"></div>',s+="</div>",s+="</div>"},zi.t672.j=qi,zi.t672.a=0,zi.t673=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-gallery-popup__item")},i.s="div",Ci(Ni("color",e,[]))&&(i.a["data-color"]=new yr.scalarAttr(Di("color",e))),Ci(Ni("wareMd5",e,[]))&&(i.a["data-offerId"]=new yr.scalarAttr(Di("wareMd5",e))),s+=t.a(t,0,t.s(ps,e),"n-gallery-popup__image",i),s+=Li(i),s+='<span class="n-gallery-popup__item-shop-label"></span>',s+="</div>"},zi.t673.j=fv,zi.t673.a=0,zi.t674=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<li",i.a={class:new yr.scalarAttr("n-gallery-popup__thumbs-item")},i.s="li",Ci(Ni("color",e,[]))&&(i.a["data-color"]=new yr.scalarAttr(Di("color",e))),Ci(Ni("wareMd5",e,[]))&&(i.a["data-offerId"]=new yr.scalarAttr(Di("wareMd5",e))),s+=Li(i),s+='<img class="image" src="'+Si(t.s(ww,e))+'" alt=""/>',s+="</li>"},zi.t674.j=fv,zi.t674.a=0,zi.t675=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<img class="n-gallery-popup__image image" src="'+Si(t.s(Ew,e))+'" alt="'+Si(Ni("alt",e,[]))+'"/>'},zi.t675.j=Hi,zi.t675.a=0,zi.t676=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<img class="n-gallery-popup__image image" src="'+Si(t.s(Mw,e))+'" alt="'+Si(Ni("alt",e,[]))+'"/>'},zi.t676.j=xw,zi.t676.a=0,zi.t677=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-comments-list i-bem")},i.s="div";var a="";return a+='{"n-comments-list": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=t.a(t,0,t.s(ps,e),"n-comments-list__exposer-show",i),s+=Li(i),s+='<div class="link n-comments-list__exposer-hide n-comments-list__exposer-hide_hidden_yes">',s+="Скрыть ответы",s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-comments-list__items")},i.s="div",s+=t.a(t,0,Ni("comments",e,[]),"n-comment",i),s+=Li(i),s+="</div>",s+="</div>"},zi.t677.j=Bk,zi.t677.a=0,zi.t678=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-comment i-bem")},i.s="div",!Mi(t.s(Tw,e),t.s(Cw,e))){var a=i.a.class;a?i.a.class=a.addscalar(" n-comment_indentation_yes"):i.a.class=new yr.scalarAttr(" n-comment_indentation_yes")}if(+Di("serialNumber",e)<=+Di("commentsAmount",e)-2&&0==Ri("lastThreads",e)){var a=i.a.class;a?i.a.class=a.addscalar(" n-comment_hidden_yes"):i.a.class=new yr.scalarAttr(" n-comment_hidden_yes")}if(1==Ri("lastThreads",e)){var a=i.a.class;a?i.a.class=a.addscalar(" n-comment_last-threads_yes"):i.a.class=new yr.scalarAttr(" n-comment_last-threads_yes")}i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.rootId=yr.nodeset2data(t.s(Tw,e)),r.commentId=yr.nodeset2data(Ni("id",e,[])),r.productId=yr.nodeset2data(Ni("productId",e,[])),n["n-comment"]=r,n}()))),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-comment__content")},i.s="div";var o="";o+=1==Ri("complained",e)?" n-comment__content_hidden_yes":"";var a=i.a.class;if(a?i.a.class=a.addscalar(o):i.a.class=new yr.scalarAttr(o),s+=Li(i),s+='<div class="n-comment__header">',s+=t.f("f187",e,n,r,i,Ni("user",e,[])),0!=Ri("complained",e)||Mi(t.s(Dk,e.doc.root),t.s(Rk,e))||(s+=t.f("f184",e,n,r,i,function(){var t={};return t.class="n-comment__complain-control",t.title="Пожаловаться",t}())),s+="</div>",s+=t.a(t,0,Ni("body",e,[]),"n-comment__body",i),s+=t.a(t,0,t.s(ps,e),"n-comment__footer",i),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-comment__complain-blind")},i.s="div",0==Ri("complained",e)){var a=i.a.class;a?i.a.class=a.addscalar(" n-comment__complain-blind_hidden_yes"):i.a.class=new yr.scalarAttr(" n-comment__complain-blind_hidden_yes")}return s+=Li(i),s+='<span class="n-comment__collapsed-hint">',s+="Комментарий скрыт",s+="</span>",s+='<span class="n-comment__expand link">',s+="Показать",s+="</span>",s+="</div>",0==Ri("complained",e)&&(s+=t.f("f188",e,n,r,i,Di("id",e),Ii(t.s(Tw,e)))),s+=t.f("f186",e,n,r,i,function(){var n={},r={};return r.id=yr.nodeset2data(Ni("id",e,[])),r.author=yr.nodeset2data(Ni("user",e,[])),r.body=yr.nodeset2data(Ni("body",e,[])),r.rootId=yr.nodeset2data(t.s(Tw,e)),n.comment=r,n.productId=yr.nodeset2data(Ni("productId",e,[])),n.mode="edit",n}()),s+=t.f("f186",e,n,r,i,function(){var n={},r={};return r.id=yr.nodeset2data(Ni("id",e,[])),r.author=yr.nodeset2data(Ni("user",e.doc.root,[])),r.rootId=yr.nodeset2data(t.s(Tw,e)),r.anonymous=yr.nodeset2data(Ni("anonymous",e,[])),n.comment=r,n.productId=yr.nodeset2data(Ni("productId",e,[])),n.mode="create",n.replyToUser=yr.nodeset2data(Ni("user",e,[])),n}()),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-comment__nested-comments")},i.s="div",Ci(Ni("comments",e,[]))&&(s+=t.a(t,0,Ni("comments",e,[]),"n-comment",i)),s+=Li(i),s+="</div>"},zi.t678.j=Aw,zi.t678.a=0,zi.t679=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-comment__body">',s+=Ti(t.s(ps,e)),s+="</div>"},zi.t679.j=Sw,zi.t679.a=0,zi.t680=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-comment__footer">',s+='<a class="link link_theme_normal link_comment_footer n-comment__reply">',s+="Ответить",s+="</a>",Mi(t.s(Rk,e),t.s(Dk,e.doc.root))&&0==+Di("full_child_count",e)&&(s+='<a class="link link_theme_normal link_comment_footer n-comment__edit">',s+="Изменить",s+="</a>"),1==Ri("allowedToDelete",e)&&(s+='<a class="link link_theme_normal link_comment_footer n-comment__remove">',s+="Удалить",s+="</a>"),s+='<span class="n-comment__date">',s+=Pi(yr.externals["n-moment-print-date-hr"](Ii(t.s(Iw,e)),"X",1,0)),s+="</span>",s+="</div>"},zi.t680.j=Aw,zi.t680.a=0,zi.t681=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("link n-comments-list__exposer-show")},i.s="div",0==Ri("commentsExposable",e)){var a=i.a.class;a?i.a.class=a.addscalar(" n-comments-list__exposer-show_hidden_yes"):i.a.class=new yr.scalarAttr(" n-comments-list__exposer-show_hidden_yes")}return s+=Li(i),s+="Показать ",s+=Pi(yr.externals["n-str-plural"](Di("commentsAmount",e),"весь","все","все")),s+=" ",s+='<span class="n-comments-list__comments-amount">',s+=Ti(Ni("commentsAmount",e,[])),s+="</span>",s+=" ",s+=Pi(yr.externals["n-str-plural"](Di("commentsAmount",e),"ответ","ответа","ответов")),s+="</div>"},zi.t681.j=Bk,zi.t681.a=0,zi.t682=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-shop-review-comments i-bem")},i.s="div";var a="",o={a:{}};return a+=Li(o),a+='{"n-shop-review-comments":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-shop-review-comments__items g-hidden")},i.s="div",s+=t.a(t,0,Ni("comments",e,[]),"n-shop-review-comment",i),s+=Li(i),s+='<a class="n-shop-review-comments__hide-switch link link_theme_minor">',s+='<span class="link__inner">',s+="Скрыть переписку",s+="</span>",s+="</a>",s+="</div>",s+='<div class="n-shop-review-comments__controls">',s+='<a class="n-shop-review-comments__show-switch link link_theme_minor">',s+='<span class="link__inner">',s+="Показать переписку с магазином "+Ti(t.s(Ya,e)),s+="</span>",s+="</a>",s+="</div>",s+="</div>"},zi.t682.j=Bk,zi.t682.a=0,zi.t683=function(t,e,n,r,i){var s="",a=Mi(t.s(Dk,e.doc.root),t.s(Ow,e)),o=0==Ni("comments",e,[]).length,c=Ni("shop",e,[]),l=n==r-1;return s+=Li(i),s+='<div class="n-shop-review-comment">',s+='<div class="n-shop-review-comment__title">',Ci(Ni("shop",e,[]))?s+="Ответ магазина "+Ti(t.s(Ya,e)):Mi(t.s(Dk,e.doc.root),t.s(Ow,e))?s+="Мой ответ":Ai("1",Ni("anonymous",e,[]))?(s+="<span",i.a={class:new yr.scalarAttr("n-shop-review-comment__name")},i.s="span",s+=t.a(t,0,Ni("reviewAuthorUser",e,[]),"n-user-data__name",i,function(){var t={};return t.specialName="anonymous",t.date=Di("created",e),t}()),s+=Li(i),s+="</span>"):(s+="Ответ ",s+="<span",i.a={class:new yr.scalarAttr("n-shop-review-comment__name")},i.s="span",s+=t.a(t,0,Ni("reviewAuthorUser",e,[]),"n-user-data__name",i,function(){var t={};return t.date=Di("created",e),t}()),s+=Li(i),s+="</span>"),s+="</div>",s+='<div class="n-shop-review-comment__body">',s+=yr.externals["n-nl2br"](Di("body",e)),s+="</div>",s+="</div>",s+=t.a(t,0,Ni("comments",e,[]),"n-shop-review-comment",i),a&&o&&Ci(c)&&l&&(s+=t.a(t,0,t.s(ps,e),"n-shop-review-comment__reply",i)),s},zi.t683.j=Aw,zi.t683.a=0,zi.t684=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-shop-review-comment">',s+='<div class="n-shop-review-comment__title">',s+="Комментарий удалён",s+="</div>",s+="</div>",s+=t.a(t,0,Ni("comments",e,[]),"n-shop-review-comment",i)},zi.t684.j=jw,zi.t684.a=0,zi.t685=function(t,e,n,r,i){var s="",a=Ni("id",e,[]),o=Ni("root",e,[]),c=yr.externals["n-build-url"]("api:grades-resolve-review",function(){var t={};return t.gradeId=yr.nodeset2data(Ni("gradeId",e,[])),t.resolved=!0,t}());s+=Li(i),s+='<div class="n-shop-review-comment__reply">',s+="<button",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button",i.a["data-comment-id"]=new yr.scalarAttr(Ii(a)),i.a["data-root-id"]=new yr.scalarAttr(Ii(o));var l="";l+="button ",l+="button_size_xs ",l+="button_theme_pseudo ",l+="n-shop-review-comments__reply-btn ",l+="i-bem",i.a.class=new yr.scalarAttr(l),s+=Li(i),s+='<span class="button__text">Ответить</span>',s+="</button>",s+="<button",i.a={role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button";var l="";return l+="button ",l+="button_size_xs ",l+="button_theme_action ",l+="product-review-item__answer__control ",l+="product-review-item__answer__control_type_resolve ",l+="n-product-review-item__resolve-problem ",l+="i-bem",i.a.class=new yr.scalarAttr(l),i.a["data-comment-id"]=new yr.scalarAttr(Ii(a)),i.a["data-root-id"]=new yr.scalarAttr(Ii(o)),i.a["data-url"]=new yr.scalarAttr(c),s+=Li(i),s+='<span class="button__text">Проблема решена</span>',s+="</button>",s+=t.a(t,0,t.s(ps,e),"n-shop-review-reply-form",i),s+="</div>"},zi.t685.j=Aw,zi.t685.a=0,zi.t686=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-shop-review-reply-form reply-form g-hidden">',s+="<form",i.a={class:new yr.scalarAttr("n-shop-review-reply-form__form"),method:new yr.scalarAttr("post")},i.s="form",i.a.action=new yr.scalarAttr(yr.externals["n-build-url"]("api:comments-add-shop-review-comment")),s+=Li(i),s+="<input",i.a={class:new yr.scalarAttr("reply-form__parent-id"),name:new yr.scalarAttr("parent_id"),type:new yr.scalarAttr("hidden")},i.s="input",i.a.value=new yr.scalarAttr(Di("parent",e)),s+=Li(i),s+="",s+="<input",i.a={class:new yr.scalarAttr("reply-form__product-id"),name:new yr.scalarAttr("root_id"),type:new yr.scalarAttr("hidden")},i.s="input",i.a.value=new yr.scalarAttr(Di("root",e)),s+=Li(i),s+="",s+="<span",i.a={},i.s="span";var a="",o={a:{}};a+="input ",a+="input_type_textarea ",a+="input_size_s ",a+="input_theme_normal ",a+="input_focus_thin ",a+="i-bem ",a+="review-form-answer__textarea",i.a.class=new yr.scalarAttr(a),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.live=!1,t.input=e,t}()))),s+=Li(i),s+='<span class="input__box">',s+="<textarea",i.a={name:new yr.scalarAttr("body"),rows:new yr.scalarAttr("10"),cols:new yr.scalarAttr("10")},i.s="textarea";var a="",o={a:{}};a+="n-shop-review-reply-form__text ",a+="input__control ",a+="reply-form__text ",a+="textarea ",a+="textarea_autosize_yes ",a+="i-bem",i.a.class=new yr.scalarAttr(a);var a="",o={a:{}};a+='{"textarea": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="</textarea>",s+='<div class="n-shop-review-reply-form__close review-form-answer__close reply-form__close">',s+='<img alt="" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" class="image image_name_close"/>',s+="</div>",s+="</span>",s+="</span>",s+='<div class="layout layout_display_table">',s+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_side_left")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-forum-item-remove-form__manage",i),s+=Li(i),s+="</div>",s+='<div class="layout__col layout__col_side_right">',s+='<div class="review-form-answer__buttons">',s+="<button",i.a={class:new yr.scalarAttr("button button_theme_pseudo button_size_s i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("submit")},i.s="button";var a="",o={a:{}};a+=Li(o),a+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="button__text">Отправить</span>',s+="</button>",s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("spin spin_theme_gray-24 i-bem")},i.s="div";var a="",o={a:{}};return a+=Li(o),a+='{"spin": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<img alt="" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" class="image spin__icon"/>',s+="</div>",s+="</div>",s+="</div>",s+="</form>",s+="</div>"},zi.t686.j=Aw,zi.t686.a=0,zi.t687=function(t,e,n,r,i,s,a){a=void 0===a?[]:a;var o="";return o+=Li(i),o+="<div",i.a={},i.s="div",o+=t.f("f1",e,n,r,i,t.f("f191",e,n,r)),o+=t.a(t,0,t.s(ps,e),"n-product-rating-stat__title",i,Ii(t.n(fk,yr.object2nodeset(s)))),o+=t.a(t,0,Ni("grades",e,[]),"n-product-rating-stat__rating-review",i,s,a),(Di("totalGrades",e)>2&&1==Ci(t.n(mk,yr.object2nodeset(s)))||Ii(t.n(Pw,yr.object2nodeset(s)))>0)&&(o+=t.a(t,0,a,"n-product-rating-stat__all-button",i)),o+=Li(i),o+="</div>"},zi.t687.j=bk,zi.t687.a=0,zi.t688=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<h2 class="n-product-rating-stat__title title">',a+=Pi(s),a+="</h2>"},zi.t688.j=Hi,zi.t688.a=0,zi.t689=function(t,e,n,r,i,s,a){a=void 0===a?[]:a;var o="";if(Ai("product",t.n(sa,a))||Ai("shop",t.n(sa,a))&&Di("number",e)>0)if(Mi(t.n(Pw,yr.object2nodeset(s)),Ni("value",e,[]))||Ai(0,Ni("number",e,[])))o+=Li(i),o+="<span",i.a={},i.s="span",o+=t.f("f1",e,n,r,i,t.f("f194",e,n,r,Ii(t.n(sa,a)),s)),o+=Li(i),o+="</span>";else{var c=yr.externals["n-merge-objects"](s,function(){var t={};return Ci(Ni("value",e,[]))&&(t.gradeValue=yr.nodeset2data(Ni("value",e,[]))),t}()),l="",u={a:{}};l+=t.a(t,0,a,"n-product-rating-stat__rating-review_link",u,c);var d=l;o+=t.a(t,0,t.s(ps,e),"n-link",i,function(){var i={};return i.url=d,i.theme="minor",i.rel="nofollow",i.mix=t.f("f194",e,n,r,Ii(t.n(sa,a)),s),i}())}return o},zi.t689.j=cw,zi.t689.a=0,zi.t690=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+=t.f("f193",e,n,r,"market:product-reviews","productId",Di("id",e),s)},zi.t690.j=Wp,zi.t690.a=0,zi.t691=function(t,e,n,r,i,s){var a="",o=yr.externals["n-merge-objects"](yr.externals["n-nodeset-to-object"](t.s(Bw,e)),function(){var e={};return e.track="rev_mc_marked",e.page="1",Ci(t.n(Fl,yr.object2nodeset(s)))&&(e.grade_value=yr.nodeset2data(t.n(Fl,yr.object2nodeset(s)))),e}()),c=yr.externals["n-build-url"](Ii(t.s(Dw,e)),o);return a+=Li(i),a+=c},zi.t691.j=Pk,zi.t691.a=0,zi.t692=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"rating-review",yr.array2nodeset(function(){var i=[];return i.push(t.f("f195",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t692.j=Hi,zi.t692.a=0,zi.t693=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={},i.s="div",a+=t.f("f2",e,n,r,i,"rating-review",yr.array2nodeset(function(){var i=[];return i.push(t.f("f196",e,n,r,s)),i}())),a+=Li(i),a+="</div>"},zi.t693.j=Hi,zi.t693.a=0,zi.t694=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-button2",i,function(){var t={};t.url=yr.externals["n-build-url"]("market:product-reviews",function(){var t={};return t.productId=yr.nodeset2data(Ni("id",e,[])),t.track="rev_mc",t}()),t.content="Показать все отзывы",t.for="all";var n=[],r={};r.name="n-smart-link";var i={},s=[];s.push("filters"),i.subscriptions=s,r.data=i,n.push(r);var r={};r.name="metrika";var i={},s={},a={};return a.action="click",s.reviewsShowAllLink=a,i.onClick=s,r.data=i,n.push(r),t.mix=n,t.js=!0,t}())},zi.t694.j=Wp,zi.t694.a=0,zi.t695=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-button2",i,function(){var n={};n.url=yr.externals["n-build-url"](Ii(t.s(Dw,e)),yr.externals["n-omit"](yr.externals["n-nodeset-to-object"](t.s(Bw,e)),function(){var t=[];return t.push("grade_value"),t}())),n.content="Показать все отзывы",n.for="all";var r=[],i={};i.name="n-smart-link";var s={},a=[];return a.push("filters"),s.subscriptions=a,i.data=s,r.push(i),n.mix=r,n.js=!0,n}())},zi.t695.j=Pk,zi.t695.a=0,zi.t696=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-review-factors-summary")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-review-factors-summary__recommend",i,s),a+=t.a(t,0,Ni("factors",e,[]),"n-review-factors-summary-rating",i),a+=Li(i),a+="</div>"},zi.t696.j=Rw,zi.t696.a=0,zi.t697=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+='<div class="n-review-factors-summary__recommend">',a+=Ti(Ni("recommend",e,[]))+"% покупателей",a+="<br/>",a+="shop"===s?Pi(yr.externals["n-str-plural"](Di("recommend",e),"купил","купили","купили"))+" бы здесь снова":Pi(yr.externals["n-str-plural"](Di("recommend",e),"рекомендует","рекомендуют","рекомендуют"))+" этот товар",a+="</div>"},zi.t697.j=Nw,zi.t697.a=0,zi.t698=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-review-factors-summary-rating">',s+='<div class="n-review-factors-summary-rating__header">',s+='<div class="n-review-factors-summary-rating__description">'+Ti(Ni("title",e,[]))+"</div>",s+='<div class="n-review-factors-summary-rating__value">'+Pi(yr.externals["n-str-replace"](""+yr.nodeset2scalar(Ni("value",e,[])),"[.]",","))+"</div>",s+="</div>",s+=t.f("f199",e,n,r,i,function(){var t={};return t.rating=yr.nodeset2data(Ni("percentage",e,[])),t}()),s+="</div>"},zi.t698.j=Hi,zi.t698.a=0,zi.t699=function(t,e,n,r,i){var s="",a=t.f("f200",e,n,r,t.s(ps,e));return s+=t.a(t,0,t.n(rg,yr.object2nodeset(a)),"n-pager__wrapper",i)},zi.t699.j=Lw,zi.t699.a=0,zi.t700=function(t,e,n,r,i){var s="",a=yr.externals["n-math-max"](Di("page",e)-2,1),o=yr.externals["n-math-min"](yr.externals["n-math-sum-params"](Di("page",e),2),Di("pagesCount",e));return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-pager i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={};return n["n-pager"]=yr.nodeset2data(t.s(ps,e)),n}()))),s+=t.a(t,0,t.s(ps,e),"n-pager__button-prev",i),s+=t.a(t,0,t.s(ps,e),"n-pager__buttons",i,a,a,o,5),s+=t.a(t,0,t.s(ps,e),"n-pager__button-next",i),Ri("noSelect",e)||(s+=t.a(t,0,t.s(ps,e),"n-pager__select",i)),s+=Li(i),s+="</div>"},zi.t700.j=Fw,zi.t700.a=0,zi.t701=function(t,e,n,r,i){var s="",a="";a+=" n-pager__button-prev",Ai(1,Ni("page",e,[]))&&(a+=" g-hidden");var o=a;return s+=t.a(t,0,t.s(ps,e),"n-pager__page-button",i,yr.externals["n-i18n"]("BUTTON_PREV"),Di("page",e)-1,!0,!0,o)},zi.t701.j=rg,zi.t701.a=0,zi.t702=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-pager__page-button",i,yr.externals["n-i18n"]("BUTTON_NEXT"),yr.externals["n-math-sum-params"](Di("page",e),1),!0,!0," n-pager__button-next")},zi.t702.j=Uw,zi.t702.a=0,zi.t703=function(t,e,n,r,i,s,a,o,c){var l="";return o<c?(l+=t.a(t,0,t.s(ps,e),"n-pager__page-button",i,0,0,s==a,s==o," n-pager__button-number g-hidden"),l+=t.a(t,0,t.s(ps,e),"n-pager__buttons",i,s,a,o,c-1)):(l+=t.a(t,0,t.s(ps,e),"n-pager__page-button",i,s,s,s==a,s==o," n-pager__button-number"),s<o&&(l+=t.a(t,0,t.s(ps,e),"n-pager__buttons",i,s+1,a,o))),l},zi.t703.j=zw,zi.t703.a=0,zi.t704=function(t,e,n,r,i,s,a,o,c,l){s=void 0===s?[]:s,l=void 0===l?"":l;var u="",d="";d+=" button",d+=" button_size_s",d+=" button_theme_pseudo",o||(d+=" button_side_right"),c||(d+=" button_side_left"),d+=l,d+=" i-bem";var p=d;return u+=Ai(a,Ni("page",e,[]))?t.a(t,0,t.s(ps,e),"n-pager__button",i,a,p):t.a(t,0,Ni("link",e,[]),"n-pager__link",i,s,a,p)},zi.t704.j=rg,zi.t704.a=0,zi.t705=function(t,e,n,r,i,s,a,o,c){c=void 0===c?'{ "button": {} }':c;var l="",u=yr.externals["n-merge-nodes"](Ni("params",e,[]),yr.object2nodeset(function(){var t={};return t.page=a,t}())),d=yr.externals["n-build-url"](Di("target",e),yr.externals["n-nodeset-to-object"](u));return l+=Li(i),l+='<a href="'+Oi(d)+'" class="'+Oi(o)+'" data-bem="'+Oi(c)+'">',l+='<span class="button__text">',l+=Pi(s),l+="</span>",l+="</a>"},zi.t705.j=qw,zi.t705.a=0,zi.t706=function(t,e,n,r,i,s,a,o){o=void 0===o?'{ "button": {} }':o;var c="";return c+=Li(i),c+='<a class="button_action_yes '+Oi(a)+'">',c+='<span class="button__text">',c+=Pi(s),c+="</span>",c+="</a>"},zi.t706.j=rg,zi.t706.a=0,zi.t707=function(t,e,n,r,i){var s="";s+=Li(i),s+="<span",i.a={},i.s="span";var a="";return a+="select",a+=" select_size_s",a+=" select_theme_normal",a+=" b-pager__select",a+=" i-bem",i.a.class=new yr.scalarAttr(a),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.textAll=yr.externals["n-i18n"]("BUTTON_SHOW_ALL"),t.select=e,t}()))),s+=t.a(t,0,t.s(ps,e),"n-pager__select__button",i),s+=Li(i),s+='<select class="select__control" autocomplete="off" tabindex="-1" aria-hidden="true">',s+=t.f("f201",e,n,r,i,Di("page",e),Di("total",e),Di("itemsPerPage",e)),s+="</select>",s+="</span>"},zi.t707.j=Hw,zi.t707.a=0,zi.t708=function(t,e,n,r,i){function s(t,e,n,r){return Ai(e.name,o)}var a="";if(a+=Li(i),Ci(Ni("changeLimitSelect",e,[]))){var o=Ni("itemsPerPage",e,[]),c=[0,"*",2,s],l=Ii(t.n(c,yr.object2nodeset(t.v("v470",e.doc.root))));a+="<button",i.a={},i.s="button",i.a.class=new yr.scalarAttr("button button_theme_normal button_arrow_down button_size_s select__button i-bem"),i.a["data-bem"]=new yr.scalarAttr('{ "button": {} }'),i.a.role=new yr.scalarAttr("listbox"),i.a.type=new yr.scalarAttr("button"),a+=Li(i),a+='<span class="button__text">',a+=t.f("f204",e,n,r,i,Di("page",e),l,Di("total",e)),a+="</span>",a+="</button>"}return a},zi.t708.j=rg,zi.t708.a=0,zi.t709=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={},i.s="div";var o="",c="i-bem n-pager-more";o+=Bi(yr.externals["n-math-ceil"](Di("total",e)/Di("itemsPerPage",e)))<=Di("page",e)?c+" n-pager-more_state_hidden":c,i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r["page-param"]="page",r["current-page"]=yr.nodeset2data(Ni("page",e,[])),r.total=yr.nodeset2data(Ni("total",e,[])),r["per-page"]=yr.nodeset2data(Ni("itemsPerPage",e,[])),r.url=yr.externals["n-build-url-extra"](Ii(t.s(Vw,e)),s),n["n-pager-more"]=r,n}()))),a+=Li(i),a+='<div class="pager-more__button pager-loader_preload">',a+="<a",i.a={class:new yr.scalarAttr("button button_size_m button_theme_pseudo i-bem"),role:new yr.scalarAttr("button")},i.s="a";var o="";o+='{"button": ""}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button__text">Показать еще</span>',a+="</a>",a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("spin spin_theme_gray-24 i-bem")},i.s="div";var o="";return o+='{"spin": ""}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<img alt="" src="//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" class="image spin__icon"/>',a+="</div>",a+="</div>"},zi.t709.j=rg,zi.t709.a=0,zi.t710=function(t,e,n,r,i,s){var a="";return Ai("mini",t.n(Np,yr.object2nodeset(s)))?a+=t.a(t,0,t.s(ps,e),"n-product-video-mini",i):Ai("layout",t.n(Np,yr.object2nodeset(s)))?(a+=Li(i),a+='<div class="layout layout_color_gray layout_indent_bottom">',a+="<div",i.a={class:new yr.scalarAttr("layout layout_type_maya")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-video",i,1==Ci(t.n(Ww,yr.object2nodeset(s)))),a+=Li(i),a+="</div>",a+="</div>"):a+=t.a(t,0,t.s(ps,e),"n-product-video",i,1==Ci(t.n(Ww,yr.object2nodeset(s)))),a},zi.t710.j=$w,zi.t710.a=0,zi.t711=function(t,e,n,r,i,s){s=void 0!==s&&s;var a="",o=[0,"videos",3,0];if(a+=Li(i),a+="<div",i.a={id:new yr.scalarAttr("video-reviews"),class:new yr.scalarAttr("n-product-video n-product-video_type_full n-product-video i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](Ni("blockParams",e,[]))),0==s){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-video_mode_separate"):i.a.class=new yr.scalarAttr(" n-product-video_mode_separate")}return a+=t.a(t,0,t.s(ps,e),"n-product-video__title",i),a+=Li(i),a+='<div class="layout">',a+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p66")},i.s="div",a+=t.a(t,0,t.s(o,e),"n-product-video__player-big",i),a+=Li(i),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("layout__col layout__col_size_p33")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-video__sidebar",i),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-product-video__video-search-link",i),1==s&&(a+=t.a(t,0,t.s(ps,e),"n-product-video__link-show-all",i)),a+='<div class="n-product-video__popup-target"></div>',a+=t.a(t,0,t.s(ps,e),"n-product-video__complain-popup",i,t.s(Yw,e)),a+="</div>",a+="</div>"},zi.t711.j=$w,zi.t711.a=0,zi.t712=function(t,e,n,r,i){var s="",a=[0,"videos",3,0,0,"title"];return s+=Li(i),s+='<h3 class="n-product-video__title">Видеообзоры</h3>',s+='<h2 class="title title_size_22 n-product-video__title-video">'+Ti(t.s(a,e))+"</h2>"},zi.t712.j=Hi,zi.t712.a=0,zi.t713=function(t,e,n,r,i){var s="",a=t.s(Kw,e),o=t.s(Xw,e);return s+=Li(i),s+='<h3 class="n-product-video__title-cpa2 n-product-video__title-link">',"PRODUCT"===yr.nodeset2data(a)?(s+="<a",i.a={class:new yr.scalarAttr("link link_theme_black n-product-video__title-link n-smart-link i-bem")},i.s="a",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[];n.push("how"),n.push("local-offers-first"),n.push("deliveryincluded"),e.paramsBlacklist=n;var n=[];return n.push("filters"),e.subscriptions=n,t["n-smart-link"]=e,t}()))),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:product-articles",function(){var t={};return t.productId=yr.nodeset2data(o),t}())),s+=Li(i),s+="Видеообзоры",s+="</a>"):(s+='<span class="n-product-video__title-link">',s+="Видеообзоры",s+="</span>"),s+="</h3>"},zi.t713.j=Mk,zi.t713.a=0,zi.t714=function(t,e,n,r,i){var s="",a=[0,"videos",3,0];return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-video n-product-video_type_mini n-product-video i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](Ni("blockParamsMini",e,[]))),s+=Li(i),s+='<h3 class="title">Видео</h3>',s+="<div",i.a={class:new yr.scalarAttr("n-product-video__list")},i.s="div",s+=t.a(t,0,t.s(a,e),"n-product-video__player-small",i),s+=t.a(t,0,t.s(ps,e),"n-product-video__link-more",i),s+=t.a(t,0,t.s(ps,e),"n-product-video__complain-popup",i,t.s(Qw,e)),s+=Li(i),s+="</div>",s+=t.a(t,0,t.s(ps,e),"n-product-video__video-search-link",i),s+="</div>"},zi.t714.j=$w,zi.t714.a=0,zi.t715=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:product-articles",function(){var n={},r=[0,"categories",3,0,0,"id"];return n.productId=yr.nodeset2data(t.n(ao,t.v("v20",e.doc.root))),n.hid=yr.nodeset2data(t.n(r,t.v("v20",e.doc.root))),n.track="more_video",n}());return s+=Li(i),s+='<div class="n-product-video__item n-product-video__item_type_more">',s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a",i.a.href=new yr.scalarAttr(a),s+=t.a(t,0,t.s(ps,e),"n-product-video__link-more-text",i),s+=Li(i),s+="</a>",s+="</div>"},zi.t715.j=Jw,zi.t715.a=0,zi.t716=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Ещё одно видео"},zi.t716.j=Zw,zi.t716.a=0,zi.t717=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Ещё два видео"},zi.t717.j=tE,zi.t717.a=0,zi.t718=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Ещё три видео"},zi.t718.j=eE,zi.t718.a=0,zi.t719=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Ещё несколько видео"},zi.t719.j=nE,zi.t719.a=0,zi.t720=function(t,e,n,r,i){var s="";if(s+=Li(i),Ci(t.v("v20",e.doc.root))){s+='<div class="n-product-video__link-show-all">',s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a";var a="",o={a:{}};a+=t.a(t,0,t.v("v20",e.doc.root),"i-link__product-articles",o),i.a.href=new yr.xmlAttr(a),s+=Li(i),s+="Читать и смотреть все обзоры",s+='<span class="n-product-video__reviews-count">',s+=Ti(Ni("articlesCount",e,[])),s+="</span>",s+="</a>",s+="</div>"}return s},zi.t720.j=rE,zi.t720.a=0,zi.t721=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"player2",i,function(){var t={},n={};return n.hosting=yr.nodeset2data(Ni("hosting",e,[])),n.html=yr.nodeset2data(Ni("player",e,[])),t.player=n,t}())},zi.t721.j=Gw,zi.t721.a=0,zi.t722=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-video__main")
},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-video__player",i),s+=Li(i),s+="</div>"},zi.t722.j=Gw,zi.t722.a=0,zi.t723=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-video__item" data-position="1">',s+="<div",i.a={class:new yr.scalarAttr("n-product-video__item-video")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-video__player",i),s+=Li(i),s+="</div>",s+='<div class="n-product-video__item-content">',s+='<h3 class="n-product-video__item-header">',s+=Ti(Ni("title",e,[])),s+="</h3>",s+='<div class="n-product-video__item-text">',s+='<div class="n-product-video__item-info">',s+=Pi(yr.externals["n-moment-print-date-hr"](Di("date",e),"YYYY-MM-DD")),s+="</div>",s+='<div class="n-product-video__item-info">',s+=Ti(Ni("views",e,[]))+" "+Pi(yr.externals["n-str-plural"](Di("views",e),"просмотр","просмотра","просмотров")),s+="</div>",s+="</div>",s+='<div class="n-product-video__complain popup-complain">',s+='<div class="n-hint popup-complain__switcher" data-position="1"></div>',s+="</div>",s+="</div>",s+="</div>"},zi.t723.j=iE,zi.t723.a=0,zi.t724=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-video__list")},i.s="div",s+=t.a(t,0,Ni("videos",e,[]),"n-product-video__sidebar-item",i),s+=Li(i),s+="</div>"},zi.t724.j=aE,zi.t724.a=0,zi.t725=function(t,e,n,r,i){var s="",a=[0,"videos",3,0],o=t.s(a,e);return s+=Li(i),s+='<div class="n-product-video__main-info">',s+='<h3 class="n-product-video__main-header">',s+=Ti(t.n(Pc,o)),s+="</h3>",s+='<div class="n-product-video__main-text">',s+="<div>",s+=Pi(yr.externals["n-moment-print-date-hr"](Ii(t.n(im,o)),"YYYY-MM-DD")),s+="</div>",s+="<div>",s+=Ti(t.n(sE,o))+" "+Pi(yr.externals["n-str-plural"](Ii(t.n(sE,o)),"просмотр","просмотра","просмотров")),s+="</div>",s+='<div class="n-product-video__complain popup-complain">',s+='<div class="n-hint popup-complain__switcher"></div>',s+="</div>",s+="</div>",s+="</div>"},zi.t725.j=oE,zi.t725.a=0,zi.t726=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-video__item clearfix"),"data-position":new yr.scalarAttr(n+1)},i.s="div",0==n){var a=i.a.class;a?i.a.class=a.addscalar(" n-product-video__item_selected_yes"):i.a.class=new yr.scalarAttr(" n-product-video__item_selected_yes")}return s+=Li(i),s+='<div class="n-product-video__item-video">',s+='<img class="image" src="'+Si(Ni("thumbnail_link",e,[]))+'"/>',s+="</div>",s+='<div class="n-product-video__item-content">',s+='<h3 class="n-product-video__item-header" title="'+Si(Ni("title",e,[]))+'">',s+=Ti(Ni("title",e,[])),s+="</h3>",s+='<div class="n-product-video__item-text">',s+='<div class="n-product-video__item-info">',s+=Pi(yr.externals["n-moment-print-date-hr"](Di("date",e),"YYYY-MM-DD")),s+="</div>",s+='<div class="n-product-video__item-info">',s+=Ti(Ni("views",e,[]))+" "+Pi(yr.externals["n-str-plural"](Di("views",e),"просмотр","просмотра","просмотров")),s+="</div>",s+="</div>",s+='<div class="n-product-video__complain popup-complain">',s+='<div class="n-hint popup-complain__switcher" data-position="1"></div>',s+="</div>",s+="</div>",s+="</div>"},zi.t726.j=iE,zi.t726.a=0,zi.t727=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-video__yandex">',s+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",i.a.href=new yr.scalarAttr(Di("videoSearchLink",e)),s+=Li(i),s+="Искать короткие ролики на Яндекс.Видео",s+="</a>",s+="</div>"},zi.t727.j=aE,zi.t727.a=0,zi.t728=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o={},c={a:{}},l={},u={};u.to="left",u.axis="middle",l.directions=u,o.popup=l;var l={};l.type=yr.nodeset2data(s),o["n-product-video-complain"]=l;var d=o;a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-video-complain n-product-video-complain_type_"+Ii(s)+" i-bem")},i.s="div";var p=i.a.class;p?i.a.class=p.addscalar(" popup popup_has-close_yes popup_animate_no popup_autoclosable_yes popup_theme_ffffff"):i.a.class=new yr.scalarAttr(" popup popup_has-close_yes popup_animate_no popup_autoclosable_yes popup_theme_ffffff");var o="",c={a:{}};o+=Ai("mini",s)?" popup_type_modal":"";var p=i.a.class;p?i.a.class=p.addscalar(o):i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(d))),a+=Li(i),Ai("mini",s)&&(a+='<div class="popup__under popup__under_type_paranja"></div>'),a+='<div class="popup__content">',a+='<div class="popup__close"></div>',a+='<div class="n-product-video-complain__content">',a+='<div class="n-product-video-complain__title">Расскажите, в чём дело</div>',a+="<div",i.a={class:new yr.scalarAttr("radiobox radiobox_theme_normal radiobox_size_s i-bem")},i.s="div";var o="",c={a:{}};return o+=Li(c),o+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+=t.f("f206",e,n,r,i,function(){var t={};return t.index=1,t.type="Spam",t.text="видео содержит недопустимые материалы или спам",t}()),a+=t.f("f206",e,n,r,i,function(){var t={};return t.index=2,t.type="TechError",t.text="техническая ошибка: например, нет картинки или звука",t}()),a+=t.f("f206",e,n,r,i,function(){var t={};return t.index=3,t.type="ResultError",t.text="ошибка выдачи: например, ролик о другом товаре",t}()),a+="</div>",a+=t.f("f207",e,n,r,i),a+=t.f("f208",e,n,r,i),a+="</div>",a+="</div>",a+="</div>"},zi.t728.j=Hi,zi.t728.a=0,zi.t729=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("player2 i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t.player2=s,t}()))),a+=t.a(t,0,t.s(ps,e),"sandbox",i,s),a+=Li(i),a+="</div>"},zi.t729.j=Hi,zi.t729.a=0,zi.t730=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<iframe",i.a={class:new yr.scalarAttr("sandbox"),scrolling:new yr.scalarAttr("no"),frameborder:new yr.scalarAttr("0"),allowfullscreen:new yr.scalarAttr("true"),width:new yr.scalarAttr("100%"),height:new yr.scalarAttr("100%")},i.s="iframe",i.a.src=new yr.scalarAttr(yr.externals["sandbox-get-url"](function(){var e={};return e.version=yr.nodeset2data(t.n(cE,yr.object2nodeset(s))),e.playerHosting=yr.nodeset2data(t.n(lE,yr.object2nodeset(s))),e.playerHtml=yr.nodeset2data(t.n(uE,yr.object2nodeset(s))),e}())),a+=Li(i),a+="</iframe>"},zi.t730.j=Hi,zi.t730.a=0,zi.t731=function(t,e,n,r,i){function s(t,e,n,r){return Mi(Ni("id",e,[]),p)}var a="",o=Ni("shopInfo",e,[]);a+=Li(i),Ci(Ni("isLimitExceeded",e,[]))&&(a+='<div class="shop-info__limit-notification">',a+=Pi(yr.externals["n-str-plural"](Di("limit",e),"Показана "+Ii(Ni("limit",e,[]))+" запись","Показаны первые "+Ii(Ni("limit",e,[]))+" записи","Показаны первые "+Ii(Ni("limit",e,[]))+" записей")),a+="</div>");for(var c=Ni("shopIds",e,[]),l=0,u=c.length;l<u;l++){var d=c[l],p=t.s(ps,d),h=[2,s];a+=t.f("f209",d,l,u,i,Ii(p),t.n(h,o))}return a},zi.t731.j=dE,zi.t731.a=0,zi.t732=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="shop-info">',Ci(Ni("juridicalName",e,[]))&&(s+='<div class="shop-info__header">',s+="Продавец ",s+=Ti(Ni("juridicalName",e,[])),s+="</div>"),Ci(Ni("createdAt",e,[]))&&(s+='<div class="shop-info__item">',s+="На Яндекс.Маркете — c ",s+=Pi(yr.externals["n-moment-print-date-hr"](Di("createdAt",e),"YYYY-MM-DD H:mm:ss",0,0)),s+=" года.",s+="</div>"),(Ri("cpaRegnumTranslation",e)||Ri("cpaRegnum",e))&&(s+='<div class="shop-info__item">',s+=Ti(Ni("juridicalName",e,[])),s+=" ",s+=Ti(Ni("cpaRegnumTranslation",e,[])),s+=" ",s+=Ti(Ni("cpaRegnum",e,[])),s+="</div>"),Ri("juridicalAddress",e)&&!Ai("4",Ni("type",e,[]))&&(s+='<div class="shop-info__item">',s+="Юридический адрес: ",s+=Ti(Ni("juridicalAddress",e,[])),s+="</div>"),s+='<a class="link link_theme_minor shop-info__footer" href="'+Oi(yr.externals["n-build-url"]("external:shop-problems"))+'" target="_blank" rel="nofollow noopener">',s+="Проблемы при покупке в интернет-магазинах",s+="</a>",s+="</div>"},zi.t732.j=Pk,zi.t732.a=0,zi.t733=function(t,e,n,r,i){var s="",a={},o={},c=[],l={};l.to="right",l.axis="top";var u={};u.top=-30,u.left=4,l.offset=u,c.push(l),o.directions=c,a.popup=o;var d=a;s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("product-spec-hint i-bem")},i.s="div";var a="";return a+='{"product-spec-hint": {}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="link link_pseudo_yes product-spec-hint__handle i-bem" role="button" tabindex="0">',s+='<span class="link__inner">?</span>',s+="</span>",s+="<div",i.a={class:new yr.scalarAttr("popup popup_theme_hint popup_autoclosable_yes popup_adaptive_yes popup_animate_yes product-spec-hint__popup i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals.serialize(yr.object2nodeset(d))),s+=Li(i),s+='<iframe frameborder="0" tabindex="-1" src="about:blank" class="popup__under"></iframe>',s+='<i class="popup__tail"></i>',s+='<i class="popup__close"></i>',s+='<div class="popup__content">',s+='<div class="product-spec-hint__inner">',s+='<div class="product-spec-hint__article">',s+='<p class="product-spec-hint__paragraph">Яндекс.Маркет будет периодически составлять и отправлять вам по электронной почте сообщения информационного и рекламного характера о следующем:</p>',s+='<ul class="product-spec-hint__list">',s+='<li class="product-spec-hint__list-item">Акции — специальные условия приобретения товаров, представленных на Яндекс.Маркете.</li>',s+='<li class="product-spec-hint__list-item">Скидки — временное или постоянное снижение цен на товары, представленные на Маркете.</li>',s+='<li class="product-spec-hint__list-item">Рекомендации — персональные предложения, сформированные с учётом истории использования Маркета и совершённых ранее покупок.</li>',s+="</ul>",s+='<p class="product-spec-hint__paragraph">Отметив этот флажок, вы соглашаетесь с таким информированием — мы просим вас об этом по требованию ст. 18 Федерального закона «О рекламе».</p>',s+="</div>",s+="</div>",s+="</div>",s+="</div>",s+="</div>"},zi.t733.s=[pE,hE],zi.t733.a=[0,0],zi.t734=function(t,e,n,r,i,s){var a="",o=Ci(t.n(na,yr.object2nodeset(s)))||"default",c=t.n(Pc,yr.object2nodeset(s)),l=Ai("real",Ni("cpa",e,[])),u=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("product-card-offer offer metrika shop-history i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e))))),0==Ni("pictures",e,[]).length){var d=i.a.class;d?i.a.class=d.addscalar("  product-card-offer_no-image_yes"):i.a.class=new yr.scalarAttr("  product-card-offer_no-image_yes")}var p="";p+=l?" product-card-offer_type_cpa":" product-card-offer_type_cpc";var d=i.a.class;if(d?i.a.class=d.addscalar(p):i.a.class=new yr.scalarAttr(p),t.f("f211",e,n,r,t.s(ps,e))){var d=i.a.class;d?i.a.class=d.addscalar(" product-card-offer_category_cpa-only"):i.a.class=new yr.scalarAttr(" product-card-offer_category_cpa-only")}if(a+=Li(i),a+='<h5 class="product-card-offer__title">',a+="<span",i.a={class:new yr.scalarAttr("product-card-offer__title-text")},i.s="span",Ci(c)?(a+=Li(i),a+=Ti(c)):a+=t.a(t,0,t.s(ps,e),"n-w-last-viewed-offer__headtitle",i),a+=Li(i),a+="</span>",a+="</h5>",a+=t.a(t,0,t.s(ps,e),"n-w-last-viewed-offer__image",i),a+="<div",i.a={class:new yr.scalarAttr("product-card-offer__content")},i.s="div",l){var d=i.a.class;d?i.a.class=d.addscalar(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message offer__out-stock-text_offset_top")}return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("product-card-offer__info")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-w-last-viewed-offer__header",i),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-shop-name",i,function(){var t={};return t.hasRecommendationBadge=l,t.hasRating=!1,t}()),a+=t.a(t,0,t.s(ps,e),"n-phone_for_outlet",i),a+=t.a(t,0,t.s(ps,e),"n-delivery",i,o),a+='<div class="product-card-offer__bundle-limit"></div>',a+=t.a(t,0,t.s(ps,e),"n-offer-info__card-bundle-limit",i,function(){var t={};return t.entityType=o,t}()),a+=t.f("f102",e,n,r,i,t.s(ps,e),function(){var t={};return t.place=o,t.size="m",t.showPrice=!0,t.class="last_viewed_offer__button",t}()),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_new",i),Ci(t.s(Wa,e))&&!u&&(a+="<div",i.a={class:new yr.scalarAttr("product-card-offer__stickers")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withoutPromo=!0,t}()),a+=Li(i),a+='<span class="price price_unactual_yes">',a+='<span class="price">',a+=t.f("f76",e,n,r,i,t.s(ps,e)),a+="</span>",a+="</span>",a+="</div>"),a+="</div>",a+="</div>"},zi.t734.j=_p,zi.t734.a=0,zi.t735=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Спецпредложение"},zi.t735.j=_p,zi.t735.a=0,zi.t736=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Заказать на Маркете"},zi.t736.j=lv;zi.t736.a=0;zi.t737=function(t,e,n,r,i){var s="";if(s+=Li(i),Ni("pictures",e,[]).length>0){var a=yr.externals["n-picture-url"](t.s(ps,e),250),o=t.s(Ba,e);s+='<div class="product-card-offer__image">',s+='<img class="image" src="'+Oi(a)+'" alt="'+Si(o)+'" title="'+Si(o)+'" itemprop="image"/>',s+="</div>"}return s},zi.t737.j=_p,zi.t737.a=0,zi.t738=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"i-link__offer",o);var c=a;if(s+=Li(i),s+='<div class="product-card-offer__info-header">',s+="<a",i.a={class:new yr.scalarAttr("link link_theme_outer product-card-offer__shop-link"),href:new yr.scalarAttr(Bi(c)),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a",Ai("real",Ni("cpa",e,[]))){var l=i.a.class;l?i.a.class=l.addscalar(" i-bem"):i.a.class=new yr.scalarAttr(" i-bem"),i.a["data-bem"]=new yr.scalarAttr('{"product-card-offer__shop-link": {}}')}return s+=Li(i),s+=Ti(t.s(Ba,e)),s+="</a>",s+="</div>"},zi.t738.j=_p,zi.t738.a=0,zi.t739=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="product-card-offer__info-header">',s+=Ti(t.s(Ba,e)),s+="</div>"},zi.t739.j=fE,zi.t739.a=0,zi.t740=function(t,e,n,r,i,s){var a="";a+=Li(i),a+='<div class="n-product-default-offer__no-modifications_text">',a+="Модели с выбранными параметрами нет",a+="</div>",a+="<button",i.a={},i.s="button";var o="",c={a:{}};o+="button button_size_m button_pseudo_yes button_theme_pseudo",o+=" button_action_n-filter-reset i-bem",o+=" n-product-default-offer__no-modifications_button",i.a.class=new yr.scalarAttr(o);var o="",c={a:{}};return o+=Li(c),o+='{"button":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button__text">Сбросьте фильтры</span>',a+="</button>",a+="<span>или попробуйте смягчить условия</span>"},zi.t740.j=Hi,zi.t740.a=0,zi.t741=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer i-bem"),id:new yr.scalarAttr("n-product-default-offer")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-product-default-offer"]=r,n}()))),a+=Li(i),a+=t.f("f212",e,n,r,i,Ni("prices",e,[]),"offers"),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__price",i),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__specs",i,s),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__desc",i),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__features",i,function(){var t={};return t.hasPhone=!0,t}()),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__bundle-limit",i),a+=t.a(t,0,t.s(ps,e),"n-prepayment_context_default-offer",i),a+="</div>"},zi.t741.j=_p,zi.t741.a=0,zi.t742=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer n-product-default-offer_promoted_yes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-product-default-offer"]=r,n}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__inner")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__price",i),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__desc-shop")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-name",i,function(){var t={};return t.hasRating=!0,t.hasRecommendationBadge=!0,t.ratingSize="m",t.ratingClass="n-rating-stars_theme_gold",t}()),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var e={};return e.hasDetailsButton=!1,e.metrika=yr.nodeset2data(t.n(mc,yr.object2nodeset(s))),e.class="offer__pusher_state_in-cart",e.size="m",e.text="Купить сейчас",e}()),a+="</div>",a+='<div class="n-product-default-offer__inner">',a+='<div class="n-product-default-offer__inner-title">В наличии</div>',a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__features_promoted",i),a+="</div>",Ri("gift",e)||(a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__present-rule",i)),a+=t.a(t,0,Ni("gift",e,[]),"n-product-default-offer__present",i,s),a+="</div>"},zi.t742.j=_E,zi.t742.a=0,zi.t743=function(t,e,n,r,i,s){var a="",o="",c={a:{}};Ai("product",Ni("entity",e,[]))?o+=t.a(t,0,t.s(ps,e),"i-link__product",c,function(){var e={};return Ci(t.n(Ta,yr.object2nodeset(s)))&&(e.track=yr.nodeset2data(t.n(Ta,yr.object2nodeset(s)))),e}()):Ci(t.s(ka,e))&&(o+=t.a(t,0,t.s(ps,e),"i-link__offer-card",c));var l=o;if(a+=Li(i),a+='<div class="n-product-default-offer__present">',l){if(a+='<a class="link n-product-default-offer__present-image" href="'+ji(l)+'" target="_blank" rel="nofollow noopener">',Ci(Ni("pictures",e,[]))){var u=[0,"gift",0,"pictures",3,0,0,"alt"];a+='<div class="n-product-default-offer__present-label"></div>',a+='<img class="image" src="'+Oi(yr.externals["n-picture-url"](t.s(ps,e),100))+'" alt="'+Si(t.s(u,e))+'"/>'}else{a+="<div",i.a={},i.s="div";var o="",c={a:{}};o+="n-product-default-offer__present-label n-product-default-offer__present-label_type_image",i.a.class=new yr.scalarAttr(o),a+=Li(i),a+="</div>"}a+="</a>"}else{if(a+='<div class="n-product-default-offer__present-image">',Ci(Ni("pictures",e,[]))){var d=[0,"gift",0,"pictures",3,0,0,"alt"];a+='<div class="n-product-default-offer__present-label"></div>',a+='<img class="image" src="'+Oi(yr.externals["n-picture-url"](t.s(ps,e),100))+'" alt="'+Si(t.s(d,e))+'"/>'}else{a+="<div",i.a={},i.s="div";var o="",c={a:{}};o+="n-product-default-offer__present-label n-product-default-offer__present-label_type_image",i.a.class=new yr.scalarAttr(o),a+=Li(i),a+="</div>"}a+="</div>"}return a+='<div class="n-product-default-offer__present-description">',a+='<div class="n-product-default-offer__present-title">',a+="При покупке вы получите:",a+="</div>",l?(a+='<a class="link n-product-default-offer__present-link" href="'+ji(l)+'" target="_blank" rel="nofollow noopener">',a+=Ti(t.s(Ba,e)),a+="</a>"):(a+="<span>",a+=Ti(t.s(Ba,e)),a+="</span>"),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__present-rule",i),a+="</div>"},zi.t743.j=g_,zi.t743.a=0,zi.t744=function(t,e,n,r,i){var s="",a=yr.externals["n-build-url"]("market:articles",function(){var t={};return t.semanticId="promo-philips",t}());return s+=Li(i),s+='<a class="link n-product-default-offer__present-rule" href="'+Oi(a)+'" target="_blank" rel="nofollow noopener">',s+="Условия акции",s+="</a>"},zi.t744.j=Hi,zi.t744.a=0,zi.t745=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__desc")},i.s="div",Ci(t.s(mE,e))||(s+=t.a(t,0,t.s(ps,e),"n-product-default-offer__title",i)),s+=t.a(t,0,t.s(ps,e),"n-product-default-offer__desc-shop",i),s+=Li(i),s+="</div>"},zi.t745.j=_p,zi.t745.a=0,zi.t746=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-default-offer__desc-shop">',s+='<span class="n-shop-introduce">предоставлено</span>',s+=t.a(t,0,t.s(ps,e),"n-shop-name",i,function(){var t={};return t.hasRating=!0,t.hasRecommendationBadge=!0,t}()),s+="</div>"},zi.t746.j=vE,zi.t746.a=0,zi.t747=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-prepayment_context_card",c);var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",c);var l=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",c);var u=o;return a+=Li(i),a+='<ul class="n-product-default-offer__features">',a+="<div",i.a={class:new yr.scalarAttr("n-delivery n-delivery_link_yes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.place="product-offer",t["n-delivery"]=e,t}()))),a+=Li(i),a+='<div class="n-delivery__group">',a+="<li",i.a={class:new yr.scalarAttr("n-product-default-offer__features-item")},i.s="li",a+=t.a(t,0,t.s(ps,e),"n-delivery__main-info",i,function(){var t={};return t.withIcon=!0,t}()),a+=Li(i),a+="</li>",u&&(a+='<li class="n-product-default-offer__features-item">',a+=u,a+="</li>"),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-delivery__popup")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-delivery-popup",i),a+=Li(i),a+="</div>",a+="</div>",Ci(t.n(yE,yr.object2nodeset(s)))&&l&&(a+='<li class="n-product-default-offer__features-item n-product-default-offer-phone">',a+=l,a+="</li>"),a+="</ul>"},zi.t747.j=_p,zi.t747.a=0,zi.t748=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-prepayment_promoted",c);var l=o,o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",c);var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",c,function(){var t={};return t.withIcon=!0,t}());var o="",c={a:{}};o+=Li(c),o+=t.f("f95",e,n,r,c,t.s(ps,e)),o+=t.a(t,0,Ni("delivery",e,[]),"n-delivery__time",c);var u=o;return a+=Li(i),a+='<div class="n-product-default-offer__features n-product-default-offer__features_promoted">',a+="<div",i.a={class:new yr.scalarAttr("n-delivery n-delivery_link_yes i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.place="product-offer",t["n-delivery"]=e,t}()))),a+=Li(i),a+='<div class="n-delivery__group">',a+='<div class="n-delivery__info">',a+=t.f("f93",e,n,r,i,Ni("delivery",e,[])),a+='<span class="n-delivery__text">',a+=u,a+="</span>",a+="</div>",a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-delivery__popup")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-delivery-popup",i),a+=Li(i),a+="</div>",a+="</div>",a+='<div class="n-product-offer__features-prepayment_promoted">',a+=l,a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-product-offer__features-vendor_promoted")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__feature-vendor",i),a+=Li(i),a+="</div>",a+="</div>"},zi.t748.j=bE,zi.t748.a=0,zi.t749=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-default-offer__feature-vendor">',s+='<div class="image image_name_solid-shield"></div>',s+="<span>Гарантия производителя</span>",s+="</div>"},zi.t749.j=bE,zi.t749.a=0,zi.t750=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-prepayment n-prepayment_promoted i-bem">',s+='<span class="n-prepayment__content">',s+='<i class="image image_name_payment-black"></i>',s+="Оплата курьеру",s+="</span>",s+="</span>"},zi.t750.j=gE,zi.t750.a=0,zi.t751=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("i-bem n-prepayment n-prepayment_with_modal n-prepayment_promoted n-prepayment_promoted-prepayment-enabled i-bem")},i.s="div";var o="";return o+='{"n-prepayment": ""}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<div class="n-prepayment__content n-prepayment__modal-opener">',a+='<i class="image image_name_payment-black"></i>',a+='<span class="n-prepayment__content-text">Оплата онлайн или курьеру</span>',a+="</div>",a+=t.f("f141",e,n,r,i),a+="</div>"},zi.t751.j=kE,zi.t751.a=0,zi.t752=function(t,e,n,r,i){var s="",a=t.s(Zi,e.doc.root),o={};Ai("market:offer",a)?o.scrollToPromo=!0:o.withPopupOfferInfo=!0;var c=o,l=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));return s+=Li(i),s+='<div class="n-product-default-offer__price">',s+='<span class="n-product-default-offer__price-value">',s+=t.f("f69",e,n,r,i,t.s(ps,e)),s+="</span>",s+=t.a(t,0,t.s(ps,e),"n-stickers",i,c),!Ci(t.s(Wa,e))||yr.externals["n-has-shop-promo"](t.s(ps,e))||l||(s+='<span class="n-product-default-offer__old-price">',s+=t.f("f76",e,n,r,i,t.s(ps,e)),s+="</span>"),s+="</div>",s+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i)},zi.t752.j=_p,zi.t752.a=0,zi.t753=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-default-offer__price">',s+='<span class="n-product-default-offer__price-value">',s+=t.f("f69",e,n,r,i,t.s(ps,e)),s+="</span>",s+=t.a(t,0,t.s(ps,e),"n-stickers",i,function(){var t={};return t.withPopupOfferInfo=!0,t}()),s+="</div>",s+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i)},zi.t753.j=_p,zi.t753.a=0,zi.t754=function(t,e,n,r,i,s){var a="",o="";o+=yr.exists(t.n(cs,yr.object2nodeset(s)))?" n-product-default-offer__bundle-limit-"+Ii(t.n(cs,yr.object2nodeset(s))):"n-product-default-offer__bundle-limit";var c=o;return a+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class=c,t}())},zi.t754.j=Hi,zi.t754.a=0,zi.t755=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-product-default-offer__bundle-limit",i,function(){var t={};return t.type="mini",t}())},zi.t755.j=Hi,zi.t755.a=0,zi.t756=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("id",e,[]),f)}var o="";if(o+=Li(i),Ci(t.n(wE,yr.object2nodeset(s)))||Ci(t.n(xE,yr.object2nodeset(s)))){var c=t.n(ME,yr.object2nodeset(s)).length>0,l=Ni("filters",e,[]);o+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__specs")},i.s="div";for(var u=t.n(Cu,yr.object2nodeset(s)),d=0,p=u.length;d<p;d++){var h=u[d],f=Ni("id",h,[]),_=[2,a];!(t.n(_,l).length>0)||Ai("image_picker",Ni("subType",h,[]))&&c||(o+=t.a(t,0,t.n(_,l),"n-product-spec",i,function(){var t={};return t.view="mini",t}()))}o+=Li(i),o+="</div>"}return o},zi.t756.j=_p,zi.t756.a=0,zi.t757=function(t,e,n,r,i){var s="",a={},o={},c={},l=[],u={};u.to="bottom",l.push(u),c.directions=l,o.popup=c,a.dataBemParams=o,a.additionalClasses="n-product-default-offer__title-popup",a.animate="yes",a.autoclosable="yes",a.hasTail=!0;var d=a;return s+=Li(i),s+=t.f("f25",e,n,r,i,"",yr.object2nodeset(d))},zi.t757.j=_p,zi.t757.a=0,zi.t758=function(t,e,n,r,i){var s="";if(s+=Li(i),s+='<div class="n-product-default-offer__shop-mini">',s+="Заказ выполнит ",s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a",Ci(Ni("isCpa20",e,[])))i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:articles",function(){var t={};return t.semanticId="pokupka-na-markete",t}()));else if(Ai(0,t.s(Mc,e))){var a="",o={a:{}};a+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews-add",o,function(){var t={};return t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("wareId",e,[])),t}()),i.a.href=new yr.xmlAttr(a)}else{var a="",o={a:{}};a+=t.a(t,0,Ni("shop",e,[]),"i-link__shop__reviews",o,function(){var t={};return t.cpc=yr.nodeset2data(Ni("cpc",e,[])),t.cmid=yr.nodeset2data(Ni("wareId",e,[])),t}()),i.a.href=new yr.xmlAttr(a)}return s+=Li(i),s+=Ti(t.s(Ya,e)),s+="</a>",s+="</div>"},zi.t758.j=AE,zi.t758.a=0,zi.t759=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer n-product-default-offer_viewType_mini i-bem"),id:new yr.scalarAttr("n-product-default-offer")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-product-default-offer"]=r,n}()))),a+=Li(i),a+='<div class="n-product-default-offer_viewType_mini-content">',a+=t.f("f212",e,n,r,i,Ni("prices",e,[]),"offers"),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__desc_mini",i),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__price-mini",i),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__bundle-limit-mini",i),a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__shop-mini",i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var e={};return e.size="s",e.place="minicard",e.hasDetailsButton=!0,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.entityType="defaultOffer",e}()),a+="</div>"},zi.t759.j=_p,zi.t759.a=0,zi.t760=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ts,e.doc.root),"i-link__product",c);var l=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer n-product-default-offer_viewType_mini i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-product-default-offer"]=r,n}()))),a+=t.a(t,0,t.s(ps,e),"n-stickers__sticker_type_promoted",i,function(){var t={};return t.href=l,t}()),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__minicard")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-product-default-offer__price-mini",i),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer__desc-shop")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-name",i,function(){var t={};return t.hasRating=!0,t.hasRecommendationBadge=!0,t.ratingSize="m",t.ratingClass="n-rating-stars_theme_gold",t}()),a+=Li(i),a+="</div>",a+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var e={};return e.size="s",e.place="minicard",e.hasDetailsButton=!0,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.entityType="defaultOffer",e.text="Купить сейчас",e}()),a+="</div>",a+="</div>"},zi.t760.j=_E,zi.t760.a=0,zi.t761=function(t,e,n,r,i,s,a){var o="";if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer n-product-default-offer_view-type_collections i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),n["n-product-default-offer"]=r,n}()))),Ci(t.n(gc,yr.object2nodeset(s)))||"real"!==yr.nodeset2data(Ni("cpa",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-default-offer_view-type_collections-cpc"):i.a.class=new yr.scalarAttr(" n-product-default-offer_view-type_collections-cpc")}else if("cluster"==a){var c=i.a.class;c?i.a.class=c.addscalar(" n-product-default-offer_view-type_collections-cluster"):i.a.class=new yr.scalarAttr(" n-product-default-offer_view-type_collections-cluster")}return o+=Li(i),o+='<div class="n-collection-item__offer">',o+='<div class="n-product-default-offer__price">',o+='<span class="n-product-default-offer__price-value">',o+='<span class="price">',o+=t.f("f69",e,n,r,i,t.s(ps,e)),o+="</span>",o+="</span>",o+="</div>",o+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),o+=t.a(t,0,t.s(ps,e),"n-product-default-offer__desc",i),o+=t.a(t,0,t.s(ps,e),"n-product-default-offer__features",i),o+=t.a(t,0,t.s(ps,e),"n-product-default-offer__specs",i),o+="<div",i.a={class:new yr.scalarAttr("n-product-intents-item__footer")},i.s="div",o+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var e={};return e.hasDetailsButton=!0,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.entityType="intent",e}()),o+=Li(i),o+="</div>",o+="</div>",o+="</div>"},zi.t761.j=_p,zi.t761.a=0,zi.t762=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer-cpa2")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-best-sale",i),s+=t.a(t,0,t.s(ps,e),"n-product-price-cpa2",i),s+=t.a(t,0,t.s(ps,e),"n-product-in-stock",i),s+=t.a(t,0,t.s(ps,e),"n-product-delivery-cpa2",i),s+=t.a(t,0,t.s(ps,e),"n-product-default-offer-cpa2__action",i),s+=t.a(t,0,t.s(ps,e),"n-product-badges",i),s+=t.a(t,0,t.s(ps,e),"n-product-default-offer-cpa2__shop",i),s+=Li(i),s+="</div>"},zi.t762.j=Hi,zi.t762.a=0,zi.t763=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-default-offer-cpa2__action")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var t={};return t.size="m",t.place="card",t.filters=yr.nodeset2data(Ni("filters",e,[])),
t.entityType="defaultOffer",t}()),s+=Li(i),s+="</div>"},zi.t763.j=Hi,zi.t763.a=0,zi.t764=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-default-offer-cpa2__shop">',s+='<div class="n-product-default-offer-cpa2__shop-title">Заказ выполнит</div>',s+=t.a(t,0,t.s(ps,e),"n-shop-name",i,function(){var t={};return t.hasRating=!0,t.hasRecommendationBadge=!0,t.ratingSize="m",t.ratingClass="n-rating-stars_theme_gold",t.isCpa2=!0,t}()),s+='<div class="n-product-default-offer-cpa2__shop-description">',s+=Ci(Ni("isCpa20",e,[]))?"Товар находится на нашем складе и мы доставим его в кратчайшие сроки":"Товар будет доставлен магазином-партнером",s+="</div>",s+="</div>"},zi.t764.j=Hi,zi.t764.a=0,zi.t765=function(t,e,n,r,i){var s="";return s},zi.t765.j=Hi,zi.t765.a=0,zi.t766=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-best-sale">',s+="Выгодно",s+="</div>"},zi.t766.j=TE,zi.t766.a=0,zi.t767=function(t,e,n,r,i){var s="",a=t.s(Zi,e.doc.root),o={};Ai("market:offer",a)?o.scrollToPromo=!0:o.withPopupOfferInfo=!0;var c=o;return s+=Li(i),s+='<div class="n-product-price-cpa2">',s+=t.f("f69",e,n,r,i,t.s(ps,e)),s+='<div class="n-product-default-offer__old-price-cpa2-container">',Ci(t.s(Wa,e))&&!Ai("second-offer-discount",t.s(s_,e))&&(s+='<div class="n-product-default-offer__old-price-cpa2">',s+=t.f("f76",e,n,r,i,t.s(ps,e)),s+="</div>"),s+=t.a(t,0,t.s(ps,e),"n-stickers",i,c),s+="</div>",s+="</div>"},zi.t767.j=Hi,zi.t767.a=0,zi.t768=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-in-stock">',s+="Товар в наличии",s+="</div>"},zi.t768.j=TE,zi.t768.a=0,zi.t769=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=Li(o),a+=t.f("f95",e,n,r,o,t.s(ps,e),function(){var t={};return t.appendPlus=!0,t}()),a+=t.a(t,0,Ni("delivery",e,[]),"n-delivery__time",o,function(){var n={};return n.featured=Ai("green",t.n(CE,t.v("v23",e.doc.root))),n.pricise=!0,n}());var c=a;return s+=Li(i),s+='<div class="n-product-delivery-cpa2">',s+="<div",i.a={class:new yr.scalarAttr("n-delivery n-delivery_type_featured i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["n-delivery"]="n-delivery",t}()))),s+=Li(i),""!=Bi(c)&&(s+='<div class="n-delivery__info">',s+='<span class="n-delivery__text">',s+=c,s+="</span>",s+="</div>"),"pickup"!=t.f("f97",e,n,r,Ni("delivery",e,[]))&&(s+=t.a(t,0,t.s(ps,e),"n-delivery__pickup-info",i,function(){var t={};return t.text="Есть самовывоз",t.withIcon=!1,t}())),s+="<button",i.a={class:new yr.scalarAttr("n-product-delivery-cpa2__details n-i-offer-details-button i-bem")},i.s="button",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(Ni("filters",e,[])),r.entityType=yr.nodeset2data(Ni("entityType",e,[])),n["n-i-offer-details-button"]=r,n}()))),s+=Li(i),s+="подробнее",s+="</button>",s+="</div>",s+="</div>"},zi.t769.j=Hi,zi.t769.a=0,zi.t770=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-badges">',Ci(Ni("prepayEnabled",e,[]))&&(s+=t.f("f213",e,n,r,i,yr.object2nodeset(function(){var t={};return t.icon="safe-small",t.text="100% получение заказа",t}()))),s+="</div>"},zi.t770.j=Mm,zi.t770.a=0,zi.t771=function(t,e,n,r,i){var s="";if(s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-gallery-popup-product i-bem")},i.s="div",Ci(t.s(SE,e))){var a=i.a.class;a?i.a.class=a.addscalar(" n-gallery-popup-product_type_"+Ii(t.s(SE,e))):i.a.class=new yr.scalarAttr(" n-gallery-popup-product_type_"+Ii(t.s(SE,e)))}var o="",c={a:{}};return o+=Li(c),o+='{"n-gallery-popup-product": {}}',i.a["data-bem"]=new yr.xmlAttr(o),s+=t.a(t,0,t.s(ps,e),"n-gallery-popup",i),s+=Li(i),s+="</div>"},zi.t771.j=qi,zi.t771.a=0,zi.t772=function(t,e,n,r,i,s){var a="",o="";o+=Ci(Ni("units",e,[]))?t.s(wu,e).length:Ai("number",Ni("type",e,[]))&&yr.exists(t.s(Nu,e))?Ai("",t.s(pd,e))||Ai("",t.s(dd,e))?Ai("",t.s(pd,e))&&Ai("",t.s(dd,e))?0:1:2:t.s(ku,e).length;var c=o,l=Ci(t.s(ld,e))||Ci(t.s(ud,e))||Ci(t.s(dd,e))||Ci(t.s(pd,e)),u=l||t.f("f216",e,n,r,t.s(ps,e)),d=Ai("boolean",Ni("type",e,[]))&&!Ri("hasBoolNo",e)&&!Ri("extend",e)&&!Ci(t.n(IE,yr.object2nodeset(s))),o="";o+=Ci(t.n(cs,yr.object2nodeset(s)))?Ii(t.n(cs,yr.object2nodeset(s))):"normal";var p=o,h=t.s(Zi,e.doc.root),f=t.k("k0","dsk_filters_new-design",e.doc.root),_=!("market:list"!==yr.nodeset2data(h)&&"market:product-offers"!==yr.nodeset2data(h)&&"market:search"!==yr.nodeset2data(h)&&"market:product-mods"!==yr.nodeset2data(h)||"inline"===p||"top-abc_pos-right"!==yr.nodeset2data(f)&&"top-offers_pos-right"!==yr.nodeset2data(f)&&"top-offers_pos-left"!==yr.nodeset2data(f)),m=Ci(t.n(OE,t.v("v23",e.doc.root)))&&(Ai("market:product-offers",t.s(Zi,e.doc.root))||Ai("market:product-mods",t.s(Zi,e.doc.root))),v=t.s(Gi,e.doc.root);a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block n-filter-cookie i-bem n-filter-block_type_"+p+" b-zone b-spy-visible")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};n.activatedCount=c,n.filterId=yr.nodeset2data(Ni("id",e,[])),n.filterType=yr.nodeset2data(Ni("type",e,[])),t["n-filter-block"]=n;var n={};n.filterId=yr.nodeset2data(Ni("id",e,[])),t["n-filter-cookie"]=n;var n={};n.name="filter";var r={};if(r.id=yr.nodeset2data(Ni("id",e,[])),n.data=r,t["b-zone"]=n,"filter-subsidies"===yr.nodeset2data(Ni("id",e,[]))){var n={};n["filter-subsidies"]=yr.nodeset2data(Ni("id",e,[])),t["b-spy-visible"]=n}return t}())));var o="";o+=_||u||d?" n-filter-block_closed_no":" n-filter-block_closed_yes";var y=i.a.class;if(y?i.a.class=y.addscalar(o):i.a.class=new yr.scalarAttr(o),d){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_head_none"):i.a.class=new yr.scalarAttr(" n-filter-block_head_none")}if(Ci(t.n($s,yr.object2nodeset(s)))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_pos_"+Ii(t.n($s,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" n-filter-block_pos_"+Ii(t.n($s,yr.object2nodeset(s))))}if(Ai(1,Ni("hidden",e,[]))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_hidden_yes"):i.a.class=new yr.scalarAttr(" n-filter-block_hidden_yes")}if(Ri("_parametric",e)||Ri("isParametric",e)){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_highlight_yes"):i.a.class=new yr.scalarAttr(" n-filter-block_highlight_yes")}if("filter-subsidies"===yr.nodeset2data(Ni("id",e,[]))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_highlight_yes"):i.a.class=new yr.scalarAttr(" n-filter-block_highlight_yes")}if(l){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_active_yes"):i.a.class=new yr.scalarAttr(" n-filter-block_active_yes")}if(Ai("color",Ni("subType",e,[]))){var y=i.a.class;y?i.a.class=y.addscalar(" n-filter-block_type_color"):i.a.class=new yr.scalarAttr(" n-filter-block_type_color")}return a+=Li(i),d||"inline"==p||(a+=_?t.f("f242",e,n,r,i,t.s(ps,e)):t.f("f243",e,n,r,i,t.s(ps,e),s)),a+=t.f("f218",e,n,r,i,t.s(ps,e),function(){var e={};return e.isBooleanFilter=d,e.isColorPicker=Ci(t.n(hu,yr.object2nodeset(s))),e.isNewDesignEnabled=_,e.expFiltersNewDesign=yr.nodeset2data(f),e.hid=yr.nodeset2data(v),e.filterMutations=m,e}()),a+="</div>"},zi.t772.j=Cu,zi.t772.a=0,zi.t773=function(t,e,n,r,i,s){var a="";return a},zi.t773.j=jE,zi.t773.a=0,zi.t774=function(t,e,n,r,i){var s="";return s+=Li(i),s+=Ti(Ni("name",e,[]))},zi.t774.j=Cu,zi.t774.a=0,zi.t775=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-filter-block__name n-filter-block__name_prepay-enabled">',s+=Ti(Ni("name",e,[])),s+="</span>"},zi.t775.j=Tm,zi.t775.a=0,zi.t776=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<i class="n-filter-block__image n-filter-block__image_type_safe image image_name_safe-small"></i>'},zi.t776.j=Tm,zi.t776.a=0,zi.t777=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(ao,s)),c="",l={a:{}};c+=Ri("vendor",e)&&Ai("Линейка",t.n(Os,s))?Ii(t.s(nc,e)):"";var u=c,d=t.s(Gi,e.doc.root),p=t.s($i,e.doc.root);if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__item i-bem")},i.s="div",!Ri("found",e)||Ai("0",Ni("found",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var c="",l={a:{}};return c+=Li(l),c+='{"n-filter-block__item":{}}',i.a["data-bem"]=new yr.xmlAttr(c),Ai("Линейка",t.n(Os,s))&&(i.a["data-vendor-id"]=new yr.scalarAttr(u)),Ai("Производитель",t.n(Os,s))&&Ci(d)&&Ci(p)?(a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("n-filter-block__item-link")},i.s="a",i.a.href=new yr.scalarAttr(yr.externals["n-build-url-extra"]("market:list",function(){var t={};return t.hid=yr.nodeset2data(d),t.nid=yr.nodeset2data(p),t}(),function(){var t={};return t.glfilter=o+":"+Ii(Ni("id",e,[])),t}())),a+=t.a(t,0,t.s(ps,e),"n-filter-block__body_checkbox",i,s),a+=Li(i),a+="</a>"):a+=t.a(t,0,t.s(ps,e),"n-filter-block__body_checkbox",i,s),a+=Li(i),a+="</div>"},zi.t777.j=vu,zi.t777.a=0,zi.t778=function(t,e,n,r,i,s){function a(t,e,n,r){return e.name==p}s=void 0===s?[]:s;var o="",c=Ii(t.n(xu,s)),l=Ii(t.n(ao,s)),u=Ii(t.n(js,s)),d="color"==u,p=yr.externals["n-str-to-lower"](Di("code",e)),h=c+"-"+l+"-"+Ii(Ni("id",e,[])),f=Ri("checked",e);o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_size_s i-bem")},i.s="span";var _="",m={a:{}};_+=d?" checkbox_theme_colorized":" checkbox_theme_normal",f&&(_+=" checkbox_checked_yes");var v=i.a.class;v?i.a.class=v.addscalar(_):i.a.class=new yr.scalarAttr(_);var _="",m={a:{}};if(_+=Li(m),_+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(_),i.a["data-filter"]=new yr.scalarAttr(c+","+l+","+Ii(Ni("id",e,[]))),o+=Li(i),o+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",d)if(p){if(i.a.style=new yr.scalarAttr("background: "+p),i.a["data-color"]=new yr.scalarAttr(p),"#ffffff"==p){var v=i.a.class;v?i.a.class=v.addscalar(" checkbox__box_color_white"):i.a.class=new yr.scalarAttr(" checkbox__box_color_white")}}else i.a["data-color"]=new yr.scalarAttr("multi");if(o+=Li(i),o+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox"),id:new yr.scalarAttr(h)},i.s="input",f&&(i.a.checked=new yr.scalarAttr("checked")),o+=Li(i),o+="",o+="<i",i.a={class:new yr.scalarAttr("checkbox__tick")},i.s="i",d){var _="",m={a:{}};if(_+=" checkbox__tick_theme_",p){var y=[0,"*",2,a];_+=Ii(t.n(y,yr.object2nodeset(t.v("v514",e.doc.root))))}else _+="light";var v=i.a.class;v?i.a.class=v.addscalar(_):i.a.class=new yr.scalarAttr(_),i.a["data-color"]=new yr.scalarAttr(p)}return o+=Li(i),o+="</i>",o+="</span>",o+='<label class="checkbox__label" for="'+Oi(h)+'">',o+=Ti(Ni("value",e,[])),o+="</label>",o+="</span>"},zi.t778.j=vu,zi.t778.a=0,zi.t779=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list n-filter-block__list_type_more more-list__top i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};return n.moreGateUrl=yr.nodeset2data(t.n(PE,yr.object2nodeset(s))),n.hid=yr.nodeset2data(t.n(uu,yr.object2nodeset(s))),n.isNewDesignEnabled=yr.nodeset2data(t.n(fu,yr.object2nodeset(s))),e["n-filter-block__list"]=n,e}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list-items i-bem")},i.s="div",a+=t.a(t,0,Ni("values",e,[]),"n-filter-block__body_list_values",i,t.s(ps,e)),a+=Li(i),a+="</div>",Ni("values",e,[]).length>=12){var o="";o+=Ci(t.n(fu,yr.object2nodeset(s)))?"Показать всё":"Ещё";var c=o;a+=t.a(t,0,t.s(ps,e),"n-filter-block__body_list_button",i,c,"all")}return a+="</div>"},zi.t779.j=Hi,zi.t779.a=0,zi.t780=function(t,e,n,r,i,s){var a="";return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list n-filter-block__list_type_more more-list__top i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var i={},a={};return Ai("Линейка",Ni("name",e,[]))&&t.s(BE,e).length>0&&(a.updateOnFilterChange=!0,a.activeVendors=t.f("f220",e,n,r,t.s(DE,e))),a.moreGateUrl=yr.nodeset2data(t.n(PE,yr.object2nodeset(s))),a.hid=yr.nodeset2data(t.n(uu,yr.object2nodeset(s))),a.isNewDesignEnabled=yr.nodeset2data(t.n(fu,yr.object2nodeset(s))),i["n-filter-block__list"]=a,i}()))),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("input input_focus_thin input_size_s input_theme_normal i-bem n-filter-block__body_suggest"),"data-filter":new yr.scalarAttr("no")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["n-filter-block__body_suggest"]=s,t}()))),a+=Li(i),a+='<span class="input__box">',a+='<input class="input__control" name=""/>',a+='<span class="input__clear" unselectable="on"></span>',a+="</span>",a+="</span>",a+='<div class="n-filter-block__list-items-wrap">',a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list-items n-filter-block__list-items_scroll_yes i-bem")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-filter-block__list-items",i,function(){var n={};return n.filter=yr.nodeset2data(t.s(ps,e)),n}()),a+=Li(i),a+="</div>",a+="</div>",Ci(t.n(PE,yr.object2nodeset(s)))&&(a+=t.a(t,0,t.s(ps,e),"n-filter-block__body_list_button",i,yr.externals["n-i18n"]("BUTTON_COLLAPSE"),"top")),a+="</div>"},zi.t780.j=Hi,zi.t780.a=0,zi.t781=function(t,e,n,r,i,s,a){var o="";return o+=Li(i),o+='<div class="n-filter-block__list n-filter-block__list_type_more more-list__top i-bem">',o+="<button",i.a={class:new yr.scalarAttr("button button_size_xs button_pseudo_yes button_theme_pseudo i-bem"),role:new yr.scalarAttr("button"),type:new yr.scalarAttr("button")},i.s="button",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.type=a,t.button=e,t}()))),o+=Li(i),o+='<span class="button__text">'+Pi(s)+"</span>",o+="</button>",o+="</div>"},zi.t781.j=Hi,zi.t781.a=0,zi.t782=function(t,e,n,r,i,s){var a="";if(Ni("groups",e,[]).length){a+=Li(i);for(var o=Ni("groups",e,[]),c=0,l=o.length;c<l;c++){var u=o[c];a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list_title")},i.s="div",Ci(Ni("id",u,[]))&&(i.a["data-vendor-id"]=new yr.scalarAttr(Di("id",u))),a+=Li(i),a+=Ti(Ni("name",u,[])),a+="</div>",a+=t.a(t,0,Ni("values",u,[]),"n-filter-block__body_list_values",i,t.n(Ou,yr.object2nodeset(s)))}}else a+=t.a(t,0,Ni("values",e,[]),"n-filter-block__body_list_values",i,t.n(Ou,yr.object2nodeset(s)));return a+=t.a(t,0,t.s(ps,e),"n-filter-block__list_not-found",i,Ni("values",e,[]))},zi.t782.j=Hi,zi.t782.a=0,zi.t783=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=t.a(t,0,t.s(RE,e),"n-filter-block__body_list_enum",i,s),a+=t.a(t,0,t.s(NE,e),"n-filter-block__body_list_enum",i,s)},zi.t783.j=vu,zi.t783.a=0,zi.t784=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__list_not-found")},i.s="div",s.length){var o=i.a.class;o?i.a.class=o.addscalar(" g-hidden"):i.a.class=new yr.scalarAttr(" g-hidden")}return a+=Li(i),a+=yr.externals["n-i18n"]("FILTER_NOT_FOUND"),a+="</div>"},zi.t784.j=Hi,zi.t784.a=0,zi.t785=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<li",i.a={class:new yr.scalarAttr("tabs-menu__tab tabs-menu__tab_interactive_yes tabs__tab")},i.s="li",0==n){var o=i.a.class;o?i.a.class=o.addscalar(" tabs-menu__tab_first_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_first_yes")}if(Di("unitId",e)==s){var o=i.a.class;o?i.a.class=o.addscalar(" tabs-menu__tab_active_yes"):i.a.class=new yr.scalarAttr(" tabs-menu__tab_active_yes")}return a+=Li(i),a+=Ti(Ni("unitId",e,[])),a+="</li>"},zi.t785.j=Eu,zi.t785.a=0,zi.t786=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s;var c="";if(c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("tabs-panes__pane tabs-panes__pane_unit-id_"+Ii(Ni("unitId",e,[]))+" n-filter-block__body_list_sizes-values")},i.s="div",i.a["data-unitId"]=new yr.scalarAttr(Di("unitId",e)),0==n){var l=i.a.class;l?i.a.class=l.addscalar(" tabs-panes__pane_first_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_first_yes")}if(Di("unitId",e)==a){var l=i.a.class;l?i.a.class=l.addscalar(" tabs-panes__pane_active_yes"):i.a.class=new yr.scalarAttr(" tabs-panes__pane_active_yes")}return c+=Ci(t.n(pu,yr.object2nodeset(o)))?t.a(t,0,Ni("values",e,[]),"n-filter-block__body_boolean_enum",i,s):t.a(t,0,Ni("values",e,[]),"n-filter-block__body_list_enum",i,s),c+=Li(i),c+="</div>"},zi.t786.j=Eu,zi.t786.a=0,zi.t787=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";if(a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("n-filter-block__item i-bem checkbox__label")},i.s="label",!Ri("found",e)||Ai("0",Ni("found",e,[]))){var o=i.a.class;o?i.a.class=o.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var c="",l={a:{}};return c+=Li(l),c+='{"n-filter-block__item":{}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=t.a(t,0,t.s(ps,e),"n-filter-block__body_color-checkbox",i,s),a+=Li(i),a+="</label>"},zi.t787.j=vu,zi.t787.a=0,zi.t788=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s)),c=Ii(t.n(ao,s)),l=yr.externals["n-str-to-lower"](Di("code",e)),u=o+"-"+c+"-"+Ii(Ni("id",e,[])),d=Ri("checked",e),p="";p+=Ii(t.s(LE,e))>49?"small-dark":"small-light";var h=p;a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_size_s i-bem n-filter-block__item-color hint")},i.s="span";var p="";p+=" checkbox_theme_colorized",d&&(p+=" checkbox_checked_yes"),p+=" checkbox_theme_"+h;var f=i.a.class;f?i.a.class=f.addscalar(p):i.a.class=new yr.scalarAttr(p);var p="";if(p+='{"checkbox":{}, "hint": {"to": "bottom"}}',i.a["data-bem"]=new yr.xmlAttr(p),i.a["data-filter"]=new yr.scalarAttr(o+","+c+","+Ii(Ni("id",e,[]))),i.a.for=new yr.scalarAttr(u),i.a["data-id"]=new yr.scalarAttr(Di("id",e)),i.a["data-name"]=new yr.scalarAttr(Di("value",e)),i.a["data-title"]=new yr.scalarAttr(Di("value",e)),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",l)if(i.a.style=new yr.scalarAttr("background: "+l+";"),i.a["data-color"]=new yr.scalarAttr(l),"#ffffff"==l){var f=i.a.class;f?i.a.class=f.addscalar(" checkbox__box_color_white"):i.a.class=new yr.scalarAttr(" checkbox__box_color_white")}else{var f=i.a.style;f?i.a.style=f.addscalar(" border-color: "+l):i.a.style=new yr.scalarAttr(" border-color: "+l)}else i.a["data-color"]=new yr.scalarAttr("multi");return a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),type:new yr.scalarAttr("checkbox"),id:new yr.scalarAttr(u)},i.s="input",d&&(i.a.checked=new yr.scalarAttr("checked")),a+=Li(i),a+="",a+="<i",i.a={class:new yr.scalarAttr("checkbox__tick")},i.s="i",i.a["data-color"]=new yr.scalarAttr(l),a+=Li(i),a+="</i>",a+="</span>",a+="</span>"},zi.t788.j=vu,zi.t788.a=0,zi.t789=function(t,e,n,r,i,s){var a="",o=(Ni("id",e,[]),{});o.expFlag=s,o.hid=yr.nodeset2data(t.s(Gi,e.doc.root)),o.filter=yr.nodeset2data(t.s(ps,e)),o.state="normal";var c=o;return a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-enum-sorted i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={};return t["n-filter-enum-sorted"]=c,t}()))),i.a["data-filter-container"]=new yr.scalarAttr(Di("internalType",e)+"-"+Di("id",e)),a+=t.a(t,0,t.s(ps,e),"n-filter-enum-sorted",i,c),a+=Li(i),a+="</div>"},zi.t789.j=Hi,zi.t789.a=0,zi.t790=function(t,e,n,r,i,s){var a="",o=t.n(Iu,yr.object2nodeset(s)).length,c=t.n(Bu,yr.object2nodeset(s)).length,l=c-o,u={};u.filter=yr.nodeset2data(t.s(ps,e)),u.state=yr.nodeset2data(t.n(Su,yr.object2nodeset(s))),u.expFlag=yr.nodeset2data(t.n(ju,yr.object2nodeset(s)));var d=u;if(a+=Li(i),a+='<div class="n-filter-enum-sorted__wrapper">',a+='<div class="n-filter-enum-sorted__content">',a+=t.f("f227",e,n,r,i,d),a+="</div>",l>0){var u={};u.hiddenItemsCount=l,u.state=yr.nodeset2data(t.n(Su,yr.object2nodeset(s)));var p=u;a+='<div class="n-filter-enum-sorted__footer">',a+=t.f("f228",e,n,r,i,p),a+="</div>"}return a+="</div>"},zi.t790.j=Hi,zi.t790.a=0,zi.t791=function(t,e,n,r,i,s,a){function o(t,e,n,r){return Ai(u,Ni("id",e,[]))}function c(t,e,n,r){return Ai(u,Ni("id",e,[]))&&Ri("checked",e)}s=void 0===s?[]:s;var l="",u=Ii(t.s(ps,e)),d=[0,"values",2,o],p=[0,"values",2,c];return l+=a?t.a(t,0,t.n(p,s),"n-filter-enum-sorted__item",i,s):t.a(t,0,t.n(d,s),"n-filter-enum-sorted__item",i,s)},zi.t791.j=Hi,zi.t791.a=0,zi.t792=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s)),c=Ii(t.n(ao,s));return a+=Li(i),a+='<li class="n-filter-enum-sorted__item n-filter-block">',a+="<label",i.a={class:new yr.scalarAttr("n-filter-enum-sorted__label")},i.s="label",i.a["data-filter"]=new yr.scalarAttr(o+"-"+c+"-"+Ii(Ni("id",e,[]))),a+=Li(i),a+="<input",i.a={type:new yr.scalarAttr("checkbox"),class:new yr.scalarAttr("n-filter-enum-sorted__checkbox")},i.s="input",Ci(Ni("checked",e,[]))&&(i.a.checked=new yr.scalarAttr("checked")),!Ri("disabled",e)&&Ri("found",e)&&"0"!==yr.nodeset2data(Ni("found",e,[]))||(i.a.disabled=new yr.scalarAttr("disabled")),i.a.name=new yr.scalarAttr(Di("value",e)),i.a.id=new yr.scalarAttr(Di("id",e)),a+=Li(i),a+="",a+='<span class="n-filter-enum-sorted__value">'+Ti(Ni("value",e,[]))+"</span>",a+="</label>",a+="</li>"},zi.t792.j=Hi,zi.t792.a=0,zi.t793=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-"+Ii(Ni("value",e,[]));if(a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label",Ci(Ni("checked",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(!Ri("found",e)||Ai("0",Ni("found",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var l="";return l+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(l),i.a.for=new yr.scalarAttr(o),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+","+Ii(Ni("value",e,[]))),a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(o),i.a.value=new yr.scalarAttr(Di("value",e)),i.a.name=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))),a+=Li(i),a+="",a+="</span>",a+="От ",a+=t.f("f7",e,n,r,i,function(){var t={};return t.grade=yr.nodeset2data(Ni("value",e,[])),t}()),a+="</label>"},zi.t793.j=vu,zi.t793.a=0,zi.t794=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o="",c={a:{}};o+=Ai("delivery",Ni("value",e,[]))?"С доставкой":"",o+=Ai("pickup",Ni("value",e,[]))?"Самовывоз":"",o+=Ai("postomat",Ni("value",e,[]))?"Почтоматы Маркета":"";var l=o;if(a+=Li(i),l){var u=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-"+Ii(Ni("value",e,[]));if(a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label",Ci(Ni("checked",e,[]))){var d=i.a.class;d?i.a.class=d.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(!Ri("found",e)||Ai("0",Ni("found",e,[]))){var d=i.a.class;d?i.a.class=d.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var o="",c={a:{}};o+=Li(c),o+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(o),i.a.for=new yr.scalarAttr(u),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+","+Ii(Ni("value",e,[]))),a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(u),i.a.value=new yr.scalarAttr(Di("value",e)),i.a.name=new yr.scalarAttr(Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))),a+=Li(i),a+="",a+="</span>",a+=Pi(l),a+="</label>"}return a},zi.t794.j=vu,zi.t794.a=0,zi.t795=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-"+Ii(Ni("value",e,[]));if(a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label",Ci(Ni("checked",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(!Ri("found",e)||Ai("0",Ni("found",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var l="";return l+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(l),i.a.for=new yr.scalarAttr(o),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+","+Ii(Ni("value",e,[]))),a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(o),i.a.value=new yr.scalarAttr(Di("value",e)),i.a.name=new yr.scalarAttr(Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))),a+=Li(i),a+="",a+="</span>",Ai("0",Ni("value",e,[]))?a+="Сегодня":Ai("1",Ni("value",e,[]))?a+="Завтра":Ai("5",Ni("value",e,[]))&&(a+="До 5 дней"),a+="</label>"},zi.t795.j=vu,zi.t795.a=0,zi.t796=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))+"-"+Ii(Ni("value",e,[]));if(a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label",Ci(Ni("checked",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(!Ri("found",e)||Ai("0",Ni("found",e,[]))){var c=i.a.class;c?i.a.class=c.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}var l="",u={a:{}};return l+=Li(u),l+='{"n-filter-block__item":{}}',i.a["data-bem"]=new yr.xmlAttr(l),i.a.for=new yr.scalarAttr(o),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(Ii(t.n(xu,s))+","+Ii(t.n(ao,s))+","+Ii(Ni("value",e,[]))),a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(o),i.a.value=new yr.scalarAttr(Di("value",e)),i.a.name=new yr.scalarAttr(Ii(t.n(xu,s))+"-"+Ii(t.n(ao,s))),a+=Li(i),a+="",a+="</span>",Ai("-1",Ni("value",e,[]))?a+="Неважно":Ai("1",Ni("value",e,[]))||Ai("select",Ni("value",e,[]))?a+="Да":(Ai("0",Ni("value",e,[]))||Ai("exclude",Ni("value",e,[])))&&(a+="Нет"),a+="</label>"},zi.t796.j=vu,zi.t796.a=0,zi.t797=function(t,e,n,r,i){function s(t,e,n,r){return 1==Ri("checked",e)}var a="",o=[0,"values",2,s],c=t.s(o,e).length>0,l={},u={a:{}},d={};l["n-filter-block__item"]=d;var d={};if(c){var p={},h=[0,"values",3,0,0,"found"];p.count=yr.nodeset2data(t.s(h,e)),d.cpaFilterOffers=p}d.cpaFilterVisible=!0,l.metrika=d;var f=l;a+=Li(i),a+='<div class="n-filter-block__list">',a+="<div",i.a={class:new yr.scalarAttr("n-filter-block__item n-filter-block__item_single_yes n-filter-block__item_boolean_cpa")},i.s="div";var _=i.a.class;if(_?i.a.class=_.addscalar(" metrika i-bem"):i.a.class=new yr.scalarAttr(" metrika i-bem"),i.a["data-panel-counter"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r=[0,"values",3,0,0,"found"];return n.side="bottom",n.offersFound=yr.nodeset2data(t.s(r,e)),n}()))),c){var _=i.a.class;_?i.a.class=_.addscalar(" n-filter-block_tooltip_showed"):i.a.class=new yr.scalarAttr(" n-filter-block_tooltip_showed")}if(i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(f))),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox checkbox_theme_normal checkbox_size_s i-bem")},i.s="span",c){var _=i.a.class;_?i.a.class=_.addscalar(" checkbox_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox_checked_yes")}i.a["data-filter"]=new yr.scalarAttr("glf,cpa,real");var l="",u={a:{}};if(l+=Li(u),l+='{"checkbox":{}}',i.a["data-bem"]=new yr.xmlAttr(l),i.a["data-was-checked"]=new yr.scalarAttr("true"),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("checkbox__box")},i.s="span",c){var _=i.a.class;_?i.a.class=_.addscalar(" checkbox__box_checked_yes"):i.a.class=new yr.scalarAttr(" checkbox__box_checked_yes")}return a+=Li(i),a+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),id:new yr.scalarAttr("cpa"),type:new yr.scalarAttr("checkbox")},i.s="input",c&&(i.a.checked=new yr.scalarAttr("")),a+=Li(i),a+="",a+='<i class="checkbox__tick"></i>',a+="</span>",a+='<label class="checkbox__label" for="cpa">',a+="Заказать на Маркете",a+="</label>",a+=t.a(t,0,t.s(ps,e),"n-filter-block-hint__activator",i),a+="</span>",a+="</div>",a+="</div>"},zi.t797.j=Hi,zi.t797.a=0,zi.t798=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="filter-block-hint n-filter-block-hint">',s+='<div class="filter-block-hint__content">',s+=t.f("f238",e,n,r,i,"Товары с жёлтой кнопкой можно заказать прямо на Маркете"),s+='<ul class="filter-block-hint__list">',s+=t.f("f239",e,n,r,i,"Форма заказа одинаковая для всех магазинов.",!0),s+=t.f("f239",e,n,r,i,"Маркет следит за качеством выполнения заказов.",!0),s+=t.f("f239",e,n,r,i,"Регистрироваться не обязательно",!0),s+="</ul>",s+="</div>",s+="</div>"},zi.t798.j=FE,zi.t798.a=0,zi.t799=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="filter-block-hint n-filter-block-hint">',s+='<div class="filter-block-hint__content">',s+=t.f("f238",e,n,r,i,Bi(yr.externals["n-i18n"]("BOOK_NOW_FILTER_DESCRIPTION_TITLE"))),s+="<div>",s+=yr.externals["n-i18n"]("BOOK_NOW_FILTER_DESCRIPTION_LIST"),s+="</div>",s+="</div>",s+="</div>"},zi.t799.j=qm,zi.t799.a=0,zi.t800=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-sticker-promocode-popup",i)},zi.t800.j=UE,zi.t800.a=0,zi.t801=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("filter-block-hint n-filter-block-hint i-bem")},i.s="div";var a="",o={a:{}};a+=Li(o),a+='{"filter-block-hint":{}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+="<span",i.a={class:new yr.scalarAttr("link link_pseudo_yes metrika n-hint-button__handle i-bem"),role:new yr.scalarAttr("button"),tabindex:new yr.scalarAttr("0")},i.s="span";var a="",o={a:{}};return a+=Li(o),a+='{"metrika":{"onClick":{"cpaFilterOffersInfo":{}}}}',i.a["data-bem"]=new yr.xmlAttr(a),s+=Li(i),s+='<span class="link__inner">?</span>',s+="</span>",s+=t.a(t,0,t.s(ps,e),"n-filter-block-hint__popup",i),s+="</div>"},zi.t801.j=Hi,zi.t801.a=0,zi.t802=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("popup popup_theme_ffffff popup_autoclosable_yes popup_adaptive_yes popup_animate_yes")},i.s="div";var a=i.a.class;a?i.a.class=a.addscalar(" filter-block-hint__popup n-hint-button__popup i-bem"):i.a.class=new yr.scalarAttr(" filter-block-hint__popup n-hint-button__popup i-bem");var o="",c={a:{}};return o+=Li(c),o+='{"popup":{"directions":[{"to":"bottom","axis":"right","offset":{"top":4,"left":0}}]}}',i.a["data-bem"]=new yr.xmlAttr(o),s+=Li(i),s+='<iframe frameborder="0" tabindex="-1" src="about:blank" class="popup__under"></iframe>',s+='<i class="popup__tail"></i>',s+="<div",i.a={class:new yr.scalarAttr("popup__content")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-filter-block-hint",i),s+=Li(i),s+="</div>",s+="</div>"},zi.t802.j=Hi,zi.t802.a=0,zi.t803=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="",o=Ii(t.n(xu,s)),c=Ii(t.n(ao,s)),l=o+"-"+c+"-"+Ii(Ni("id",e,[])),u=Ri("checked",e);a+=Li(i),a+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label";var d="",p={a:{}};if(d+=Li(p),d+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(d),u){var h=i.a.class;h?i.a.class=h.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}if(!Ri("found",e)||Ai("0",Ni("found",e,[]))){var h=i.a.class;h?i.a.class=h.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}return a+=Li(i),
a+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(o+","+c+","+Ii(Ni("id",e,[]))),a+=Li(i),a+="<input",i.a={name:new yr.scalarAttr(c),class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(l),i.a.value=new yr.scalarAttr(Di("id",e)),a+=Li(i),a+="",a+="</span>",a+=Ti(Ni("value",e,[])),a+="</label>"},zi.t803.j=vu;zi.t803.a=0;zi.t804=function(t,e,n,r,i,s,a,o){s=void 0===s?[]:s;var c="",l=Ii(t.n(xu,s)),u=Ii(t.n(ao,s)),d=l+"-"+u+"-"+Ii(Ni("id",e,[])),p=a==o&&Ai(a,Ni("value",e,[]));c+=Li(i),c+="<label",i.a={class:new yr.scalarAttr("radiobox__radio i-bem n-filter-block__item")},i.s="label";var h="",f={a:{}};if(h+=Li(f),h+='{"n-filter-block__item": {}}',i.a["data-bem"]=new yr.xmlAttr(h),p){var _=i.a.class;_?i.a.class=_.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}return c+=Li(i),c+="<span",i.a={class:new yr.scalarAttr("radiobox__box")},i.s="span",i.a["data-filter"]=new yr.scalarAttr(l+","+u+","+Ii(Ni("id",e,[]))),c+=Li(i),c+="<input",i.a={name:new yr.scalarAttr(u),class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(d),i.a.value=new yr.scalarAttr(Di("id",e)),c+=Li(i),c+="",c+="</span>",c+=Ti(Ni("value",e,[])),c+="</label>"},zi.t804.j=Zu,zi.t804.a=0,zi.t805=function(t,e,n,r,i,s){var a="",o=0,c=Ni("values",e,[]).length,l=t.s(ku,e),u=t.s(qE,e);if(a+=Li(i),u.length>0){a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker n-filter-block n-filter-block_closed_no i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.activatedCount=o,r.filterId=yr.nodeset2data(Ni("id",e,[])),r.filterType=yr.nodeset2data(Ni("type",e,[])),n["n-filter-block"]=r;var r={},i=[3,0,0,"id"],s=[3,0,0,"value"];return r.id=yr.nodeset2data(t.n(i,l)),r.name=yr.nodeset2data(t.n(s,l)),n["n-filter-picker"]=r,n}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker__content n-filter-block__body n-filter-block__body_viewType_radio i-bem")},i.s="div";var d="";d+='{"n-filter-block__body": {}}',i.a["data-bem"]=new yr.xmlAttr(d),i.a["data-id"]=new yr.scalarAttr(Ii(Ni("id",e,[]))),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("radiobox n-filter-block__list i-bem")},i.s="span";var d="";d+='{"radiobox": {}}',i.a["data-bem"]=new yr.xmlAttr(d),a+=t.a(t,0,u,"n-filter-picker__item",i,c,Di("id",e),Ci(t.n(HE,yr.object2nodeset(s)))),a+=Li(i),a+=t.f("f232",e,n,r,i,function(){var t={};return t.text="Неважно",t.isChecked=!yr.exists(l),t.filterId=yr.nodeset2data(Ni("id",e,[])),t.filterType=yr.nodeset2data(Ni("type",e,[])),t.isHidden=!0,t}()),a+="</span>",a+="</div>",a+="</div>"}return a},zi.t805.j=zE,zi.t805.a=0,zi.t806=function(t,e,n,r,i,s,a,o){var c="",l="glf-"+a+"-"+Ii(Ni("id",e,[]));if(c+=Li(i),c+="<label",i.a={class:new yr.scalarAttr("n-filter-picker__item n-filter-block__item i-bem radiobox__radio")},i.s="label",!Ri("found",e)||Ai("0",Ni("found",e,[]))){var u=i.a.class;u?i.a.class=u.addscalar(" n-filter-block__item_disabled_yes"):i.a.class=new yr.scalarAttr(" n-filter-block__item_disabled_yes")}else if(Ci(Ni("checked",e,[]))){var u=i.a.class;u?i.a.class=u.addscalar(" radiobox__radio_checked_yes"):i.a.class=new yr.scalarAttr(" radiobox__radio_checked_yes")}i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.name=yr.nodeset2data(Ni("value",e,[])),n.id=yr.nodeset2data(Ni("id",e,[])),t["n-filter-block__item"]=n,t}()))),i.a.for=new yr.scalarAttr(l),i.a["data-name"]=new yr.scalarAttr(Di("value",e)),i.a["data-id"]=new yr.scalarAttr(Di("id",e)),c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("n-filter-picker__img radiobox__box hint"),"data-filter":new yr.scalarAttr("glf,"+a+","+Ii(Ni("id",e,[])))},i.s="div";var d="";if(d+='{"hint": {"to": "bottom"}}',i.a["data-bem"]=new yr.xmlAttr(d),i.a["data-name"]=new yr.scalarAttr(Di("value",e)),i.a["data-title"]=new yr.scalarAttr(Di("value",e)),i.a["data-image_picker"]=new yr.scalarAttr(Ii(Ni("code",e,[]))),yr.exists(Ni("image",e,[]))||yr.exists(Ni("picker",e,[])))if(Ci(Ni("picker",e,[]))){var p=yr.externals["n-build-url"]("external:photos-storage",function(){var n={};n.imageName=yr.nodeset2data(t.s(VE,e)),n.groupId=yr.nodeset2data(t.s(GE,e));var r="";return r+=yr.exists(t.s($E,e))?Ii(t.s($E,e)):"get-mpic",n.namespace=r,n}()),u=i.a.style;u?i.a.style=u.addscalar("background-image: url('"+p+"/1');"):i.a.style=new yr.scalarAttr("background-image: url('"+p+"/1');")}else{var h=yr.externals["n-str-substr-before"](Di("image",e),"/orig"),u=i.a.style;u?i.a.style=u.addscalar("background-image: url('"+h+"/1');"):i.a.style=new yr.scalarAttr("background-image: url('"+h+"/1');")}else if(Ai("разноцветный",Ni("value",e,[]))||Ai("разноцветный",Ni("group",e,[]))){var u=i.a.class;u?i.a.class=u.addscalar(" n-filter-picker__img_color_multi"):i.a.class=new yr.scalarAttr(" n-filter-picker__img_color_multi")}else if(i.a.style=new yr.scalarAttr("background-color: "+Ii(Ni("code",e,[]))+"; border: 1px solid "),Ai("#FFFFFF",Ni("code",e,[]))||Ai("белый",Ni("group",e,[]))){var u=i.a.style;u?i.a.style=u.addscalar("rgba(0,0,0,.15);"):i.a.style=new yr.scalarAttr("rgba(0,0,0,.15);")}else{var u=i.a.style;u?i.a.style=u.addscalar(Ii(Ni("code",e,[]))+";"):i.a.style=new yr.scalarAttr(Ii(Ni("code",e,[]))+";")}return c+=Li(i),c+="<input",i.a={class:new yr.scalarAttr("radiobox__control"),type:new yr.scalarAttr("radio")},i.s="input",i.a.id=new yr.scalarAttr(l),i.a.value=new yr.scalarAttr(Di("id",e)),i.a.name=new yr.scalarAttr("glf,"+a),c+=Li(i),c+="",c+="</div>",c+="</label>"},zi.t806.j=Hi,zi.t806.a=0,zi.t807=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Неважно"},zi.t807.j=Hi,zi.t807.a=0,zi.t808=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=Ci(t.n(cs,yr.object2nodeset(s)))?Ii(t.n(cs,yr.object2nodeset(s))):"normal";var o="",c={a:{}};o+=Ci(Ni("units",e,[]))?t.s(wu,e).length:t.s(ku,e).length;var l=o,u=Ai("boolean",Ni("type",e,[]))&&!Ri("hasBoolNo",e)&&!Ri("extend",e)&&!Ci(t.n(IE,yr.object2nodeset(s))),d=t.n(OE,t.v("v23",e.doc.root));a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-inline i-bem")},i.s="div";var p=i.a.class;if(p?i.a.class=p.addscalar(" inner-n-filter-block_id_"+Di("id",e)):i.a.class=new yr.scalarAttr(" inner-n-filter-block_id_"+Di("id",e)),Ci(t.n($s,yr.object2nodeset(s)))){var p=i.a.class;p?i.a.class=p.addscalar(" inner-n-filter-block_pos_"+Ii(t.n($s,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(" inner-n-filter-block_pos_"+Ii(t.n($s,yr.object2nodeset(s))))}if(Ai("top",t.n($s,yr.object2nodeset(s)))){var p=i.a.class;p?i.a.class=p.addscalar(" inner-n-filter-block_type_inline"):i.a.class=new yr.scalarAttr(" inner-n-filter-block_type_inline")}else{var p=i.a.class;p?i.a.class=p.addscalar(" inner-n-filter-block_type_normal"):i.a.class=new yr.scalarAttr(" inner-n-filter-block_type_normal")}i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};r.filterId=yr.nodeset2data(Ni("id",e,[])),r.filterType=yr.nodeset2data(Ni("type",e,[])),r.activatedCount=l;var i="",s={a:{}};return i+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline__placeholder",s),r.placeholder=i,n["n-filter-panel-inline"]=r,n}()))),a+=Li(i),a+='<div class="n-filter-panel-inline__title">',a+=Ti(Ni("name",e,[])),a+='<span class="n-filter-panel-inline__title-unit">',Ci(Ni("userUnits",e,[]))?a+=" ("+Ti(Ni("userUnits",e,[]))+")":Ci(Ni("defaultUnit",e,[]))?a+=" ("+Ti(Ni("defaultUnit",e,[]))+")":Ci(Ni("unit",e,[]))&&(a+=", ",a+=Ti(Ni("unit",e,[]))),a+="</span>",a+="</div>",a+="<button",i.a={class:new yr.scalarAttr("n-filter-panel-inline__control i-bem")},i.s="button";var p=i.a.class;p?i.a.class=p.addscalar("  button2 button2_size_s button2_width_max button2_theme_normal"):i.a.class=new yr.scalarAttr("  button2 button2_size_s button2_width_max button2_theme_normal");var o="",c={a:{}};return o+=Li(c),o+='{"button2":{}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("button2__text n-filter-panel-inline__current-value")},i.s="span",a+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline__current-value",i),a+=Li(i),a+="</span>",a+='<i class="icon icon_size_s icon_type_arrow icon_direction_bottom button2__icon button2__icon_side_right" aria-hidden="true"></i>',a+="</button>",a+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-inline__content n-filter-block i-bem"),"data-id":new yr.scalarAttr(Ii(Ni("id",e,[])))},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.activatedCount=l,n.filterId=yr.nodeset2data(Ni("id",e,[])),n.filterType=yr.nodeset2data(Ni("type",e,[])),t["n-filter-block"]=n,t}()))),a+=Li(i),a+=t.f("f218",e,n,r,i,t.s(ps,e),function(){var t={};return t.isBooleanFilter=u,t.filterMutations=yr.nodeset2data(d),t}()),a+="</div>",a+="</div>"},zi.t808.j=WE,zi.t808.a=0,zi.t809=function(t,e,n,r,i){var s="",a=t.s(ku,e).concat(t.s(wu,e)),o=Ai("color",Ni("subType",e,[]));if(a.length>0)for(var c=a,l=0,u=c.length;l<u;l++){var d=c[l];o?s+=t.a(t,0,t.s(ps,d),"n-product-color-set-value",i,function(){var t={};return t.colorWithText=1==a.length,t}()):(s+=Li(i),l>0&&(s+=", "),s+=Ti(Ni("value",d,[])))}else s+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline__placeholder",i);return s},zi.t809.j=Hm,zi.t809.a=0,zi.t810=function(t,e,n,r,i){var s="",a=t.s(Nu,e);return Mi(t.n(Lu,a),t.n(Fu,a))?(s+=Li(i),s+=Ti(t.n(Fu,a))):Ci(t.n(YE,a))||Ci(t.n(KE,a))?(s+=Li(i),Ci(t.n(YE,a))&&(s+="от "+Ti(t.n(Lu,a)),Ci(t.n(KE,a))&&(s+=" ")),Ci(t.n(KE,a))&&(s+="до "+Ti(t.n(Fu,a)))):s+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline__placeholder",i),s},zi.t810.j=Wm,zi.t810.a=0,zi.t811=function(t,e,n,r,i){var s="",a=t.s(XE,e);return Ci(a)?(s+=Li(i),Ai("1",t.n(to,a))||Ai("select",t.n(to,a))?s+="Да":(Ai("0",t.n(to,a))||Ai("exclude",t.n(to,a)))&&(s+="Нет")):s+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline__placeholder",i),s},zi.t811.j=Gm,zi.t811.a=0,zi.t812=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Неважно"},zi.t812.j=Hi,zi.t812.a=0,zi.t813=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000 i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var i={},s={};return s.filters=yr.nodeset2data(t.f("f249",e,n,r,Ni("filters",e,[]))),i["n-filter-panel-inline-3000"]=s,i}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000__title")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline-3000__title",i),a+=Li(i),a+="</div>",a+="<button",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000__control i-bem")},i.s="button";var o=i.a.class;o?i.a.class=o.addscalar(" button2 button2_size_s button2_width_max button2_theme_normal"):i.a.class=new yr.scalarAttr(" button2 button2_size_s button2_width_max button2_theme_normal");var c="",l={a:{}};return c+=Li(l),c+='{"button2":{}}',i.a["data-bem"]=new yr.xmlAttr(c),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("button2__text n-filter-panel-inline-3000__current-value")},i.s="span",a+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline-3000__current-value",i),a+=Li(i),a+="</span>",a+='<i class="icon icon_size_s icon_type_arrow icon_direction_bottom button2__icon button2__icon_side_right" aria-hidden="true"></i>',a+="</button>",a+="<div",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000__content")},i.s="div",a+=t.a(t,0,t.f("f249",e,n,r,Ni("filters",e,[])),"n-filter-panel-inline-3000__filter",i),a+=Li(i),a+="</div>",a+="</div>"},zi.t813.j=Hi,zi.t813.a=0,zi.t814=function(t,e,n,r,i){var s="",a=Ai("boolean",Ni("type",e,[]))&&!Ri("hasBoolNo",e)&&!Ri("extend",e),o=t.n(OE,t.v("v23",e.doc.root));return s+=Li(i),s+='<li class="n-filter-panel-inline-3000__filter" data-id="'+Si(Ni("id",e,[]))+'">',s+="<span",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000__filter-name n-filter-panel-inline-3000__"+Ii(Ni("id",e,[])))},i.s="span",s+=t.a(t,0,t.s(ps,e),"n-filter-panel-inline-3000__filter-name",i),s+=Li(i),s+="</span>",s+="<span",i.a={class:new yr.scalarAttr("n-filter-panel-inline-3000__filter-value-wrap n-filter-block i-bem"),"data-id":new yr.scalarAttr(Ii(Ni("id",e,[])))},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.filterId=yr.nodeset2data(Ni("id",e,[])),n.filterType=yr.nodeset2data(Ni("type",e,[])),t["n-filter-block"]=n,t}()))),s+=Li(i),s+='<span class="n-filter-panel-inline-3000__filter-value">',s+=t.f("f218",e,n,r,i,t.s(ps,e),function(){var t={};return t.isBooleanFilter=a,t.isCheckBoxColor=!0,t.filterMutations=yr.nodeset2data(o),t}()),s+="</span>",s+="</span>",s+="</li>"},zi.t814.j=Hi,zi.t814.a=0,zi.t815=function(t,e,n,r,i){var s="",a=t.f("f248",e,n,r,Ni("values",e,[]).concat(Ni("units",e,[])));return s+=Li(i),s+=Ti(Ni("name",e,[])),s+='<span class="n-filter-panel-inline-3000__filter-name-unit">',Ci(Ni("userUnits",e,[]))?s+=" ("+Ti(Ni("userUnits",e,[]))+")":Ci(Ni("defaultUnit",e,[]))?s+=" ("+Ti(Ni("defaultUnit",e,[]))+")":Ci(Ni("unit",e,[]))&&(s+=", ",s+=Ti(Ni("unit",e,[]))),s+="</span>",a.length>0&&(s+='<i class="n-filter-panel-inline-3000__filter-name-tail"></i>'),s},zi.t815.j=Hi,zi.t815.a=0,zi.t816=function(t,e,n,r,i){function s(t,e,n,r){return n<h}function a(t,e,n,r){return n<h}var o="",c=t.f("f249",e,n,r,Ni("filters",e,[])),l=t.f("f247",e,n,r,c),u=c.length,d=l.length,p=" и еще ",h=3;if(l.length>0){var f=[2,s];o+=t.a(t,0,t.n(f,l),"n-filter-panel-inline-3000__name",i),o+=Li(i),o+=Pi(p),o+=Pi(d>=h?u-h:u-d)}else{var _=[2,a];o+=t.a(t,0,t.n(_,c),"n-filter-panel-inline-3000__name",i),o+=Li(i),o+=Pi(p),o+=Pi(u-h)}return o},zi.t816.j=Hi,zi.t816.a=0,zi.t817=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-filter-panel-inline-3000__name">'+Ti(Ni("name",e,[]))+"</span>"},zi.t817.j=Hi,zi.t817.a=0,zi.t818=function(t,e,n,r,i){var s="",a=t.f("f247",e,n,r,t.s(WE,e)),o=(Ni("filters",e,[]).length,a.length),c="Выберите нужные параметры";if(s+=Li(i),o>0)for(var l=a,u=0,d=l.length;u<d;u++){var p=l[u];u>0&&(s+=", "),s+=t.a(t,0,t.s(ps,p),"n-filter-panel-inline-3000__current-value",i)}else s+='<span class="n-filter-block-inline__not-selected">'+Pi(c)+"</span>";return s},zi.t818.j=Hi,zi.t818.a=0,zi.t819=function(t,e,n,r,i){var s="",a=t.s(ku,e).concat(t.s(wu,e));if(s+=Li(i),1==a.length&&(s+=Ti(t.n(to,a))),a.length>1){s+="[";for(var o=a,c=0,l=o.length;c<l;c++){var u=o[c];c>0&&(s+=", "),s+=Ti(Ni("value",u,[]))}s+="]"}return s},zi.t819.j=Hm,zi.t819.a=0,zi.t820=function(t,e,n,r,i){var s="",a=t.s(Nu,e);return s+=Li(i),Mi(t.n(Lu,a),t.n(Fu,a))?s+=Ti(t.n(Fu,a)):(Ci(t.n(Lu,a))||Ci(t.n(Fu,a)))&&(Ci(t.n(Lu,a))&&(s+="от "+Ti(t.n(Lu,a)),Ci(t.n(Fu,a))&&(s+=" ")),Ci(t.n(Fu,a))&&(s+="до "+Ti(t.n(Fu,a)))),s},zi.t820.j=Wm,zi.t820.a=0,zi.t821=function(t,e,n,r,i){var s="",a=t.s(ku,e);return s+=Li(i),Ci(a)&&(Ai("1",t.n(to,a))||Ai("select",t.n(to,a))?s+="Да":(Ai("0",t.n(to,a))||Ai("exclude",t.n(to,a)))&&(s+="Нет")),s},zi.t821.j=Gm,zi.t821.a=0,zi.t822=function(t,e,n,r,i,s){var a="",o=Ni("filters",e,[]).length,c=t.s(QE,e).length,l=o>Ii(t.n(JE,yr.object2nodeset(s)));if(c<2){var u={},d={a:{}};u.isSingleFilter=!0,u.totalCount=o,u.hasAnotherKindFilters=l;var p=u;a+=t.a(t,0,Ni("filters",e,[]),"n-filter-picker-inline",i,p)}else{var u={},d={a:{}};u.isSingleFilter=!1,u.totalCount=o,u.hasAnotherKindFilters=l;var h=u;a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.filters=yr.nodeset2data(Ni("filters",e,[])),t["n-filter-picker-toolbar"]=n,t}()))),a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar__title")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-filter-picker-toolbar__title",i),a+=Li(i),a+="</div>",a+="<button",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar__control i-bem")},i.s="button";var f=i.a.class;f?i.a.class=f.addscalar(" button2 button2_size_s button2_width_max button2_theme_normal"):i.a.class=new yr.scalarAttr(" button2 button2_size_s button2_width_max button2_theme_normal");var u="",d={a:{}};u+=Li(d),u+='{"button2":{}}',i.a["data-bem"]=new yr.xmlAttr(u),a+=Li(i),a+="<span",i.a={class:new yr.scalarAttr("button2__text n-filter-picker-toolbar__current-value")},i.s="span",a+=t.a(t,0,t.s(ps,e),"n-filter-picker-toolbar__current-value",i),a+=Li(i),a+="</span>",a+='<i class="icon icon_size_s icon_type_arrow icon_direction_bottom button2__icon button2__icon_side_right" aria-hidden="true"></i>',a+="</button>",a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar__content")},i.s="div",a+=t.a(t,0,Ni("filters",e,[]),"n-filter-picker-inline",i,h),a+=Li(i),a+="</div>",a+="</div>"}return a},zi.t822.j=Hi,zi.t822.a=0,zi.t823=function(t,e,n,r,i){var s="",a=Ai("boolean",Ni("type",e,[]))&&!Ri("hasBoolNo",e)&&!Ri("extend",e);return s+=Li(i),s+='<li class="n-filter-picker-toolbar__filter" data-id="'+Si(Ni("id",e,[]))+'">',s+="<span",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar__filter-name n-filter-picker-toolbar__"+Ii(Ni("id",e,[])))},i.s="span",s+=t.a(t,0,t.s(ps,e),"n-filter-picker-toolbar__filter-name",i),s+=Li(i),s+="</span>",s+="<span",i.a={class:new yr.scalarAttr("n-filter-picker-toolbar__filter-value-wrap n-filter-block i-bem"),"data-id":new yr.scalarAttr(Ii(Ni("id",e,[])))},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.filterId=yr.nodeset2data(Ni("id",e,[])),n.filterType=yr.nodeset2data(Ni("type",e,[])),t["n-filter-block"]=n,t}()))),s+=Li(i),s+='<span class="n-filter-picker-toolbar__filter-value">',s+=t.f("f218",e,n,r,i,t.s(ps,e),function(){var t={};return t.isBooleanFilter=a,t}()),s+="</span>",s+="</span>",s+="</li>"},zi.t823.j=nx,zi.t823.a=0,zi.t824=function(t,e,n,r,i){var s="",a=t.f("f251",e,n,r,Ni("values",e,[]));return s+=Li(i),s+=Ti(Ni("name",e,[])),a.length>0&&(s+='<i class="n-filter-picker-toolbar__filter-name-tail"></i>'),s},zi.t824.j=Hi,zi.t824.a=0,zi.t825=function(t,e,n,r,i){function s(t,e,n,r){return n<p}function a(t,e,n,r){return n<p&&Ai("image_picker",Ni("subType",e,[]))||Ai("color",Ni("subType",e,[]))}var o="",c=t.f("f250",e,n,r,Ni("filters",e,[])),l=Ni("filters",e,[]).length,u=c.length,d=" и еще ",p=3;if(c.length>0){var h=[2,s];o+=t.a(t,0,t.n(h,c),"n-filter-picker-toolbar__name",i),o+=Li(i),l>p&&(o+=Pi(d),o+=Pi(u>=p?l-p:l-u))}else{var f=[0,"filters",2,a];o+=t.a(t,0,t.s(f,e),"n-filter-picker-toolbar__name",i),o+=Li(i),l>p&&(o+=Pi(d),o+=Pi(l-p))}return o},zi.t825.j=Hi,zi.t825.a=0,zi.t826=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-filter-picker-toolbar__name">'+Ti(Ni("name",e,[]))+"</span>"},zi.t826.j=Hi,zi.t826.a=0,zi.t827=function(t,e,n,r,i){var s="",a=t.f("f250",e,n,r,Ni("filters",e,[])),o=(Ni("filters",e,[]).length,a.length),c="Выберите нужные параметры";if(s+=Li(i),o>0)for(var l=a,u=0,d=l.length;u<d;u++){var p=l[u];u>0&&(s+=", "),s+=t.a(t,0,t.s(ps,p),"n-filter-picker-toolbar__current-value",i)}else s+='<span class="n-filter-picker-toolbar__not-selected">'+Pi(c)+"</span>";return s},zi.t827.j=Hi,zi.t827.a=0,zi.t828=function(t,e,n,r,i){var s="",a=t.s(ku,e).concat(t.s(wu,e));if(s+=Li(i),1==a.length&&(s+=Ti(t.n(to,a))),a.length>1){s+="[";for(var o=a,c=0,l=o.length;c<l;c++){var u=o[c];c>0&&(s+=", "),s+=Ti(Ni("value",u,[]))}s+="]"}return s},zi.t828.j=Hm,zi.t828.a=0,zi.t829=function(t,e,n,r,i,s){var a="",o=t.s(ku,e),c=[3,0,0,"value"],l=[3,0,0,"found"];if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker-inline i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.total=Ni("values",e,[]).length,t["n-filter-picker-inline"]=n,t}()))),a+=Li(i),a+='<div class="n-filter-picker-inline__title">',a+=Ti(Ni("name",e,[]))+":",a+="<span",i.a={class:new yr.scalarAttr("n-filter-picker-inline__title-value")},i.s="span",Ci(t.n(c,o))&&Ii(t.n(l,o))>0){var u=[3,0,0,"value"];a+=Li(i),a+=Ti(t.n(u,o))}else a+=t.a(t,0,t.s(ps,e),"n-filter-picker__placeholder",i);return a+=Li(i),a+="</span>",a+=t.f("f244",e,n,r,i,function(){var t={};return t.filterId=yr.nodeset2data(Ni("id",e,[])),t}()),a+="</div>",a+="<div",i.a={class:new yr.scalarAttr("n-filter-picker-inline__content")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-filter-picker",i,s),a+=Li(i),Ci(t.n(HE,yr.object2nodeset(s)))&&(a+=t.f("f252",e,n,r,i,"1")),a+="</div>",a+="</div>"},zi.t829.j=rx,zi.t829.a=0,zi.t830=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Неважно"},zi.t830.j=Hi,zi.t830.a=0,zi.t831=function(t,e,n,r,i,s,a){var o="",c=!(Ci(t.n(ix,yr.object2nodeset(s)))&&Ci(t.n(sx,yr.object2nodeset(s)))),l=t.s(ax,e).length;if(o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-product-human-description preloadable i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var e={},n={};n.flag=yr.nodeset2data(t.n(ju,yr.object2nodeset(s))),n.defaultOffer=yr.nodeset2data(t.n(ix,yr.object2nodeset(s))),e["n-product-human-description"]=n;var n={};return n.size="m",n.paranja=!0,e.preloadable=n,e}()))),c){var u=i.a.class;u?i.a.class=u.addscalar(" n-product-human-description_default"):i.a.class=new yr.scalarAttr(" n-product-human-description_default")}if(o+=Li(i),o+='<div class="n-product-human-description__content n-product-human-description__content_optional">',o+='<div class="n-product-human-description__text">',o+=Ti(Ai("text-bullets",t.n(ju,yr.object2nodeset(s)))?t.n(cx,yr.object2nodeset(s)):t.n(ox,yr.object2nodeset(s))),o+="</div>",l>0){var d={},p={a:{}};d.track="char",Ci(t.s(ya,e.doc.root))&&(d["is-global-shop"]=yr.nodeset2data(t.s(ya,e.doc.root)));var h=d;Ai("text-bullets",t.n(ju,yr.object2nodeset(s)))&&(o+="<div",i.a={class:new yr.scalarAttr("n-product-human-description__spec n-product-human-description-spec")},i.s="div",o+=t.a(t,0,t.s(ps,e),"n-product-human-description-spec",i),o+=Li(i),o+="</div>"),o+="<a",i.a={class:new yr.scalarAttr("n-product-summary__about-link n-smart-link link i-bem")},i.s="a";var d="",p={a:{}};d+=t.a(t,0,t.s(ps,e),"i-link__product-spec",p,h),i.a.href=new yr.xmlAttr(d);var d="",p={a:{}};d+=Li(p),d+='{"button":{}, "n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(d),o+=Li(i),o+="Все характеристики",o+="</a>"}return Ci(t.n(lx,t.v("v23",e.doc.root)))&&Ci(t.s(ux,e.doc.root))&&(o+='<div class="n-product-summary__rich-content-link">',o+='<a class="link" href="#rich-content">Информация от производителя</a>',o+="</div>"),o+=t.a(t,0,t.s(dx,e.doc.root),"n-product-summary__goods-return-rules",i),o+="</div>",o+='<div class="n-product-human-description__content n-product-human-description__content_default">',o+=a,o+="</div>",o+="</div>"},zi.t831.j=Hi,zi.t831.a=0,zi.t832=function(t,e,n,r,i){function s(t,e,n,r){return n<5}var a="",o=[0,"specs",0,"friendly",2,s];return a+=Li(i),a+="<ul",i.a={class:new yr.scalarAttr("n-product-human-description-spec__list")},i.s="ul",a+=t.a(t,0,t.s(o,e),"n-product-human-description-spec__item",i),a+=Li(i),a+="</ul>"},zi.t832.j=Wp,zi.t832.a=0,zi.t833=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<li class="n-product-human-description-spec__item">',s+=Ti(t.s(ps,e)),s+="</li>"},zi.t833.j=Hi,zi.t833.a=0,zi.t834=function(t,e,n,r,i,s){function a(t,e,n,r){return 1==Ci(t.s(oa,e))}function o(t,e,n,r){return Mi(t.s(mx,e),d)}var c="",l=[0,"search",0,"results",2,a],u=t.s(l,e),d=Ni("userRegionId",e,[]),p=!1;p=!yr.exists(t.n(fx,yr.object2nodeset(s)))||Ci(t.n(fx,yr.object2nodeset(s)));var h=p,f=t.s(_x,e.doc.root),_=[2,o],p={},m={};m.isFullMode=h,p["n-product-top-offers-list"]=m;var m={};m.size="m",m.paranja=!0,p.preloadable=m;var m={},v={};v.place="top5",v.inStock=u.length,v.byRegion=t.n(_,u).length,v.userRegion=yr.nodeset2data(d),m.productOffers=v,p.metrika=m;var m={};m.name="top-offers";var v={},y={};y.count=t.s(px,e).length,v.offers=y,m.data=v,p["b-zone"]=m,p["b-spy-visible"]="";var b=p,p={};p.filters=yr.nodeset2data(t.n(Cu,f)),p.isFullMode=h,p.userRegionId=yr.nodeset2data(t.n(bd,yr.object2nodeset(s)));var g=p;if(c+=Li(i),c+="<div",i.a={id:new yr.scalarAttr("n-product-top-offers-list")},i.s="div",i.a.class=new yr.scalarAttr("n-product-top-offers-list preloadable metrika b-zone b-spy-visible i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(b))),h){var k=i.a.class;k?i.a.class=k.addscalar(" n-product-top-offers-list_theme_light"):i.a.class=new yr.scalarAttr(" n-product-top-offers-list_theme_light")}if(c+=Li(i),c+="<div",i.a={class:new yr.scalarAttr("layout layout_type_maya")},i.s="div",c+=t.a(t,0,t.s(ps,e),"n-product-top-offers-list__title",i,function(){var t={};return t.isFullMode=h,t}()),c+=Li(i),c+="</div>",c+="<div",i.a={class:new yr.scalarAttr("n-product-top-offers-list__body")},i.s="div",c+=t.a(t,0,Ni("search",e,[]),"n-product-top-offers-list__body",i,g),c+=Li(i),c+="</div>",yr.exists(t.n($c,t.v("v23",e.doc.root)))||yr.exists(t.n(vx,t.v("v23",e.doc.root)))){var w=t.v("v21",e.doc.root);c+='<div class="n-product-top-offers-list__link-container layout layout_type_maya">',c+="<a",i.a={role:new yr.scalarAttr("button"),class:new yr.scalarAttr("n-product-top-offers-list__link button button_size_m button_theme_pseudo n-smart-link i-bem")},i.s="a",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[];n.push("how"),n.push("local-offers-first"),n.push("deliveryincluded"),e.paramsBlacklist=n;var n=[];return n.push("filters"),e.subscriptions=n,t["n-smart-link"]=e,t}()))),i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:product-offers",function(){var t={};return t.productId=yr.nodeset2data(w),t}())),c+=Li(i),c+='<span class="button__text">Смотреть все цены</span>',c+="</a>",c+="</div>"}return c+="</div>"},zi.t834.j=hx,zi.t834.a=0,zi.t835=function(t,e,n,r,i,s){function a(t,e,n,r){return Ai("offer",Ni("entity",e,[]))&&Ni("benefit",e,[]).length>0}var o="",c=(t.s(aa,e),[0,"results",2,a]);t.s(c,e);return o+=t.a(t,0,Ni("top6",e,[]),"n-product-top-offer",i,function(){var e={};return e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.userRegionId=yr.nodeset2data(t.n(bd,yr.object2nodeset(s))),e.class="n-product-top-offers-list__item",e}())},zi.t835.j=Hi,zi.t835.a=0,zi.t836=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ci(t.n(fx,yr.object2nodeset(s)))){a+='<div class="layout layout_type_maya n-product-default-offer__no-modifications">',a+='<div class="n-product-default-offer__no-modifications_text">',a+="Модели с выбранными параметрами нет",a+="</div>",a+="<button",i.a={},i.s="button";var o="",c={a:{}};o+="button button_size_m button_pseudo_yes button_theme_pseudo",o+=" button_action_n-filter-reset i-bem",o+=" n-product-default-offer__no-modifications_button",i.a.class=new yr.scalarAttr(o);var o="",c={a:{}};o+=Li(c),o+='{"button": {}}',i.a["data-bem"]=new yr.xmlAttr(o),a+=Li(i),a+='<span class="button__text">Сбросьте фильтры</span>',a+="</button>",a+="<span>или попробуйте смягчить условия</span>",a+="</div>"}return a},zi.t836.j=yx,zi.t836.a=0,zi.t837=function(t,e,n,r,i,s){var a="",o=t.s(_x,e.doc.root);return a+=Li(i),a+='<div class="n-product-top-offers-list__title">',a+='<h2 class="title title_size_22">Предложения магазинов</h2>',Ci(t.n(fx,yr.object2nodeset(s)))&&t.n(Cu,o).length>0&&(a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offers-list__filters")},i.s="div",a+=t.a(t,0,o,"n-product-top-filters",i),a+=Li(i),a+="</div>"),a+="</div>"},zi.t837.j=Hi,zi.t837.a=0,zi.t838=function(t,e,n,r,i,s){var a="",o=(t.s(Zi,e.doc.root),t.s(_x,e.doc.root)),c=t.v("v21",e.doc.root),l=yr.externals["n-build-url"]("market:product-offers",function(){var t={};return t.productId=yr.nodeset2data(c),t}());return a+=Li(i),a+='<div class="n-product-top-offers-list__title">',a+="<a",i.a={class:new yr.scalarAttr("link link_theme_black n-smart-link i-bem"),href:new yr.scalarAttr(l)},i.s="a",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n=[];n.push("how"),n.push("local-offers-first"),n.push("deliveryincluded"),e.paramsBlacklist=n;var n=[];return n.push("filters"),e.subscriptions=n,t["n-smart-link"]=e,t}()))),a+=Li(i),a+='<h2 class="title title_size_22">Предложения магазинов</h2>',a+="</a>",Ci(t.n(fx,yr.object2nodeset(s)))&&t.n(Cu,o).length>0&&(a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offers-list__filters")},i.s="div",a+=t.a(t,0,o,"n-product-top-filters",i),a+=Li(i),a+="</div>"),a+="</div>"},zi.t838.j=Mk,zi.t838.a=0,zi.t839=function(t,e,n,r,i,s){var a="",o=t.s(bx,e),c="";c+=t.f("f254",e,n,r,s);var l=c,u=t.n(ME,yr.object2nodeset(s)).length>0,d=u&&0==t.n(gx,yr.object2nodeset(s)).length;a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offer product-top-offer shop-history i-bem")},i.s="div";var p=i.a.class;p?i.a.class=p.addscalar(" product-top-offer_type_"+Ii(o)+" "):i.a.class=new yr.scalarAttr(" product-top-offer_type_"+Ii(o)+" ");var p=i.a.class;if(p?i.a.class=p.addscalar(Ii(t.n(gs,yr.object2nodeset(s)))):i.a.class=new yr.scalarAttr(Ii(t.n(gs,yr.object2nodeset(s)))),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](t.f("f253",e,n,r,t.s(ps,e)))),Ci(t.n(kx,t.v("v23",e.doc.root)))){var p=i.a.class;p?i.a.class=p.addscalar(" n-product-top-offer_picture_yes"):i.a.class=new yr.scalarAttr(" n-product-top-offer_picture_yes")}if(Ai("real",Ni("cpa",e,[]))){var p=i.a.class;p?i.a.class=p.addscalar(" offer offer_position_product-offer"):i.a.class=new yr.scalarAttr(" offer offer_position_product-offer")}if(Ci(Ni("isPromotedByVendor",e,[]))){var p=i.a.class;p?i.a.class=p.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}return a+=Li(i),a+=t.f("f212",e,n,r,i,Ni("prices",e,[]),"offers"),a+='<div class="layout layout_type_maya">',a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offer__content")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-age-badge",i,function(){var t={};return t.customClass="n-product-top-offer__image-age",t}()),Ci(t.n(kx,t.v("v23",e.doc.root)))&&(a+=t.a(t,0,t.s(ps,e),"n-product-top-offer__item_type_picture",i,function(){var e={};return e.clickActionType=l,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e}())),d||!Ci(t.n(wE,yr.object2nodeset(s)))&&!Ci(t.n(xE,yr.object2nodeset(s)))?(a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-shop",i,function(){var e={};return e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.clickActionType=l,e}()),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-shop-rating",i),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-delivery",i),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-price",i,function(){var e={};return e.clickActionType=l,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-button",i,t.n(Cu,yr.object2nodeset(s)))):(a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-shop",i,function(){var e={};return e.hasRating=!0,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e.clickActionType=l,e}()),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-delivery",i),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer__specs",i,s),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-price",i,function(){var e={};return e.clickActionType=l,e.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),e}()),a+=t.a(t,0,t.s(ps,e),"n-product-top-offer-button",i,t.n(Cu,yr.object2nodeset(s)))),a+=Li(i),a+="</div>",a+="</div>",a+="</div>"},zi.t839.j=_p,zi.t839.a=0,zi.t840=function(t,e,n,r,i,s){var a="",o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"n-product-top-offer__specs-by-filter",c,s);var l=o;if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offer__item n-product-top-offer__item_type_spec")},i.s="div",l){var u=i.a.class;u?i.a.class=u.addscalar(" n-product-top-offer__item_clickable n-i-offer-details-button i-bem"):i.a.class=new yr.scalarAttr(" n-product-top-offer__item_clickable n-i-offer-details-button i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){
var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.entityType="topOffer",r.pageType=yr.nodeset2data(t.s(wx,e.doc.root)),n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=l}else a+=Li(i),a+="Детали уточняйте при заказе";return a+=Li(i),a+="</div>"},zi.t840.j=_p,zi.t840.a=0,zi.t841=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(Ni("id",e,[]),f)}for(var o="",c=t.s(ps,e),l=t.n(ME,yr.object2nodeset(s)).length>0,u=t.n(Cu,yr.object2nodeset(s)),d=0,p=u.length;d<p;d++){var h=u[d],f=Ni("id",h,[]),_=[0,"filters",2,a];Ai("image_picker",Ni("subType",h,[]))&&l||(o+=t.a(t,0,t.n(_,c),"n-product-spec",i,function(){var t={};return t.view="mini",t.colorsCountMax=8,t}()))}return o},zi.t841.j=Hi,zi.t841.a=0,zi.t842=function(t,e,n,r,i,s){var a="",o="",c={a:{}},l=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));o+=t.a(t,0,t.s(ps,e),"n-stickers",c,function(){var t={};return t.withPopupOfferInfo=!0,t.entityType="top6",t}()),Ci(t.s(Wa,e))&&!l?(o+=Li(c),o+="<div",c.a={class:new yr.scalarAttr("prices")},c.s="div",o+=t.a(t,0,t.s(ps,e),"n-product-top-offer-price-text",c,s),o+=Li(c),yr.externals["n-has-shop-promo"](t.s(ps,e))||(o+='<div class="price price_unactual_yes">',o+=t.f("f76",e,n,r,c,t.s(ps,e)),o+="</div>"),o+="</div>"):o+=t.a(t,0,t.s(ps,e),"n-product-top-offer-price-text",c,s);var u=o;return a+=Li(i),a+='<div class="n-product-top-offer__item n-product-top-offer__item_type_price n-product-top-offer__item_clickable">',a+=u,a+="</div>"},zi.t842.j=_p,zi.t842.a=0,zi.t843=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s))))a+="<span",i.a={class:new yr.scalarAttr("link n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.entityType="topOffer",r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.pageType=yr.nodeset2data(t.s(wx,e.doc.root)),n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</span>";else if(t.f("f40",e,n,r,t.s(ps,e))){a+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</a>"}else a+="<span>",a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</span>";return a},zi.t843.j=_p,zi.t843.a=0,zi.t844=function(t,e,n,r,i,s){var a="";a+=Li(i),a+="<a",i.a={class:new yr.scalarAttr("link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};return o+=t.a(t,0,t.s(ps,e),"i-link__offer-card",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=t.f("f69",e,n,r,i,t.s(ps,e)),a+="</a>"},zi.t844.j=bE,zi.t844.a=0,zi.t845=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";a+=Li(i),a+="<div",i.a={},i.s="div",i.a.class=new yr.scalarAttr("n-product-top-offer__item n-product-top-offer__item_type_buy");var o=i.a.class;return o?i.a.class=o.addscalar(" offer__out-stock offer__out-stock-message"):i.a.class=new yr.scalarAttr(" offer__out-stock offer__out-stock-message"),a+=t.a(t,0,t.s(ps,e),"n-offer-action",i,function(){var t={};return t.place="top5",t.filters=yr.nodeset2data(s),t.hasDetailsButton=!0,t.size="s",t.entityType="topOffer",t}()),a+=t.a(t,0,t.s(ps,e),"bundle-limitations-container",i,function(){var t={};return t.class="product-top-offer__bundle-limit",t}()),a+=Li(i),a+="</div>"},zi.t845.j=_p,zi.t845.a=0,zi.t846=function(t,e,n,r,i,s){var a="";if(a+=Li(i),a+="<div",i.a={class:new yr.scalarAttr("n-product-top-offer__item n-product-top-offer__item_type_shop")},i.s="div",a+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i),a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s))))a+="<span",i.a={class:new yr.scalarAttr("link link_theme_outer n-product-top-offer__shop-name n-i-offer-details-button i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.entityType="topOffer",r.pageType=yr.nodeset2data(t.s(wx,e.doc.root)),n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=Ti(t.s(Ya,e)),a+="</span>";else if(t.f("f40",e,n,r,t.s(ps,e))){a+="<a",i.a={class:new yr.scalarAttr("link link_theme_outer n-product-top-offer__shop-name"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=Ti(t.s(Ya,e)),a+="</a>"}else a+="<span>",a+=Ti(t.s(Ya,e)),a+="</span>";return Ci(t.n(Uv,yr.object2nodeset(s)))&&(a+=t.f("f113",e,n,r,i,t.s(ps,e),function(){var t={};return t.track="top5",t}())),a+=t.a(t,0,t.s(ps,e),"n-phone_for_shop",i),a+=t.a(t,0,t.s(ps,e),"n-complain",i),a+="</div>"},zi.t846.j=_p,zi.t846.a=0,zi.t847=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-product-top-offer__item n-product-top-offer__item_type_rate">',s+=t.f("f113",e,n,r,i,t.s(ps,e)),s+="</div>"},zi.t847.j=_p,zi.t847.a=0,zi.t848=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-product-top-offer__item n-product-top-offer__item_type_delivery")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-sticker-promocode",i),s+=t.a(t,0,t.s(ps,e),"n-delivery",i,"product-top-offer",!0),s+=t.a(t,0,t.s(ps,e),"n-prepayment",i),s+=Li(i),s+="</div>"},zi.t848.j=_p,zi.t848.a=0,zi.t849=function(t,e,n,r,i,s){var a="";if(a+=Li(i),Ai("details",t.n(Sa,yr.object2nodeset(s)))){a+="<div",i.a={},i.s="div";var o="",c={a:{}};o+="n-product-top-offer__item n-product-top-offer__item_type_picture n-product-top-offer__item_clickable ",o+="n-i-offer-details-button i-bem",i.a.class=new yr.scalarAttr(o),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var n={},r={};return r.offer=yr.externals["n-safe-offer"](t.s(ps,e),function(){var t=[];return t.push("description"),t}()),r.filters=yr.nodeset2data(t.n(Cu,yr.object2nodeset(s))),r.entityType="topOffer",r.pageType=yr.nodeset2data(t.s(wx,e.doc.root)),r.openTab="photo",n["n-i-offer-details-button"]=r,n}()))),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),50,!1,!0),a+="</div>"}else if(t.f("f40",e,n,r,t.s(ps,e))){a+="<a",i.a={class:new yr.scalarAttr("n-product-top-offer__item n-product-top-offer__item_type_picture link"),target:new yr.scalarAttr("_blank"),rel:new yr.scalarAttr("nofollow noopener")},i.s="a";var o="",c={a:{}};o+=t.a(t,0,t.s(ps,e),"i-link__offer",c),i.a.href=new yr.xmlAttr(o),a+=Li(i),a+=t.f("f66",e,n,r,i,t.s(ps,e),50,!1,!0),a+="</a>"}else a+='<div class="n-product-top-offer__item n-product-top-offer__item_type_picture">',a+=t.f("f66",e,n,r,i,t.s(ps,e),50,!1,!0),a+="</div>";return a},zi.t849.j=Hi,zi.t849.a=0,zi.t850=function(t,e,n,r,i,s){s=void 0===s?[]:s;var a="";return a+=Li(i),a+=t.f("f255",e,n,r,i,s)},zi.t850.j=Hi,zi.t850.a=0,zi.t851=function(t,e,n,r,i,s){var a="",o=", ",c=yr.externals["n-address"](t.s(ps,e),function(){var t={};return t.type="local",t.separator=o,t}());return a+=Li(i),Ci(Ni("locality",e,[]))&&(a+=Ti(Ni("locality",e,[]))),Bi(yr.externals["n-str-length"](c))>0&&(a+=Pi(o+c)),a},zi.t851.j=Ex,zi.t851.a=0,zi.t852=function(t,e,n,r,i,s){function a(t,e,n,r){return Mi(t.s(nk,e),t.n(nk,yr.object2nodeset(s)))}var o="",c=t.s(ya,e.doc.root),l={},u={a:{}};l.track="map_mc",Ci(c)&&(l["is-global-shop"]=yr.nodeset2data(c));var d=l,p=[0,"delivery",2,a];o+=Li(i),o+="<div",i.a={class:new yr.scalarAttr("n-product-map preloadable metrika i-bem"),id:new yr.scalarAttr("n-product-map")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){function n(t,e,n,r){return Ai(!0,Ri("inStock",e))}function r(t,e,n,r){return Ai(!0,Ri("inStock",e))&&Ci(t.s(p,e))}var i={},a={},o={},c=[];c.push(Ii(t.n(xx,yr.object2nodeset(s)))),c.push(Ii(t.n(Mx,yr.object2nodeset(s)))),o.center=c,o.zoom=yr.nodeset2data(t.n(Ax,yr.object2nodeset(s)));var c=[];o.controls=c;var c=[];o.behaviors=c,a.map=o,a.points=yr.nodeset2data(t.n(Tx,yr.object2nodeset(s))),i["n-product-map"]=a;var a={},o={},l=[0,"results",2,n],u=[0,"search",2,r];o.place="top5geo",o.inStock=t.s(l,e).length,o.byRegion=t.s(u,e).length,o.userRegion=yr.nodeset2data(t.n(nk,yr.object2nodeset(s))),a.productOffers=o,i.metrika=a;var a={};return a.size="m",a.paranja=!0,i.preloadable=a,i}()))),o+=Li(i),o+='<div class="n-product-map__header">',o+='<h3 class="n-product-map__title">На карте</h3>',o+='<h2 class="title title_size_22">',o+="Магазины",o+="</h2>",o+="</div>",o+='<div class="layout">',o+='<div class="layout__col layout__col_size_p66">',o+='<div class="n-product-map__wrapper">',o+="<a",i.a={class:new yr.scalarAttr("n-product-map__map-container n-smart-link i-bem")},i.s="a";var l="",u={a:{}};l+=t.a(t,0,t.n(Qd,yr.object2nodeset(s)),"i-link__product-geo",u,d),i.a.href=new yr.xmlAttr(l);var l="",u={a:{}};if(l+=Li(u),l+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(l),o+=Li(i),o+="</a>",o+="</div>",o+="</div>",o+='<div class="layout__col layout__col_size_p33">',o+="<ul",i.a={class:new yr.scalarAttr("n-product-map__offers-list")},i.s="ul",o+=t.a(t,0,t.s(ps,e),"n-product-map__offers-list",i),o+=Li(i),o+="</ul>",o+='<div class="n-product-map__controls">',Ii(t.n(Cx,yr.object2nodeset(s)))>3){var h=t.s(ya,e.doc.root),l={},u={a:{}};l.track="map_mc",Ci(h)&&(l["is-global-shop"]=yr.nodeset2data(h));var f=l;o+="<a",i.a={class:new yr.scalarAttr("button2 button2_type_link button2_size_m button2_theme_normal button2_mode_sharp i-bem"),role:new yr.scalarAttr("button")},i.s="a";var _=i.a.class;_?i.a.class=_.addscalar(" n-smart-link"):i.a.class=new yr.scalarAttr(" n-smart-link");var l="",u={a:{}};l+=t.a(t,0,t.n(Qd,yr.object2nodeset(s)),"i-link__product-geo",u,f),i.a.href=new yr.xmlAttr(l);var l="",u={a:{}};l+=Li(u),l+='{"n-smart-link":{"subscriptions":["filters"]}}',i.a["data-bem"]=new yr.xmlAttr(l),o+=Li(i),o+='<span class="button2__text">',o+="Все магазины на карте",o+='<span class="button2__counter">',o+=Ti(t.n(Cx,yr.object2nodeset(s))),o+="</span>",o+="</span>",o+="</a>"}return o+="</div>",o+="</div>",o+="</div>",o+="</div>"},zi.t852.j=Pp,zi.t852.a=0,zi.t853=function(t,e,n,r,i){var s="";return s+=t.a(t,0,Ni("results",e,[]),"n-product-map__offer",i)},zi.t853.j=Hi,zi.t853.a=0,zi.t854=function(t,e,n,r,i){var s="",a={},o={a:{}};a.customClass="n-product-map__offer-image-age";var c=a,a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"i-link__offer__geo",o);var l=a,u=Ai("real",Ni("cpa",e,[]));if(s+=Li(i),s+='<li class="n-product-map__offer">',s+=t.f("f212",e,n,r,i,Ni("prices",e,[]),"offers"),s+="<div",i.a={class:new yr.scalarAttr("n-product-map__offer-header")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-age-badge",i,c),s+=t.a(t,0,t.s(ps,e),"n-shop-bonus_type_recommend",i),s+=Li(i),s+=t.f("f256",e,n,r,i,Bi(l)),s+=t.f("f113",e,n,r,i,t.s(ps,e),function(){var t={};return t.track="top5",t}()),s+=t.a(t,0,t.s(ps,e),"n-product-top-offer-complain-mbo",i),s+="</div>",s+="<div",i.a={class:new yr.scalarAttr("n-product-map__offer-description")},i.s="div",s+=t.a(t,0,t.s(Sx,e),"n-product-map__outlet-address",i),s+=Li(i),s+="</div>",s+="<div",i.a={},i.s="div",u&&(i.a.class=new yr.scalarAttr("offer i-bem"),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(t.f("f100",e,n,r,t.s(ps,e),"geo-snippet"))))),Ci(Ni("isPromotedByVendor",e,[]))){var d=i.a.class;d?i.a.class=d.addscalar(" offer_ignore-state_yes"):i.a.class=new yr.scalarAttr(" offer_ignore-state_yes")}return s+=Li(i),s+='<div class="'+Oi(u&&!Ri("isPromotedByVendor",e)?"offer__out-stock offer__out-stock-message":"")+'">',s+="<div",i.a={class:new yr.scalarAttr("n-product-map__offer-price offer__price_visibility_toggle")},i.s="div",s+=t.a(t,0,t.s(ps,e),"n-product-map__snippet-price",i),s+=Li(i),s+="</div>",s+="</div>",s+="</div>",s+="</li>"},zi.t854.j=_p,zi.t854.a=0,zi.t855=function(t,e,n,r,i){var s="",a="",o={a:{}};if(Ci(t.s(Wa,e))){var c=Ai("models-and-offers",t.n(Va,t.v("v23",e.doc.root)));a+=t.a(t,0,t.s(ps,e),"n-stickers",o),a+=Li(o),a+='<div class="prices">',a+=t.f("f69",e,n,r,o,t.s(ps,e)),yr.externals["n-has-shop-promo"](t.s(ps,e))||c||(a+='<div class="price price_unactual_yes">',a+=t.f("f76",e,n,r,o,t.s(ps,e)),a+="</div>"),a+="</div>"}else a+=Li(o),a+=t.f("f69",e,n,r,o,t.s(ps,e));var l=a;return s+=Li(i),s+=l},zi.t855.j=Ix,zi.t855.a=0,zi.t856=function(t,e,n,r,i){var s="";return s+=Li(i),s+="Нет в продаже"},zi.t856.j=Ox,zi.t856.a=0,zi.t857=function(t,e,n,r,i){var s="";return s+=t.a(t,0,t.s(ps,e),"n-address",i)},zi.t857.j=Ex,zi.t857.a=0,zi.t858=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-map-address-point image image_name_map-address-work-point"></span>'},zi.t858.j=Hi,zi.t858.a=0,zi.t859=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<span class="n-map-address-point image image_name_map-address-home-point"></span>'},zi.t859.j=Hi,zi.t859.a=0,zi.t860=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-settings-notifications-popup__wrap",o);var c=a,a={},o={a:{}},l={},u={};u.to="bottom",u.axis="right";var d={};d.top=1,d.left=51,u.offset=d,l.directions=u,a.popup=l;var p=a;return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-settings-notifications-popup i-bem")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.email=yr.nodeset2data(Ni("email",e,[])),t["n-settings-notifications-popup"]=n,t}()))),s+=Li(i),s+=t.f("f25",e,n,r,i,c,yr.object2nodeset(function(){var t={};return t.localContext="true",t.autoclosable="yes",t.animate="yes",t.adaptive="yes",t.theme="ffffff",t.dataBemParams=p,t.hasTail=!0,t}())),s+="</div>"},zi.t860.j=jx,zi.t860.a=0,zi.t861=function(t,e,n,r,i){var s="";return s+=Li(i),s+="<div",i.a={class:new yr.scalarAttr("n-settings-notifications-popup__wrap preloadable")},i.s="div",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={};return e.size="m",e.paranja=!0,t.preloadable=e,t}()))),s+=t.a(t,0,t.s(ps,e),"n-settings-notifications-popup__content",i),s+=Li(i),s+='<button class="n-settings-notifications-popup__close image image_name_close"></button>',s+="</div>"},zi.t861.j=Hi,zi.t861.a=0,zi.t862=function(t,e,n,r,i){var s="";s+=Li(i),s+='<div class="n-settings-notifications-popup__content">',s+='<h2 class="n-settings-notifications-popup__title">Уведомления от Яндекс.Маркета</h2>',s+='<p class="n-settings-notifications-popup__description">',s+="Пожалуйста, подтвердите список уведомлений, которые вы хотите получать на почту ",s+='<span class="n-settings-notifications-popup__email">'+Ti(Ni("email",e,[]))+"</span>",s+="</p>",s+=t.a(t,0,Ni("subscriptions",e,[]),"n-settings-notifications-popup__option",i),s+="<button",i.a={},i.s="button";var a="";return a+="n-settings-notifications-popup__submit button2 button2_size_s button2_mode_sharp ",a+="button2_theme_action metrika i-bem",i.a.class=new yr.scalarAttr(a),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n={};return n.settingsNotificationsPopup="submit",e.onClick=n,t.metrika=e,t}()))),s+=Li(i),s+="Сохранить",s+="</button>",s+='<p class="n-settings-notifications-popup__action">',s+="<a",i.a={class:new yr.scalarAttr("n-settings-notifications-popup__change-email link link_theme_minor")},i.s="a",i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:my-settings")+"#notifications"),s+=Li(i),s+="Сменить адрес",s+="</a>",s+="</p>",s+="</div>"},zi.t862.j=Hi,zi.t862.a=0,zi.t863=function(t,e,n,r,i){var s="";s+=Li(i),s+="<div",i.a={},i.s="div";var a="";a+="n-settings-notifications-popup__option checkbox checkbox_size_m checkbox_theme_normal",Ci(Ni("value",e,[]))&&(a+=" checkbox_checked_yes"),a+=" i-bem",i.a.class=new yr.scalarAttr(a),i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},n={};return n.live="false",n.name=yr.nodeset2data(Ni("name",e,[])),t.checkbox=n,t}()))),s+=Li(i),s+="<span",i.a={},i.s="span";var a="";return a+="checkbox__box",Ci(Ni("value",e,[]))&&(a+=" checkbox__box_checked_yes"),i.a.class=new yr.scalarAttr(a),s+=Li(i),s+="<input",i.a={class:new yr.scalarAttr("checkbox__control"),id:new yr.scalarAttr(Ii(Ni("name",e,[]))),name:new yr.scalarAttr(Ii(Ni("name",e,[]))),type:new yr.scalarAttr("checkbox"),autocomplete:new yr.scalarAttr("off")},i.s="input",Ci(Ni("value",e,[]))&&(i.a.checked=new yr.scalarAttr("checked")),s+=Li(i),s+="",s+='<i class="checkbox__tick"></i>',s+="</span>",s+='<label class="checkbox__label" for="'+Si(Ni("name",e,[]))+'" aria-hidden="true">',Ai("ad",Ni("name",e,[]))?s+="Новости о скидках и акциях":Ai("forum",Ni("name",e,[]))?s+="Ответы на ваши комментарии":Ai("grade",Ni("name",e,[]))?s+="Ответы магазинов на ваши отзывы":Ai("wishlist",Ni("name",e,[]))&&(s+="Сообщения об отложенных товарах"),s+="</label>",s+=t.a(t,0,t.s(ps,e),"n-settings-notifications-popup__hint",i),s+="</div>"},zi.t863.j=Hi,zi.t863.a=0,zi.t864=function(t,e,n,r,i){var s="",a="",o={a:{}};a+=t.a(t,0,t.s(ps,e),"n-hint-button",o,function(){var t={};return t.direction="bottom",t}());var c=a;return s+=Li(i),c&&(s+="<span",i.a={class:new yr.scalarAttr("n-settings-notifications-popup__hint metrika i-bem")},i.s="span",i.a["data-bem"]=new yr.scalarAttr(yr.externals["n-serialize"](yr.object2nodeset(function(){var t={},e={},n={};return n.settingsNotificationsPopup="hint",e.onClick=n,t.metrika=e,t}()))),s+=Li(i),s+=c,s+="</span>"),s},zi.t864.j=Hi,zi.t864.a=0,zi.t865=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-settings-notifications-popup__success">',s+='<h2 class="n-settings-notifications-popup__title">Спасибо</h2>',s+="</div>"},zi.t865.j=Hi,zi.t865.a=0,zi.t866=function(t,e,n,r,i){var s="";return s+=Li(i),s+='<div class="n-settings-notifications-popup__fail">',s+='<h2 class="n-settings-notifications-popup__title n-settings-notifications-popup__title_fail_yes">',s+="Что‐то пошло не так",s+="</h2>",s+='<p class="n-settings-notifications-popup__description">',s+="Не удалось сохранить настройки. Попробуйте выбрать нужные вам уведомления на странице ",s+="<a",i.a={class:new yr.scalarAttr("link")},i.s="a",i.a.href=new yr.scalarAttr(yr.externals["n-build-url"]("market:my-settings")+"#notifications"),s+=Li(i),s+="«Настройки Маркета»",s+="</a>",s+=".",s+="</p>",s+="</div>"},zi.t866.j=Hi,zi.t866.a=0,zi.matcher={"":{"history-latest-root":["t0"],"history-latest":["t1"]},"history-latest":{widget:["t2"],list:["t3"],items:["t4"]},"history-latest__item":{items:["t5"]},"history-latest__item-image":{items:["t7","t6"]},"n-bem-block__class":{"*":["t8"]},"n-bem-elem__class":{"*":["t9"]},"n-bem-class__block-name":{"*":["t10"]},"n-bem-class__block-mod":{"*":["t11"]},"n-bem-class__elem":{"*":["t13","t12"]},"n-bem-class__elem_mod":{"*":["t14"]},"n-bem-class__js":{"*":["t15"]},"n-bem-block__data":{"*":["t16"]},"n-bem-elem__data":{"*":["t17"]},"n-bem-block__data-block":{"*":["t18"]},"n-bem-block__data-elem":{"*":["t19"]},"n-bem-content":{"*":["t20"]},"offer-purchase":{"*":["t21"]},"offer-purchase__content":{"*":["t22"]},"offer-purchase__actualization":{"*":["t23"]},"offer-purchase__actualization-info_status_not-available":{"*":["t24"]},"offer-purchase__actualization-info_status_error":{"*":["t25"]},"offer-purchase__product":{"*":["t26"]},"offer-purchase__product_state_not-available-in-outlet":{"*":["t27"]},"offer-purchase__product_state_not-available":{"*":["t28"]},"offer-purchase__product_state_error":{"*":["t29"]},"offer-purchase__action":{"*":["t30"]},"offer-purchase__actualization-info-text_state_wait":{"*":["t31"]},"offer-purchase__actualization-info-text_state_not-available":{"*":["t32"]},"offer-purchase__actualization-info-text_state_error":{"*":["t33"]},"offer-purchase__find-in-other-shop":{"*":["t34"]},"offer-purchase__product-params":{"*":["t35"]},"offer-purchase__closer_type_button":{"*":["t36"]},"n-button2":{"*":["t37"]},"n-button2__text":{"*":["t38"]},"n-popup2__tail":{"*":["t39"]},"n-popup2":{"*":["t40"]},"n-popup2__content":{"*":["t41"]},"n-popup2__closer":{"*":["t42"]},"n-image":{"*":["t43"]},"n-product-kind-params-list":{"*":["t44"]},"n-product-kind-params-list__item":{"*":["t45"]},"n-color-set":{"*":["t46"]},"n-color-set__value":{"*":["t47"]},"offer-quantity-select":{"*":["t48"]},"offer-quantity-select__content":{"*":["t49"]},"offer-quantity-select__amount":{"*":["t50"]},"offer-quantity-select__manotice":{"*":["t51"]},"amount-select":{"*":["t52"]},"n-input":{"*":["t53"]},"n-input__box":{"*":["t54"]},"n-input__control":{"*":["t55"]},"n-input__clear":{"*":["t56"]},"n-input__label":{"*":["t57"]},"purchase-popup-amount":{"*":["t58"]},"bundle-limitations":{"*":["t59"]},"bundle-limitations_type_quantity":{"*":["t60"]},"bundle-limitations_type_quantity-text":{"*":["t62","t61"]},"bundle-limitations_type_quantity__metrika":{"*":["t63"]},"bundle-limitations-container":{"*":["t64"]},"n-w-recommendations":{"*":["t65"],params:["t66","t65"]},"n-w-recommendations__params-description":{params:["t68","t67"]},"n-w-recommendations__params-title":{params:["t73","t72","t71","t70","t69"]},widgets__placeholder:{"*":["t580","t74"]},widgets__placeholder_row:{"*":["t582","t75"]},widgets__placeholder_column:{"*":["t581","t76"]},button__text:{"*":["t77"]},button:{"*":["t78"]},"n-snippet-list":{search:["t79"]},"critical-events":{"*":["t80"]},"n-modal":{"*":["t81"]},"n-modal__cell":{"*":["t82"]},"n-modal__content":{"*":["t83"]},"n-modal__table":{"*":["t84"]},"n-modal__wrapper":{"*":["t85"]},"selectable-item":{"*":["t86"]},"n-find-in-other-shop":{"*":["t87"]},"n-find-in-other-shop__build-url":{"*":["t88"]},"i-link__my-settings":{"*":["t89"]},"i-link__product-reviews":{"*":["t90"]},"i-link__product-reviews-add":{"*":["t91"]},"i-link__product-articles":{"*":["t92"]},"i-link__product-forum":{"*":["t93"]},"i-link__product-forum-add-comment":{"*":["t94"]},"i-link__product-forum-remove-comment":{"*":["t95"]},"i-link__compare":{"*":["t96"]},"i-link__search":{"*":["t97"]},"i-link__intents":{"*":["t98"]},"i-link__list":{"*":["t102","t101","t100","t99"]},"i-link__all-filters":{"*":["t103"]},"i-link__product":{"*":["t104"]},"i-link__product-spec":{"*":["t105"]},"i-link__offer":{"*":["t106"]},"i-link__offer-card":{"*":["t107"]},"i-link__product-offers":{"*":["t108"]},"i-link__shop__reviews":{"*":["t110","t109"]},"i-link__shop-reviews":{"*":["t111"]},"i-link__shop__reviews-add":{"*":["t113","t112"]},"i-link__offer__geo":{"*":["t114"]},"i-link__offer__store-geo":{"*":["t115"]},"i-link__offer__pickup-geo":{"*":["t116"]},"i-link__offer__postomat-geo":{"*":["t117"]},"i-link__offer__shop-offers":{"*":["t118"]},"i-link__shop-info":{"*":["t119"]},"i-link__product-geo":{"*":["t120"]},"i-link__geo":{"*":["t121"]},"i-link__brands-list":{"*":["t122"]},"i-link__brands-list_category":{"*":["t123"]},"i-link__geo-book-now":{"*":["t124"]},"i-link__mbo-url":{"*":["t126","t125"]},"i-link__target-params":{"*":["t133","t132","t131","t130","t129","t128","t127"]},"i-link__faq":{"*":["t134"]},"i-link__cms-page":{"*":["t136","t135"]},"i-link__article":{"*":["t137"]},"i-link__collection":{"*":["t138"]},"i-link__vendor":{"*":["t139"]},"i-link__category":{department:["t146","t145","t144","t143","t142","t140"],category:["t146","t145","t144","t143","t142","t141"],"*":["t146","t145","t144","t143","t142"]},"i-link__product-reviews_place_search":{"*":["t147"]},"i-link__product_place_search":{"*":["t148"]},"i-link__product-offers_place_search":{"*":["t149"]},"n-product-link":{"*":["t151","t150"]},"n-product-kind-params":{"*":["t156","t155","t154","t152"]},"n-product-kind-params-size":{"*":["t153"]},"n-snippet-card":{results:["t160","t158","t157"],"*":["t160"]},getClickActionType:{"*":["t429","t159"]},"offer-complain-form":{"*":["t161"]},"offer-complain-form__radio-input":{"*":["t162"]},title:{"*":["t163"]},"n-snippet-card__image":{"*":["t167","t166","t165","t164"]},"n-snippet-card__header-extra":{"*":["t170","t169","t168"]},"n-snippet-card__desc":{"*":["t173","t172","t171"]},"n-snippet-card__action":{"*":["t175","t174"]},"n-snippet-card__info":{"*":["t177","t176"]},"n-snippet-card__complain-control":{"*":["t179","t178"]},"n-snippet-card__bundle-limit":{"*":["t180"]},"n-snippet-card__debug-info":{bdebug:["t181"]},"n-picture__srcset":{"*":["t182"]},"n-price__html-wrapper":{prices:["t183"]},"n-price__price-text":{prices:["t184"]},"n-price__price-value":{prices:["t185"]},"n-price__discount-text":{prices:["t186"]},"n-price__discount-value":{prices:["t187"]},"n-price":{"*":["t188"]},"n-sticker-promocode-popup__popup":{"*":["t189"]},"n-sticker-promocode-popup":{"*":["t190"]},"n-sticker-promocode":{"*":["t191"]},"n-delivery-popup__options-table-row":{options:["t192"]},"n-delivery-popup__pickup-options-table-row":{pickupOptions:["t193"]},"n-delivery-popup__postomat-options-table-row":{pickupOptions:["t194"]},"n-delivery-popup__services":{delivery:["t195"]},"n-delivery-popup__service":{availableServices:["t196"]},"n-foreign-shop-jur":{"*":["t197"]},"n-delivery-popup":{"*":["t198"]},"n-delivery-popup-tab":{list:["t199"]},"n-delivery-popup-tab-panes":{list:["t200"]},"n-delivery":{"*":["t201"]},"n-delivery__group":{"*":["t202"]},"n-delivery__group-pickup-selected":{"*":["t203"]},"n-delivery__group-postomat-selected":{"*":["t204"]},"n-delivery__main-info":{"*":["t205"]},"n-delivery__pickup-info":{"*":["t206"]},"n-delivery__postomat-info":{availableServices:["t207"]},"n-delivery__time":{delivery:["t208"]},"n-stickers":{"*":["t209"]},"n-stickers__content":{"*":["t210"]},"n-stickers__sticker_type_promo":{"*":["t211"]},"n-stickers__sticker_type_discount":{"*":["t213","t212"]},"n-stickers__sticker_type_new":{"*":["t214"]},"n-stickers__sticker_type_promoted":{"*":["t215"]},"n-stickers__sticker_type_promoted-inner":{"*":["t216"]},"n-stickers__sticker-text_type_promoted":{"*":["t218","t217"]},"n-offer__button-content":{"*":["t231","t228","t225","t222","t219"]},"n-offer__button-text":{"*":["t232","t229","t226","t223","t220"]},"n-offer__button-bemparams":{"*":["t233","t230","t227","t224","t221"]},"n-product-toolbar":{"*":["t234"]},"n-product-toolbar__item-label":{"*":["t235"]},"n-popup-complain":{"*":["t236"]},"n-popup-complain__popup":{"*":["t237"]},"n-wishlist-control__params":{"*":["t239","t238"]},"n-product-toolbar__item_type_compare":{"*":["t240"]},"n-product-toolbar__item_type_compare-text-normal":{"*":["t244","t243","t241"]},"n-product-toolbar__item_type_compare-text-done":{"*":["t242"]},"n-product-toolbar__item_type_complain":{"*":["t245"]},"n-product-toolbar__item_type_labels":{"*":["t246"]},"n-product-toolbar__item_type_remove":{"*":["t247"]},"n-product-toolbar__item_type_table-of-sizes":{"*":["t248"]},"n-product-toolbar__item_type_wishlist":{"*":["t249"]},"n-product-toolbar__item_type_wishlist-text-normal":{"*":["t254","t252","t250"]},"n-product-toolbar__item_type_wishlist-text-done":{"*":["t255","t253","t251"]},"n-product-toolbar__item_type_back":{"*":["t256"]},"n-user-data__name":{"*":["t257"]},"n-user-data__name_simple":{"*":["t258"]},"n-product-subscribe-button":{"*":["t259"]},"n-product-subscribe":{"*":["t260"]},"n-manotice":{"*":["t261"]},"n-domik-opener":{"*":["t262"]},"n-link":{"*":["t263"]},"n-product-summary-subscribe":{"*":["t264"]},"n-product-summary-subscribe_state_subscribe":{"*":["t265"]},"n-product-summary-subscribe_state_subscribed":{"*":["t266"]},"n-product-summary-subscribe__form":{"*":["t267"]},"n-product-summary-subscribe__desc":{"*":["t268"]},"n-product-summary-subscribe__desc-info":{"*":["t269"]},"n-product-summary-subscribe__error":{"*":["t270"]},"n-product-summary-subscribe__button":{"*":["t271"]},"n-product-summary-subscribe__title":{"*":["t272"]},"n-product-subscribe__error":{"*":["t273"]},"n-product-subscribe__desc":{"*":["t274"]},"n-product-subscribe__footer":{"*":["t275"]},"n-product-subscribe__title":{"*":["t276"]},"n-product-subscribe__signin":{"*":["t277"]},"n-product-subscribe__item":{"*":["t278"]},"n-product-subscribe__value":{"*":["t279"]},"n-product-subscribe__change-mail":{"*":["t280"]},"n-product-subscribe__text":{"*":["t281"]},"n-product-subscribe__wrapper":{"*":["t282"]},"n-product-subscribe_type_stock__wrapper-content":{"*":["t286","t285","t284","t283"]},"n-product-subscribe_type_stock__footer-content":{"*":["t291","t290","t289","t288","t287"]},"n-warning":{"*":["t292"]},"n-prepayment":{"*":["t293"]},"n-prepayment_context_default-offer":{"*":["t294"]},"n-prepayment_context_offer-info-card":{"*":["t295"]},"n-prepayment_context_my-order":{"*":["t296"]},"n-prepayment_context_checkout":{"*":["t297"]},"n-prepayment_context_filter":{filters:["t298"]},"n-prepayment_context_snippet":{"*":["t299"]},"n-protection-modal":{"*":["t300"]},"n-age-badge":{"*":["t301"]},"n-complain":{"*":["t303","t302"]},"n-shop-bonus_type_recommend":{"*":["t304"]},"n-offer-one-click-purchase":{"*":["t305"]},"n-product-spec":{"*":["t307","t306"]},"n-hint-button-content":{"*":["t308"]},"n-hint-button":{ad:["t309","t309"],"*":["t309"]},"n-hint-button_place_filter":{"*":["t310"]},"n-hint-button__bem-params_place_filter":{"*":["t312","t311"]},"n-hint-button__class_place_filter":{"*":["t313"]},"n-product-spec-value":{"*":["t318","t317","t316","t315","t314"]},"n-product-spec-value__item":{values:["t319"]},"n-product-spec-value__unit":{"*":["t320"]},"n-product-spec-value__unit-values":{"*":["t321"]},"n-product-color-set":{"*":["t322"]},"n-product-color-set-value":{"*":["t323"]},"n-product-color-set-value-class":{"*":["t324"]},"n-product-color-set__more":{"*":["t325"]},"n-phone_for_shop":{"*":["t326"]},"n-phone_for_outlet":{"*":["t327"]},"n-phone_opened_yes":{"*":["t328"]},"n-offer-info":{"*":["t329"]},"n-offer-info__action":{"*":["t330"]},"n-offer-info__action-checkout":{"*":["t331"]},"n-offer-info__action-cpa":{"*":["t332"]},"n-offer-info__action-cpc":{"*":["t333"]},"n-offer-info__action-to-cart":{"*":["t334"]},"n-offer-info__action-to-cart-params":{"*":["t336","t335"]},"n-offer-info__action-to-cart-text":{"*":["t338","t337"]},"n-offer-info__actualization":{"*":["t339"]},"n-offer-info__card":{"*":["t340"]},"n-offer-info__card-title":{"*":["t341"]},"n-offer-info__card-price":{"*":["t342"]},"n-offer-info__card-info":{"*":["t343"]},"n-offer-info__card-bundle-limit":{"*":["t344"]},"n-offer-info__card-image":{"*":["t345"]},"n-offer-info__complain":{"*":["t346"]},"n-offer-info__content":{"*":["t347"]},"n-offer-info__delivery":{"*":["t348"]},"n-offer-card-delivery":{"*":["t349"]},"n-offer-card-delivery__delivery":{"*":["t350"]},"n-offer-card-delivery__pickup":{"*":["t351"]},"n-offer-info__desc-pane":{"*":["t352"]},"n-offer-info__desc-pane-spec":{"*":["t353"]},"n-offer-info__photo-pane":{"*":["t354"]},"n-offer-info__photo-list":{"*":["t355"]},"n-offer-info__photo-item":{"*":["t356"]},"n-offer-info__details":{"*":["t357"]},"n-offer-info__footer":{"*":["t358"]},"n-offer-info__promo":{"*":["t359"]},"n-offer-info__purchase":{"*":["t360"]},"n-offer-card-purchase":{"*":["t361"]},"n-offer-card-purchase__content":{"*":["t362"]},"n-offer-info__spec":{"*":["t363"]},"n-offer-info__purchase-conditions":{"*":["t364"]},"n-offer-info__purchase-content":{"*":["t365"]},"n-offer-info__returns-content":{"*":["t366"]},"n-offer-card-returns":{"*":["t367"]},"n-offer-card-returns__return-term":{"*":["t368"]},"n-return-term":{"*":["t374","t373","t372","t371","t370","t369"]},"n-promo-deal":{"*":["t375"]},"n-promo-deal__roll":{"*":["t376"]},"n-promo-deal__offer-list":{bonusItems:["t377"]},"n-promo-deal__offer":{bonusItems:["t378"]},"n-promo-deal__pager-more":{"*":["t379"]},"n-w-recommendations__params":{params:["t381","t380"]},"n-w-recommendations__extra":{params:["t382"]},"n-offer-action":{"*":["t384","t383"]},"n-button2__icon":{"*":["t385"]},"n-shop-name":{"*":["t386"]},"n-shop-name__name":{"*":["t388","t387"]},"n-shop-rating-popup":{"*":["t389"]},"n-foreign-shop-country":{"*":["t390"]},"n-adult-snippet":{"*":["t391"]},"n-debug-info__item":{"*":["t393","t392"],
requestPath:["t394","t393","t392"],compactParsedFlags:["t395","t393","t392"],rank:["t396","t393","t392"]},"n-snippet-card2":{"*":["t430","t397"]},"n-snippet-card2__stickers":{"*":["t398"]},"n-snippet-card2__part_type_left":{"*":["t399"]},"n-snippet-card2__part_type_center":{"*":["t400"]},"n-snippet-card2__part_type_right":{"*":["t401"]},"n-snippet-card2__more-prices-link":{"*":["t407","t402"]},"n-snippet-card2__more-prices-link-with-from":{"*":["t403"]},"n-snippet-card2__prepayment":{"*":["t404"]},"n-snippet-card2__image":{"*":["t406","t405"]},"n-snippet-card2__hover":{"*":["t408"]},"n-snippet-card2__header":{"*":["t409"]},"n-snippet-card2__title":{"*":["t411","t410"]},"n-snippet-card2__price":{"*":["t412"]},"n-snippet-card2__main-price":{"*":["t414","t413"]},"n-snippet-card2__sub-price":{"*":["t415"]},"n-snippet-card2__shop-info":{"*":["t416"]},"n-snippet-card2__warning":{"*":["t417"]},"n-snippet-card2__colors":{"*":["t418"]},"n-snippet-card2__rating":{"*":["t419"]},"n-snippet-card2__center-bottom":{"*":["t421","t420"]},"n-snippet-card2__delivery":{"*":["t422"]},"n-snippet-card2__complain":{"*":["t423"]},"n-snippet-card2__desc":{"*":["t426","t425","t424"]},"n-snippet-card2__shop-comment":{"*":["t427"]},"n-snippet-card2__bundle-limit":{"*":["t428"]},"n-snippet-card2__debug-info":{bdebug:["t431"]},"n-mbo-toolbar":{"*":["t433","t432"]},"n-snippet-color-set":{"*":["t434"]},"n-snippet-color-set__item":{"*":["t435"]},"i-banner__stats":{stats:["t436"]},"n-snippet-cell":{"*":["t438","t437"]},"i-metrika__pixel":{"*":["t445","t444","t443","t442","t441","t440","t439"]},"n-wysiwyg-text":{"*":["t469","t468","t467","t466","t465","t464","t463","t462","t461","t460","t459","t458","t457","t456","t455","t454","t453","t452","t451","t450","t449","t448","t447","t446"]},"n-snippet-cell__action":{"*":["t471","t470"]},"n-snippet-cell__category":{"*":["t473","t472"]},"n-snippet-cell__complain-control":{"*":["t475","t474"]},"n-snippet-cell__details":{"*":["t476"]},"n-snippet-cell__content_cpa-big":{"*":["t478","t477"]},"n-snippet-cell__content_recommendation":{"*":["t479"]},"n-snippet-cell__content_cheaper":{"*":["t480"]},"n-snippet-cell__shop":{"*":["t481"]},"n-snippet-cell__desc":{"*":["t483","t482"]},"n-snippet-cell__header-extra":{"*":["t486","t485","t484"]},"n-snippet-cell__image-guru":{"*":["t488","t487"]},"n-snippet-cell__image-nonguru":{"*":["t490","t489"]},"n-snippet-cell__pixel":{"*":["t491"]},"n-snippet-cell__price":{"*":["t492"]},"n-snippet-cell__subheader":{"*":["t493"]},"n-snippet-cell__bundle-limit":{"*":["t494"]},"n-snippet-cell_cms":{"*":["t495"]},"n-snippet-cell_cms_big":{"*":["t498","t497","t496"]},"n-snippet-cell_cms_big__metrika":{"*":["t499"]},"n-snippet-cell_cms_cpa-big":{"*":["t500"]},"n-snippet-cell_cms_cpa-big-attrs":{"*":["t502","t501"]},"n-snippet-cell_cms_section":{"*":["t503"]},"n-snippet-cell_cms_section-footer":{"*":["t504"]},"n-snippet-cell_cms_section-price":{"*":["t505"]},"n-snippet-cell_cms_small":{"*":["t507","t506"]},"n-snippet-cell_cms_simple":{"*":["t508"]},"n-snippet-cell_cms_tagged":{"*":["t512","t511","t510","t509"]},"n-snippet-cell_cms_tagged__navnode":{"*":["t513"]},"n-snippet-cell_cms_tagged__headline":{"*":["t514"]},"n-snippet-cell_cms_tagged__main":{"*":["t515"]},"n-snippet-cell_cms_tagged__metrika":{"*":["t516"]},"n-snippet-cell__rating":{rating:["t517"]},"n-snippet-cell__discount":{discount:["t518"]},"n-snippet-cell_cms_recommendation":{"*":["t519"]},"n-snippet-cell_cms_recommendation-attrs":{"*":["t521","t520"]},"n-snippet-cell_cms_recommendation-small":{"*":["t522"]},"n-snippet-cell_cms_recommendation-small-offer-button":{"*":["t523"]},"n-snippet-cell_cms_cheaper":{"*":["t524"]},"n-snippet-cell_cms_cheaper-attrs":{"*":["t526","t525"]},"n-snippet-cell__discount-percent":{"*":["t527"]},"n-snippet-cell_cms_cheaper-lite":{"*":["t528"]},"n-snippet-cell_cms_list":{"*":["t529"]},"n-snippet-cell2":{"*":["t554","t530"]},"n-snippet-cell2__stickers":{"*":["t531"]},"n-snippet-cell2__image":{"*":["t533","t532"]},"n-snippet-cell2__prepayment":{"*":["t534"]},"n-snippet-cell2__hover":{"*":["t535"]},"n-snippet-cell2__header":{"*":["t536"]},"n-snippet-cell2__title":{"*":["t538","t537"]},"n-snippet-cell2__price":{"*":["t539"]},"n-snippet-cell2__main-price":{"*":["t541","t540"]},"n-snippet-cell2__sub-price":{"*":["t542"]},"n-snippet-cell2__shop-info":{"*":["t543"]},"n-snippet-cell2__warning":{"*":["t544"]},"n-snippet-cell2__colors":{"*":["t545"]},"n-snippet-cell2__rating":{"*":["t546"]},"n-snippet-cell2__footer":{"*":["t548","t547"]},"n-snippet-cell2__delivery":{"*":["t549"]},"n-snippet-cell2__complain":{"*":["t550"]},"n-snippet-cell2__bundle-limit":{"*":["t551"]},"n-snippet-cell2__mbo-control":{"*":["t553","t552"]},"n-snippet-cell2__more-prices-link":{"*":["t555"]},"n-snippet-cell2__more-prices-link-with-from":{"*":["t556"]},"n-entrypoint-carousel":{"*":["t557"]},"n-entrypoint-carousel__big-banners":{"*":["t558"]},"n-entrypoint-carousel__carousel":{"*":["t559"]},"n-entrypoint-banner":{"*":["t561","t560"]},"n-entrypoint-banner_size_big":{"*":["t562"]},"n-entrypoint-banner__text":{"*":["t563"]},"n-snippet-cell__placeholder":{"*":["t564"]},"n-snippet-cell__placeholder_type_big":{"*":["t565"]},"n-snippet-cell__placeholder_type_small":{"*":["t566"]},"n-snippet-cell__placeholder_type_recommendation-small":{"*":["t567"]},"n-box__background":{style:["t568"]},"n-box__picture":{backgroundPicture:["t569"]},widgets:{"*":["t731","t619","t574","t570"],"n-w-product-video":["t731","t710","t619","t574","t570"]},"n-w-roll__header":{header:["t571"]},"n-w-roll__snippets":{snippets:["t572"]},"n-w-roll__pager-more":{pager:["t573"]},"n-w-carousel__anchor":{anchor:["t575"]},"n-w-carousel__header":{header:["t576"]},"n-w-carousel__filters":{"*":["t577"]},"n-w-carousel__filter":{carousels:["t578"]},"n-w-carousel__footer":{footer:["t579"]},"n-carousel__item":{carousels:["t583"]},"n-carousel__column":{preset:["t585","t584"]},"n-carousel__promo":{banner:["t586"]},"n-product-subscribe__content":{"*":["t587"]},"n-product-subscribe__input":{"*":["t588"]},"n-link__content":{"*":["t589"]},"footer-subscription":{"footer-subscription":["t593","t592","t591","t590"]},"footer-subscription__form":{"footer-subscription":["t594"]},"footer-subscription__select":{"footer-subscription":["t595"]},"footer-subscription__select-option":{emails:["t596"]},"footer-subscription__greeting":{"footer-subscription":["t597"]},"header2-user":{"*":["t602","t598"]},"header2-user__button":{"*":["t601","t600","t599"]},"header2-user__origin":{"*":["t603"]},"header2-user-menu":{"*":["t604"]},"header2-user-menu-market":{"*":["t605"]},"header2-user-menu-common":{"*":["t606"]},"region-select-form":{"*":["t607"]},"region-suggest":{"*":["t608"]},"region-suggest__list":{"*":["t609"]},"region-suggest__list-item":{"*":["t610"]},"region-form-opener__modal":{"*":["t611"]},"n-region-notification":{region:["t612"]},"n-region-notification__header":{region:["t613"]},"n-region-notification__actions":{region:["t614"]},"n-region-notification__back-to":{region:["t615"]},"n-region-notification_layout_init":{region:["t616"]},"n-region-notification_layout_auto":{region:["t617"]},"n-region-notification_layout_manual":{region:["t618"]},"n-w-reviews":{"*":["t621","t620"]},"n-w-reviews__pager":{"*":["t623","t622"]},"n-reviews-toolbar":{"*":["t624"]},"n-reviews-toolbar__title":{"*":["t627","t626","t625"]},"n-reviews-toolbar__title-count":{"*":["t629","t628"]},"n-reviews-toolbar__sort":{"*":["t630"]},"n-reviews-toolbar__sort-item":{"*":["t631"]},"n-reviews-toolbar__sort-link":{link:["t632"]},"n-reviews-toolbar__filter":{"*":["t634","t633"]},"n-reviews-add-button":{"*":["t636","t635"]},"n-product-review-item":{"*":["t637"]},"n-product-review-item__footer":{"*":["t638"]},"n-product-review-item__footer-links":{"*":["t639"]},"n-product-review-item__remove-form":{"*":["t640"]},"n-product-review-item__caption":{"*":["t641"]},"n-product-review-item__status":{"*":["t642"]},"n-product-review-item__status-text":{"*":["t648","t647","t646","t645","t644","t643"]},"n-product-review-item__decline":{"*":["t651","t650","t649"]},"n-product-review-item-resolved-status-hint":{"*":["t652"]},"n-product-review-item__rating":{"*":["t653"]},"n-product-review-item__rating-badge":{"*":["t655","t654"]},"n-product-review-item__user":{"*":["t658","t657","t656"]},"n-product-review-item__user-name":{"*":["t660","t659"]},"n-product-review-item__user-reviews":{"*":["t661"]},"n-product-review-item__user-img":{"*":["t662"]},"n-product-review-item__user-social-icons":{"*":["t663"]},"n-product-review-item__user-social-icon":{"*":["t664"]},"n-product-review-item__user-cpa":{"*":["t665"]},"n-product-review-item__verdict":{"*":["t666"]},"n-product-review-item__order-number":{"*":["t667"]},"n-review-voting":{votes:["t668"]},"n-review-photos":{"*":["t669"]},"n-review-photos__item":{photos:["t670"]},"n-gallery-popup-review":{data:["t671"]},"n-gallery-popup":{data:["t672"]},"n-gallery-popup__item":{pictures:["t673"]},"n-gallery-popup__thumb-item":{pictures:["t674"]},"n-gallery-popup__image":{"*":["t676","t675"]},"n-comments-list":{"*":["t677"]},"n-comment":{"*":["t678"]},"n-comment__body":{body:["t679"]},"n-comment__footer":{"*":["t680"]},"n-comments-list__exposer-show":{"*":["t681"]},"n-shop-review-comments":{"*":["t682"]},"n-shop-review-comment":{"*":["t684","t683"]},"n-shop-review-comment__reply":{"*":["t685"]},"n-shop-review-reply-form":{"*":["t686"]},"n-product-rating-stat":{gradesDistribution:["t687"]},"n-product-rating-stat__title":{"*":["t688"]},"n-product-rating-stat__rating-review":{grades:["t689"]},"n-product-rating-stat__rating-review_link":{"*":["t691","t690"]},"n-product-rating-stat__rating-review-value":{"*":["t692"]},"n-product-rating-stat__rating-review-count":{"*":["t693"]},"n-product-rating-stat__all-button":{"*":["t695","t694"]},"n-review-factors-summary":{"*":["t696"]},"n-review-factors-summary__recommend":{"*":["t697"]},"n-review-factors-summary-rating":{"*":["t698"]},"n-pager":{pager:["t699"]},"n-pager__wrapper":{pager:["t700"]},"n-pager__button-prev":{pager:["t701"]},"n-pager__button-next":{pager:["t702"]},"n-pager__buttons":{pager:["t703"]},"n-pager__page-button":{pager:["t704"]},"n-pager__link":{link:["t705"]},"n-pager__button":{pager:["t706"]},"n-pager__select":{pager:["t707"]},"n-pager__select__button":{pager:["t708"]},"n-pager-more":{pager:["t709"]},"n-product-video":{"n-w-product-video":["t711"]},"n-product-video__title":{"*":["t713","t712"]},"n-product-video-mini":{"n-w-product-video":["t714"]},"n-product-video__link-more":{"*":["t715"]},"n-product-video__link-more-text":{"*":["t719","t718","t717","t716"]},"n-product-video__link-show-all":{"n-w-product-video":["t720"]},"n-product-video__player":{videos:["t721"]},"n-product-video__player-big":{videos:["t722"]},"n-product-video__player-small":{"*":["t723"]},"n-product-video__sidebar":{"n-w-product-video":["t725","t724"]},"n-product-video__sidebar-item":{"*":["t726"]},"n-product-video__video-search-link":{"n-w-product-video":["t727"]},"n-product-video__complain-popup":{"*":["t728"]},player2:{"*":["t729"]},sandbox:{"*":["t730"]},"n-w-shop-jur-info__shop":{"*":["t732"]},"product-spec-hint":{ads:["t733"],options:["t733"]},"n-w-last-viewed-offer":{"*":["t734"]},"n-w-last-viewed-offer__headtitle":{"*":["t736","t735"]},"n-w-last-viewed-offer__image":{"*":["t737"]},"n-w-last-viewed-offer__header":{"*":["t739","t738"]},"n-product-default-offer":{"*":["t742","t741","t740"]},"n-product-default-offer__present":{gift:["t743"]},"n-product-default-offer__present-rule":{"*":["t744"]},"n-product-default-offer__desc":{"*":["t745"]},"n-product-default-offer__desc-shop":{"*":["t746"]},"n-product-default-offer__features":{"*":["t747"]},"n-product-default-offer__features_promoted":{"*":["t748"]},"n-product-default-offer__feature-vendor":{"*":["t749"]},"n-prepayment_promoted":{"*":["t751","t750"]},"n-product-default-offer__price":{"*":["t752"]},"n-product-default-offer__price-mini":{"*":["t753"]},"n-product-default-offer__bundle-limit":{"*":["t754"]},"n-product-default-offer__bundle-limit-mini":{"*":["t755"]},"n-product-default-offer__specs":{"*":["t756"]},"n-product-default-offer__title-popup":{"*":["t757"]},"n-product-default-offer__shop-mini":{"*":["t758"]},"n-product-default-offer_viewType_mini":{"*":["t760","t759"]},"n-product-default-offer_view-type_collections":{"*":["t761"]},"n-product-default-offer-cpa2":{"*":["t762"]},"n-product-default-offer-cpa2__action":{"*":["t763"]},"n-product-default-offer-cpa2__shop":{"*":["t764"]},"n-product-best-sale":{"*":["t766","t765"]},"n-product-price-cpa2":{"*":["t767"]},"n-product-in-stock":{"*":["t768"]},"n-product-delivery-cpa2":{"*":["t769"]},"n-product-badges":{"*":["t770"]},"n-gallery-popup-product":{data:["t771"]},"n-filter-block":{filters:["t773","t772"]},"n-filter-block__name":{filters:["t775","t774"]},"n-filter-block__image":{filters:["t776"]},"n-filter-block__body_list_enum":{values:["t777"]},"n-filter-block__body_checkbox":{values:["t778"]},"n-filter-block__body_list_more":{"*":["t779"]},"n-filter-block__body_list_more_suggest":{"*":["t780"]},"n-filter-block__body_list_button":{"*":["t781"]},"n-filter-block__list-items":{"*":["t782"]},"n-filter-block__body_list_values":{values:["t783"]},"n-filter-block__list_not-found":{"*":["t784"]},"n-filter-block__body_list_sizes_unit-names":{units:["t785"]},"n-filter-block__body_list_sizes_unit-values":{units:["t786"]},"n-filter-block__body_list_enum-color":{values:["t787"]},"n-filter-block__body_color-checkbox":{values:["t788"]},"n-filter-block__body_list_enum-sorted":{"*":["t789"]},"n-filter-enum-sorted":{"*":["t790"]},"n-filter-enum-sorted__item-wrapper":{"*":["t791"]},"n-filter-enum-sorted__item":{"*":["t792"]},"n-filter-block__body_boolean_rating":{values:["t793"]},"n-filter-block__body_boolean_delivery":{values:["t794"]},"n-filter-block__body_boolean_delivery-interval":{values:["t795"]},"n-filter-block__body_boolean_bool":{values:["t796"]},"n-filter-block__body_boolean_cpa":{"*":["t797"]},"n-filter-block-hint":{"*":["t800","t799","t798"]},"n-filter-block-hint__activator":{"*":["t801"]},"n-filter-block-hint__popup":{"*":["t802"]},"n-filter-block__body_boolean_enum":{values:["t803"]},"n-filter-block__body_number-set":{distinctValues:["t804"]},"n-filter-picker":{"*":["t805"]},"n-filter-picker__item":{"*":["t806"]},"n-filter-picker__placeholder":{"*":["t830","t807"]},"n-filter-panel-inline":{filters:["t808"]},"n-filter-panel-inline__current-value":{"*":["t811","t810","t809"]},"n-filter-panel-inline__placeholder":{"*":["t812"]},"n-filter-panel-inline-3000":{"*":["t813"]},"n-filter-panel-inline-3000__filter":{"*":["t814"]},"n-filter-panel-inline-3000__filter-name":{"*":["t815"]},"n-filter-panel-inline-3000__title":{"*":["t816"]},"n-filter-panel-inline-3000__name":{"*":["t817"]},"n-filter-panel-inline-3000__current-value":{"*":["t821","t820","t819","t818"]},"n-filter-picker-toolbar":{"*":["t822"]},"n-filter-picker-toolbar__filter":{"*":["t823"]},"n-filter-picker-toolbar__filter-name":{"*":["t824"]},"n-filter-picker-toolbar__title":{"*":["t825"]},"n-filter-picker-toolbar__name":{"*":["t826"]},"n-filter-picker-toolbar__current-value":{"*":["t828","t827"]},"n-filter-picker-inline":{"*":["t829"]},"n-product-human-description":{"*":["t831"]},"n-product-human-description-spec":{"*":["t832"]},"n-product-human-description-spec__item":{"*":["t833"]},"n-product-top-offers-list":{"*":["t834"]},"n-product-top-offers-list__body":{"*":["t836","t835"]},"n-product-top-offers-list__title":{"*":["t838","t837"]},"n-product-top-offer":{"*":["t839"]},"n-product-top-offer__specs":{"*":["t840"]},"n-product-top-offer__specs-by-filter":{"*":["t841"]},"n-product-top-offer-price":{"*":["t842"]},"n-product-top-offer-price-text":{"*":["t844","t843"]},"n-product-top-offer-button":{"*":["t845"]},"n-product-top-offer-shop":{"*":["t846"]},"n-product-top-offer-shop-rating":{"*":["t847"]},"n-product-top-offer-delivery":{"*":["t848"]},"n-product-top-offer__item_type_picture":{"*":["t849"]},"n-ymaps":{"*":["t850"]},"n-address":{address:["t851"]},"n-product-map":{search:["t852"]},"n-product-map__offers-list":{"*":["t853"]},"n-product-map__offer":{"*":["t854"]},"n-product-map__snippet-price":{"*":["t856","t855"]},"n-product-map__outlet-address":{address:["t857"]},"n-map-address-point__work":{"*":["t858"]},"n-map-address-point__home":{"*":["t859"]},"n-settings-notifications-popup":{"*":["t860"]},"n-settings-notifications-popup__wrap":{"*":["t861"]},"n-settings-notifications-popup__content":{"*":["t862"]},"n-settings-notifications-popup__option":{"*":["t863"]},"n-settings-notifications-popup__hint":{"*":["t864"]},"n-settings-notifications-popup__success":{"*":["t865"]},"n-settings-notifications-popup__fail":{"*":["t866"]}},zi.imports=[],yr.register("page",zi)}();var BEMHTML;!function(t){function e(e){var n={},r=function(e,n){return function(r){if("object"==typeof n&&"undefined"!=typeof e)e.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,i.bemhtml=r()}}(function(){return function t(e,n,r){function i(a,o){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(t){this.bemxjst=t,this.jsClass=null,this.tag=new s(this,"tag"),this.attrs=new s(this,"attrs"),this.js=new s(this,"js"),this.mix=new s(this,"mix"),this.bem=new s(this,"bem"),this.cls=new s(this,"cls"),a.apply(this,arguments)}var i=t("inherits"),s=t("../bemxjst/match").Match,a=t("../bemxjst/entity").Entity;i(r,a),n.Entity=r,r.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},r.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"js"===t||"mix"===t||"bem"===t||"cls"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new s(this,t))},r.prototype.defaultBody=function(t){var e,n=this.tag.exec(t);t.ctx.js!==!1&&(e=this.js.exec(t));var r=this.bem.exec(t),i=this.cls.exec(t),s=this.mix.exec(t),a=this.attrs.exec(t),o=this.content.exec(t);return this.bemxjst.render(t,this,n,e,r,i,s,a,o)}},{"../bemxjst/entity":5,"../bemxjst/match":8,inherits:11}],2:[function(t,e,n){function r(t){o.apply(this,arguments);var e="undefined"!=typeof t.xhtml&&t.xhtml;this._shortTagCloser=e?"/>":">",this._elemJsInstances=t.elemJsInstances,this._omitOptionalEndTags=t.omitOptionalEndTags,this._unquotedAttrs="undefined"!=typeof t.unquotedAttrs&&t.unquotedAttrs}var i=t("inherits"),s=t("../bemxjst/utils"),a=t("./entity").Entity,o=t("../bemxjst");i(r,o),e.exports=r,r.prototype.Entity=a,r.prototype.runMany=function(t){var e="",n=this.context,r=n.position,i=n._notNewList;if(i?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var s=0;s<t.length;s++)e+=n._flush(this._run(t[s]));else for(var s=0;s<t.length;s++)e+=this._run(t[s]);return i||(n.position=r),e},r.prototype.render=function(t,e,n,r,i,a,o,c,l){var u=t.ctx;if(void 0===n&&(n="div"),!n)return this.renderNoTag(t,r,i,a,o,c,l);var d="<"+n,p=u.js;p!==!1&&(r===!0&&(r={}),r&&r!==u.js?p!==!0&&(r=s.extend(p,r)):p===!0&&(r={}));var h;r&&(h={},h[e.jsClass]=r);var f=i;void 0===f&&(f=void 0===u.bem?e.block||e.elem:u.bem),f=!!f,void 0===a&&(a=u.cls);var _=h&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!f&&!a)return this.renderClose(d,t,n,c,f,u,l);d+=" class=";var m="";if(f){if(m+=e.jsClass,m+=this.buildModsClasses(e.block,e.elem,e.elem?t.elemMods:t.mods),u.mix&&o&&o!==u.mix&&(o=[].concat(o,u.mix)),o){var v=this.renderMix(e,o,h,_);m+=v.out,h=v.jsParams,_=v.addJSInitClass}a&&(m+=" "+("string"==typeof a?s.attrEscape(a).trim():a))}else a&&(m+=a.trim?s.attrEscape(a).trim():a);return _&&(m+=" i-bem"),d+=this._unquotedAttrs&&s.isUnquotedAttr(m)?m:'"'+m+'"',f&&h&&(d+=" data-bem='"+s.jsAttrEscape(JSON.stringify(h))+"'"),this.renderClose(d,t,n,c,f,u,l)};var c={html:1,head:1,body:1,p:1,ul:1,ol:1,li:1,dt:1,dd:1,colgroup:1,thead:1,tbody:1,tfoot:1,tr:1,th:1,td:1,option:1,rb:1,rt:1,rtc:1,rp:1,optgroup:1};r.prototype.renderClose=function(t,e,n,r,i,a,o){var l=t;return l+=this.renderAttrs(r,a),s.isShortTag(n)?(l+=this._shortTagCloser,this.canFlush&&(l=e._flush(l))):(l+=">",this.canFlush&&(l=e._flush(l)),(o||0===o)&&(l+=this.renderContent(o,i)),this._omitOptionalEndTags&&c.hasOwnProperty(n)||(l+="</"+n+">")),this.canFlush&&(l=e._flush(l)),l},r.prototype.renderAttrs=function(t,e){var n="";if(s.isObj(t)||s.isObj(e.attrs)){t=s.extend(t,e.attrs);for(var r in t){var i=t[r];if(void 0!==i&&i!==!1&&null!==i)if(i===!0)n+=" "+r;else{var a=s.isSimple(i)?i:this.context.reapply(i);n+=" "+r+"=",n+=this._unquotedAttrs?s.isUnquotedAttr(a)?a:'"'+a+'"':'"'+s.attrEscape(a)+'"'}}}return n},r.prototype.renderMix=function(t,e,n,r){var i={},s=this.context,a=n,o=r;i[t.jsClass]=!0,Array.isArray(e)||(e=[e]);for(var c=this.classBuilder,l="",u=0;u<e.length;u++){var d=e[u];if(d){"string"==typeof d&&(d={block:d,elem:void 0});var p=!1;d.elem?p=d.elem!==t.elem&&d.elem!==s.elem||d.block&&d.block!==t.block:d.block&&(p=!(d.block===t.block&&d.mods)||d.mods&&t.elem);var h=d.block||d._block||s.block,f=d.elem||d._elem||s.elem,_=c.build(h,f),m=d.elem||d._elem||(d.block?void 0:s.elem);if(p&&(l+=" "+c.build(h,m)),l+=this.buildModsClasses(h,m,d.elem||!d.block&&(d._elem||s.elem)?d.elemMods:d.mods),d.js&&(a||(a={}),a[c.build(h,d.elem)]=d.js===!0?{}:d.js,o||(o=h&&!d.elem)),p&&!i[_]){i[_]=!0;var v=this.entities[_];if(v){var y=s.block,b=s.elem,g=v.mix.exec(s);if(s.elem=b,s.block=y,g)for(var k=0;k<g.length;k++){var w=g[k];if(w&&(!w.block&&!w.elem||!i[c.build(w.block,w.elem)])){if(w.block)continue;w._block=h,w._elem=f,e=e.slice(0,u+1).concat(w,e.slice(u+1))}}}}}}return{out:l,jsParams:a,addJSInitClass:o}},r.prototype.buildModsClasses=function(t,e,n){if(!n)return"";var r,i="";for(r in n)if(n.hasOwnProperty(r)&&""!==r){var s=n[r];if(s||0===s){"boolean"!=typeof s&&(s+="");var a=this.classBuilder;i+=" "+(e?a.buildElemClass(t,e,r,s):a.buildBlockClass(t,r,s))}}return i},r.prototype.renderNoTag=function(t,e,n,r,i,s,a){return a||0===a?this._run(a):""}},{"../bemxjst":7,"../bemxjst/utils":10,"./entity":1,inherits:11}],3:[function(t,e,n){function r(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}n.ClassBuilder=r,r.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},r.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return e!==!0&&(n+=this.modDelim+e),n},r.prototype.buildBlockClass=function(t,e,n){var r=t;return n&&(r+=this.buildModPostfix(e,n)),r},r.prototype.buildElemClass=function(t,e,n,r){var i=this.buildBlockClass(t)+this.elemDelim+e;return r&&(i+=this.buildModPostfix(n,r)),i},r.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],4:[function(t,e,n){function r(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=t.options.escapeContent===!0,this._onceRef={}}var i=t("./utils");n.Context=r,r.prototype._flush=null,r.prototype.isSimple=i.isSimple,r.prototype.isShortTag=i.isShortTag,r.prototype.extend=i.extend,r.prototype.identify=i.identify,r.prototype.xmlEscape=i.xmlEscape,r.prototype.attrEscape=i.attrEscape,r.prototype.jsAttrEscape=i.jsAttrEscape,r.prototype.isFirst=function(){return 1===this.position},r.prototype.isLast=function(){return this.position===this._listLength},r.prototype.generateId=function(){return i.identify(this.ctx)},r.prototype.reapply=function(t){return this._bemxjst.run(t)}},{"./utils":10}],5:[function(t,e,n){function r(t,e,n,r){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new a(this),this.content=new a(this,"content"),this.rest={},this.init(e,n),this.initModes(r)}function i(){return this.ctx.content}var s=t("./utils"),a=t("./match").Match,o=t("./tree"),c=o.Template,l=o.PropertyMatch,u=o.CompilerOptions;n.Entity=r,r.prototype.init=function(t,e){this.block=t,this.elem=e},r.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],r=n.predicates.length-1;r>=0;r--){var i=n.predicates[r];if(i instanceof l&&"_mode"===i.key){n.predicates.splice(r,1),this._initRest(i.value),this.rest[i.value].push(n);break}}r===-1&&this.def.push(n);for(var r=n.predicates.length-1;r>=0;r--){var i=n.predicates[r];i instanceof u&&(this.options=s.extend(this.options,i.options))}}},r.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var r=e[n];t.rest[r]&&this.rest[r].prepend(t.rest[r])}e=Object.keys(t.rest);for(var n=0;n<e.length;n++){var r=e[n];this.rest[r]||(this._initRest(r),this.rest[r].prepend(t.rest[r]))}},r.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},r.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new c([],i)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new c([],function(){return t.defaultBody(this)}))}}},{"./match":8,"./tree":9,"./utils":10}],6:[function(t,e,n){function r(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,n.BEMXJSTError=r},{}],7:[function(t,e,n){function r(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){c.call(this,t)},i(this.contextConstructor,c),this.context=null,this.classBuilder=new l(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}var i=t("inherits"),s=t("./tree").Tree,a=t("./tree").PropertyMatch,o=t("./tree").AddMatch,c=t("./context").Context,l=t("./class-builder").ClassBuilder,u=t("./utils");e.exports=r,r.prototype.locals=s.methods.concat("local","applyCtx","applyNext","apply"),r.prototype.compile=function(t){function e(){return a._run(a.context.ctx)}function n(t,n){return n?a.local(n,function(){return a.local({ctx:t},e)}):a.local({ctx:t},e)}function r(t,e){return a.applyMode(t,e)}function i(t){return function(e){return a.local(t,e)}}var a=this,o=new s({refs:{applyCtx:n,local:i,apply:r}}),c=this.recompileInput(t),l=o.build(c,[i,n,function t(e){return e?a.local(e,t):a.applyNext()},r]);this.tree&&(l={templates:l.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(l.oninit)}),this.tree=l;var u=this.groupEntities(l.templates);u=this.transformEntities(u),this.entities=u,this.oninit=l.oninit},r.prototype.recompileInput=function(t){var e=r.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var n=t.toString();return n=n.replace(/^function[^{]+{|}$/g,""),n=new Function(e.join(", "),n)},r.prototype.groupEntities=function(e){for(var n={},r=0;r<e.length;r++){var i,s=e[r].clone(),c=null;i=void 0;for(var l=0;l<s.predicates.length;l++){var u=s.predicates[l];if(u instanceof a||u instanceof o){if("block"===u.key)c=u.value;else{if("elem"!==u.key)continue;i=u.value}s.predicates.splice(l,1),l--}}if(null===c){for(var d="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ",l=0;l<s.predicates.length;l++){var u=s.predicates[l];0!==l&&(d+="\n     * "),d+="_mode"===u.key?u.value+"()":Array.isArray(u.key)?u.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+u.key[1]+"', '"+u.value+"')":u.value&&u.key?u.key+"('"+u.value+"')":"match(…)"}throw d+="\n    And template body: \n    ("+("function"==typeof s.body?s.body:JSON.stringify(s.body))+")","undefined"==typeof BEMXJSTError&&(BEMXJSTError=t("./error").BEMXJSTError),new BEMXJSTError(d)}var p=this.classBuilder.build(c,i);n[p]||(n[p]=[]),n[p].push(s)}return n},r.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],s=this.classBuilder.split(i),a=s[0],o=s[1];"*"===o&&e.push(a),t[i]=new this.Entity(this,a,o,t[i])}if(t.hasOwnProperty("*")){for(var c=t["*"],r=0;r<n.length;r++){var i=n[r];"*"!==i&&t[i].prepend(c)}this.defaultEnt.prepend(c),this.defaultElemEnt.prepend(c)}for(var r=0;r<e.length;r++){for(var a=e[r],l=this.classBuilder.build(a,"*"),c=t[l],r=0;r<n.length;r++){var i=n[r];if(i!==l){var u=t[i];u.block===a&&void 0!==u.elem&&t[i].prepend(c)}}this.defaultElemEnt.prepend(c)}for(var r=0;r<n.length;r++){var i=n[r];t[i].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},r.prototype._run=function(t){var e;return e=void 0===t||""===t||null===t?this.runEmpty():Array.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||"undefined"!=typeof t.block||"undefined"!=typeof t.elem||"undefined"!=typeof t.cls||"undefined"!=typeof t.attrs?u.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t.html)},r.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var r=this._run(t);return this.canFlush&&(r=this.context._flush(r)),this.match=e,this.context=n,r},r.prototype.runEmpty=function(){return this.context._listLength--,""},r.prototype.runUnescaped=function(t){return this.context._listLength--,""+t},r.prototype.runSimple=function(t){this.context._listLength--;var e="";return(t&&t!==!0||0===t)&&(e+="string"==typeof t&&this.context.escapeContent?u.xmlEscape(t):t),e},r.prototype.runOne=function(t){var e=this.context,n=e.ctx,r=e.block,i=e._currBlock,s=e.elem,a=e.mods,o=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===r&&t.elem||(e.mods={})):t.elem?i&&(e.block=i):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var c=e.block||"",l=e.elem;c||l?e.position++:e._listLength--,this.depth++;var u=this.classBuilder.build(c,l),d=!1,p=this.entities[u];p?this.canFlush&&!p.canFlush&&(d=!0,this.canFlush=!1):(p=this.defaultEnt,void 0!==l&&(p=this.defaultElemEnt),p.init(c,l));var h=this.options.production===!0?this.tryRun(e,p):p.run(e);return e.ctx=n,e.block=r,e.elem=s,e.mods=a,e.elemMods=o,e._currBlock=i,this.depth--,d&&(this.canFlush=!0),h},r.prototype.tryRun=function(t,e){try{return e.run(t)}catch(e){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),e),""}},r.prototype.renderContent=function(t,e){var n=this.context,r=n.position,i=n._listLength,s=n._notNewList;n._notNewList=!1,e&&(n.position=0,n._listLength=1);var a=this._run(t);return n.position=r,n._listLength=i,n._notNewList=s,a},r.prototype.local=function(t,e){for(var n=Object.keys(t),r=[],i=0;i<n.length;i++){for(var s=n[i],a=s.split("."),o=this.context,c=0;c<a.length-1;c++)o=o[a[c]];r.push({parts:a,value:o[a[c]]}),o[a[c]]=t[s]}for(var l=e.call(this.context),i=0;i<r.length;i++){for(var a=r[i].parts,o=this.context,c=0;c<a.length-1;c++)o=o[a[c]];o[a[c]]=r[i].value}return l},r.prototype.applyNext=function(){return this.match.exec(this.context)},r.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(!n)return this.context.ctx[t];if(!e)return n.exec(this.context);var r=this,i=function(){return n.exec(r.context)};return this.local(e,i)},r.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)};var n={};t.BEMContext=this.contextConstructor,n.BEMContext=t.BEMContext;for(var r=0;r<this.oninit.length;r++){var i=this.oninit[r];i(t,n)}}},{"./class-builder":3,"./context":4,"./error":6,"./tree":9,"./utils":10,inherits:11}],8:[function(t,e,n){function r(t,e){
this.template=t,this.key=e.key,this.value=e.value}function i(t,e){this.template=t,this.keys=e.key,this.value=e.value}function s(t,e){this.template=t,this.body=e.body}function a(t){this.template=t,this.wrap=null}function o(t){this.template=t,this.wrap=null}function c(t,e){this.template=t,this.key=e.key,this.value=e.value}function l(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],l=0,u=0;l<this.predicates.length;l++,u++){var d=e.predicates[l];d instanceof p?Array.isArray(d.key)?this.predicates[u]=new i(this,d):this.predicates[u]=new r(this,d):d instanceof _?(u--,n.push(new o(this))):d instanceof h?this.predicates[l]=new c(this,d):d instanceof m?this.predicates[u]=new s(this,d):d instanceof f?(u--,n.push(new a(this))):u--}for(var l=0;l<n.length;l++,u++)this.predicates[u]=n[l];this.predicates.length!==u&&(this.predicates.length=u)}function u(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}var d=t("./tree"),p=d.PropertyMatch,h=d.AddMatch,f=d.WrapMatch,_=d.ExtendMatch,m=d.CustomMatch;r.prototype.exec=function(t){return t[this.key]===this.value},i.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(e=e[this.keys[n]],!e)return!1;return e=e[this.keys[n]],this.value===!0?void 0!==e&&""!==e&&e!==!1&&null!==e:String(e)===this.value},s.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},a.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},o.prototype.exec=function(t){var e=this.ext!==t.ctx;return this.ext=t.ctx,e},c.prototype.exec=function(t){return t[this.key]===this.value},n.MatchTemplate=l,n.Match=u,u.prototype.clone=function(t){var e=new u(t,this.modeName);return e.templates=this.templates.slice(),e.mask=this.mask.slice(),e.maskSize=this.maskSize,e.count=this.count,e},u.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},u.prototype.push=function(t){this.templates.push(new l(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},u.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(t){this.thrownError=t}},u.prototype.exec=function(t){for(var e,n=this.checkDepth(),r=this.maskOffset,i=this.mask[r],s=1,a=0;a<this.count;a++){if(0===(i&s)){e=this.templates[a];for(var o=0;o<e.predicates.length;o++){var c=e.predicates[o];if(!c.exec(t))break}if(o===e.predicates.length)break}1073741824===s?(r++,i=this.mask[r],s=1):s<<=1}if(a===this.count)return t.ctx[this.modeName];var l=i,u=this.bemxjst.match;this.mask[r]|=s,this.bemxjst.match=this,this.thrownError=null;var d;d="function"==typeof e.body?this.tryCatch(e.body,t):e.body,this.mask[r]=l,this.bemxjst.match=u,this.restoreDepth(n);var p=this.thrownError;if(null!==p)throw this.thrownError=null,p;return d},u.prototype.checkDepth=function(){if(this.depth===-1)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},u.prototype.restoreDepth=function(t){t!==-1&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":9}],9:[function(t,e,n){function r(t,e){this.predicates=t,this.body=e}function i(){}function s(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var r=e[n];r instanceof i?this.conditions.push(r):r===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=r}}function a(t){i.call(this),this.refs=t}function o(t){i.call(this),this.refs=t}function c(t){i.call(this),this.refs=t}function l(t,e){i.call(this),this.mode=t,this.refs=e}function u(t){i.call(this),this.options=t}function d(t,e){i.call(this),this.key=t,this.value=e}function p(t){i.call(this),this.body=t}function h(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var r=e[n];this.boundBody[h.methods[n]]=r}this.queue=[],this.templates=[],this.initializers=[]}function f(t,e,n){var r=t[n],i=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return r.apply(t,arguments)}:function(){return r.apply(t,arguments),i}:function(){var e=r.apply(t,arguments),s=t.queue.pop(),a=t.queue[t.queue.length-1];return a.conditions=a.conditions.concat(s.conditions),a.children=a.children.concat(s.children),"replace"===n||"extend"===n||"wrap"===n?e:i}}var _=t("minimalistic-assert"),m=t("inherits");n.Template=r,r.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){var n=this.predicates[e];t=n.wrapBody(t)}this.body=t},r.prototype.clone=function(){return new r(this.predicates.slice(),this.body)},n.MatchBase=i,i.prototype.wrapBody=function(t){return t},m(a,i),n.WrapMatch=a,a.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},m(o,i),n.ReplaceMatch=o,o.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},m(c,i),n.ExtendMatch=c,c.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var r={},i=Object.keys(t),s=0;s<i.length;s++)r[i[s]]=t[i[s]];return n(r)(function(){return e(this.ctx)})}:function(){for(var r={},i=t.call(this),s=Object.keys(i),a=0;a<s.length;a++)r[s[a]]=i[s[a]];return n(r)(function(){return e(this.ctx)})}},m(l,i),n.AddMatch=l,l.prototype.wrapBody=function(t){return this[this.mode+"WrapBody"](t)},l.prototype.appendContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,r=e.apply;return"function"!=typeof t?function(){return[r("content"),t]}:function(){return[r("content"),n(t.call(this,this,this.ctx))]}},l.prototype.prependContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,r=e.apply;return"function"!=typeof t?function(){return[t,r("content")]}:function(){return[n(t.call(this,this,this.ctx)),r("content")]}},m(u,i),n.CompilerOptions=u,m(d,i),n.PropertyMatch=d,m(p,i),n.CustomMatch=p,n.Tree=h,h.methods=["match","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions","appendContent","prependContent"],h.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},h.prototype.methods=function(t){for(var e=new Array(h.methods.length),n=0;n<e.length;n++){var r=h.methods[n];e[n]=f(this,t,r)}return e},h.prototype.flush=function(t,e){var n;n=e.conditions?t.concat(e.conditions):e.conditions;for(var i=0;i<e.children.length;i++){var a=e.children[i];if(a instanceof s)this.flush(n,e.children[i]);else{var o=new r(t,a);o.wrap(),this.templates.push(o)}}},h.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new s(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},h.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(n=new p(n)),_(n instanceof i,"Wrong .match() argument"),t[e]=n}return this.queue.push(new s(this,t)),this.boundBody},h.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},h.prototype.xjstOptions=function(t){return this.queue.push(new s(this,[new u(t)])),this.boundBody},h.prototype.block=function(t){return this.match(new d("block",t))},h.prototype.elem=function(t){return this.match(new d("elem",t))},h.prototype.mode=function(t){return this.match(new d("_mode",t))},h.prototype.mod=function(t,e){return this.match(new d(["mods",t],void 0===e||String(e)))},h.prototype.elemMod=function(t,e){return this.match(new d(["elemMods",t],void 0===e||String(e)))},h.prototype.def=function(){return this.applyMode(arguments,"default")},h.prototype.tag=function(){return this.applyMode(arguments,"tag")},h.prototype.attrs=function(){return this.applyMode(arguments,"attrs")},h.prototype.cls=function(){return this.applyMode(arguments,"cls")},h.prototype.js=function(){return this.applyMode(arguments,"js")},h.prototype.bem=function(){return this.applyMode(arguments,"bem")},h.prototype.mix=function(){return this.applyMode(arguments,"mix")},h.prototype.content=function(){return this.applyMode(arguments,"content")},h.prototype.appendContent=function(){return this.content.apply(this,arguments).match(new l("appendContent",this.refs))},h.prototype.prependContent=function(){return this.content.apply(this,arguments).match(new l("prependContent",this.refs))},h.prototype.wrap=function(){return this.def.apply(this,arguments).match(new a(this.refs))},h.prototype.replace=function(){return this.def.apply(this,arguments).match(new o(this.refs))},h.prototype.extend=function(){return this.def.apply(this,arguments).match(new c(this.refs))},h.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:11,"minimalistic-assert":12}],10:[function(t,e,n){function r(){return m+ ++h}var i="&amp;",s="&lt;",a="&gt;",o="&quot;",c="&#39;",l=/[&<>]/;n.xmlEscape=function(t){var e=""+t,n=l.exec(e);if(!n)return e;var r,o="",c=0,u=0;for(c=n.index;c<e.length;c++){switch(e.charCodeAt(c)){case 38:r=i;break;case 60:r=s;break;case 62:r=a;break;default:continue}u!==c&&(o+=e.substring(u,c)),u=c+1,o+=r}return u!==c?o+e.substring(u,c):o};var u=/["&]/;n.attrEscape=function(t){var e=""+t,n=u.exec(e);if(!n)return e;var r,s="",a=0,c=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r=o;break;case 38:r=i;break;default:continue}c!==a&&(s+=e.substring(c,a)),c=a+1,s+=r}return c!==a?s+e.substring(c,a):s};var d=/['&]/;n.jsAttrEscape=function(t){var e=""+t,n=d.exec(e);if(!n)return e;var r,s="",a=0,o=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 38:r=i;break;case 39:r=c;break;default:continue}o!==a&&(s+=e.substring(o,a)),o=a+1,s+=r}return o!==a?s+e.substring(o,a):s},n.extend=function(t,e){if(!t||!e)return t||e;var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r};var p={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return p.hasOwnProperty(t)},n.isSimple=function t(e){return!e||e===!0||(!(e.block||e.elem||e.tag||e.cls||e.attrs||!e.hasOwnProperty("html")||!t(e.html))||("string"==typeof e||"number"==typeof e))},n.isObj=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};var h=0,f=+new Date,_="__"+f,m="uniq"+f;n.getUniq=r,n.identify=function(t,e){if(!t)return r();if(e||t[_])return t[_];var n=r();return t[_]=n,n},n.fnToString=function(t){if(!t)return"";if("function"==typeof t){var e=/^function\s*[^{]+{|}$/g,n=/^(_|\(\w|[^=>]+\))\s=>\s{|}$/g;t=t.toString(),t=t.replace(0===t.indexOf("function")?e:n,"")}return t};var v=/^[:\w.-]+$/;n.isUnquotedAttr=function(t){return t&&v.exec(t)}},{}],11:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,e,n){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=r,r.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}]},{},[2])(2)}),e.exports||n.BEMHTML}({},{}),i=new r({});return i.compile(function(t,n,r,i,s,a,o,c,l,u,d,p,h,f,_,m,v,y,b,g,k,w,E,x,M){y(function(t){var e=t.BEMContext.prototype,n=t["i-global"]=e["i-global"]=e.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},e["i-global"]);n._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},n.makePublic=function(t,r){return"object"==typeof t?void(n._public=e.extend(n._public,t)):("undefined"==typeof r&&(r=!0),void(n._public[t]=r))},n.isPublic=function(t){return Boolean(n._public[t])},n.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,r=["ua","by","kz"].indexOf(t)!==-1?"yandex.ru":e;n.tld=t,n["content-region"]=t,n["click-host"]="//clck."+r,n["passport-host"]="https://passport."+r,n["pass-host"]="https://pass."+e,n["social-host"]="https://social."+e,n["export-host"]="https://export."+e},e._iGlobalBackup={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=e.extend({},n)},restore:function(){var t;for(t in n)delete n[t];for(t in this._backup)n[t]=this._backup[t]}}}),r("i-global")(l()(""),c()(function(){var t=this.ctx.params||{},e=this["i-global"];this._iGlobalBackup.exists()?this.ctx.reset!==!1&&this._iGlobalBackup.restore():this._iGlobalBackup.save(),t.tld&&t.tld!==e.tld&&e.setTld(t.tld);for(var n in t)e[n]=t[n];return""})),r("i-global").elem("client").match(function(){return!this["i-global"]&&BEM&&BEM.blocks}).def()(function(){return x({"this['i-global']":BEM.blocks["i-global"]._params})}),r("button")(c()(function(){this.mods;return x()}),l()("button"),t(function(){return this.ctx.url}).tag()("a"),p()(!0),u()(t(function(){return!0})(function(){var t=this.ctx,e={};return e.tabindex=t.tabindex,e}),t(function(){return this.ctx.url})(function(){var t=this.ctx,e=t.attrs,n=x(),r={href:t.url,target:t.target},i=void 0!==Object(e).rel,s=i?String(e.rel):"",a="_blank"===r.target;return a&&(r.rel="noopener",s&&s.indexOf("noopener")===-1&&(e.rel=s+" noopener")),this.extend(n,r)}),t(function(){return!this.ctx.url})(function(){var t=this.ctx,e=x(),n={type:t.type||"button",autocomplete:"off",name:t.name,value:t.value};return this.extend(e,n)})),_()(function(){return{elem:"text",tag:"span",content:this.ctx.content}})),r("button").mod("disabled","yes").attrs()(function(){var t=this.ctx,e={};return t.url?e["aria-disabled"]="true":e.disabled=!0,this.extend(x(),e)}),y(function(t){t.BEMContext.prototype.util||(t.BEMContext.prototype.util={})}),r("button").match(function(){return this._formSelect})(u()(function(){var t=x()||{};t.role="listbox",t.type="button",t["aria-haspopup"]="true",t["aria-expanded"]="false";var e=this._formSelect.tabindex;return"undefined"!=typeof e&&(t.tabindex=e),t}),c()(function(){var t=this.ctx,e=this._formSelect.mods,n=this.mods;return n.arrow="down",e.theme&&(n.theme=e.theme),e.size&&(n.size=e.size),e.disabled&&(n.disabled="yes"),this._initText&&(t.content=this._initText),x({"ctx._theme":!0})}),f()(function(){return[{block:this._formSelect.block,elem:"button"}]})),r("i-ua")(h()(!1),l()("script"),u()(function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}}),_()(function(){var t=[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("");return[{html:t}]})),r("i-ua").content()(function(){var t=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("");return[].concat(x(),{html:t})}),r("select").elem("item").attrs()(function(){return{id:this.generateId()}}),r("popup")(c().match(function(){return!this._popupDefaults})(function(){var t=this.ctx,e=this.mods;if(e.hasOwnProperty("theme")||(e.theme="ffffff"),e.hasOwnProperty("autoclosable")||(e.autoclosable="yes"),e.hasOwnProperty("adaptive")||(e.adaptive="yes"),e.hasOwnProperty("animate")||(e.animate="yes"),t.zIndex){var n=t.attrs||(t.attrs={});n.style=(n.style||"")+";z-index:"+t.zIndex+";"}return M("default",{_popupDefaults:!0})}),_()(function(){return delete this._popupDefaults,[{elem:"under",elemMods:this.ctx.underMods},this.ctx.content]})),r("select")(c()(function(){var t=this.ctx,e=t.id||this.generateId();return x({_controlAttrs:{id:e,name:t.name||e},_formSelect:{block:this.block,mods:this.mods,tabindex:t.tabindex}})}),p()(function(){return this.extend({live:!1},this.ctx.js)}),l()("span"),i("option").tag()("option"),i("option-group").tag()("optgroup"),i("text").tag()("span")),r("select").def()(function(){var t=this.ctx,e=(M("js")||{}).live;if(e){var n=t.content.filter(function(t){return"control"===t.elem})[0].content;if(n.length){var r=function(t){for(var e,n,i=0;i<t.length&&(e=t[i],"option"===e.elem&&Object(e.attrs).selected?n=e:"option-group"===e.elem&&(n=r(e.content)),!n);i++);return n},i=r(n);return i||(i=n[0],"option-group"===i.elem&&(i=i.content[0])),x({_initValue:i.attrs.value,_initText:i.content})}}return x()}),r("select").elem("item").match(function(){return this.elemMods.label}).attrs()(function(){var t=x()||{};return this._labelId&&(t.id=this._labelId),t["aria-hidden"]="true",t}),r("select").elem("group")(u()(function(){return{role:"group","aria-labelledby":this._labelId}}),f()(function(){var t=this.isFirst()?this.isLast()?"both":"first":this.isLast()?"last":"middle";return{elemMods:{position:t}}}),c()(function(){return x({_labelId:this.generateId()})})),r("select").elem("control")(t(function(){return this._initValue}).def()(function(){var t=this.ctx;return t.attrs=this.extend(t.attrs,{value:this._initValue}),x()}),l()("select"),u()(function(){var t={};return["id","name","tabindex"].forEach(function(e){this._controlAttrs[e]&&(t[e]=this._controlAttrs[e])}.bind(this)),t.disabled=Boolean(this.mods.disabled),t.tabindex=-1,t["aria-hidden"]="true",this.ctx.controlAttrs||t})),r("suggest2").elem("items").tag()("ul"),r("suggest2-item")(l()("li"),p()(!0),i("text")(l()(function(){return this.ctx.tag||"span"}),_()(function(){return this.ctx.text?Array.isArray(this.ctx.text)?this.ctx.text.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.text?{html:this.xmlEscape(this.ctx.text)}:"":Array.isArray(this.ctx.content)?this.ctx.content.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""})),i("fact").tag()("span")),r("suggest2-item").elem("highlight")(l()("b"),h()(!1),_()(function(){return this.xmlEscape(this.ctx.content)})),r("i-bem").elem("i18n").def()(function(){if(!this.ctx)return"";var t=this.ctx,e=t.keyset,n=t.key,r=t.params||{};return e||n?(t.content&&(r.content=this.reapply(t.content)),BEM.I18N(e,n,r)):""}),r("button2")(c()(function(){return void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),x()}),t(function(){return void 0===this.ctx.tag}).tag()("button"),p()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),u()(function(){var t=this.ctx,e=Boolean(this.mods.disabled);return{type:"button",autocomplete:"off",id:t.id,title:t.title,name:t.name,value:t.val,tabindex:e?void 0:t.tabindex,disabled:e,"aria-disabled":e&&"true"}}),t(function(){return!this.ctx.content}).content()(function(){var t=this.ctx;return[t.icon&&{elem:"icon",icon:t.icon},t.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:t.iconLeft},t.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:t.iconRight},void 0!==t.text&&(this.isSimple(t.text)?{elem:"text",content:{html:this.xmlEscape(t.text)}}:this.extend(t.text,{elem:"text"}))].filter(Boolean)})),r("button2").elem("text").tag()("span"),r("image")(l()("img"),u()(function(){var t=this.ctx,e={src:"https://yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""};return t.url&&(e.src=t.url),["alt","width","height"].forEach(function(n){t[n]&&(e[n]=t[n])}),e})),r("suggest2-item").mod("interact","link")(_()(function(){return{elem:"link",url:this.ctx.url,target:this.ctx.target||"_blank",content:this.ctx.content}}),t(function(){return"nav"===this.mods.type||"icon"===this.mods.type}).elem("text").mix()({elemMods:{type:"url"}})),r("suggest2-item").elem("link")(l()("a"),u()(function(){return{href:this.ctx.url,target:this.ctx.target}})),r("popup").elem("tail").tag()("i"),y(function(t){function e(t){return"object"==typeof t&&"[object Object]"===i.call(t)}function n(t,r,i){var s,a;t=Object(t),r=Object(r);for(s in r)a=i&&i(t[s],r[s],s),void 0!==a?t[s]=a:e(t[s])&&e(r[s])?t[s]=n(t[s],r[s],i):t[s]=r[s];return t}function r(t,e){return n(t,e,function(t,e,n){if("mix"===n)return[].concat(t,e)})}var i=Object.prototype.toString;t.BEMContext.prototype.util.merge=n,t.BEMContext.prototype.util.mergeBemjson=r}),r("link")(c()(function(){this.mods;return void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),x()}),l()(function(){return void 0!==this.ctx.url?"a":"span"}),p()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),t(function(){return"_blank"===this.ctx.target}).attrs()(function(){var t=this.ctx,e=t.attrs,n=void 0!==Object(e).rel,r=n?String(e.rel):"";return r&&r.indexOf("noopener")===-1&&(e.rel=r+" noopener"),this.extend(x(),{rel:"noopener"})}),u()(function(){var t=this.ctx,e=t.url,n=void 0!==e,r=Boolean(this.mods.disabled);return this.extend(x(),{id:t.id,name:t.name,title:t.title,target:t.target,tabindex:r?void 0:t.tabindex,href:n?this.isSimple(e)?e:this.reapply(e):void 0,role:n?void 0:"button","aria-disabled":r?"true":void 0})}),t(function(){return void 0===this.ctx.content}).content()(function(){var t=this.ctx,e=Boolean(t.text),n=Boolean(t.icon),r=function(t){return function(e){return"string"==typeof e?{html:t(e)}:e}}(this.xmlEscape);return[n&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon"}},t.icon),e&&(this.isSimple(t.text)?n?{elem:"inner",content:r(t.text)}:r(t.text):t.text.block?this.util.mergeBemjson({mix:{block:"link",elem:"inner"}},t.text):this.extend({block:"link",elem:"inner"},t.text))]}),i("inner").tag()("span")),r("link").mod("pseudo","yes")(_().match(function(){return!this.mods.inner})(function(){return{elem:"inner",content:x()}})),y(function(t){t.BEMContext.prototype.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t}}),r("popup-informer").elem("title").content()(function(){return x()}),r("popup-informer").elem("close").mix()({block:"image",mods:{name:"close"}}),r("auth")(c()(function(){var t=this.ctx,e=function(t,e){return t?BEM.blocks["i-global"].param(e):this["i-global"][e]}.bind(this,BEM&&BEM.blocks);return void 0===t.retpath&&(t.retpath=e("retpath")),void 0===t.from&&(t.from=e("passport-msg")),x({_passportHost:e("passport-host")})}),l()("form"),p()(!0),u()(function(){return{method:"post",action:this.ctx.url||this._passportHost+"/auth",role:"form","aria-label":BEM.I18N("auth","auth")}}),s("auto-content")([]),_()(function(){var t=this.ctx;return[t.content||M("auto-content"),["retpath","from","origin","timestamp"].map(function(e){return{elem:"hidden",mix:{elem:e},name:e,val:t[e]}})]})),r("auth").elem("hidden")(l()("input"),u()(function(){return{type:"hidden",name:this.ctx.name,value:this.ctx.val}})),r("auth").elem("social-icon")(l()("i"),_()(" ")),r("dropdown")(p()(!0),f()(function(){return[{mods:{action:"closed"}}]}),i("popup").replace()(function(){var t=this.ctx,e=[{block:"dropdown",elem:"popup"}];return t.mix&&(e=e.concat(t.mix)),{block:"popup",mix:e,mods:this.elemMods,underMods:t.underMods,attrs:t.attrs,js:t.js,content:[{elem:"tail"},{elem:"content",content:t.content}]}})),r("domik")(c().match(function(){return!this.mods.logo})(function(){var t;return this.ctx.lang?t=this.ctx.lang:BEM.blocks&&BEM.blocks["i-global"]?t=BEM.blocks["i-global"].param("lang"):this["i-global"]&&(t=this["i-global"].lang),this.mods.logo=["en","tr","hy","ka"].indexOf(t)!==-1?"en":"ru",x()}),_()(function(){return[{elem:"roof",content:[{elem:"roof-border"},{elem:"roof-body"},{elem:"logo"}]},{elem:"content",content:this.ctx.content}]}),i("roof-border").tag()("i"),i("roof-body").tag()("i"),i("logo").tag()("i")),r("auth").mod("content","auto")(s("auto-content")([{elem:"username"},{elem:"password"},{elem:"row",elemMods:{button:"yes"},content:[{elem:"haunter"},{elem:"button"}]},{elem:"social"},{elem:"row",content:[{elem:"remember"},{elem:"register"}]}]),i("username").content()(function(){return{block:"input",mods:{theme:"normal",size:"m"},name:"login",placeholder:BEM.I18N("auth","login"),content:[{elem:"control",attrs:{"aria-required":"true"}}]}}),i("password").content()(function(){return{block:"input",mods:{theme:"normal",size:"m"},name:"passwd",placeholder:BEM.I18N("auth","password"),content:[{elem:"control",attrs:{type:"password",maxlength:256,"aria-required":"true"}}]}}),i("haunter").content()(function(){return{block:"checkbox",mods:{theme:"normal",size:"m"},checkboxAttrs:{autocomplete:"off",name:"twoweeks",value:"no"},text:BEM.I18N("auth","temporary")}}),i("button").content()(function(){return{block:"button2",mods:{theme:"action",size:"m",type:"submit"},text:BEM.I18N("auth","logon")}}),i("remember").content()(function(){return{block:"button2",mods:{theme:"pseudo",size:"s",type:"link"},url:this.ctx.url||this._passportHost+"/restoration",text:BEM.I18N("auth","remember")}}),i("register").content()(function(){return{block:"button2",mods:{theme:"pseudo",size:"s",type:"link"},url:this.ctx.url||this._passportHost+"/registration",text:BEM.I18N("auth","register")}})),r("auth").mod("view","market").match(function(){return!this.ctx.content})(s("auto-content")([{elem:"username"},{elem:"password"},{elem:"row",elemMods:{button:"yes"},content:[{elem:"haunter"}]},{elem:"row",content:[{elem:"button"}]},{elem:"row",content:[{elem:"remember"},{elem:"register"},{elem:"social"}]}]),i("username").content()(function(){var t=x();return t.mods=this.extend(t.mods,{size:"l"}),t}),i("password").content()(function(){var t=x();return t.mods=this.extend(t.mods,{size:"l"}),t}),i("button").content()(function(){var t=x();return t.mods=this.extend(t.mods,{theme:"blue",size:"l"}),t}),i("remember").content()(function(){var t=x();return t.mods=this.extend(t.mods,{size:"m"}),t}),i("register").content()(function(){var t=x();return t.mods=this.extend(t.mods,{size:"m"}),t})),r("auth").elem("social").attrs()(function(){return{role:"group","aria-label":BEM.I18N("auth","social-log-in")}}),r("input")(l()("span"),s("live")(!1),s("getLive")(function(){var t=M("live"),e=this.ctx.js,n=this.mods,r={autofocus:"yes",width:"content","tap-ahead":"yes"};return e?(void 0!==e.live?Boolean(e.live):t)&&!e.autoFocus&&!Object.keys(r).some(function(t){return n[t]===r[t]}):t}),p()(function(){return{live:this._live}}),c()(function(){var t,e=M("value",{ctx:this.ctx.value}),n=this.ctx.id||this.generateId(),r=this.mods,i=M("getLive",{}),s=this.ctx.placeholder;return r.theme=r.theme||"normal",this.ctx.hasOwnProperty("placeholder")&&(t=this.isSimple(s)?s:this.reapply(s)),x({_inputId:n,_labelId:"label"+n,_hintId:"hint"+n,_name:this.ctx.name||"",_value:e,_inputLink:!0,_iconLeft:this.ctx.icon||this.ctx.iconLeft,_iconRight:this.ctx.iconRight,_disabled:r.disabled,_live:i,_placeholder:t,_hasClear:"no"!==r.clear})}),s("value")("",t(function(){return this.ctx})(function(){return this.reapply(this.ctx)}),t(function(){return this.isSimple(this.ctx)})(function(){return this.ctx}))),r("input").elem("box")(l()("span"),_()(function(){return[this._iconLeft&&{elem:"icon",icon:this._iconLeft,elemMods:{side:"left"}},this._iconRight&&{elem:"icon",icon:this._iconRight,elemMods:{side:"right"}},this._hasClear&&{elem:"clear",elemMods:this._value||0===this._value?{visibility:"visible"}:void 0,content:" "},this.ctx.content].filter(Boolean)})),r("input").elem("control")(l()("input"),u()(function(){var t=this.extend({id:this._inputId,name:this._name,placeholder:this._placeholder},this.ctx.controlAttrs);return(this._value||0===this._value||""===this._value)&&(t.value=this._value),this.mods.disabled&&(t.disabled=!0),this._live&&(t.autocomplete="off"),t["aria-labelledby"]=this._labelId+" "+this._hintId,t}),n()(function(){return{elem:"box",content:this.ctx}})),r("input").elem("clear")(l()("span"),u()(function(){return{unselectable:"on"}}),_().match(function(){return!this.ctx.content})("")),r("input").elem("label")(l()("label"),u()(function(){return{id:this._labelId,for:this._inputId,"aria-hidden":"true"}})),r("i-ua").content()(function(){var t=[";(function(d,e,p){","e=d.documentElement;",'p="placeholder";','e.className+=" i-ua_"+p+(p in d.createElement("input")?"_yes":"_no")',"})(document);"].join("");return[].concat(x()||[],{html:t})}),r("input").elem("hint")(l()("label"),u()(function(){return{id:this._hintId,for:this._inputId,"aria-hidden":"true"}}),c()(function(){return this._iconLeft&&(this.elemMods.lpad="yes"),this._iconRight&&(this.elemMods.rpad="yes"),this._value||0===this._value||(this.elemMods.visibility="visible"),x()})),r("input").elem("control").match(function(){return this._placeholder}).wrap()(function(){return[{elem:"hint",content:this._placeholder},this.ctx]}),r("checkbox")(c()(function(){var t=this.ctx;return t.checkboxAttrs=this.extend({id:this.generateId(),checked:Boolean(this.mods.checked),disabled:Boolean(this.mods.disabled)},t.checkboxAttrs),t.checkboxAttrs["aria-labelledby"]="label"+t.checkboxAttrs.id,x({_labelAttrs:{id:t.checkboxAttrs["aria-labelledby"],for:t.checkboxAttrs.id}})}),l()("span"),p()(function(){return this.extend({live:!1},this.ctx.js)}),t(function(){return void 0===this.ctx.content}).content()(function(){return[this.util.merge({elem:"box",tag:"span",content:[this.util.merge({elem:"control",attrs:this.ctx.checkboxAttrs},this.ctx.control),{elem:"tick",tag:"i"}]},this.ctx.box),void 0!==this.ctx.text&&this.util.merge({elem:"label"},this.isSimple(this.ctx.text)?{content:{html:this.xmlEscape(this.ctx.text)}}:this.ctx.text)].filter(Boolean)})),r("checkbox").elem("control")(l()("input"),u()(function(){return{type:"checkbox",autocomplete:"off"}})),r("checkbox").elem("label")(l()("label"),u()(function(){return this.extend({"aria-hidden":"true"},this._labelAttrs)})),r("button2").mod("type","submit").attrs()(function(){return this.extend(x(),{type:"submit"})}),r("button2").mod("type","link")(c()(function(){return x()}),l()("a"),t(function(){return"_blank"===this.ctx.target}).attrs()(function(){var t=this.ctx,e=t.attrs,n=void 0!==Object(e).rel,r=n?String(e.rel):"";return r&&r.indexOf("noopener")===-1&&(e.rel=r+" noopener"),this.extend(x(),{rel:"noopener"})}),u()(function(){return this.extend(x(),{target:this.ctx.target,href:this.mods.disabled?void 0:this.ctx.url,autocomplete:void 0,type:void 0})}),p()(function(){return this.extend(x(),{_url:this.mods.disabled?this.ctx.url:void 0})})),r("domik").mod("type","popup").attrs()(function(){var t=x()||{};return t.role="dialog",t}),r("popup2").js()(function(){var t=this.ctx;return{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel}}),r("modal")(p()(!0),f()(function(){return{block:"popup2",js:{zIndexGroupLevel:this.ctx.zIndexGroupLevel||20},mods:{autoclosable:this.mods.autoclosable}}}),_()(function(){return{elem:"table",content:{elem:"cell",content:{elem:"content",content:this.ctx.content}}}})),r("modal")(f()(function(){var t={autoclosable:this.mods.autoclosable};return this.mods.closer&&(t.closer="yes"),{
block:"popup2",js:{zIndexGroupLevel:this.ctx.zIndexGroupLevel||32},mods:t}}),_()(function(){var t={block:"popup2",elem:"closer",content:{block:"image",mods:{name:"close"}}};return{elem:"table",content:{elem:"cell",content:[{elem:"content",content:[{elem:"wrapper",content:this.ctx.content},t]},t]}}})),r("dropdown2")(p()(!0),_()(function(){var t=this.ctx.popup;return t=this.util.mergeBemjson({block:"popup2",mods:{theme:"normal",autoclosable:"yes",target:"anchor"}},this.isSimple(t)||"popup2"!==t.block?{content:t}:t),[{elem:"switcher",switcher:this.ctx.switcher,hasTick:this.mods["has-tick"]},t]})),r("dropdown2").mod("switcher","button").elem("switcher").replace()(function(){var t=this.ctx.switcher;return Array.isArray(t)?t:this.util.mergeBemjson({block:"button",mods:{size:this.mods.size,theme:this.mods.theme,disabled:this.mods.disabled,arrow:this.ctx.hasTick?"down":void 0}},this.isSimple(t)?{content:{html:this.xmlEscape(t)}}:t)}),r("page")(m()(function(t,e){return["<!DOCTYPE html>",{elem:"html",content:[{elem:"head",content:e.head},e]}]}),l()("body")),r("page").elem("html")(h()(!1),l()("html")),r("page").elem("head")(h()(!1),l()("head"),_()(function(){var t=this.ctx,e=['<meta charset="utf-8">','<meta http-equiv="X-UA-Compatible" content="IE=edge">'];return t.content&&e.push(t.content),e})),r("page")(i("css")(h()(!1),l()("style"),u()({type:"text/css"})),t(function(){return this.ctx.url}).elem("css")(l()("link"),u()(function(){return{rel:"stylesheet",type:"text/css",href:this.ctx.url}}),_()(""))),r("page")(i("js")(h()(!1),l()("script")),t(function(){return this.ctx.url}).elem("js")(u()(function(){return{charset:"utf-8",src:this.ctx.url}}),_()(""))),r("personal-menu")(p()(!0),_()({block:"personal-menu",elem:"button"})),r("personal-menu").elem("button").replace()(function(){return{block:"button",mods:{size:"m",theme:"normal"},mix:[{block:"personal-menu",elem:"button"},{block:"personal-panel",elem:"button"}],content:[{block:"image",mods:{name:"user"},mix:{block:"button",elem:"icon"},alt:"Мой маркет"},"Мой маркет"]}}),r("personal-menu").elem("popup").replace()(function(){return{block:"popup",mods:{"watch-scroll":"no"},mix:{block:"personal-menu",elem:"popup"},js:{directions:["bottom",{to:"left",axis:"top",tail:{axis:"top",offset:{top:5}},offset:{top:-10}}]},content:[{elem:"tail"},{elem:"content",content:{block:"personal-menu",elem:"menu",params:this.ctx.params||{}}}]}}),y(function(t){var e=t["i-services"]=t.BEMContext.prototype["i-services"]={},n=t["i-global"];e.serviceName=function(t){return BEM.I18N("i-services",t||n.id)},e.serviceUrl=function(t,r){var i=n;return t||(t=i.id),r||(r=i["content-region"]),e._data[t](r)}}),r("i-services").def()(i("name")(function(){return E(this["i-services"].serviceName(this.ctx.id))}),i("url")(function(){return E(this["i-services"].serviceUrl(this.ctx.id,this.ctx.region))})),y(function(t){t["i-services"]._data={404:function(t){switch(t){case"ua":return"http://404.yandex.ua";case"by":return"http://404.yandex.by";case"kz":return"http://404.yandex.kz";case"com":return"http://404.yandex.com";case"tr":return"http://404.yandex.com.tr";default:return"http://404.yandex.ru"}},adresa:function(){return"http://adresa.yandex.ru"},advertising:function(t){switch(t){case"ua":return"https://advertising.yandex.ua";case"by":return"https://advertising.yandex.by";case"kz":return"https://advertising.yandex.kz";case"com":return"https://advertising.yandex.com";default:return"https://advertising.yandex.ru"}},afisha:function(t){switch(t){case"ua":return"https://afisha.yandex.ua";case"by":return"https://afisha.yandex.by";case"kz":return"https://afisha.yandex.kz";default:return"https://afisha.yandex.ru"}},all:function(t){switch(t){case"ua":return"//yandex.ua/all";case"by":return"//yandex.by/all";case"kz":return"//yandex.kz/all";case"com":return"//yandex.com/all";case"tr":return"//yandex.com.tr/all";default:return"//yandex.ru/all"}},api:function(t){switch(t){case"com":return"http://api.yandex.com";default:return"http://api.yandex.ru"}},appsearch:function(){return"//appsearch.yandex.ru"},auto:function(t){switch(t){case"ua":return"https://auto.yandex.ua";default:return"https://auto.yandex.ru"}},autoru:function(){return"https://auto.ru"},avia:function(t){switch(t){case"ua":return"https://avia.yandex.ua";default:return"https://avia.yandex.ru"}},aziada:function(){return"http://aziada2011.yandex.kz"},ba:function(t){switch(t){case"ua":return"https://ba.yandex.ua";case"by":return"https://ba.yandex.by";case"kz":return"https://ba.yandex.kz";case"com":return"https://ba.yandex.com";default:return"https://ba.yandex.ru"}},backapv:function(){return"http://backapv.yandex.ru"},balance:function(){return"https://balance.yandex.ru"},bar:function(t){switch(t){case"ua":return"http://bar.yandex.ua";case"by":return"http://bar.yandex.by";case"kz":return"http://bar.yandex.kz";case"tr":return"http://bar.yandex.com.tr";default:return"http://bar.yandex.ru"}},"bar-ie":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},"bar-ie9":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},bayan:function(){return"http://bayan.yandex.ru"},blogs:function(t){switch(t){case"ua":return"https://blogs.yandex.ua";case"by":return"https://blogs.yandex.by";case"kz":return"https://blogs.yandex.kz";default:return"https://blogs.yandex.ru"}},books:function(){return"http://books.yandex.ru"},browser:function(t){switch(t){case"ua":return"https://browser.yandex.ua";case"by":return"https://browser.yandex.by";case"kz":return"https://browser.yandex.kz";case"com":return"https://browser.yandex.com";case"tr":return"https://browser.yandex.com.tr";default:return"https://browser.yandex.ru"}},calendar:function(){return"https://calendar.yandex.ru"},catalogwdgt:function(){return"https://www.yandex.ru/catalog"},chrome:function(){return"http://chrome.yandex.ru"},city:function(t){switch(t){case"ua":return"https://gorod.yandex.ua";case"by":return"https://gorod.yandex.by";case"kz":return"https://gorod.yandex.kz";case"com":return"https://city.yandex.com";case"tr":return"https://city.yandex.com.tr";default:return"https://gorod.yandex.ru"}},cityday:function(){return"http://cityday.yandex.ru"},collection:function(){return"https://collection.yandex.ru"},company:function(t){switch(t){case"com":return"https://company.yandex.com";case"tr":return"https://company.yandex.com.tr";default:return"https://company.yandex.ru"}},contest:function(t){switch(t){case"com":return"https://contest.yandex.com";default:return"https://contest.yandex.ru"}},delivery:function(){return"https://delivery.yandex.ru"},desktop:function(){return"http://desktop.yandex.ru"},direct:function(t){switch(t){case"ua":return"https://direct.yandex.ua";case"by":return"https://direct.yandex.by";case"kz":return"https://direct.yandex.kz";case"com":return"https://direct.yandex.com";default:return"https://direct.yandex.ru"}},"direct.market":function(){return"https://partner.market.yandex.ru/yandex.market/"},disk:function(t){switch(t){case"ua":return"https://disk.yandex.ua";case"by":return"https://disk.yandex.by";case"kz":return"https://disk.yandex.kz";case"com":return"https://disk.yandex.com";case"tr":return"https://disk.yandex.com.tr";default:return"https://disk.yandex.ru"}},display:function(t){switch(t){case"tr":return"https://display.yandex.com.tr";default:return"https://display.yandex.ru"}},ege:function(t){switch(t){case"ua":return"https://zno.yandex.ua";default:return"https://ege.yandex.ru"}},expert:function(){return"http://expert.yandex.ru"},feedback:function(t){switch(t){case"ua":return"http://feedback.yandex.ua";case"by":return"http://feedback.yandex.by";case"kz":return"http://feedback.yandex.kz";case"com":return"http://feedback.yandex.com";case"tr":return"http://contact.yandex.com.tr";default:return"http://feedback.yandex.ru"}},feedback2:function(t){switch(t){case"ua":return"//feedback2.yandex.ua";case"by":return"//feedback2.yandex.by";case"kz":return"//feedback2.yandex.kz";case"com":return"//feedback2.yandex.com";case"tr":return"//contact2.yandex.com.tr";default:return"//feedback2.yandex.ru"}},ff:function(){return"http://ff.yandex.ru"},fotki:function(){return"https://fotki.yandex.ru"},fresh:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},fx:function(t){switch(t){case"ua":return"https://fx.yandex.ua";case"tr":return"https://fx.yandex.com.tr";default:return"https://fx.yandex.ru"}},games:function(){return"http://games.yandex.ru"},geocontext:function(){return"https://geocontext.yandex.ru"},goroda:function(){return"http://goroda.yandex.ru"},help:function(t){switch(t){case"ua":return"https://help.yandex.ua";case"com":return"https://help.yandex.com";case"tr":return"https://yardim.yandex.com.tr";default:return"https://help.yandex.ru"}},i:function(){return"http://i.yandex.ru"},ie:function(t){switch(t){case"ua":return"https://ie.yandex.ua";case"tr":return"https://ie.yandex.com.tr";default:return"https://ie.yandex.ru"}},images:function(t){switch(t){case"ua":return"https://yandex.ua/images/";case"by":return"https://yandex.by/images/";case"kz":return"https://yandex.kz/images/";case"com":return"https://yandex.com/images/";case"tr":return"https://yandex.com.tr/gorsel/";default:return"https://yandex.ru/images/"}},"images-com":function(){return"https://yandex.com/images/"},interests:function(){return"http://interests.yandex.ru"},internet:function(t){switch(t){case"com":return"//internet.yandex.com";case"tr":return"//internet.yandex.com.tr";default:return"//internet.yandex.ru"}},kassa:function(){return"https://kassa.yandex.ru"},keyboard:function(){return"http://www.yandex.ru/index_engl_qwerty.html"},kraski:function(){return"http://kraski.yandex.ru"},kuda:function(){return"http://kuda.yandex.ru"},large:function(){return"http://large.yandex.ru"},legal:function(t){switch(t){case"ua":return"https://yandex.ua/legal";case"com":return"https://yandex.com/legal";case"tr":return"https://yandex.com.tr/legal";default:return"https://yandex.ru/legal"}},lenta:function(){return"http://lenta.yandex.ru"},literacy:function(){return"https://literacy.yandex.ru"},local:function(){return"http://local.yandex.ru"},lost:function(){return"http://lost.yandex.ru"},love:function(){return"http://love.yandex.ru"},mail:function(t){switch(t){case"ua":return"https://mail.yandex.ua";case"by":return"https://mail.yandex.by";case"kz":return"https://mail.yandex.kz";case"com":return"https://mail.yandex.com";case"tr":return"https://mail.yandex.com.tr";default:return"https://mail.yandex.ru"}},maps:function(t){switch(t){case"ua":return"https://maps.yandex.ua";case"com":return"https://maps.yandex.com";case"tr":return"https://harita.yandex.com.tr";default:return"https://maps.yandex.ru"}},"maps-com":function(){return"https://maps.yandex.com"},"maps-wiki":function(){return"http://nk.yandex.ru"},market:function(t){switch(t){case"ua":return"https://market.yandex.ua";case"by":return"https://market.yandex.by";case"kz":return"https://market.yandex.kz";case"tr":return"https://market.yandex.com.tr";default:return"https://market.yandex.ru"}},"market.advertising":function(){return"https://welcome.advertising.yandex.ru/market/"},master:function(){return"https://master.yandex.ru"},metrika:function(t){switch(t){case"ua":return"https://metrika.yandex.ua";case"by":return"https://metrika.yandex.by";case"kz":return"https://metrika.yandex.kz";case"com":return"https://metrica.yandex.com";case"tr":return"https://metrica.yandex.com.tr";default:return"https://metrika.yandex.ru"}},metro:function(){return"https://metro.yandex.ru"},mobile:function(t){switch(t){case"ua":return"https://mobile.yandex.ua";case"tr":return"https://mobil.yandex.com.tr";default:return"https://mobile.yandex.ru"}},moikrug:function(){return"http://moikrug.ru"},money:function(){return"https://money.yandex.ru"},museums:function(){return"http://18.yandex.ru"},music:function(t){switch(t){case"ua":return"https://music.yandex.ua";case"by":return"https://music.yandex.by";case"kz":return"https://music.yandex.kz";default:return"https://music.yandex.ru"}},"music-partner":function(){return"http://music-partner.yandex.ru"},nahodki:function(t){switch(t){case"ua":return"https://nahodki.yandex.ua";case"kz":return"https://nahodki.yandex.kz";default:return"https://nahodki.yandex.ru"}},nano:function(){return"http://nano.yandex.ru"},news:function(t){switch(t){case"ua":return"https://news.yandex.ua";case"by":return"https://news.yandex.by";case"kz":return"https://news.yandex.kz";case"tr":return"https://haber.yandex.com.tr";default:return"https://news.yandex.ru"}},"news-com":function(){return"https://news.yandex.com"},notifications:function(t){switch(t){case"ua":return"https://notifications.yandex.ua";case"by":return"https://notifications.yandex.by";case"kz":return"https://notifications.yandex.kz";case"com":return"https://notifications.yandex.com";case"tr":return"https://notifications.yandex.com.tr";default:return"https://notifications.yandex.ru"}},oauth:function(t){switch(t){case"com":return"https://oauth.yandex.com";default:return"https://oauth.yandex.ru"}},online:function(){return"http://online.yandex.ru"},openid:function(){return"http://openid.yandex.ru"},opera:function(t){switch(t){case"tr":return"https://opera.yandex.com.tr";default:return"https://opera.yandex.ru"}},opinion:function(){return"http://opinion.yandex.ru"},partners:function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},partnersearch:function(){return"http://yandex.ru"},pass:function(t){switch(t){case"ua":return"https://pass.yandex.ua";case"by":return"https://pass.yandex.by";case"kz":return"https://pass.yandex.kz";case"com":return"https://pass.yandex.com";case"tr":return"https://pass.yandex.com.tr";default:return"https://pass.yandex.ru"}},passport:function(t){switch(t){case"ua":return"https://passport.yandex.ua";case"by":return"https://passport.yandex.by";case"kz":return"https://passport.yandex.kz";case"com":return"https://passport.yandex.com";case"tr":return"https://passport.yandex.com.tr";default:return"https://passport.yandex.ru"}},pdd:function(){return"https://pdd.yandex.ru"},peoplesearch:function(t){switch(t){case"ua":return"http://people.yandex.ua";default:return"http://people.yandex.ru"}},perevod:function(){return"https://perevod.yandex.ru"},probki:function(t){switch(t){case"ua":return"http://probki.yandex.ua";default:return"http://probki.yandex.ru"}},pulse:function(t){switch(t){case"ua":return"http://blogs.yandex.ua/pulse";case"by":return"http://blogs.yandex.by/pulse";case"kz":return"http://blogs.yandex.kz/pulse";default:return"http://blogs.yandex.ru/pulse"}},punto:function(){return"https://punto.yandex.ru"},pvo:function(){return"http://ask.yandex.ru"},rabota:function(t){switch(t){case"ua":return"https://rabota.yandex.ua";case"by":return"https://rabota.yandex.by";case"kz":return"https://rabota.yandex.kz";default:return"https://rabota.yandex.ru"}},rasp:function(t){switch(t){case"ua":return"https://rasp.yandex.ua";case"by":return"https://rasp.yandex.by";case"kz":return"https://rasp.yandex.kz";case"tr":return"https://seferler.yandex.com.tr";default:return"https://rasp.yandex.ru"}},realty:function(t){switch(t){case"ua":return"https://realty.yandex.ua";case"by":return"https://realty.yandex.by";case"kz":return"https://realty.yandex.kz";default:return"https://realty.yandex.ru"}},referats:function(){return"https://referats.yandex.ru"},review:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},rk:function(){return"http://rk.yandex.ru"},root:function(){return"https://root.yandex.ru"},school:function(){return"http://school.yandex.ru"},search:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},serp:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},server:function(){return"http://company.yandex.ru/technology/server/"},shtrafi:function(){return"https://money.yandex.net/debts"},site:function(t){switch(t){case"ua":return"https://site.yandex.ua";case"tr":return"https://ozel.yandex.com.tr";default:return"https://site.yandex.ru"}},slovari:function(t){switch(t){case"ua":return"https://slovari.yandex.ua";case"by":return"https://slovari.yandex.by";case"kz":return"https://slovari.yandex.kz";default:return"https://slovari.yandex.ru"}},so:function(){return"http://so.yandex.ru"},social:function(t){switch(t){case"ua":return"https://social.yandex.ua";case"by":return"https://social.yandex.by";case"kz":return"https://social.yandex.kz";case"com":return"https://social.yandex.ru";case"tr":return"https://social.yandex.com.tr";default:return"https://social.yandex.ru"}},soft:function(t){switch(t){case"ua":return"https://soft.yandex.ua";case"tr":return"https://soft.yandex.com.tr";default:return"https://soft.yandex.ru"}},sport:function(t){switch(t){case"ua":return"http://sport.yandex.ua";case"by":return"http://sport.yandex.by";case"kz":return"http://sport.yandex.kz";case"tr":return"http://spor.yandex.com.tr";default:return"http://sport.yandex.ru"}},sprav:function(t){switch(t){case"ua":return"https://sprav.yandex.ua";case"by":return"https://sprav.yandex.by";case"kz":return"https://sprav.yandex.kz";case"tr":return"https://rehber.yandex.com.tr";default:return"https://sprav.yandex.ru"}},start:function(t){switch(t){case"ua":return"https://help.yandex.ua/start/";case"com":return"https://help.yandex.com/start/";case"tr":return"https://yardim.yandex.com.tr/start";default:return"https://help.yandex.ru/start/"}},stat:function(t){switch(t){case"ua":return"https://stat.yandex.ua";case"by":return"https://stat.yandex.by";default:return"https://stat.yandex.ru"}},subs:function(){return"https://subs.yandex.ru"},taxi:function(){return"https://taxi.yandex.ru"},terms:function(){return"http://terms.yandex.ru"},tests:function(){return"http://tests.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},time:function(t){switch(t){case"ua":return"https://time.yandex.ua";case"by":return"https://time.yandex.by";case"kz":return"https://time.yandex.kz";case"com":return"https://time.yandex.com";case"tr":return"https://saat.yandex.com.tr";default:return"https://time.yandex.ru"}},toster:function(){return"http://toster.yandex.ru"},translate:function(t){switch(t){case"ua":return"https://translate.yandex.ua";case"by":return"https://translate.yandex.by";case"kz":return"https://translate.yandex.kz";case"com":return"https://translate.yandex.com";case"tr":return"https://ceviri.yandex.com.tr";default:return"https://translate.yandex.ru"}},tune:function(t){switch(t){case"ua":return"https://tune.yandex.ua";case"by":return"https://tune.yandex.by";case"kz":return"https://tune.yandex.kz";case"com":return"https://tune.yandex.com";case"tr":return"https://tune.yandex.com.tr";default:return"https://tune.yandex.ru"}},tv:function(t){switch(t){case"ua":return"https://tv.yandex.ua";case"by":return"https://tv.yandex.by";case"kz":return"https://tv.yandex.kz";default:return"https://tv.yandex.ru"}},uslugi:function(){return"http://uslugi.yandex.ru"},video:function(t){switch(t){case"ua":return"http://yandex.ua/video/";case"by":return"http://yandex.by/video/";case"kz":return"http://yandex.kz/video/";case"com":return"https://yandex.com/video/";case"tr":return"http://yandex.com.tr/video/";default:return"http://yandex.ru/video/"}},"video-com":function(){return"https://yandex.com/video/"},vno:function(){return"https://zno.yandex.ua"},wdgt:function(t){switch(t){case"ua":return"https://wdgt.yandex.ua";case"by":return"https://wdgt.yandex.by";case"kz":return"https://wdgt.yandex.kz";case"tr":return"https://wdgt.yandex.com.tr";default:return"https://wdgt.yandex.ru"}},weather:function(t){switch(t){case"ua":return"https://pogoda.yandex.ua";case"by":return"https://pogoda.yandex.by";case"kz":return"https://pogoda.yandex.kz";case"tr":return"https://hava.yandex.com.tr";default:return"https://pogoda.yandex.ru"}},webmaster:function(t){switch(t){case"ua":return"https://webmaster.yandex.ua";case"com":return"https://webmaster.yandex.com";case"tr":return"https://webmaster.yandex.com.tr";default:return"https://webmaster.yandex.ru"}},"webmaster-api":function(t){switch(t){case"com":return"https://tech.yandex.com/webmaster/";case"tr":return"https://tech.yandex.com/webmaster/";default:return"https://tech.yandex.ru/webmaster/"}},widgets:function(t){switch(t){case"ua":return"https://widgets.yandex.ua";case"by":return"https://widgets.yandex.by";case"kz":return"https://widgets.yandex.kz";case"tr":return"https://widgets.yandex.com.tr";default:return"https://widgets.yandex.ru"}},wordstat:function(){return"https://wordstat.yandex.ru"},wow:function(){return"http://my.ya.ru"},www:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},xmlsearch:function(t){switch(t){case"ua":return"https://xml.yandex.ua";case"by":return"https://xml.yandex.by";case"kz":return"https://xml.yandex.kz";case"com":return"https://xml.yandex.com";case"tr":return"https://xml.yandex.com.tr";default:return"https://xml.yandex.ru"}},yaca:function(t){switch(t){case"ua":return"https://yaca.yandex.ua";case"by":return"https://yaca.yandex.by";default:return"https://yaca.yandex.ru"}},yamb:function(){return"https://yamb.yandex.ru"},zakladki:function(){return"http://zakladki.yandex.ru"}}}),r("personal-menu").elem("menu")(l()("ul"),_()(function(){var t=BEM.blocks["i-global"]._params,e=[{elem:"item",url:"/my/compare-lists",content:"Списки сравнения"},{elem:"item",url:"/my/wishlist",content:"Отложенные"},{elem:"item",url:"/my/orders",content:"Мои заказы"}];e=e.concat([{elem:"item",url:"/my/reviews",content:"Мои отзывы"},{elem:"item",url:"/my/settings?from="+encodeURIComponent(t.retpath),content:"Настройки"}]);var n=t["user-region"]||t["content-region"];return e.push({elem:"item",elemMods:{type:"region"},tomix:{block:"link",mods:{param:"retpath"}},url:this["i-services"].serviceUrl("tune",n)+"/region",content:"Регион: "+(this.ctx.params.regionName||"Не определен")}),e})),r("personal-menu").elem("item")(l()("li"),_()(function(){return{block:"link",mix:[{block:"personal-menu",elem:"item"},this.ctx.tomix],url:this.ctx.url+((this.ctx.url.indexOf("?")>=0?"&":"?")+"track=menu"),attrs:this.ctx.attrs,content:x()}})),r("user")(c()(function(){var t=this.ctx.js||{},e=t.uid||this.ctx.uid||this["i-global"].uid,n=this.ctx.login,r=n||this["i-global"].login||(this["i-global"].displayName||{}).name;return x({_uid:e,_login:n,_hasDisplayName:r})}),l()("a"),p()(function(){return this.extend({uid:this._uid,login:this._login||this["i-global"].login},x())}),u()(function(){var t=this["i-global"],e=this._login||t.login,n=e&&/^uid-/.test(e),r={href:n?t["social-host"]:t["passport-host"]+"/passport?mode=passport"},i=this.ctx.counter||(this.ctx.counters||{}).user;return i&&(r.onmousedown=i),r}),_()(function(){return this._hasDisplayName?[this.ctx.content]:{elem:"enter"}})),r("personal-basket")(p()(!0),_()({block:"personal-basket",elem:"button"})),r("personal-basket").elem("button").replace()(function(){return{block:"button",mods:{size:"m",theme:"normal"},mix:[{block:"personal-panel",elem:"button"},{block:"personal-basket",elem:"button"}],content:[{block:"image",mods:{name:"market"},mix:{block:"button",elem:"icon"},alt:"Корзина"},"Корзина",{block:"personal-basket",elem:"notice"}]}}),r("personal-basket").elem("notice").replace()(function(){return{block:"button",elem:"notice",elemMods:{color:"red",type:"numeric"},mix:{block:"personal-basket",elem:"notice"},count:this.ctx.count||0}}),r("button").elem("notice").elemMod("type","numeric").match(function(){return"undefined"!=typeof this.ctx.count})(t(function(){return 0===this.ctx.count}).def()(function(){return this.elemMods.visibility="hidden",x()}),t(function(){return this.ctx.count>99}).content()("99+"),t(function(){return"undefined"==typeof this.ctx.content}).content()(function(){return this.ctx.count.toString()})),r("personal-basket").elem("popup").replace()(function(){return{block:"popup",mods:{"watch-scroll":"no"},mix:{block:"personal-basket",elem:"popup"},js:{directions:["bottom","bottom-right-center",{to:"left",axis:"top",tail:{axis:"middle"},offset:{top:-10}}]},content:[{elem:"tail"},{elem:"content",content:this.ctx.content}]}}),r("personal-basket").elem("content").elemMod("state","empty").content()(function(){return this.ctx.content=[{block:"personal-basket",elem:"title",elemMods:{size:"gray-big"},content:"Корзина пуста"},{block:"personal-basket",elem:"checkout-info",content:[{block:"personal-basket",elem:"title",content:[BEM.I18N("tutorial","basket-title1"),{block:"button",content:"В корзину",mods:{size:"m",theme:"action",focus:"no",pseudo:"yes"}},BEM.I18N("tutorial","basket-title2")]},{block:"tutorial-info",elem:"item",content:BEM.I18N("tutorial","item4")},{block:"tutorial-info",elem:"item",content:BEM.I18N("tutorial","item5")},{block:"tutorial-info",elem:"item",content:BEM.I18N("tutorial","item6")},{block:"tutorial-info",elem:"item",content:[BEM.I18N("tutorial","item7"),this.ctx.isAuth?{tag:"a",cls:"link",attrs:{href:"/my/orders"},content:"онлайн"}:"онлайн"]}]}],x()}),r("personal-basket").elem("content").elemMod("state","error").content()("Произошла ошибка. Попробуйте обновить страницу"),r("personal-basket").elem("header").content()(function(){return{block:"link",mods:{theme:"minor"},url:"/cart?track=menu",content:x()}}),r("tooltip").def()(function(){var t=this.ctx,e=this.mods,n={target:"anchor",autoclosable:e.autoclosable||"no",theme:"normal"},r=M("js");r=(r?this.extend(r,Object(t.js)):t.js)||{};var i=r.to&&[].concat(r.to);return E({block:"popup2",mods:n,directions:(i||["right","bottom","top","left"]).map(function(t){return t+"-center"}),mainOffset:r.offset,mix:[{block:"tooltip",mods:e}].concat(t.mix),content:[this.ctx.tail!==!1&&{elem:"tail"},{block:"tooltip",elem:"content",content:t.content}]})}),r("rating-shop")(f()({block:"rating-stars-block"}),_()(function(){return[{block:"rating-stars",rate:this.ctx.rate,id:this.ctx.id,status:this.ctx.status},{block:"link",url:this.ctx.reviewsLink,content:this.ctx.reviewsText}]})),r("spin")(t(function(){return!this.mods.theme}).def()(function(){return this.mods.theme="gray-32",x()}),_()(function(){return{block:"image",mix:{block:"spin",elem:"icon"}}})),r("popup").elem("close").tag()("i"),r("personal-basket").elem("list").replace()(function(){return{block:"snippet-list",mix:{block:"personal-basket",elem:"list"},mods:{type:"vertical"},content:this.ctx.content}}),r("personal-basket").elem("list-item").def()(function(){return E({block:"link",mods:{theme:"minor"},url:this.ctx.url?this.ctx.url+((this.ctx.url.indexOf("?")>=0?"&":"?")+"track=menu"):void 0,mix:[{block:"snippet-list",elem:"item"},{block:"snippet-cell-mini"},{block:"personal-basket",elem:"list-item"},{block:"preloadable",js:{preloaderDelay:300},mods:{theme:"gray-32"}}],content:[{block:"snippet-cell-mini",elem:"image",content:{block:"image",url:this.ctx.image,mix:this.ctx.image?void 0:{block:"market-images",elem:"offer",elemMods:{50:"50"}},alt:BEM.I18N("dictionary",(this.ctx.image?"":"no-")+"offer-thumbnail")}},{block:"snippet-cell-mini",elem:"text",content:[{elem:"name",content:this.cleverSubstring(this.ctx.name,50,3)},{elem:"price",content:[this.ctx.price+" "+BEM.I18N("dictionary","currency-"+this.ctx.currency),{block:"personal-basket",elem:"count",content:this.ctx.count}]}]},{block:"personal-basket",elem:"item-remove",attrs:{"data-id":this.ctx.id}}]})}),r("personal-basket").elem("footer").content()(function(){return[{block:"button",mods:{size:"m"},url:"/cart?track=menu",content:"Перейти в корзину"},{block:"button",mods:{size:"m",theme:"action"},mix:[{block:"domik-opener",js:this.ctx.domikOpenerParams},{block:"personal-basket",elem:"continue"}],url:this.ctx.domikOpenerParams.retpath,content:"Оформить заказ"}]}),r("domik").mod("view","market")(_()(function(){var t=[{elem:"roof",content:{block:"logo",text:"Yandex",url:"https://yandex.ru/",mods:{type:"link",name:"ru-84x36"}}},{elem:"content",content:this.ctx.content}];return this.ctx.js.notice&&t.unshift({elem:"notice",content:this.ctx.js.notice}),t})),r("logo").tag()("span"),r("logo").mod("type","link")(l()("a"),u()(function(){var t=this.ctx;return{href:void 0===t.url?this["i-services"].serviceUrl("www"):t.url,title:t.title,tabindex:t.tabindex}}),_()(function(){return void 0===this.ctx.text?BEM.I18N("logo_type_link","yandex"):{html:this.xmlEscape(this.ctx.text)}})),r("suggest")(p()(!0),i("title")(l()("span"),u()(function(){return{id:this._titleId}}),_()(function(){return[{elem:"title-hidden",content:BEM.I18N("suggest","group")},this.ctx.content]})),i("title-hidden")(l()("span"),f()(function(){return[{block:"a11y-hidden"}]})),i("items").tag()("ul"),i("group")(u()(function(){return{role:"group","aria-labelledby":this._titleId}}),c()(function(){return x({_titleId:this.generateId()})})),i("padding")(l()("style"),h()(!1),u()(function(){return{type:"text/css"}}),_()(function(){return[".suggest .suggest-item{padding-left:",this.ctx.itemPaddingLeft,"px;} ",".suggest .suggest__title{width:",this.ctx.titleWidth,"px;}"]}))),r("suggest-item")(l()("li"),u()(function(){return{id:this.generateId()}}),p()(function(){var t=this.ctx.search_cgi,e=this.ctx.pers;if(t||e){var n=x()||{};return t&&(n.cgi=t),e&&(n.pers=1),n}}),i("hint")(l()("span"),_()(function(){return"string"==typeof this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:this.ctx.content})),i("text")(l()("span"),_()(function(){return"string"==typeof this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:this.ctx.content})),i("value")(l()("span"),_()(function(){return"string"==typeof this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:this.ctx.content})),i("icon").tag()("i")),r("suggest-item").mod("type","market")(_()(function(){return{elem:"text",url:this.ctx.url,data:this.ctx.data}}),i("text").content()(function(){return{block:"link",url:this.ctx.url,content:this.xmlEscape(this.ctx.data)}})),r("input")(i("ahead")(f()(function(){return[{block:"input",elem:"input"}]}),_()(function(){return[{elem:"ahead-filler"},{elem:"ahead-hint"}]})),i("ahead-filler").tag()("span"),i("ahead-hint").tag()("span")),r("input")(i("ahead").def()(function(){return E([{elem:"ahead-filler"},{elem:"ahead-value"},{elem:"ahead-hint"}])}),i("ahead-hint")(l()("input"),f()(function(){return[{block:"input",elem:"control"}]}),u()(function(){return{disabled:!0}})),i("ahead-filler").tag()("span"),i("ahead-value").tag()("span")),r("sandbox")(l()("iframe"),u()(function(){function t(t){var e={youtube:"youtube",dailymotion:"dailymotion",izlesene:"izlesene",mailru:"mailru","video.mail.ru":"mailru",rutube:"rutube",vimeo:"vimeo"};if(t)for(var n in e)if(e.hasOwnProperty(n)&&t.indexOf(n)>-1)return e[n];return"default"}function e(e){var n=e.version||M("version"),r=["//yastatic.net/video-player/",n,"/pages-common/"].join(""),i="name/name.html".replace(/name/g,t(e.playerHosting));
return r+i+"#html="+encodeURIComponent(e.playerHtml)}return{src:e({version:this.ctx.version,playerHosting:this.ctx.player.hosting,playerHtml:this.ctx.player.html}),scrolling:"no",frameborder:0,allowfullscreen:"true",width:"100%",height:"100%"}})),r("sandbox").mode("version")("0xf7edcf0"),y(function(t,n){var r=t.BEMContext||n.BEMContext;r.prototype.require=function(t){return e[t]}})}),i.exportApply(n),n}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],function(t){t(e({}))}),n=!1),n&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this),function(t,e,n){function r(){f&&_&&console.log.apply(console,arguments)}function i(t){return"string"==typeof t&&(t={block:t}),t.block+(t.elem?u+t.elem:"")+(t.modName?l+t.modName+l+t.modVal:"")}function s(t){var e={};return t.split(u).forEach(function(t,n){var r=[n?"elem":"block","mod","val"];t.split(l).forEach(function(t,n){e[r[n]]=t})}),e}function a(t){return!!t&&h.push(t)}function o(){return h.length&&h.pop()}function c(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof e.I18N&&e.I18N._proto)return e.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=e;var l="_",u="__",d="ru",p={},h=[],f=!1,_="undefined"!=typeof console&&"function"==typeof console.log;c.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&a(this._keyset),this._keyset=i(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=s(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,r=e.elem||this._keyset,i=this._key;n=i18n[n]||(i18n[n]={}),r=n[r]||(n[r]={}),r[i]="function"==typeof t?t:function(e){return t};var a=p[this._lang]||(p[this._lang]={}),o=a[this._keyset]||(a[this._keyset]={});o[i]=t},val:function(t,e){var n=p[this._lang]&&p[this._lang][this._keyset],i="keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")";if(!n)return r("[I18N_NO_KEYSET] %s",i),"";n=n[this._key];var s=typeof n;return"undefined"===s?(r("[I18N_NO_VALUE] %s",i),""):"string"===s?n:(e||(e=this),n.call(e,t))},_cache:function(){return p}},e.I18N=function(t){var e=function(t,n,r){return e.keyset(t).key(n,r)};return e._proto=t,e.project=function(t){return this._proto.project(t),this},e.keyset=function(t){return this._proto.keyset(t,!0),this},e.key=function(t,n){var r,i,s=this._proto;return s.lang(this._lang).key(t),r=s.val.call(s,n,e),i=o(),i&&s.keyset(i,!1),r},e.decl=function(t,e,n){var r,i=this._proto;n||(n={}),n.lang&&i.lang(n.lang),i.keyset(t);for(r in e)e.hasOwnProperty(r)&&i.key(r).decl(e[r]);return this},e.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},e.debug=function(t){f=!!t},e.lang(d),e}(new c)}(this,"undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("auth",{auth:"Авторизация","fill-input":"Заполните это поле",login:"Логин",logon:"Войти",more:"Ещё",password:"Пароль",register:"Регистрация",remember:"Вспомнить пароль","social-log-in":"Войти при помощи социальной сети",temporary:"Чужой компьютер","wrong-characters":"Недопустимый ввод","wrong-keyboard-layout":"Смените раскладку","wrong-password":"Пароль не может совпадать с логином"},{lang:"ru"}),BEM.I18N.decl("copyright",{link:function(t){return"ООО «"+t.content+"»"},yandex:"Яндекс"},{lang:"ru"}),BEM.I18N.decl("dictionary",{"currency-RUR":"₽","currency-RUB":"₽","currency-BYN":"б.p.","currency-UAH":"грн.","currency-KZT":"тнг.","currency-TL":"TL","offer-thumbnail":"Уменьшенное фото товара","no-offer-thumbnail":"Для этого товара не нашлось уменьшенного фото"},{lang:"ru"}),BEM.I18N.decl("footer",{about:"О компании","about-url":"//company.yandex.ru",advert:"Реклама","advert-url":"//advertising.yandex.ru/kupislova.xml?advertising",apps:"Мобильные приложения","apps-url":"//mobile.yandex.ru",stat:"Статистика",termsofuse:"Лицензия на поиск","termsofuse-url":"//legal.yandex.ru/termsofuse/"},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"Адреса",advertising:"Реклама",afisha:"Афиша",all:"Все сервисы",api:"API",appsearch:"Приложения",auto:"Авто",autoru:"Авто.ру",avia:"Авиабилеты",aziada:"Азиада",ba:"Баян",backapv:"Партнер Я.Карт",balance:"Баланс",bar:"Бар","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Блоги",books:"Книги",browser:"Браузер",calendar:"Календарь",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Города",cityday:"День города",collection:"Коллекция",company:"Компания",contest:"Contest",delivery:"Доставка",desktop:"Персональный поиск",direct:"Директ","direct.market":"Маркет",disk:"Диск",display:"Дисплей",ege:"ЕГЭ",expert:"Эксперт",feedback:"Обратная связь",feedback2:"Обратная связь",ff:"ФФ с поиском Яндекса",fotki:"Фотки",fresh:"Свежее",games:"Игрушки",geocontext:"Геоконтекст",goroda:"Города",help:"Помощь",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Картинки","images-com":"Картинки",interests:"Интересы",internet:"Интернет",kassa:"Касса",keyboard:"Клавиатура",kraski:"Краски",kuda:"Куда все идут",large:"Яндекс для слабовидящих",legal:"Правовые документы",lenta:"Лента",libra:"Библиотека",literacy:"Неделя борьбы за грамотность",local:"Локальная сеть",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Почта",maps:"Карты","maps-wiki":"Народная карта",market:"Маркет","market.advertising":"Маркет",master:"Мастер",metrika:"Метрика",metro:"Метро",mobile:"Мобильный",moikrug:"Мой Круг",money:"Деньги",museums:"Дни исторического и культурного наследия",music:"Музыка","music-partner":"Музыка: статистика",nahodki:"Мои находки",nano:"Нано",newhire:"Наниматор",news:"Новости",notifications:"Нотификационная панель",oauth:"Авторизация",online:"Онлайн",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Рекламная сеть",partnersearch:"Поиск для партнеров",passport:"Паспорт",pdd:"Почта для домена",peoplesearch:"Люди",perevod:"Переводчик",probki:"Пробки",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ответы",rabota:"Работа",ramazan:"",rasp:"Расписания",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Яндекс.Олимпиада для Unix администраторов",school:"Школа",search:"Поиск",server:"Сервер",shtrafi:"Штрафы",site:"Поиск для сайта",slovari:"Словари",so:"Самооборона",social:"Социализм",soft:"Программы",sport:"Спорт",sprav:"Справочник",start:"Стартовая страница",stat:"Статистика",subs:"Подписки",taxi:"Такси",terms:"Разговорник",tests:"Тесты и опросы",tickets:"Билеты",time:"Яндекс.Время",toster:"Тосты",translate:"Переводчик",tune:"Настройки",tv:"ТВ",uslugi:"Услуги",video:"Видео","video-com":"Видео",vno:"ВНО",wdgt:"Виджеты",weather:"Погода",webmaster:"Вебмастер","webmaster-api":"API Вебмастера",widgets:"Виджеты",wordstat:"Статистика",wow:"Я.ру",www:"Поиск",xmlsearch:"XML",yaca:"Каталог",yamb:"Медийные баннеры",zakladki:"Закладки"},{lang:"ru"}),BEM.I18N.decl("i-tanker__dynamic",{gender:function(t){return function(t){return t[t.gender]}.call(this,t)},plural:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count,n=e%10,r=e%100;return 1==n&&11!=r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many}.call(this,t)},plural_adv:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count;return 0===e?t.none:this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:t.one,some:t.some,many:t.many})}.call(this,t)},toggle:function(t){return function(t){return Boolean(t.condition)?t.true:t.false}.call(this,t)}},{lang:"ru"}),BEM.I18N.decl("input",{"unknown-geolocation-error":"Не удалось определить ваш адрес, попробуйте ещё раз","geolocation-error-404":"Не удалось определить ваш адрес"},{lang:"ru"}),BEM.I18N.decl("logo_type_link",{yandex:"Яндекс"},{lang:"ru"}),BEM.I18N.decl("n-search-preciser",{find:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"Найден",some:"Найдено",many:"Найдено",none:"Найдено"})},results:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"результат",some:"результата",many:"результатов",none:"результатов"})}},{lang:"ru"}),BEM.I18N.decl("n-user-lists_type_compare",{addTitle:function(t){return"Товар "+t.name+" добавлен к сравнению"},removeTitle:function(t){return"Товар "+t.name+" удалён из сравнения"},textAdd:"Добавить к сравнению",textRemove:"Удалить&#160из&#160сравнения",error:"Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время",controlText:"Сравнить",detailsEmpty:"В списке больше нет товаров из категории ",details:function(t){return"Всего в списке "+t.count+" "+this.keyset("n-user-lists_type_compare").key("goods",{count:t.count})+function(t){return t.categoryName?" из категории "+t.categoryName:""}.call(this,t)},goods:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"товар",some:"товара",many:"товаров",none:"товаров"})}},{lang:"ru"}),BEM.I18N.decl("personal-basket",{header:function(t){return"В корзине "+t.count+" "+this.keyset("personal-basket").key("goods",{count:t.count})+" — "+t.price},goods:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"товар",some:"товара",many:"товаров",none:"товаров"})}},{lang:"ru"}),BEM.I18N.decl("popup",{add:"Добавить",cancel:"Отмена",revert:"Вернуть",apply:"Применить"},{lang:"ru"}),BEM.I18N.decl("popup-informer",{details:function(t){return"в списке "+t.count+" "+this.keyset("popup-informer").key("goods",{count:t.count})},goods:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"товар",some:"товара",many:"товаров",none:"товаров"})}},{lang:"ru"}),BEM.I18N.decl("region-select-form",{"error-region-empty":"Укажите регион"},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"Найти","search-input-label":"Запрос","search-service-label":"Поиск по сервису","search-web-label":"Поиск в интернете"},{lang:"ru"}),BEM.I18N.decl("share-dropdown",{facebook:"Facebook",gplus:"Google +",moimir:"Мой Мир",odnoklassniki:"Одноклассники",pinterest:"Pinterest",share:"Поделиться",twitter:"Twitter",vkontakte:"ВКонтакте"},{lang:"ru"}),BEM.I18N.decl("shop-bonus",{RECOMMEND_TEXT:function(t){return t.name+" рекомендует этот магазин.<br />Магазин является участником совместной программы с "+t.name+", в рамках которой покупателям могут быть предоставлены дополнительные преимущества."},RECOMMEND_CONDITION_LINK:"Условия участия в программе",WARRANTY_TEXT:"Гарантия производителя"},{lang:"ru"}),BEM.I18N.decl("suggest",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",text:"Поиск",traffic:"Пробки",weather:"Погода","market-geo-preciser":"Искать на карте","market-shop-preciser":"Искать в этом магазине","market-category-preciser":"Искать в этой категории"},{lang:"ru"}),BEM.I18N.decl("suggest-item__answer",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",text:"Поиск",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.decl("tutorial",{title:"Оформление заказа на Маркете","basket-title":"Товары с жёлтой кнопкой можно заказать прямо на Маркете:","basket-title1":"Товары с жёлтой кнопкой","basket-title2":"можно заказать прямо на Маркете:","buy-title":"Товары с такой кнопкой можно заказать прямо на Маркете",item1:"Гарантия возврата денег при оплате","item1-lite":"Гарантия возврата денег",item2:"Удобство заказа в разных магазинах",item3:"Оформление без перехода в магазин",item4:"Выбирайте их в разных магазинах",item5:"Складывайте всё в одну корзину",item6:"Заполняйте единую форму заказа",item7:"Следите за его статусом ","buy-market-info":"Добавление товара в корзину на Маркете","buy-store-info":"Переход на сайт магазина","item1-ua":"Единый заказ товаров из разных магазинов","item2-ua":"Оформление заказа без перехода на другие сайты","item3-ua":"Общая история заказов"},{lang:"ru"}),BEM.I18N.decl("tutorial-example",{title:"Привет",description:"Это пример описания для подсказки"},{lang:"ru"}),BEM.I18N.decl("user",{enter:"Войти",exit:"Выйти",letter:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"новое письмо",some:"новых письма",many:"новых писем",none:"Нет новых писем"})},letter_compose:"Написать письмо",passport:"Паспорт",tune:"Настройка",upload_files:"Мой Диск"},{lang:"ru"}),BEM.I18N.decl("user-lists_type_compare",{addTitle:function(t){return"Товар "+t.name+" добавлен к сравнению"},removeTitle:function(t){return"Товар "+t.name+" удалён из сравнения"},textAdd:"Добавить к сравнению",textRemove:"Удалить&#160из&#160сравнения",error:"Извините, произошла ошибка,\nпопробуйте еще раз через некоторое время",controlText:"Сравнить",detailsEmpty:"В списке больше нет товаров из категории ",details:function(t){return"Всего в списке "+t.count+" "+this.keyset("user-lists_type_compare").key("goods",{count:t.count})+function(t){return t.categoryName?" из категории "+t.categoryName:""}.call(this,t)},goods:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"товар",some:"товара",many:"товаров",none:"товаров"})}},{lang:"ru"}),BEM.I18N.decl("w-wishlist-control_type_toggle",{addTitle:function(t){return t.name+" добавлен в отложенные"},removeTitle:function(t){return t.name+" удалён из отложенных"},goToWishlistButtonText:"Перейти к отложенным",details:function(t){return"в списке "+t.count+" "+this.keyset("w-wishlist-control_type_toggle").key("goods",{count:t.count})},goods:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"товар",some:"товара",many:"товаров",none:"товаров"})}},{lang:"ru"}),BEM.I18N.lang("ru"));